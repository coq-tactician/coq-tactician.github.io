var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __require = /* @__PURE__ */ ((x) => typeof require !== "undefined" ? require : typeof Proxy !== "undefined" ? new Proxy(x, {
  get: (a, b) => (typeof require !== "undefined" ? require : a)[b]
}) : x)(function(x) {
  if (typeof require !== "undefined")
    return require.apply(this, arguments);
  throw Error('Dynamic require of "' + x + '" is not supported');
});
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __commonJS = (cb, mod) => function __require2() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// backend/wasm/shims/process-shim.js
var browser, env, cwd;
var init_process_shim = __esm({
  "backend/wasm/shims/process-shim.js"() {
    browser = true;
    env = {};
    cwd = () => "/";
  }
});

// node_modules/base64-js/index.js
var require_base64_js = __commonJS({
  "node_modules/base64-js/index.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    exports.byteLength = byteLength;
    exports.toByteArray = toByteArray;
    exports.fromByteArray = fromByteArray;
    var lookup = [];
    var revLookup = [];
    var Arr = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
    var code = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
    for (i = 0, len = code.length; i < len; ++i) {
      lookup[i] = code[i];
      revLookup[code.charCodeAt(i)] = i;
    }
    var i;
    var len;
    revLookup["-".charCodeAt(0)] = 62;
    revLookup["_".charCodeAt(0)] = 63;
    function getLens(b64) {
      var len2 = b64.length;
      if (len2 % 4 > 0) {
        throw new Error("Invalid string. Length must be a multiple of 4");
      }
      var validLen = b64.indexOf("=");
      if (validLen === -1)
        validLen = len2;
      var placeHoldersLen = validLen === len2 ? 0 : 4 - validLen % 4;
      return [validLen, placeHoldersLen];
    }
    function byteLength(b64) {
      var lens = getLens(b64);
      var validLen = lens[0];
      var placeHoldersLen = lens[1];
      return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
    }
    function _byteLength(b64, validLen, placeHoldersLen) {
      return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;
    }
    function toByteArray(b64) {
      var tmp;
      var lens = getLens(b64);
      var validLen = lens[0];
      var placeHoldersLen = lens[1];
      var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));
      var curByte = 0;
      var len2 = placeHoldersLen > 0 ? validLen - 4 : validLen;
      var i2;
      for (i2 = 0; i2 < len2; i2 += 4) {
        tmp = revLookup[b64.charCodeAt(i2)] << 18 | revLookup[b64.charCodeAt(i2 + 1)] << 12 | revLookup[b64.charCodeAt(i2 + 2)] << 6 | revLookup[b64.charCodeAt(i2 + 3)];
        arr[curByte++] = tmp >> 16 & 255;
        arr[curByte++] = tmp >> 8 & 255;
        arr[curByte++] = tmp & 255;
      }
      if (placeHoldersLen === 2) {
        tmp = revLookup[b64.charCodeAt(i2)] << 2 | revLookup[b64.charCodeAt(i2 + 1)] >> 4;
        arr[curByte++] = tmp & 255;
      }
      if (placeHoldersLen === 1) {
        tmp = revLookup[b64.charCodeAt(i2)] << 10 | revLookup[b64.charCodeAt(i2 + 1)] << 4 | revLookup[b64.charCodeAt(i2 + 2)] >> 2;
        arr[curByte++] = tmp >> 8 & 255;
        arr[curByte++] = tmp & 255;
      }
      return arr;
    }
    function tripletToBase64(num) {
      return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];
    }
    function encodeChunk(uint8, start, end) {
      var tmp;
      var output = [];
      for (var i2 = start; i2 < end; i2 += 3) {
        tmp = (uint8[i2] << 16 & 16711680) + (uint8[i2 + 1] << 8 & 65280) + (uint8[i2 + 2] & 255);
        output.push(tripletToBase64(tmp));
      }
      return output.join("");
    }
    function fromByteArray(uint8) {
      var tmp;
      var len2 = uint8.length;
      var extraBytes = len2 % 3;
      var parts = [];
      var maxChunkLength = 16383;
      for (var i2 = 0, len22 = len2 - extraBytes; i2 < len22; i2 += maxChunkLength) {
        parts.push(encodeChunk(uint8, i2, i2 + maxChunkLength > len22 ? len22 : i2 + maxChunkLength));
      }
      if (extraBytes === 1) {
        tmp = uint8[len2 - 1];
        parts.push(
          lookup[tmp >> 2] + lookup[tmp << 4 & 63] + "=="
        );
      } else if (extraBytes === 2) {
        tmp = (uint8[len2 - 2] << 8) + uint8[len2 - 1];
        parts.push(
          lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + "="
        );
      }
      return parts.join("");
    }
  }
});

// node_modules/ieee754/index.js
var require_ieee754 = __commonJS({
  "node_modules/ieee754/index.js"(exports) {
    init_process_shim();
    init_buffer_shim();
    exports.read = function(buffer2, offset, isLE, mLen, nBytes) {
      var e, m;
      var eLen = nBytes * 8 - mLen - 1;
      var eMax = (1 << eLen) - 1;
      var eBias = eMax >> 1;
      var nBits = -7;
      var i = isLE ? nBytes - 1 : 0;
      var d = isLE ? -1 : 1;
      var s = buffer2[offset + i];
      i += d;
      e = s & (1 << -nBits) - 1;
      s >>= -nBits;
      nBits += eLen;
      for (; nBits > 0; e = e * 256 + buffer2[offset + i], i += d, nBits -= 8) {
      }
      m = e & (1 << -nBits) - 1;
      e >>= -nBits;
      nBits += mLen;
      for (; nBits > 0; m = m * 256 + buffer2[offset + i], i += d, nBits -= 8) {
      }
      if (e === 0) {
        e = 1 - eBias;
      } else if (e === eMax) {
        return m ? NaN : (s ? -1 : 1) * Infinity;
      } else {
        m = m + Math.pow(2, mLen);
        e = e - eBias;
      }
      return (s ? -1 : 1) * m * Math.pow(2, e - mLen);
    };
    exports.write = function(buffer2, value, offset, isLE, mLen, nBytes) {
      var e, m, c;
      var eLen = nBytes * 8 - mLen - 1;
      var eMax = (1 << eLen) - 1;
      var eBias = eMax >> 1;
      var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;
      var i = isLE ? 0 : nBytes - 1;
      var d = isLE ? 1 : -1;
      var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;
      value = Math.abs(value);
      if (isNaN(value) || value === Infinity) {
        m = isNaN(value) ? 1 : 0;
        e = eMax;
      } else {
        e = Math.floor(Math.log(value) / Math.LN2);
        if (value * (c = Math.pow(2, -e)) < 1) {
          e--;
          c *= 2;
        }
        if (e + eBias >= 1) {
          value += rt / c;
        } else {
          value += rt * Math.pow(2, 1 - eBias);
        }
        if (value * c >= 2) {
          e++;
          c /= 2;
        }
        if (e + eBias >= eMax) {
          m = 0;
          e = eMax;
        } else if (e + eBias >= 1) {
          m = (value * c - 1) * Math.pow(2, mLen);
          e = e + eBias;
        } else {
          m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
          e = 0;
        }
      }
      for (; mLen >= 8; buffer2[offset + i] = m & 255, i += d, m /= 256, mLen -= 8) {
      }
      e = e << mLen | m;
      eLen += mLen;
      for (; eLen > 0; buffer2[offset + i] = e & 255, i += d, e /= 256, eLen -= 8) {
      }
      buffer2[offset + i - d] |= s * 128;
    };
  }
});

// node_modules/isarray/index.js
var require_isarray = __commonJS({
  "node_modules/isarray/index.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    var toString = {}.toString;
    module.exports = Array.isArray || function(arr) {
      return toString.call(arr) == "[object Array]";
    };
  }
});

// node_modules/buffer/index.js
var require_buffer = __commonJS({
  "node_modules/buffer/index.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var base64 = require_base64_js();
    var ieee754 = require_ieee754();
    var isArray = require_isarray();
    exports.Buffer = Buffer4;
    exports.SlowBuffer = SlowBuffer;
    exports.INSPECT_MAX_BYTES = 50;
    Buffer4.TYPED_ARRAY_SUPPORT = self.TYPED_ARRAY_SUPPORT !== void 0 ? self.TYPED_ARRAY_SUPPORT : typedArraySupport();
    exports.kMaxLength = kMaxLength();
    function typedArraySupport() {
      try {
        var arr = new Uint8Array(1);
        arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function() {
          return 42;
        } };
        return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === "function" && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0;
      } catch (e) {
        return false;
      }
    }
    function kMaxLength() {
      return Buffer4.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
    }
    function createBuffer(that, length) {
      if (kMaxLength() < length) {
        throw new RangeError("Invalid typed array length");
      }
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        that = new Uint8Array(length);
        that.__proto__ = Buffer4.prototype;
      } else {
        if (that === null) {
          that = new Buffer4(length);
        }
        that.length = length;
      }
      return that;
    }
    function Buffer4(arg, encodingOrOffset, length) {
      if (!Buffer4.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer4)) {
        return new Buffer4(arg, encodingOrOffset, length);
      }
      if (typeof arg === "number") {
        if (typeof encodingOrOffset === "string") {
          throw new Error(
            "If encoding is specified then the first argument must be a string"
          );
        }
        return allocUnsafe(this, arg);
      }
      return from(this, arg, encodingOrOffset, length);
    }
    Buffer4.poolSize = 8192;
    Buffer4._augment = function(arr) {
      arr.__proto__ = Buffer4.prototype;
      return arr;
    };
    function from(that, value, encodingOrOffset, length) {
      if (typeof value === "number") {
        throw new TypeError('"value" argument must not be a number');
      }
      if (typeof ArrayBuffer !== "undefined" && value instanceof ArrayBuffer) {
        return fromArrayBuffer(that, value, encodingOrOffset, length);
      }
      if (typeof value === "string") {
        return fromString(that, value, encodingOrOffset);
      }
      return fromObject(that, value);
    }
    Buffer4.from = function(value, encodingOrOffset, length) {
      return from(null, value, encodingOrOffset, length);
    };
    if (Buffer4.TYPED_ARRAY_SUPPORT) {
      Buffer4.prototype.__proto__ = Uint8Array.prototype;
      Buffer4.__proto__ = Uint8Array;
      if (typeof Symbol !== "undefined" && Symbol.species && Buffer4[Symbol.species] === Buffer4) {
        Object.defineProperty(Buffer4, Symbol.species, {
          value: null,
          configurable: true
        });
      }
    }
    function assertSize(size) {
      if (typeof size !== "number") {
        throw new TypeError('"size" argument must be a number');
      } else if (size < 0) {
        throw new RangeError('"size" argument must not be negative');
      }
    }
    function alloc(that, size, fill, encoding) {
      assertSize(size);
      if (size <= 0) {
        return createBuffer(that, size);
      }
      if (fill !== void 0) {
        return typeof encoding === "string" ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);
      }
      return createBuffer(that, size);
    }
    Buffer4.alloc = function(size, fill, encoding) {
      return alloc(null, size, fill, encoding);
    };
    function allocUnsafe(that, size) {
      assertSize(size);
      that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);
      if (!Buffer4.TYPED_ARRAY_SUPPORT) {
        for (var i = 0; i < size; ++i) {
          that[i] = 0;
        }
      }
      return that;
    }
    Buffer4.allocUnsafe = function(size) {
      return allocUnsafe(null, size);
    };
    Buffer4.allocUnsafeSlow = function(size) {
      return allocUnsafe(null, size);
    };
    function fromString(that, string, encoding) {
      if (typeof encoding !== "string" || encoding === "") {
        encoding = "utf8";
      }
      if (!Buffer4.isEncoding(encoding)) {
        throw new TypeError('"encoding" must be a valid string encoding');
      }
      var length = byteLength(string, encoding) | 0;
      that = createBuffer(that, length);
      var actual = that.write(string, encoding);
      if (actual !== length) {
        that = that.slice(0, actual);
      }
      return that;
    }
    function fromArrayLike(that, array) {
      var length = array.length < 0 ? 0 : checked(array.length) | 0;
      that = createBuffer(that, length);
      for (var i = 0; i < length; i += 1) {
        that[i] = array[i] & 255;
      }
      return that;
    }
    function fromArrayBuffer(that, array, byteOffset, length) {
      array.byteLength;
      if (byteOffset < 0 || array.byteLength < byteOffset) {
        throw new RangeError("'offset' is out of bounds");
      }
      if (array.byteLength < byteOffset + (length || 0)) {
        throw new RangeError("'length' is out of bounds");
      }
      if (byteOffset === void 0 && length === void 0) {
        array = new Uint8Array(array);
      } else if (length === void 0) {
        array = new Uint8Array(array, byteOffset);
      } else {
        array = new Uint8Array(array, byteOffset, length);
      }
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        that = array;
        that.__proto__ = Buffer4.prototype;
      } else {
        that = fromArrayLike(that, array);
      }
      return that;
    }
    function fromObject(that, obj) {
      if (Buffer4.isBuffer(obj)) {
        var len = checked(obj.length) | 0;
        that = createBuffer(that, len);
        if (that.length === 0) {
          return that;
        }
        obj.copy(that, 0, 0, len);
        return that;
      }
      if (obj) {
        if (typeof ArrayBuffer !== "undefined" && obj.buffer instanceof ArrayBuffer || "length" in obj) {
          if (typeof obj.length !== "number" || isnan(obj.length)) {
            return createBuffer(that, 0);
          }
          return fromArrayLike(that, obj);
        }
        if (obj.type === "Buffer" && isArray(obj.data)) {
          return fromArrayLike(that, obj.data);
        }
      }
      throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
    }
    function checked(length) {
      if (length >= kMaxLength()) {
        throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + kMaxLength().toString(16) + " bytes");
      }
      return length | 0;
    }
    function SlowBuffer(length) {
      if (+length != length) {
        length = 0;
      }
      return Buffer4.alloc(+length);
    }
    Buffer4.isBuffer = function isBuffer(b) {
      return !!(b != null && b._isBuffer);
    };
    Buffer4.compare = function compare(a, b) {
      if (!Buffer4.isBuffer(a) || !Buffer4.isBuffer(b)) {
        throw new TypeError("Arguments must be Buffers");
      }
      if (a === b)
        return 0;
      var x = a.length;
      var y = b.length;
      for (var i = 0, len = Math.min(x, y); i < len; ++i) {
        if (a[i] !== b[i]) {
          x = a[i];
          y = b[i];
          break;
        }
      }
      if (x < y)
        return -1;
      if (y < x)
        return 1;
      return 0;
    };
    Buffer4.isEncoding = function isEncoding(encoding) {
      switch (String(encoding).toLowerCase()) {
        case "hex":
        case "utf8":
        case "utf-8":
        case "ascii":
        case "latin1":
        case "binary":
        case "base64":
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return true;
        default:
          return false;
      }
    };
    Buffer4.concat = function concat(list, length) {
      if (!isArray(list)) {
        throw new TypeError('"list" argument must be an Array of Buffers');
      }
      if (list.length === 0) {
        return Buffer4.alloc(0);
      }
      var i;
      if (length === void 0) {
        length = 0;
        for (i = 0; i < list.length; ++i) {
          length += list[i].length;
        }
      }
      var buffer2 = Buffer4.allocUnsafe(length);
      var pos = 0;
      for (i = 0; i < list.length; ++i) {
        var buf = list[i];
        if (!Buffer4.isBuffer(buf)) {
          throw new TypeError('"list" argument must be an Array of Buffers');
        }
        buf.copy(buffer2, pos);
        pos += buf.length;
      }
      return buffer2;
    };
    function byteLength(string, encoding) {
      if (Buffer4.isBuffer(string)) {
        return string.length;
      }
      if (typeof ArrayBuffer !== "undefined" && typeof ArrayBuffer.isView === "function" && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
        return string.byteLength;
      }
      if (typeof string !== "string") {
        string = "" + string;
      }
      var len = string.length;
      if (len === 0)
        return 0;
      var loweredCase = false;
      for (; ; ) {
        switch (encoding) {
          case "ascii":
          case "latin1":
          case "binary":
            return len;
          case "utf8":
          case "utf-8":
          case void 0:
            return utf8ToBytes(string).length;
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return len * 2;
          case "hex":
            return len >>> 1;
          case "base64":
            return base64ToBytes(string).length;
          default:
            if (loweredCase)
              return utf8ToBytes(string).length;
            encoding = ("" + encoding).toLowerCase();
            loweredCase = true;
        }
      }
    }
    Buffer4.byteLength = byteLength;
    function slowToString(encoding, start, end) {
      var loweredCase = false;
      if (start === void 0 || start < 0) {
        start = 0;
      }
      if (start > this.length) {
        return "";
      }
      if (end === void 0 || end > this.length) {
        end = this.length;
      }
      if (end <= 0) {
        return "";
      }
      end >>>= 0;
      start >>>= 0;
      if (end <= start) {
        return "";
      }
      if (!encoding)
        encoding = "utf8";
      while (true) {
        switch (encoding) {
          case "hex":
            return hexSlice(this, start, end);
          case "utf8":
          case "utf-8":
            return utf8Slice(this, start, end);
          case "ascii":
            return asciiSlice(this, start, end);
          case "latin1":
          case "binary":
            return latin1Slice(this, start, end);
          case "base64":
            return base64Slice(this, start, end);
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return utf16leSlice(this, start, end);
          default:
            if (loweredCase)
              throw new TypeError("Unknown encoding: " + encoding);
            encoding = (encoding + "").toLowerCase();
            loweredCase = true;
        }
      }
    }
    Buffer4.prototype._isBuffer = true;
    function swap(b, n, m) {
      var i = b[n];
      b[n] = b[m];
      b[m] = i;
    }
    Buffer4.prototype.swap16 = function swap16() {
      var len = this.length;
      if (len % 2 !== 0) {
        throw new RangeError("Buffer size must be a multiple of 16-bits");
      }
      for (var i = 0; i < len; i += 2) {
        swap(this, i, i + 1);
      }
      return this;
    };
    Buffer4.prototype.swap32 = function swap32() {
      var len = this.length;
      if (len % 4 !== 0) {
        throw new RangeError("Buffer size must be a multiple of 32-bits");
      }
      for (var i = 0; i < len; i += 4) {
        swap(this, i, i + 3);
        swap(this, i + 1, i + 2);
      }
      return this;
    };
    Buffer4.prototype.swap64 = function swap64() {
      var len = this.length;
      if (len % 8 !== 0) {
        throw new RangeError("Buffer size must be a multiple of 64-bits");
      }
      for (var i = 0; i < len; i += 8) {
        swap(this, i, i + 7);
        swap(this, i + 1, i + 6);
        swap(this, i + 2, i + 5);
        swap(this, i + 3, i + 4);
      }
      return this;
    };
    Buffer4.prototype.toString = function toString() {
      var length = this.length | 0;
      if (length === 0)
        return "";
      if (arguments.length === 0)
        return utf8Slice(this, 0, length);
      return slowToString.apply(this, arguments);
    };
    Buffer4.prototype.equals = function equals(b) {
      if (!Buffer4.isBuffer(b))
        throw new TypeError("Argument must be a Buffer");
      if (this === b)
        return true;
      return Buffer4.compare(this, b) === 0;
    };
    Buffer4.prototype.inspect = function inspect() {
      var str = "";
      var max2 = exports.INSPECT_MAX_BYTES;
      if (this.length > 0) {
        str = this.toString("hex", 0, max2).match(/.{2}/g).join(" ");
        if (this.length > max2)
          str += " ... ";
      }
      return "<Buffer " + str + ">";
    };
    Buffer4.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {
      if (!Buffer4.isBuffer(target)) {
        throw new TypeError("Argument must be a Buffer");
      }
      if (start === void 0) {
        start = 0;
      }
      if (end === void 0) {
        end = target ? target.length : 0;
      }
      if (thisStart === void 0) {
        thisStart = 0;
      }
      if (thisEnd === void 0) {
        thisEnd = this.length;
      }
      if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
        throw new RangeError("out of range index");
      }
      if (thisStart >= thisEnd && start >= end) {
        return 0;
      }
      if (thisStart >= thisEnd) {
        return -1;
      }
      if (start >= end) {
        return 1;
      }
      start >>>= 0;
      end >>>= 0;
      thisStart >>>= 0;
      thisEnd >>>= 0;
      if (this === target)
        return 0;
      var x = thisEnd - thisStart;
      var y = end - start;
      var len = Math.min(x, y);
      var thisCopy = this.slice(thisStart, thisEnd);
      var targetCopy = target.slice(start, end);
      for (var i = 0; i < len; ++i) {
        if (thisCopy[i] !== targetCopy[i]) {
          x = thisCopy[i];
          y = targetCopy[i];
          break;
        }
      }
      if (x < y)
        return -1;
      if (y < x)
        return 1;
      return 0;
    };
    function bidirectionalIndexOf(buffer2, val, byteOffset, encoding, dir) {
      if (buffer2.length === 0)
        return -1;
      if (typeof byteOffset === "string") {
        encoding = byteOffset;
        byteOffset = 0;
      } else if (byteOffset > 2147483647) {
        byteOffset = 2147483647;
      } else if (byteOffset < -2147483648) {
        byteOffset = -2147483648;
      }
      byteOffset = +byteOffset;
      if (isNaN(byteOffset)) {
        byteOffset = dir ? 0 : buffer2.length - 1;
      }
      if (byteOffset < 0)
        byteOffset = buffer2.length + byteOffset;
      if (byteOffset >= buffer2.length) {
        if (dir)
          return -1;
        else
          byteOffset = buffer2.length - 1;
      } else if (byteOffset < 0) {
        if (dir)
          byteOffset = 0;
        else
          return -1;
      }
      if (typeof val === "string") {
        val = Buffer4.from(val, encoding);
      }
      if (Buffer4.isBuffer(val)) {
        if (val.length === 0) {
          return -1;
        }
        return arrayIndexOf(buffer2, val, byteOffset, encoding, dir);
      } else if (typeof val === "number") {
        val = val & 255;
        if (Buffer4.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === "function") {
          if (dir) {
            return Uint8Array.prototype.indexOf.call(buffer2, val, byteOffset);
          } else {
            return Uint8Array.prototype.lastIndexOf.call(buffer2, val, byteOffset);
          }
        }
        return arrayIndexOf(buffer2, [val], byteOffset, encoding, dir);
      }
      throw new TypeError("val must be string, number or Buffer");
    }
    function arrayIndexOf(arr, val, byteOffset, encoding, dir) {
      var indexSize = 1;
      var arrLength = arr.length;
      var valLength = val.length;
      if (encoding !== void 0) {
        encoding = String(encoding).toLowerCase();
        if (encoding === "ucs2" || encoding === "ucs-2" || encoding === "utf16le" || encoding === "utf-16le") {
          if (arr.length < 2 || val.length < 2) {
            return -1;
          }
          indexSize = 2;
          arrLength /= 2;
          valLength /= 2;
          byteOffset /= 2;
        }
      }
      function read(buf, i2) {
        if (indexSize === 1) {
          return buf[i2];
        } else {
          return buf.readUInt16BE(i2 * indexSize);
        }
      }
      var i;
      if (dir) {
        var foundIndex = -1;
        for (i = byteOffset; i < arrLength; i++) {
          if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
            if (foundIndex === -1)
              foundIndex = i;
            if (i - foundIndex + 1 === valLength)
              return foundIndex * indexSize;
          } else {
            if (foundIndex !== -1)
              i -= i - foundIndex;
            foundIndex = -1;
          }
        }
      } else {
        if (byteOffset + valLength > arrLength)
          byteOffset = arrLength - valLength;
        for (i = byteOffset; i >= 0; i--) {
          var found = true;
          for (var j = 0; j < valLength; j++) {
            if (read(arr, i + j) !== read(val, j)) {
              found = false;
              break;
            }
          }
          if (found)
            return i;
        }
      }
      return -1;
    }
    Buffer4.prototype.includes = function includes(val, byteOffset, encoding) {
      return this.indexOf(val, byteOffset, encoding) !== -1;
    };
    Buffer4.prototype.indexOf = function indexOf(val, byteOffset, encoding) {
      return bidirectionalIndexOf(this, val, byteOffset, encoding, true);
    };
    Buffer4.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {
      return bidirectionalIndexOf(this, val, byteOffset, encoding, false);
    };
    function hexWrite(buf, string, offset, length) {
      offset = Number(offset) || 0;
      var remaining = buf.length - offset;
      if (!length) {
        length = remaining;
      } else {
        length = Number(length);
        if (length > remaining) {
          length = remaining;
        }
      }
      var strLen = string.length;
      if (strLen % 2 !== 0)
        throw new TypeError("Invalid hex string");
      if (length > strLen / 2) {
        length = strLen / 2;
      }
      for (var i = 0; i < length; ++i) {
        var parsed = parseInt(string.substr(i * 2, 2), 16);
        if (isNaN(parsed))
          return i;
        buf[offset + i] = parsed;
      }
      return i;
    }
    function utf8Write(buf, string, offset, length) {
      return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);
    }
    function asciiWrite(buf, string, offset, length) {
      return blitBuffer(asciiToBytes(string), buf, offset, length);
    }
    function latin1Write(buf, string, offset, length) {
      return asciiWrite(buf, string, offset, length);
    }
    function base64Write(buf, string, offset, length) {
      return blitBuffer(base64ToBytes(string), buf, offset, length);
    }
    function ucs2Write(buf, string, offset, length) {
      return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);
    }
    Buffer4.prototype.write = function write(string, offset, length, encoding) {
      if (offset === void 0) {
        encoding = "utf8";
        length = this.length;
        offset = 0;
      } else if (length === void 0 && typeof offset === "string") {
        encoding = offset;
        length = this.length;
        offset = 0;
      } else if (isFinite(offset)) {
        offset = offset | 0;
        if (isFinite(length)) {
          length = length | 0;
          if (encoding === void 0)
            encoding = "utf8";
        } else {
          encoding = length;
          length = void 0;
        }
      } else {
        throw new Error(
          "Buffer.write(string, encoding, offset[, length]) is no longer supported"
        );
      }
      var remaining = this.length - offset;
      if (length === void 0 || length > remaining)
        length = remaining;
      if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {
        throw new RangeError("Attempt to write outside buffer bounds");
      }
      if (!encoding)
        encoding = "utf8";
      var loweredCase = false;
      for (; ; ) {
        switch (encoding) {
          case "hex":
            return hexWrite(this, string, offset, length);
          case "utf8":
          case "utf-8":
            return utf8Write(this, string, offset, length);
          case "ascii":
            return asciiWrite(this, string, offset, length);
          case "latin1":
          case "binary":
            return latin1Write(this, string, offset, length);
          case "base64":
            return base64Write(this, string, offset, length);
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return ucs2Write(this, string, offset, length);
          default:
            if (loweredCase)
              throw new TypeError("Unknown encoding: " + encoding);
            encoding = ("" + encoding).toLowerCase();
            loweredCase = true;
        }
      }
    };
    Buffer4.prototype.toJSON = function toJSON() {
      return {
        type: "Buffer",
        data: Array.prototype.slice.call(this._arr || this, 0)
      };
    };
    function base64Slice(buf, start, end) {
      if (start === 0 && end === buf.length) {
        return base64.fromByteArray(buf);
      } else {
        return base64.fromByteArray(buf.slice(start, end));
      }
    }
    function utf8Slice(buf, start, end) {
      end = Math.min(buf.length, end);
      var res = [];
      var i = start;
      while (i < end) {
        var firstByte = buf[i];
        var codePoint = null;
        var bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;
        if (i + bytesPerSequence <= end) {
          var secondByte, thirdByte, fourthByte, tempCodePoint;
          switch (bytesPerSequence) {
            case 1:
              if (firstByte < 128) {
                codePoint = firstByte;
              }
              break;
            case 2:
              secondByte = buf[i + 1];
              if ((secondByte & 192) === 128) {
                tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;
                if (tempCodePoint > 127) {
                  codePoint = tempCodePoint;
                }
              }
              break;
            case 3:
              secondByte = buf[i + 1];
              thirdByte = buf[i + 2];
              if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {
                tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;
                if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {
                  codePoint = tempCodePoint;
                }
              }
              break;
            case 4:
              secondByte = buf[i + 1];
              thirdByte = buf[i + 2];
              fourthByte = buf[i + 3];
              if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {
                tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;
                if (tempCodePoint > 65535 && tempCodePoint < 1114112) {
                  codePoint = tempCodePoint;
                }
              }
          }
        }
        if (codePoint === null) {
          codePoint = 65533;
          bytesPerSequence = 1;
        } else if (codePoint > 65535) {
          codePoint -= 65536;
          res.push(codePoint >>> 10 & 1023 | 55296);
          codePoint = 56320 | codePoint & 1023;
        }
        res.push(codePoint);
        i += bytesPerSequence;
      }
      return decodeCodePointsArray(res);
    }
    var MAX_ARGUMENTS_LENGTH = 4096;
    function decodeCodePointsArray(codePoints) {
      var len = codePoints.length;
      if (len <= MAX_ARGUMENTS_LENGTH) {
        return String.fromCharCode.apply(String, codePoints);
      }
      var res = "";
      var i = 0;
      while (i < len) {
        res += String.fromCharCode.apply(
          String,
          codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
        );
      }
      return res;
    }
    function asciiSlice(buf, start, end) {
      var ret = "";
      end = Math.min(buf.length, end);
      for (var i = start; i < end; ++i) {
        ret += String.fromCharCode(buf[i] & 127);
      }
      return ret;
    }
    function latin1Slice(buf, start, end) {
      var ret = "";
      end = Math.min(buf.length, end);
      for (var i = start; i < end; ++i) {
        ret += String.fromCharCode(buf[i]);
      }
      return ret;
    }
    function hexSlice(buf, start, end) {
      var len = buf.length;
      if (!start || start < 0)
        start = 0;
      if (!end || end < 0 || end > len)
        end = len;
      var out = "";
      for (var i = start; i < end; ++i) {
        out += toHex(buf[i]);
      }
      return out;
    }
    function utf16leSlice(buf, start, end) {
      var bytes = buf.slice(start, end);
      var res = "";
      for (var i = 0; i < bytes.length; i += 2) {
        res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);
      }
      return res;
    }
    Buffer4.prototype.slice = function slice(start, end) {
      var len = this.length;
      start = ~~start;
      end = end === void 0 ? len : ~~end;
      if (start < 0) {
        start += len;
        if (start < 0)
          start = 0;
      } else if (start > len) {
        start = len;
      }
      if (end < 0) {
        end += len;
        if (end < 0)
          end = 0;
      } else if (end > len) {
        end = len;
      }
      if (end < start)
        end = start;
      var newBuf;
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        newBuf = this.subarray(start, end);
        newBuf.__proto__ = Buffer4.prototype;
      } else {
        var sliceLen = end - start;
        newBuf = new Buffer4(sliceLen, void 0);
        for (var i = 0; i < sliceLen; ++i) {
          newBuf[i] = this[i + start];
        }
      }
      return newBuf;
    };
    function checkOffset(offset, ext, length) {
      if (offset % 1 !== 0 || offset < 0)
        throw new RangeError("offset is not uint");
      if (offset + ext > length)
        throw new RangeError("Trying to access beyond buffer length");
    }
    Buffer4.prototype.readUIntLE = function readUIntLE(offset, byteLength2, noAssert) {
      offset = offset | 0;
      byteLength2 = byteLength2 | 0;
      if (!noAssert)
        checkOffset(offset, byteLength2, this.length);
      var val = this[offset];
      var mul = 1;
      var i = 0;
      while (++i < byteLength2 && (mul *= 256)) {
        val += this[offset + i] * mul;
      }
      return val;
    };
    Buffer4.prototype.readUIntBE = function readUIntBE(offset, byteLength2, noAssert) {
      offset = offset | 0;
      byteLength2 = byteLength2 | 0;
      if (!noAssert) {
        checkOffset(offset, byteLength2, this.length);
      }
      var val = this[offset + --byteLength2];
      var mul = 1;
      while (byteLength2 > 0 && (mul *= 256)) {
        val += this[offset + --byteLength2] * mul;
      }
      return val;
    };
    Buffer4.prototype.readUInt8 = function readUInt8(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 1, this.length);
      return this[offset];
    };
    Buffer4.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 2, this.length);
      return this[offset] | this[offset + 1] << 8;
    };
    Buffer4.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 2, this.length);
      return this[offset] << 8 | this[offset + 1];
    };
    Buffer4.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 16777216;
    };
    Buffer4.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return this[offset] * 16777216 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);
    };
    Buffer4.prototype.readIntLE = function readIntLE(offset, byteLength2, noAssert) {
      offset = offset | 0;
      byteLength2 = byteLength2 | 0;
      if (!noAssert)
        checkOffset(offset, byteLength2, this.length);
      var val = this[offset];
      var mul = 1;
      var i = 0;
      while (++i < byteLength2 && (mul *= 256)) {
        val += this[offset + i] * mul;
      }
      mul *= 128;
      if (val >= mul)
        val -= Math.pow(2, 8 * byteLength2);
      return val;
    };
    Buffer4.prototype.readIntBE = function readIntBE(offset, byteLength2, noAssert) {
      offset = offset | 0;
      byteLength2 = byteLength2 | 0;
      if (!noAssert)
        checkOffset(offset, byteLength2, this.length);
      var i = byteLength2;
      var mul = 1;
      var val = this[offset + --i];
      while (i > 0 && (mul *= 256)) {
        val += this[offset + --i] * mul;
      }
      mul *= 128;
      if (val >= mul)
        val -= Math.pow(2, 8 * byteLength2);
      return val;
    };
    Buffer4.prototype.readInt8 = function readInt8(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 1, this.length);
      if (!(this[offset] & 128))
        return this[offset];
      return (255 - this[offset] + 1) * -1;
    };
    Buffer4.prototype.readInt16LE = function readInt16LE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 2, this.length);
      var val = this[offset] | this[offset + 1] << 8;
      return val & 32768 ? val | 4294901760 : val;
    };
    Buffer4.prototype.readInt16BE = function readInt16BE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 2, this.length);
      var val = this[offset + 1] | this[offset] << 8;
      return val & 32768 ? val | 4294901760 : val;
    };
    Buffer4.prototype.readInt32LE = function readInt32LE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;
    };
    Buffer4.prototype.readInt32BE = function readInt32BE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];
    };
    Buffer4.prototype.readFloatLE = function readFloatLE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return ieee754.read(this, offset, true, 23, 4);
    };
    Buffer4.prototype.readFloatBE = function readFloatBE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 4, this.length);
      return ieee754.read(this, offset, false, 23, 4);
    };
    Buffer4.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 8, this.length);
      return ieee754.read(this, offset, true, 52, 8);
    };
    Buffer4.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {
      if (!noAssert)
        checkOffset(offset, 8, this.length);
      return ieee754.read(this, offset, false, 52, 8);
    };
    function checkInt(buf, value, offset, ext, max2, min) {
      if (!Buffer4.isBuffer(buf))
        throw new TypeError('"buffer" argument must be a Buffer instance');
      if (value > max2 || value < min)
        throw new RangeError('"value" argument is out of bounds');
      if (offset + ext > buf.length)
        throw new RangeError("Index out of range");
    }
    Buffer4.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength2, noAssert) {
      value = +value;
      offset = offset | 0;
      byteLength2 = byteLength2 | 0;
      if (!noAssert) {
        var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
        checkInt(this, value, offset, byteLength2, maxBytes, 0);
      }
      var mul = 1;
      var i = 0;
      this[offset] = value & 255;
      while (++i < byteLength2 && (mul *= 256)) {
        this[offset + i] = value / mul & 255;
      }
      return offset + byteLength2;
    };
    Buffer4.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength2, noAssert) {
      value = +value;
      offset = offset | 0;
      byteLength2 = byteLength2 | 0;
      if (!noAssert) {
        var maxBytes = Math.pow(2, 8 * byteLength2) - 1;
        checkInt(this, value, offset, byteLength2, maxBytes, 0);
      }
      var i = byteLength2 - 1;
      var mul = 1;
      this[offset + i] = value & 255;
      while (--i >= 0 && (mul *= 256)) {
        this[offset + i] = value / mul & 255;
      }
      return offset + byteLength2;
    };
    Buffer4.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 1, 255, 0);
      if (!Buffer4.TYPED_ARRAY_SUPPORT)
        value = Math.floor(value);
      this[offset] = value & 255;
      return offset + 1;
    };
    function objectWriteUInt16(buf, value, offset, littleEndian) {
      if (value < 0)
        value = 65535 + value + 1;
      for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
        buf[offset + i] = (value & 255 << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;
      }
    }
    Buffer4.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 2, 65535, 0);
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        this[offset] = value & 255;
        this[offset + 1] = value >>> 8;
      } else {
        objectWriteUInt16(this, value, offset, true);
      }
      return offset + 2;
    };
    Buffer4.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 2, 65535, 0);
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        this[offset] = value >>> 8;
        this[offset + 1] = value & 255;
      } else {
        objectWriteUInt16(this, value, offset, false);
      }
      return offset + 2;
    };
    function objectWriteUInt32(buf, value, offset, littleEndian) {
      if (value < 0)
        value = 4294967295 + value + 1;
      for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
        buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 255;
      }
    }
    Buffer4.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 4, 4294967295, 0);
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        this[offset + 3] = value >>> 24;
        this[offset + 2] = value >>> 16;
        this[offset + 1] = value >>> 8;
        this[offset] = value & 255;
      } else {
        objectWriteUInt32(this, value, offset, true);
      }
      return offset + 4;
    };
    Buffer4.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 4, 4294967295, 0);
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        this[offset] = value >>> 24;
        this[offset + 1] = value >>> 16;
        this[offset + 2] = value >>> 8;
        this[offset + 3] = value & 255;
      } else {
        objectWriteUInt32(this, value, offset, false);
      }
      return offset + 4;
    };
    Buffer4.prototype.writeIntLE = function writeIntLE(value, offset, byteLength2, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert) {
        var limit = Math.pow(2, 8 * byteLength2 - 1);
        checkInt(this, value, offset, byteLength2, limit - 1, -limit);
      }
      var i = 0;
      var mul = 1;
      var sub = 0;
      this[offset] = value & 255;
      while (++i < byteLength2 && (mul *= 256)) {
        if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
          sub = 1;
        }
        this[offset + i] = (value / mul >> 0) - sub & 255;
      }
      return offset + byteLength2;
    };
    Buffer4.prototype.writeIntBE = function writeIntBE(value, offset, byteLength2, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert) {
        var limit = Math.pow(2, 8 * byteLength2 - 1);
        checkInt(this, value, offset, byteLength2, limit - 1, -limit);
      }
      var i = byteLength2 - 1;
      var mul = 1;
      var sub = 0;
      this[offset + i] = value & 255;
      while (--i >= 0 && (mul *= 256)) {
        if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
          sub = 1;
        }
        this[offset + i] = (value / mul >> 0) - sub & 255;
      }
      return offset + byteLength2;
    };
    Buffer4.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 1, 127, -128);
      if (!Buffer4.TYPED_ARRAY_SUPPORT)
        value = Math.floor(value);
      if (value < 0)
        value = 255 + value + 1;
      this[offset] = value & 255;
      return offset + 1;
    };
    Buffer4.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 2, 32767, -32768);
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        this[offset] = value & 255;
        this[offset + 1] = value >>> 8;
      } else {
        objectWriteUInt16(this, value, offset, true);
      }
      return offset + 2;
    };
    Buffer4.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 2, 32767, -32768);
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        this[offset] = value >>> 8;
        this[offset + 1] = value & 255;
      } else {
        objectWriteUInt16(this, value, offset, false);
      }
      return offset + 2;
    };
    Buffer4.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 4, 2147483647, -2147483648);
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        this[offset] = value & 255;
        this[offset + 1] = value >>> 8;
        this[offset + 2] = value >>> 16;
        this[offset + 3] = value >>> 24;
      } else {
        objectWriteUInt32(this, value, offset, true);
      }
      return offset + 4;
    };
    Buffer4.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {
      value = +value;
      offset = offset | 0;
      if (!noAssert)
        checkInt(this, value, offset, 4, 2147483647, -2147483648);
      if (value < 0)
        value = 4294967295 + value + 1;
      if (Buffer4.TYPED_ARRAY_SUPPORT) {
        this[offset] = value >>> 24;
        this[offset + 1] = value >>> 16;
        this[offset + 2] = value >>> 8;
        this[offset + 3] = value & 255;
      } else {
        objectWriteUInt32(this, value, offset, false);
      }
      return offset + 4;
    };
    function checkIEEE754(buf, value, offset, ext, max2, min) {
      if (offset + ext > buf.length)
        throw new RangeError("Index out of range");
      if (offset < 0)
        throw new RangeError("Index out of range");
    }
    function writeFloat(buf, value, offset, littleEndian, noAssert) {
      if (!noAssert) {
        checkIEEE754(buf, value, offset, 4, 34028234663852886e22, -34028234663852886e22);
      }
      ieee754.write(buf, value, offset, littleEndian, 23, 4);
      return offset + 4;
    }
    Buffer4.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {
      return writeFloat(this, value, offset, true, noAssert);
    };
    Buffer4.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {
      return writeFloat(this, value, offset, false, noAssert);
    };
    function writeDouble(buf, value, offset, littleEndian, noAssert) {
      if (!noAssert) {
        checkIEEE754(buf, value, offset, 8, 17976931348623157e292, -17976931348623157e292);
      }
      ieee754.write(buf, value, offset, littleEndian, 52, 8);
      return offset + 8;
    }
    Buffer4.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {
      return writeDouble(this, value, offset, true, noAssert);
    };
    Buffer4.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {
      return writeDouble(this, value, offset, false, noAssert);
    };
    Buffer4.prototype.copy = function copy(target, targetStart, start, end) {
      if (!start)
        start = 0;
      if (!end && end !== 0)
        end = this.length;
      if (targetStart >= target.length)
        targetStart = target.length;
      if (!targetStart)
        targetStart = 0;
      if (end > 0 && end < start)
        end = start;
      if (end === start)
        return 0;
      if (target.length === 0 || this.length === 0)
        return 0;
      if (targetStart < 0) {
        throw new RangeError("targetStart out of bounds");
      }
      if (start < 0 || start >= this.length)
        throw new RangeError("sourceStart out of bounds");
      if (end < 0)
        throw new RangeError("sourceEnd out of bounds");
      if (end > this.length)
        end = this.length;
      if (target.length - targetStart < end - start) {
        end = target.length - targetStart + start;
      }
      var len = end - start;
      var i;
      if (this === target && start < targetStart && targetStart < end) {
        for (i = len - 1; i >= 0; --i) {
          target[i + targetStart] = this[i + start];
        }
      } else if (len < 1e3 || !Buffer4.TYPED_ARRAY_SUPPORT) {
        for (i = 0; i < len; ++i) {
          target[i + targetStart] = this[i + start];
        }
      } else {
        Uint8Array.prototype.set.call(
          target,
          this.subarray(start, start + len),
          targetStart
        );
      }
      return len;
    };
    Buffer4.prototype.fill = function fill(val, start, end, encoding) {
      if (typeof val === "string") {
        if (typeof start === "string") {
          encoding = start;
          start = 0;
          end = this.length;
        } else if (typeof end === "string") {
          encoding = end;
          end = this.length;
        }
        if (val.length === 1) {
          var code = val.charCodeAt(0);
          if (code < 256) {
            val = code;
          }
        }
        if (encoding !== void 0 && typeof encoding !== "string") {
          throw new TypeError("encoding must be a string");
        }
        if (typeof encoding === "string" && !Buffer4.isEncoding(encoding)) {
          throw new TypeError("Unknown encoding: " + encoding);
        }
      } else if (typeof val === "number") {
        val = val & 255;
      }
      if (start < 0 || this.length < start || this.length < end) {
        throw new RangeError("Out of range index");
      }
      if (end <= start) {
        return this;
      }
      start = start >>> 0;
      end = end === void 0 ? this.length : end >>> 0;
      if (!val)
        val = 0;
      var i;
      if (typeof val === "number") {
        for (i = start; i < end; ++i) {
          this[i] = val;
        }
      } else {
        var bytes = Buffer4.isBuffer(val) ? val : utf8ToBytes(new Buffer4(val, encoding).toString());
        var len = bytes.length;
        for (i = 0; i < end - start; ++i) {
          this[i + start] = bytes[i % len];
        }
      }
      return this;
    };
    var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g;
    function base64clean(str) {
      str = stringtrim(str).replace(INVALID_BASE64_RE, "");
      if (str.length < 2)
        return "";
      while (str.length % 4 !== 0) {
        str = str + "=";
      }
      return str;
    }
    function stringtrim(str) {
      if (str.trim)
        return str.trim();
      return str.replace(/^\s+|\s+$/g, "");
    }
    function toHex(n) {
      if (n < 16)
        return "0" + n.toString(16);
      return n.toString(16);
    }
    function utf8ToBytes(string, units) {
      units = units || Infinity;
      var codePoint;
      var length = string.length;
      var leadSurrogate = null;
      var bytes = [];
      for (var i = 0; i < length; ++i) {
        codePoint = string.charCodeAt(i);
        if (codePoint > 55295 && codePoint < 57344) {
          if (!leadSurrogate) {
            if (codePoint > 56319) {
              if ((units -= 3) > -1)
                bytes.push(239, 191, 189);
              continue;
            } else if (i + 1 === length) {
              if ((units -= 3) > -1)
                bytes.push(239, 191, 189);
              continue;
            }
            leadSurrogate = codePoint;
            continue;
          }
          if (codePoint < 56320) {
            if ((units -= 3) > -1)
              bytes.push(239, 191, 189);
            leadSurrogate = codePoint;
            continue;
          }
          codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;
        } else if (leadSurrogate) {
          if ((units -= 3) > -1)
            bytes.push(239, 191, 189);
        }
        leadSurrogate = null;
        if (codePoint < 128) {
          if ((units -= 1) < 0)
            break;
          bytes.push(codePoint);
        } else if (codePoint < 2048) {
          if ((units -= 2) < 0)
            break;
          bytes.push(
            codePoint >> 6 | 192,
            codePoint & 63 | 128
          );
        } else if (codePoint < 65536) {
          if ((units -= 3) < 0)
            break;
          bytes.push(
            codePoint >> 12 | 224,
            codePoint >> 6 & 63 | 128,
            codePoint & 63 | 128
          );
        } else if (codePoint < 1114112) {
          if ((units -= 4) < 0)
            break;
          bytes.push(
            codePoint >> 18 | 240,
            codePoint >> 12 & 63 | 128,
            codePoint >> 6 & 63 | 128,
            codePoint & 63 | 128
          );
        } else {
          throw new Error("Invalid code point");
        }
      }
      return bytes;
    }
    function asciiToBytes(str) {
      var byteArray = [];
      for (var i = 0; i < str.length; ++i) {
        byteArray.push(str.charCodeAt(i) & 255);
      }
      return byteArray;
    }
    function utf16leToBytes(str, units) {
      var c, hi, lo;
      var byteArray = [];
      for (var i = 0; i < str.length; ++i) {
        if ((units -= 2) < 0)
          break;
        c = str.charCodeAt(i);
        hi = c >> 8;
        lo = c % 256;
        byteArray.push(lo);
        byteArray.push(hi);
      }
      return byteArray;
    }
    function base64ToBytes(str) {
      return base64.toByteArray(base64clean(str));
    }
    function blitBuffer(src, dst, offset, length) {
      for (var i = 0; i < length; ++i) {
        if (i + offset >= dst.length || i >= src.length)
          break;
        dst[i + offset] = src[i];
      }
      return i;
    }
    function isnan(val) {
      return val !== val;
    }
  }
});

// backend/wasm/shims/buffer-shim.js
var import_buffer;
var init_buffer_shim = __esm({
  "backend/wasm/shims/buffer-shim.js"() {
    import_buffer = __toESM(require_buffer(), 1);
  }
});

// node_modules/events/events.js
var require_events = __commonJS({
  "node_modules/events/events.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var R = typeof Reflect === "object" ? Reflect : null;
    var ReflectApply = R && typeof R.apply === "function" ? R.apply : function ReflectApply2(target, receiver, args) {
      return Function.prototype.apply.call(target, receiver, args);
    };
    var ReflectOwnKeys;
    if (R && typeof R.ownKeys === "function") {
      ReflectOwnKeys = R.ownKeys;
    } else if (Object.getOwnPropertySymbols) {
      ReflectOwnKeys = function ReflectOwnKeys2(target) {
        return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));
      };
    } else {
      ReflectOwnKeys = function ReflectOwnKeys2(target) {
        return Object.getOwnPropertyNames(target);
      };
    }
    function ProcessEmitWarning(warning) {
      if (console && console.warn)
        console.warn(warning);
    }
    var NumberIsNaN = Number.isNaN || function NumberIsNaN2(value) {
      return value !== value;
    };
    function EventEmitter7() {
      EventEmitter7.init.call(this);
    }
    module.exports = EventEmitter7;
    module.exports.once = once;
    EventEmitter7.EventEmitter = EventEmitter7;
    EventEmitter7.prototype._events = void 0;
    EventEmitter7.prototype._eventsCount = 0;
    EventEmitter7.prototype._maxListeners = void 0;
    var defaultMaxListeners = 10;
    function checkListener(listener) {
      if (typeof listener !== "function") {
        throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof listener);
      }
    }
    Object.defineProperty(EventEmitter7, "defaultMaxListeners", {
      enumerable: true,
      get: function() {
        return defaultMaxListeners;
      },
      set: function(arg) {
        if (typeof arg !== "number" || arg < 0 || NumberIsNaN(arg)) {
          throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + arg + ".");
        }
        defaultMaxListeners = arg;
      }
    });
    EventEmitter7.init = function() {
      if (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) {
        this._events = /* @__PURE__ */ Object.create(null);
        this._eventsCount = 0;
      }
      this._maxListeners = this._maxListeners || void 0;
    };
    EventEmitter7.prototype.setMaxListeners = function setMaxListeners(n) {
      if (typeof n !== "number" || n < 0 || NumberIsNaN(n)) {
        throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + n + ".");
      }
      this._maxListeners = n;
      return this;
    };
    function _getMaxListeners(that) {
      if (that._maxListeners === void 0)
        return EventEmitter7.defaultMaxListeners;
      return that._maxListeners;
    }
    EventEmitter7.prototype.getMaxListeners = function getMaxListeners() {
      return _getMaxListeners(this);
    };
    EventEmitter7.prototype.emit = function emit(type) {
      var args = [];
      for (var i = 1; i < arguments.length; i++)
        args.push(arguments[i]);
      var doError = type === "error";
      var events = this._events;
      if (events !== void 0)
        doError = doError && events.error === void 0;
      else if (!doError)
        return false;
      if (doError) {
        var er;
        if (args.length > 0)
          er = args[0];
        if (er instanceof Error) {
          throw er;
        }
        var err2 = new Error("Unhandled error." + (er ? " (" + er.message + ")" : ""));
        err2.context = er;
        throw err2;
      }
      var handler = events[type];
      if (handler === void 0)
        return false;
      if (typeof handler === "function") {
        ReflectApply(handler, this, args);
      } else {
        var len = handler.length;
        var listeners = arrayClone(handler, len);
        for (var i = 0; i < len; ++i)
          ReflectApply(listeners[i], this, args);
      }
      return true;
    };
    function _addListener(target, type, listener, prepend) {
      var m;
      var events;
      var existing;
      checkListener(listener);
      events = target._events;
      if (events === void 0) {
        events = target._events = /* @__PURE__ */ Object.create(null);
        target._eventsCount = 0;
      } else {
        if (events.newListener !== void 0) {
          target.emit(
            "newListener",
            type,
            listener.listener ? listener.listener : listener
          );
          events = target._events;
        }
        existing = events[type];
      }
      if (existing === void 0) {
        existing = events[type] = listener;
        ++target._eventsCount;
      } else {
        if (typeof existing === "function") {
          existing = events[type] = prepend ? [listener, existing] : [existing, listener];
        } else if (prepend) {
          existing.unshift(listener);
        } else {
          existing.push(listener);
        }
        m = _getMaxListeners(target);
        if (m > 0 && existing.length > m && !existing.warned) {
          existing.warned = true;
          var w = new Error("Possible EventEmitter memory leak detected. " + existing.length + " " + String(type) + " listeners added. Use emitter.setMaxListeners() to increase limit");
          w.name = "MaxListenersExceededWarning";
          w.emitter = target;
          w.type = type;
          w.count = existing.length;
          ProcessEmitWarning(w);
        }
      }
      return target;
    }
    EventEmitter7.prototype.addListener = function addListener(type, listener) {
      return _addListener(this, type, listener, false);
    };
    EventEmitter7.prototype.on = EventEmitter7.prototype.addListener;
    EventEmitter7.prototype.prependListener = function prependListener(type, listener) {
      return _addListener(this, type, listener, true);
    };
    function onceWrapper() {
      if (!this.fired) {
        this.target.removeListener(this.type, this.wrapFn);
        this.fired = true;
        if (arguments.length === 0)
          return this.listener.call(this.target);
        return this.listener.apply(this.target, arguments);
      }
    }
    function _onceWrap(target, type, listener) {
      var state = { fired: false, wrapFn: void 0, target, type, listener };
      var wrapped = onceWrapper.bind(state);
      wrapped.listener = listener;
      state.wrapFn = wrapped;
      return wrapped;
    }
    EventEmitter7.prototype.once = function once2(type, listener) {
      checkListener(listener);
      this.on(type, _onceWrap(this, type, listener));
      return this;
    };
    EventEmitter7.prototype.prependOnceListener = function prependOnceListener(type, listener) {
      checkListener(listener);
      this.prependListener(type, _onceWrap(this, type, listener));
      return this;
    };
    EventEmitter7.prototype.removeListener = function removeListener(type, listener) {
      var list, events, position, i, originalListener;
      checkListener(listener);
      events = this._events;
      if (events === void 0)
        return this;
      list = events[type];
      if (list === void 0)
        return this;
      if (list === listener || list.listener === listener) {
        if (--this._eventsCount === 0)
          this._events = /* @__PURE__ */ Object.create(null);
        else {
          delete events[type];
          if (events.removeListener)
            this.emit("removeListener", type, list.listener || listener);
        }
      } else if (typeof list !== "function") {
        position = -1;
        for (i = list.length - 1; i >= 0; i--) {
          if (list[i] === listener || list[i].listener === listener) {
            originalListener = list[i].listener;
            position = i;
            break;
          }
        }
        if (position < 0)
          return this;
        if (position === 0)
          list.shift();
        else {
          spliceOne(list, position);
        }
        if (list.length === 1)
          events[type] = list[0];
        if (events.removeListener !== void 0)
          this.emit("removeListener", type, originalListener || listener);
      }
      return this;
    };
    EventEmitter7.prototype.off = EventEmitter7.prototype.removeListener;
    EventEmitter7.prototype.removeAllListeners = function removeAllListeners(type) {
      var listeners, events, i;
      events = this._events;
      if (events === void 0)
        return this;
      if (events.removeListener === void 0) {
        if (arguments.length === 0) {
          this._events = /* @__PURE__ */ Object.create(null);
          this._eventsCount = 0;
        } else if (events[type] !== void 0) {
          if (--this._eventsCount === 0)
            this._events = /* @__PURE__ */ Object.create(null);
          else
            delete events[type];
        }
        return this;
      }
      if (arguments.length === 0) {
        var keys = Object.keys(events);
        var key;
        for (i = 0; i < keys.length; ++i) {
          key = keys[i];
          if (key === "removeListener")
            continue;
          this.removeAllListeners(key);
        }
        this.removeAllListeners("removeListener");
        this._events = /* @__PURE__ */ Object.create(null);
        this._eventsCount = 0;
        return this;
      }
      listeners = events[type];
      if (typeof listeners === "function") {
        this.removeListener(type, listeners);
      } else if (listeners !== void 0) {
        for (i = listeners.length - 1; i >= 0; i--) {
          this.removeListener(type, listeners[i]);
        }
      }
      return this;
    };
    function _listeners(target, type, unwrap) {
      var events = target._events;
      if (events === void 0)
        return [];
      var evlistener = events[type];
      if (evlistener === void 0)
        return [];
      if (typeof evlistener === "function")
        return unwrap ? [evlistener.listener || evlistener] : [evlistener];
      return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);
    }
    EventEmitter7.prototype.listeners = function listeners(type) {
      return _listeners(this, type, true);
    };
    EventEmitter7.prototype.rawListeners = function rawListeners(type) {
      return _listeners(this, type, false);
    };
    EventEmitter7.listenerCount = function(emitter, type) {
      if (typeof emitter.listenerCount === "function") {
        return emitter.listenerCount(type);
      } else {
        return listenerCount.call(emitter, type);
      }
    };
    EventEmitter7.prototype.listenerCount = listenerCount;
    function listenerCount(type) {
      var events = this._events;
      if (events !== void 0) {
        var evlistener = events[type];
        if (typeof evlistener === "function") {
          return 1;
        } else if (evlistener !== void 0) {
          return evlistener.length;
        }
      }
      return 0;
    }
    EventEmitter7.prototype.eventNames = function eventNames() {
      return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];
    };
    function arrayClone(arr, n) {
      var copy = new Array(n);
      for (var i = 0; i < n; ++i)
        copy[i] = arr[i];
      return copy;
    }
    function spliceOne(list, index) {
      for (; index + 1 < list.length; index++)
        list[index] = list[index + 1];
      list.pop();
    }
    function unwrapListeners(arr) {
      var ret = new Array(arr.length);
      for (var i = 0; i < ret.length; ++i) {
        ret[i] = arr[i].listener || arr[i];
      }
      return ret;
    }
    function once(emitter, name) {
      return new Promise(function(resolve, reject) {
        function errorListener(err2) {
          emitter.removeListener(name, resolver);
          reject(err2);
        }
        function resolver() {
          if (typeof emitter.removeListener === "function") {
            emitter.removeListener("error", errorListener);
          }
          resolve([].slice.call(arguments));
        }
        ;
        eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });
        if (name !== "error") {
          addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });
        }
      });
    }
    function addErrorHandlerIfEventEmitter(emitter, handler, flags) {
      if (typeof emitter.on === "function") {
        eventTargetAgnosticAddListener(emitter, "error", handler, flags);
      }
    }
    function eventTargetAgnosticAddListener(emitter, name, listener, flags) {
      if (typeof emitter.on === "function") {
        if (flags.once) {
          emitter.once(name, listener);
        } else {
          emitter.on(name, listener);
        }
      } else if (typeof emitter.addEventListener === "function") {
        emitter.addEventListener(name, function wrapListener(arg) {
          if (flags.once) {
            emitter.removeEventListener(name, wrapListener);
          }
          listener(arg);
        });
      } else {
        throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof emitter);
      }
    }
  }
});

// node_modules/browser-or-node/lib/index.js
var require_lib = __commonJS({
  "node_modules/browser-or-node/lib/index.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
      return typeof obj;
    } : function(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    var isBrowser3 = typeof window !== "undefined" && typeof window.document !== "undefined";
    var isNode2 = typeof process !== "undefined" && process.versions != null && process.versions.node != null;
    var isWebWorker2 = (typeof self === "undefined" ? "undefined" : _typeof(self)) === "object" && self.constructor && self.constructor.name === "DedicatedWorkerGlobalScope";
    var isJsDom = typeof window !== "undefined" && window.name === "nodejs" || typeof navigator !== "undefined" && (navigator.userAgent.includes("Node.js") || navigator.userAgent.includes("jsdom"));
    var isDeno = typeof Deno !== "undefined" && typeof Deno.version !== "undefined" && typeof Deno.version.deno !== "undefined";
    exports.isBrowser = isBrowser3;
    exports.isWebWorker = isWebWorker2;
    exports.isNode = isNode2;
    exports.isJsDom = isJsDom;
    exports.isDeno = isDeno;
  }
});

// node_modules/wasi-kernel/src/kernel/bits/queue.ts
var SharedQueue, MaybeSharedArrayBuffer;
var init_queue = __esm({
  "node_modules/wasi-kernel/src/kernel/bits/queue.ts"() {
    init_process_shim();
    init_buffer_shim();
    SharedQueue = class _SharedQueue {
      _data;
      _wait;
      constructor(props) {
        this._data = props.data;
        this._wait = props.wait || new Int32Array(new MaybeSharedArrayBuffer(4 * 2));
      }
      static from(props) {
        return new _SharedQueue(props);
      }
      to() {
        return { data: this._data, wait: this._wait };
      }
      enqueue(v) {
        let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
        head ? head-- : head = this._data.length;
        if (head != tail) {
          Atomics.store(this._data, tail++, v);
          Atomics.store(this._wait, 1, tail);
          Atomics.notify(this._wait, 1, 1);
          return 1;
        } else
          return 0;
      }
      enqueueAll(vs) {
        let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
        head ? head-- : head = this._data.length;
        var i;
        for (i = 0; head != tail && i < vs.length; i++) {
          Atomics.store(this._data, tail++, vs[i]);
        }
        if (i > 0) {
          Atomics.store(this._wait, 1, tail);
          Atomics.notify(this._wait, 1, 1);
        }
        return i;
      }
      wait() {
        let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
        while (head == tail) {
          Atomics.wait(this._wait, 1, tail);
          tail = Atomics.load(this._wait, 1);
        }
      }
      dequeue() {
        this.wait();
        let head = Atomics.load(this._wait, 0), top = Atomics.load(this._data, head++);
        Atomics.store(this._wait, 0, head);
        Atomics.notify(this._wait, 0, 1);
        return top;
      }
      dequeueSome(count, out, offset) {
        if (count == 0)
          return 0;
        this.wait();
        let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
        var i;
        for (i = 0; head != tail && offset < count; i++) {
          out[offset++] = Atomics.load(this._data, head++);
          if (tail >= this._data.length)
            tail = 0;
        }
        Atomics.store(this._wait, 0, head);
        Atomics.notify(this._wait, 0, 1);
        return i;
      }
      isEmpty() {
        let head = Atomics.load(this._wait, 0), tail = Atomics.load(this._wait, 1);
        return head == tail;
      }
    };
    MaybeSharedArrayBuffer = typeof SharedArrayBuffer != "undefined" ? SharedArrayBuffer : ArrayBuffer;
  }
});

// node_modules/wasi-kernel/src/kernel/streams.ts
var import_events, SimplexStream, MaybeSharedArrayBuffer2;
var init_streams = __esm({
  "node_modules/wasi-kernel/src/kernel/streams.ts"() {
    init_process_shim();
    init_buffer_shim();
    import_events = __toESM(require_events());
    init_queue();
    SimplexStream = class _SimplexStream extends import_events.EventEmitter {
      queue;
      meta;
      pos;
      blocking;
      constructor(_from = {}) {
        super();
        this.queue = SharedQueue.from(_from.queue || { data: new Uint8Array(new MaybeSharedArrayBuffer2(1024)) });
        this.meta = _from.meta || new Int32Array(new MaybeSharedArrayBuffer2(4));
        if (!_from.meta)
          this.length = -1;
        this.pos = 0;
        this.blocking = true;
      }
      static from(props) {
        return new _SimplexStream(props);
      }
      to() {
        return { queue: this.queue.to(), meta: this.meta };
      }
      get length() {
        return Atomics.load(this.meta, 0);
      }
      set length(l) {
        Atomics.store(this.meta, 0, l);
      }
      read(readBuffer, offset, length, position) {
        if (length > readBuffer.length)
          length = readBuffer.length;
        if (this.queue.isEmpty()) {
          if (offset > 0)
            return 0;
          else if (!this.blocking)
            throw { errno: 35, code: "EAGAIN" };
        }
        if (this.length >= 0 && this.pos >= this.length)
          return 0;
        var readc = this.queue.dequeueSome(length, readBuffer, offset);
        if (readc > 0) {
          if (this.length >= 0)
            readc = Math.min(this.length - this.pos, readc);
          this.pos += readc;
          this.emit("data", readBuffer.slice(offset, readc));
        }
        return readc;
      }
      write(writeBuffer) {
        let writec = this.queue.enqueueAll(writeBuffer);
        this.pos += writec;
        return writec;
      }
      end() {
        this.length = this.pos;
        this.queue.enqueue(0);
      }
      reset() {
        this.length = -1;
        this.pos = 0;
        this.blocking = true;
      }
    };
    MaybeSharedArrayBuffer2 = typeof SharedArrayBuffer != "undefined" ? SharedArrayBuffer : ArrayBuffer;
  }
});

// node_modules/has-symbols/shams.js
var require_shams = __commonJS({
  "node_modules/has-symbols/shams.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    module.exports = function hasSymbols() {
      if (typeof Symbol !== "function" || typeof Object.getOwnPropertySymbols !== "function") {
        return false;
      }
      if (typeof Symbol.iterator === "symbol") {
        return true;
      }
      var obj = {};
      var sym = Symbol("test");
      var symObj = Object(sym);
      if (typeof sym === "string") {
        return false;
      }
      if (Object.prototype.toString.call(sym) !== "[object Symbol]") {
        return false;
      }
      if (Object.prototype.toString.call(symObj) !== "[object Symbol]") {
        return false;
      }
      var symVal = 42;
      obj[sym] = symVal;
      for (sym in obj) {
        return false;
      }
      if (typeof Object.keys === "function" && Object.keys(obj).length !== 0) {
        return false;
      }
      if (typeof Object.getOwnPropertyNames === "function" && Object.getOwnPropertyNames(obj).length !== 0) {
        return false;
      }
      var syms = Object.getOwnPropertySymbols(obj);
      if (syms.length !== 1 || syms[0] !== sym) {
        return false;
      }
      if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) {
        return false;
      }
      if (typeof Object.getOwnPropertyDescriptor === "function") {
        var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
        if (descriptor.value !== symVal || descriptor.enumerable !== true) {
          return false;
        }
      }
      return true;
    };
  }
});

// node_modules/has-symbols/index.js
var require_has_symbols = __commonJS({
  "node_modules/has-symbols/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var origSymbol = typeof Symbol !== "undefined" && Symbol;
    var hasSymbolSham = require_shams();
    module.exports = function hasNativeSymbols() {
      if (typeof origSymbol !== "function") {
        return false;
      }
      if (typeof Symbol !== "function") {
        return false;
      }
      if (typeof origSymbol("foo") !== "symbol") {
        return false;
      }
      if (typeof Symbol("bar") !== "symbol") {
        return false;
      }
      return hasSymbolSham();
    };
  }
});

// node_modules/function-bind/implementation.js
var require_implementation = __commonJS({
  "node_modules/function-bind/implementation.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var ERROR_MESSAGE = "Function.prototype.bind called on incompatible ";
    var slice = Array.prototype.slice;
    var toStr = Object.prototype.toString;
    var funcType = "[object Function]";
    module.exports = function bind(that) {
      var target = this;
      if (typeof target !== "function" || toStr.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
      }
      var args = slice.call(arguments, 1);
      var bound;
      var binder = function() {
        if (this instanceof bound) {
          var result = target.apply(
            this,
            args.concat(slice.call(arguments))
          );
          if (Object(result) === result) {
            return result;
          }
          return this;
        } else {
          return target.apply(
            that,
            args.concat(slice.call(arguments))
          );
        }
      };
      var boundLength = Math.max(0, target.length - args.length);
      var boundArgs = [];
      for (var i = 0; i < boundLength; i++) {
        boundArgs.push("$" + i);
      }
      bound = Function("binder", "return function (" + boundArgs.join(",") + "){ return binder.apply(this,arguments); }")(binder);
      if (target.prototype) {
        var Empty = function Empty2() {
        };
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
      }
      return bound;
    };
  }
});

// node_modules/function-bind/index.js
var require_function_bind = __commonJS({
  "node_modules/function-bind/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var implementation = require_implementation();
    module.exports = Function.prototype.bind || implementation;
  }
});

// node_modules/has/src/index.js
var require_src = __commonJS({
  "node_modules/has/src/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var bind = require_function_bind();
    module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);
  }
});

// node_modules/get-intrinsic/index.js
var require_get_intrinsic = __commonJS({
  "node_modules/get-intrinsic/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var undefined2;
    var $SyntaxError = SyntaxError;
    var $Function = Function;
    var $TypeError = TypeError;
    var getEvalledConstructor = function(expressionSyntax) {
      try {
        return $Function('"use strict"; return (' + expressionSyntax + ").constructor;")();
      } catch (e) {
      }
    };
    var $gOPD = Object.getOwnPropertyDescriptor;
    if ($gOPD) {
      try {
        $gOPD({}, "");
      } catch (e) {
        $gOPD = null;
      }
    }
    var throwTypeError = function() {
      throw new $TypeError();
    };
    var ThrowTypeError = $gOPD ? function() {
      try {
        arguments.callee;
        return throwTypeError;
      } catch (calleeThrows) {
        try {
          return $gOPD(arguments, "callee").get;
        } catch (gOPDthrows) {
          return throwTypeError;
        }
      }
    }() : throwTypeError;
    var hasSymbols = require_has_symbols()();
    var getProto = Object.getPrototypeOf || function(x) {
      return x.__proto__;
    };
    var needsEval = {};
    var TypedArray = typeof Uint8Array === "undefined" ? undefined2 : getProto(Uint8Array);
    var INTRINSICS = {
      "%AggregateError%": typeof AggregateError === "undefined" ? undefined2 : AggregateError,
      "%Array%": Array,
      "%ArrayBuffer%": typeof ArrayBuffer === "undefined" ? undefined2 : ArrayBuffer,
      "%ArrayIteratorPrototype%": hasSymbols ? getProto([][Symbol.iterator]()) : undefined2,
      "%AsyncFromSyncIteratorPrototype%": undefined2,
      "%AsyncFunction%": needsEval,
      "%AsyncGenerator%": needsEval,
      "%AsyncGeneratorFunction%": needsEval,
      "%AsyncIteratorPrototype%": needsEval,
      "%Atomics%": typeof Atomics === "undefined" ? undefined2 : Atomics,
      "%BigInt%": typeof BigInt === "undefined" ? undefined2 : BigInt,
      "%Boolean%": Boolean,
      "%DataView%": typeof DataView === "undefined" ? undefined2 : DataView,
      "%Date%": Date,
      "%decodeURI%": decodeURI,
      "%decodeURIComponent%": decodeURIComponent,
      "%encodeURI%": encodeURI,
      "%encodeURIComponent%": encodeURIComponent,
      "%Error%": Error,
      "%eval%": eval,
      // eslint-disable-line no-eval
      "%EvalError%": EvalError,
      "%Float32Array%": typeof Float32Array === "undefined" ? undefined2 : Float32Array,
      "%Float64Array%": typeof Float64Array === "undefined" ? undefined2 : Float64Array,
      "%FinalizationRegistry%": typeof FinalizationRegistry === "undefined" ? undefined2 : FinalizationRegistry,
      "%Function%": $Function,
      "%GeneratorFunction%": needsEval,
      "%Int8Array%": typeof Int8Array === "undefined" ? undefined2 : Int8Array,
      "%Int16Array%": typeof Int16Array === "undefined" ? undefined2 : Int16Array,
      "%Int32Array%": typeof Int32Array === "undefined" ? undefined2 : Int32Array,
      "%isFinite%": isFinite,
      "%isNaN%": isNaN,
      "%IteratorPrototype%": hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined2,
      "%JSON%": typeof JSON === "object" ? JSON : undefined2,
      "%Map%": typeof Map === "undefined" ? undefined2 : Map,
      "%MapIteratorPrototype%": typeof Map === "undefined" || !hasSymbols ? undefined2 : getProto((/* @__PURE__ */ new Map())[Symbol.iterator]()),
      "%Math%": Math,
      "%Number%": Number,
      "%Object%": Object,
      "%parseFloat%": parseFloat,
      "%parseInt%": parseInt,
      "%Promise%": typeof Promise === "undefined" ? undefined2 : Promise,
      "%Proxy%": typeof Proxy === "undefined" ? undefined2 : Proxy,
      "%RangeError%": RangeError,
      "%ReferenceError%": ReferenceError,
      "%Reflect%": typeof Reflect === "undefined" ? undefined2 : Reflect,
      "%RegExp%": RegExp,
      "%Set%": typeof Set === "undefined" ? undefined2 : Set,
      "%SetIteratorPrototype%": typeof Set === "undefined" || !hasSymbols ? undefined2 : getProto((/* @__PURE__ */ new Set())[Symbol.iterator]()),
      "%SharedArrayBuffer%": typeof SharedArrayBuffer === "undefined" ? undefined2 : SharedArrayBuffer,
      "%String%": String,
      "%StringIteratorPrototype%": hasSymbols ? getProto(""[Symbol.iterator]()) : undefined2,
      "%Symbol%": hasSymbols ? Symbol : undefined2,
      "%SyntaxError%": $SyntaxError,
      "%ThrowTypeError%": ThrowTypeError,
      "%TypedArray%": TypedArray,
      "%TypeError%": $TypeError,
      "%Uint8Array%": typeof Uint8Array === "undefined" ? undefined2 : Uint8Array,
      "%Uint8ClampedArray%": typeof Uint8ClampedArray === "undefined" ? undefined2 : Uint8ClampedArray,
      "%Uint16Array%": typeof Uint16Array === "undefined" ? undefined2 : Uint16Array,
      "%Uint32Array%": typeof Uint32Array === "undefined" ? undefined2 : Uint32Array,
      "%URIError%": URIError,
      "%WeakMap%": typeof WeakMap === "undefined" ? undefined2 : WeakMap,
      "%WeakRef%": typeof WeakRef === "undefined" ? undefined2 : WeakRef,
      "%WeakSet%": typeof WeakSet === "undefined" ? undefined2 : WeakSet
    };
    var doEval = function doEval2(name) {
      var value;
      if (name === "%AsyncFunction%") {
        value = getEvalledConstructor("async function () {}");
      } else if (name === "%GeneratorFunction%") {
        value = getEvalledConstructor("function* () {}");
      } else if (name === "%AsyncGeneratorFunction%") {
        value = getEvalledConstructor("async function* () {}");
      } else if (name === "%AsyncGenerator%") {
        var fn = doEval2("%AsyncGeneratorFunction%");
        if (fn) {
          value = fn.prototype;
        }
      } else if (name === "%AsyncIteratorPrototype%") {
        var gen = doEval2("%AsyncGenerator%");
        if (gen) {
          value = getProto(gen.prototype);
        }
      }
      INTRINSICS[name] = value;
      return value;
    };
    var LEGACY_ALIASES = {
      "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
      "%ArrayPrototype%": ["Array", "prototype"],
      "%ArrayProto_entries%": ["Array", "prototype", "entries"],
      "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
      "%ArrayProto_keys%": ["Array", "prototype", "keys"],
      "%ArrayProto_values%": ["Array", "prototype", "values"],
      "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
      "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
      "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
      "%BooleanPrototype%": ["Boolean", "prototype"],
      "%DataViewPrototype%": ["DataView", "prototype"],
      "%DatePrototype%": ["Date", "prototype"],
      "%ErrorPrototype%": ["Error", "prototype"],
      "%EvalErrorPrototype%": ["EvalError", "prototype"],
      "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
      "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
      "%FunctionPrototype%": ["Function", "prototype"],
      "%Generator%": ["GeneratorFunction", "prototype"],
      "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
      "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
      "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
      "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
      "%JSONParse%": ["JSON", "parse"],
      "%JSONStringify%": ["JSON", "stringify"],
      "%MapPrototype%": ["Map", "prototype"],
      "%NumberPrototype%": ["Number", "prototype"],
      "%ObjectPrototype%": ["Object", "prototype"],
      "%ObjProto_toString%": ["Object", "prototype", "toString"],
      "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
      "%PromisePrototype%": ["Promise", "prototype"],
      "%PromiseProto_then%": ["Promise", "prototype", "then"],
      "%Promise_all%": ["Promise", "all"],
      "%Promise_reject%": ["Promise", "reject"],
      "%Promise_resolve%": ["Promise", "resolve"],
      "%RangeErrorPrototype%": ["RangeError", "prototype"],
      "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
      "%RegExpPrototype%": ["RegExp", "prototype"],
      "%SetPrototype%": ["Set", "prototype"],
      "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
      "%StringPrototype%": ["String", "prototype"],
      "%SymbolPrototype%": ["Symbol", "prototype"],
      "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
      "%TypedArrayPrototype%": ["TypedArray", "prototype"],
      "%TypeErrorPrototype%": ["TypeError", "prototype"],
      "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
      "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
      "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
      "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
      "%URIErrorPrototype%": ["URIError", "prototype"],
      "%WeakMapPrototype%": ["WeakMap", "prototype"],
      "%WeakSetPrototype%": ["WeakSet", "prototype"]
    };
    var bind = require_function_bind();
    var hasOwn = require_src();
    var $concat = bind.call(Function.call, Array.prototype.concat);
    var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
    var $replace = bind.call(Function.call, String.prototype.replace);
    var $strSlice = bind.call(Function.call, String.prototype.slice);
    var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
    var reEscapeChar = /\\(\\)?/g;
    var stringToPath = function stringToPath2(string) {
      var first = $strSlice(string, 0, 1);
      var last = $strSlice(string, -1);
      if (first === "%" && last !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");
      } else if (last === "%" && first !== "%") {
        throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");
      }
      var result = [];
      $replace(string, rePropName, function(match, number, quote, subString) {
        result[result.length] = quote ? $replace(subString, reEscapeChar, "$1") : number || match;
      });
      return result;
    };
    var getBaseIntrinsic = function getBaseIntrinsic2(name, allowMissing) {
      var intrinsicName = name;
      var alias;
      if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
        alias = LEGACY_ALIASES[intrinsicName];
        intrinsicName = "%" + alias[0] + "%";
      }
      if (hasOwn(INTRINSICS, intrinsicName)) {
        var value = INTRINSICS[intrinsicName];
        if (value === needsEval) {
          value = doEval(intrinsicName);
        }
        if (typeof value === "undefined" && !allowMissing) {
          throw new $TypeError("intrinsic " + name + " exists, but is not available. Please file an issue!");
        }
        return {
          alias,
          name: intrinsicName,
          value
        };
      }
      throw new $SyntaxError("intrinsic " + name + " does not exist!");
    };
    module.exports = function GetIntrinsic(name, allowMissing) {
      if (typeof name !== "string" || name.length === 0) {
        throw new $TypeError("intrinsic name must be a non-empty string");
      }
      if (arguments.length > 1 && typeof allowMissing !== "boolean") {
        throw new $TypeError('"allowMissing" argument must be a boolean');
      }
      var parts = stringToPath(name);
      var intrinsicBaseName = parts.length > 0 ? parts[0] : "";
      var intrinsic = getBaseIntrinsic("%" + intrinsicBaseName + "%", allowMissing);
      var intrinsicRealName = intrinsic.name;
      var value = intrinsic.value;
      var skipFurtherCaching = false;
      var alias = intrinsic.alias;
      if (alias) {
        intrinsicBaseName = alias[0];
        $spliceApply(parts, $concat([0, 1], alias));
      }
      for (var i = 1, isOwn = true; i < parts.length; i += 1) {
        var part = parts[i];
        var first = $strSlice(part, 0, 1);
        var last = $strSlice(part, -1);
        if ((first === '"' || first === "'" || first === "`" || (last === '"' || last === "'" || last === "`")) && first !== last) {
          throw new $SyntaxError("property names with quotes must have matching quotes");
        }
        if (part === "constructor" || !isOwn) {
          skipFurtherCaching = true;
        }
        intrinsicBaseName += "." + part;
        intrinsicRealName = "%" + intrinsicBaseName + "%";
        if (hasOwn(INTRINSICS, intrinsicRealName)) {
          value = INTRINSICS[intrinsicRealName];
        } else if (value != null) {
          if (!(part in value)) {
            if (!allowMissing) {
              throw new $TypeError("base intrinsic for " + name + " exists, but the property is not available.");
            }
            return void 0;
          }
          if ($gOPD && i + 1 >= parts.length) {
            var desc = $gOPD(value, part);
            isOwn = !!desc;
            if (isOwn && "get" in desc && !("originalValue" in desc.get)) {
              value = desc.get;
            } else {
              value = value[part];
            }
          } else {
            isOwn = hasOwn(value, part);
            value = value[part];
          }
          if (isOwn && !skipFurtherCaching) {
            INTRINSICS[intrinsicRealName] = value;
          }
        }
      }
      return value;
    };
  }
});

// node_modules/call-bind/index.js
var require_call_bind = __commonJS({
  "node_modules/call-bind/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var bind = require_function_bind();
    var GetIntrinsic = require_get_intrinsic();
    var $apply = GetIntrinsic("%Function.prototype.apply%");
    var $call = GetIntrinsic("%Function.prototype.call%");
    var $reflectApply = GetIntrinsic("%Reflect.apply%", true) || bind.call($call, $apply);
    var $gOPD = GetIntrinsic("%Object.getOwnPropertyDescriptor%", true);
    var $defineProperty = GetIntrinsic("%Object.defineProperty%", true);
    var $max = GetIntrinsic("%Math.max%");
    if ($defineProperty) {
      try {
        $defineProperty({}, "a", { value: 1 });
      } catch (e) {
        $defineProperty = null;
      }
    }
    module.exports = function callBind(originalFunction) {
      var func = $reflectApply(bind, $call, arguments);
      if ($gOPD && $defineProperty) {
        var desc = $gOPD(func, "length");
        if (desc.configurable) {
          $defineProperty(
            func,
            "length",
            { value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }
          );
        }
      }
      return func;
    };
    var applyBind = function applyBind2() {
      return $reflectApply(bind, $apply, arguments);
    };
    if ($defineProperty) {
      $defineProperty(module.exports, "apply", { value: applyBind });
    } else {
      module.exports.apply = applyBind;
    }
  }
});

// node_modules/call-bind/callBound.js
var require_callBound = __commonJS({
  "node_modules/call-bind/callBound.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var GetIntrinsic = require_get_intrinsic();
    var callBind = require_call_bind();
    var $indexOf = callBind(GetIntrinsic("String.prototype.indexOf"));
    module.exports = function callBoundIntrinsic(name, allowMissing) {
      var intrinsic = GetIntrinsic(name, !!allowMissing);
      if (typeof intrinsic === "function" && $indexOf(name, ".prototype.") > -1) {
        return callBind(intrinsic);
      }
      return intrinsic;
    };
  }
});

// node_modules/is-arguments/index.js
var require_is_arguments = __commonJS({
  "node_modules/is-arguments/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var hasToStringTag = typeof Symbol === "function" && typeof Symbol.toStringTag === "symbol";
    var callBound = require_callBound();
    var $toString = callBound("Object.prototype.toString");
    var isStandardArguments = function isArguments(value) {
      if (hasToStringTag && value && typeof value === "object" && Symbol.toStringTag in value) {
        return false;
      }
      return $toString(value) === "[object Arguments]";
    };
    var isLegacyArguments = function isArguments(value) {
      if (isStandardArguments(value)) {
        return true;
      }
      return value !== null && typeof value === "object" && typeof value.length === "number" && value.length >= 0 && $toString(value) !== "[object Array]" && $toString(value.callee) === "[object Function]";
    };
    var supportsStandardArguments = function() {
      return isStandardArguments(arguments);
    }();
    isStandardArguments.isLegacyArguments = isLegacyArguments;
    module.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;
  }
});

// node_modules/is-generator-function/index.js
var require_is_generator_function = __commonJS({
  "node_modules/is-generator-function/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var toStr = Object.prototype.toString;
    var fnToStr = Function.prototype.toString;
    var isFnRegex = /^\s*(?:function)?\*/;
    var hasToStringTag = typeof Symbol === "function" && typeof Symbol.toStringTag === "symbol";
    var getProto = Object.getPrototypeOf;
    var getGeneratorFunc = function() {
      if (!hasToStringTag) {
        return false;
      }
      try {
        return Function("return function*() {}")();
      } catch (e) {
      }
    };
    var generatorFunc = getGeneratorFunc();
    var GeneratorFunction = getProto && generatorFunc ? getProto(generatorFunc) : false;
    module.exports = function isGeneratorFunction(fn) {
      if (typeof fn !== "function") {
        return false;
      }
      if (isFnRegex.test(fnToStr.call(fn))) {
        return true;
      }
      if (!hasToStringTag) {
        var str = toStr.call(fn);
        return str === "[object GeneratorFunction]";
      }
      return getProto && getProto(fn) === GeneratorFunction;
    };
  }
});

// node_modules/foreach/index.js
var require_foreach = __commonJS({
  "node_modules/foreach/index.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    var hasOwn = Object.prototype.hasOwnProperty;
    var toString = Object.prototype.toString;
    module.exports = function forEach(obj, fn, ctx) {
      if (toString.call(fn) !== "[object Function]") {
        throw new TypeError("iterator must be a function");
      }
      var l = obj.length;
      if (l === +l) {
        for (var i = 0; i < l; i++) {
          fn.call(ctx, obj[i], i, obj);
        }
      } else {
        for (var k in obj) {
          if (hasOwn.call(obj, k)) {
            fn.call(ctx, obj[k], k, obj);
          }
        }
      }
    };
  }
});

// node_modules/array-filter/index.js
var require_array_filter = __commonJS({
  "node_modules/array-filter/index.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    module.exports = function(arr, fn, self2) {
      if (arr.filter)
        return arr.filter(fn, self2);
      if (void 0 === arr || null === arr)
        throw new TypeError();
      if ("function" != typeof fn)
        throw new TypeError();
      var ret = [];
      for (var i = 0; i < arr.length; i++) {
        if (!hasOwn.call(arr, i))
          continue;
        var val = arr[i];
        if (fn.call(self2, val, i, arr))
          ret.push(val);
      }
      return ret;
    };
    var hasOwn = Object.prototype.hasOwnProperty;
  }
});

// node_modules/available-typed-arrays/index.js
var require_available_typed_arrays = __commonJS({
  "node_modules/available-typed-arrays/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var filter = require_array_filter();
    module.exports = function availableTypedArrays() {
      return filter([
        "BigInt64Array",
        "BigUint64Array",
        "Float32Array",
        "Float64Array",
        "Int16Array",
        "Int32Array",
        "Int8Array",
        "Uint16Array",
        "Uint32Array",
        "Uint8Array",
        "Uint8ClampedArray"
      ], function(typedArray) {
        return typeof self[typedArray] === "function";
      });
    };
  }
});

// node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js
var require_getOwnPropertyDescriptor = __commonJS({
  "node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var GetIntrinsic = require_get_intrinsic();
    var $gOPD = GetIntrinsic("%Object.getOwnPropertyDescriptor%");
    if ($gOPD) {
      try {
        $gOPD([], "length");
      } catch (e) {
        $gOPD = null;
      }
    }
    module.exports = $gOPD;
  }
});

// node_modules/is-typed-array/index.js
var require_is_typed_array = __commonJS({
  "node_modules/is-typed-array/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var forEach = require_foreach();
    var availableTypedArrays = require_available_typed_arrays();
    var callBound = require_callBound();
    var $toString = callBound("Object.prototype.toString");
    var hasSymbols = require_has_symbols()();
    var hasToStringTag = hasSymbols && typeof Symbol.toStringTag === "symbol";
    var typedArrays = availableTypedArrays();
    var $indexOf = callBound("Array.prototype.indexOf", true) || function indexOf(array, value) {
      for (var i = 0; i < array.length; i += 1) {
        if (array[i] === value) {
          return i;
        }
      }
      return -1;
    };
    var $slice = callBound("String.prototype.slice");
    var toStrTags = {};
    var gOPD = require_getOwnPropertyDescriptor();
    var getPrototypeOf = Object.getPrototypeOf;
    if (hasToStringTag && gOPD && getPrototypeOf) {
      forEach(typedArrays, function(typedArray) {
        var arr = new self[typedArray]();
        if (!(Symbol.toStringTag in arr)) {
          throw new EvalError("this engine has support for Symbol.toStringTag, but " + typedArray + " does not have the property! Please report this.");
        }
        var proto = getPrototypeOf(arr);
        var descriptor = gOPD(proto, Symbol.toStringTag);
        if (!descriptor) {
          var superProto = getPrototypeOf(proto);
          descriptor = gOPD(superProto, Symbol.toStringTag);
        }
        toStrTags[typedArray] = descriptor.get;
      });
    }
    var tryTypedArrays = function tryAllTypedArrays(value) {
      var anyTrue = false;
      forEach(toStrTags, function(getter, typedArray) {
        if (!anyTrue) {
          try {
            anyTrue = getter.call(value) === typedArray;
          } catch (e) {
          }
        }
      });
      return anyTrue;
    };
    module.exports = function isTypedArray(value) {
      if (!value || typeof value !== "object") {
        return false;
      }
      if (!hasToStringTag) {
        var tag = $slice($toString(value), 8, -1);
        return $indexOf(typedArrays, tag) > -1;
      }
      if (!gOPD) {
        return false;
      }
      return tryTypedArrays(value);
    };
  }
});

// node_modules/which-typed-array/index.js
var require_which_typed_array = __commonJS({
  "node_modules/which-typed-array/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var forEach = require_foreach();
    var availableTypedArrays = require_available_typed_arrays();
    var callBound = require_callBound();
    var $toString = callBound("Object.prototype.toString");
    var hasSymbols = require_has_symbols()();
    var hasToStringTag = hasSymbols && typeof Symbol.toStringTag === "symbol";
    var typedArrays = availableTypedArrays();
    var $slice = callBound("String.prototype.slice");
    var toStrTags = {};
    var gOPD = require_getOwnPropertyDescriptor();
    var getPrototypeOf = Object.getPrototypeOf;
    if (hasToStringTag && gOPD && getPrototypeOf) {
      forEach(typedArrays, function(typedArray) {
        if (typeof self[typedArray] === "function") {
          var arr = new self[typedArray]();
          if (!(Symbol.toStringTag in arr)) {
            throw new EvalError("this engine has support for Symbol.toStringTag, but " + typedArray + " does not have the property! Please report this.");
          }
          var proto = getPrototypeOf(arr);
          var descriptor = gOPD(proto, Symbol.toStringTag);
          if (!descriptor) {
            var superProto = getPrototypeOf(proto);
            descriptor = gOPD(superProto, Symbol.toStringTag);
          }
          toStrTags[typedArray] = descriptor.get;
        }
      });
    }
    var tryTypedArrays = function tryAllTypedArrays(value) {
      var foundName = false;
      forEach(toStrTags, function(getter, typedArray) {
        if (!foundName) {
          try {
            var name = getter.call(value);
            if (name === typedArray) {
              foundName = name;
            }
          } catch (e) {
          }
        }
      });
      return foundName;
    };
    var isTypedArray = require_is_typed_array();
    module.exports = function whichTypedArray(value) {
      if (!isTypedArray(value)) {
        return false;
      }
      if (!hasToStringTag) {
        return $slice($toString(value), 8, -1);
      }
      return tryTypedArrays(value);
    };
  }
});

// node_modules/util/support/types.js
var require_types = __commonJS({
  "node_modules/util/support/types.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var isArgumentsObject = require_is_arguments();
    var isGeneratorFunction = require_is_generator_function();
    var whichTypedArray = require_which_typed_array();
    var isTypedArray = require_is_typed_array();
    function uncurryThis(f) {
      return f.call.bind(f);
    }
    var BigIntSupported = typeof BigInt !== "undefined";
    var SymbolSupported = typeof Symbol !== "undefined";
    var ObjectToString = uncurryThis(Object.prototype.toString);
    var numberValue = uncurryThis(Number.prototype.valueOf);
    var stringValue = uncurryThis(String.prototype.valueOf);
    var booleanValue = uncurryThis(Boolean.prototype.valueOf);
    if (BigIntSupported) {
      bigIntValue = uncurryThis(BigInt.prototype.valueOf);
    }
    var bigIntValue;
    if (SymbolSupported) {
      symbolValue = uncurryThis(Symbol.prototype.valueOf);
    }
    var symbolValue;
    function checkBoxedPrimitive(value, prototypeValueOf) {
      if (typeof value !== "object") {
        return false;
      }
      try {
        prototypeValueOf(value);
        return true;
      } catch (e) {
        return false;
      }
    }
    exports.isArgumentsObject = isArgumentsObject;
    exports.isGeneratorFunction = isGeneratorFunction;
    exports.isTypedArray = isTypedArray;
    function isPromise(input) {
      return typeof Promise !== "undefined" && input instanceof Promise || input !== null && typeof input === "object" && typeof input.then === "function" && typeof input.catch === "function";
    }
    exports.isPromise = isPromise;
    function isArrayBufferView(value) {
      if (typeof ArrayBuffer !== "undefined" && ArrayBuffer.isView) {
        return ArrayBuffer.isView(value);
      }
      return isTypedArray(value) || isDataView(value);
    }
    exports.isArrayBufferView = isArrayBufferView;
    function isUint8Array(value) {
      return whichTypedArray(value) === "Uint8Array";
    }
    exports.isUint8Array = isUint8Array;
    function isUint8ClampedArray(value) {
      return whichTypedArray(value) === "Uint8ClampedArray";
    }
    exports.isUint8ClampedArray = isUint8ClampedArray;
    function isUint16Array(value) {
      return whichTypedArray(value) === "Uint16Array";
    }
    exports.isUint16Array = isUint16Array;
    function isUint32Array(value) {
      return whichTypedArray(value) === "Uint32Array";
    }
    exports.isUint32Array = isUint32Array;
    function isInt8Array(value) {
      return whichTypedArray(value) === "Int8Array";
    }
    exports.isInt8Array = isInt8Array;
    function isInt16Array(value) {
      return whichTypedArray(value) === "Int16Array";
    }
    exports.isInt16Array = isInt16Array;
    function isInt32Array(value) {
      return whichTypedArray(value) === "Int32Array";
    }
    exports.isInt32Array = isInt32Array;
    function isFloat32Array(value) {
      return whichTypedArray(value) === "Float32Array";
    }
    exports.isFloat32Array = isFloat32Array;
    function isFloat64Array(value) {
      return whichTypedArray(value) === "Float64Array";
    }
    exports.isFloat64Array = isFloat64Array;
    function isBigInt64Array(value) {
      return whichTypedArray(value) === "BigInt64Array";
    }
    exports.isBigInt64Array = isBigInt64Array;
    function isBigUint64Array(value) {
      return whichTypedArray(value) === "BigUint64Array";
    }
    exports.isBigUint64Array = isBigUint64Array;
    function isMapToString(value) {
      return ObjectToString(value) === "[object Map]";
    }
    isMapToString.working = typeof Map !== "undefined" && isMapToString(/* @__PURE__ */ new Map());
    function isMap(value) {
      if (typeof Map === "undefined") {
        return false;
      }
      return isMapToString.working ? isMapToString(value) : value instanceof Map;
    }
    exports.isMap = isMap;
    function isSetToString(value) {
      return ObjectToString(value) === "[object Set]";
    }
    isSetToString.working = typeof Set !== "undefined" && isSetToString(/* @__PURE__ */ new Set());
    function isSet(value) {
      if (typeof Set === "undefined") {
        return false;
      }
      return isSetToString.working ? isSetToString(value) : value instanceof Set;
    }
    exports.isSet = isSet;
    function isWeakMapToString(value) {
      return ObjectToString(value) === "[object WeakMap]";
    }
    isWeakMapToString.working = typeof WeakMap !== "undefined" && isWeakMapToString(/* @__PURE__ */ new WeakMap());
    function isWeakMap(value) {
      if (typeof WeakMap === "undefined") {
        return false;
      }
      return isWeakMapToString.working ? isWeakMapToString(value) : value instanceof WeakMap;
    }
    exports.isWeakMap = isWeakMap;
    function isWeakSetToString(value) {
      return ObjectToString(value) === "[object WeakSet]";
    }
    isWeakSetToString.working = typeof WeakSet !== "undefined" && isWeakSetToString(/* @__PURE__ */ new WeakSet());
    function isWeakSet(value) {
      return isWeakSetToString(value);
    }
    exports.isWeakSet = isWeakSet;
    function isArrayBufferToString(value) {
      return ObjectToString(value) === "[object ArrayBuffer]";
    }
    isArrayBufferToString.working = typeof ArrayBuffer !== "undefined" && isArrayBufferToString(new ArrayBuffer());
    function isArrayBuffer(value) {
      if (typeof ArrayBuffer === "undefined") {
        return false;
      }
      return isArrayBufferToString.working ? isArrayBufferToString(value) : value instanceof ArrayBuffer;
    }
    exports.isArrayBuffer = isArrayBuffer;
    function isDataViewToString(value) {
      return ObjectToString(value) === "[object DataView]";
    }
    isDataViewToString.working = typeof ArrayBuffer !== "undefined" && typeof DataView !== "undefined" && isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1));
    function isDataView(value) {
      if (typeof DataView === "undefined") {
        return false;
      }
      return isDataViewToString.working ? isDataViewToString(value) : value instanceof DataView;
    }
    exports.isDataView = isDataView;
    var SharedArrayBufferCopy = typeof SharedArrayBuffer !== "undefined" ? SharedArrayBuffer : void 0;
    function isSharedArrayBufferToString(value) {
      return ObjectToString(value) === "[object SharedArrayBuffer]";
    }
    function isSharedArrayBuffer(value) {
      if (typeof SharedArrayBufferCopy === "undefined") {
        return false;
      }
      if (typeof isSharedArrayBufferToString.working === "undefined") {
        isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());
      }
      return isSharedArrayBufferToString.working ? isSharedArrayBufferToString(value) : value instanceof SharedArrayBufferCopy;
    }
    exports.isSharedArrayBuffer = isSharedArrayBuffer;
    function isAsyncFunction(value) {
      return ObjectToString(value) === "[object AsyncFunction]";
    }
    exports.isAsyncFunction = isAsyncFunction;
    function isMapIterator(value) {
      return ObjectToString(value) === "[object Map Iterator]";
    }
    exports.isMapIterator = isMapIterator;
    function isSetIterator(value) {
      return ObjectToString(value) === "[object Set Iterator]";
    }
    exports.isSetIterator = isSetIterator;
    function isGeneratorObject(value) {
      return ObjectToString(value) === "[object Generator]";
    }
    exports.isGeneratorObject = isGeneratorObject;
    function isWebAssemblyCompiledModule(value) {
      return ObjectToString(value) === "[object WebAssembly.Module]";
    }
    exports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;
    function isNumberObject(value) {
      return checkBoxedPrimitive(value, numberValue);
    }
    exports.isNumberObject = isNumberObject;
    function isStringObject(value) {
      return checkBoxedPrimitive(value, stringValue);
    }
    exports.isStringObject = isStringObject;
    function isBooleanObject(value) {
      return checkBoxedPrimitive(value, booleanValue);
    }
    exports.isBooleanObject = isBooleanObject;
    function isBigIntObject(value) {
      return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);
    }
    exports.isBigIntObject = isBigIntObject;
    function isSymbolObject(value) {
      return SymbolSupported && checkBoxedPrimitive(value, symbolValue);
    }
    exports.isSymbolObject = isSymbolObject;
    function isBoxedPrimitive(value) {
      return isNumberObject(value) || isStringObject(value) || isBooleanObject(value) || isBigIntObject(value) || isSymbolObject(value);
    }
    exports.isBoxedPrimitive = isBoxedPrimitive;
    function isAnyArrayBuffer(value) {
      return typeof Uint8Array !== "undefined" && (isArrayBuffer(value) || isSharedArrayBuffer(value));
    }
    exports.isAnyArrayBuffer = isAnyArrayBuffer;
    ["isProxy", "isExternal", "isModuleNamespaceObject"].forEach(function(method) {
      Object.defineProperty(exports, method, {
        enumerable: false,
        value: function() {
          throw new Error(method + " is not supported in userland");
        }
      });
    });
  }
});

// node_modules/util/support/isBufferBrowser.js
var require_isBufferBrowser = __commonJS({
  "node_modules/util/support/isBufferBrowser.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    module.exports = function isBuffer(arg) {
      return arg && typeof arg === "object" && typeof arg.copy === "function" && typeof arg.fill === "function" && typeof arg.readUInt8 === "function";
    };
  }
});

// node_modules/inherits/inherits_browser.js
var require_inherits_browser = __commonJS({
  "node_modules/inherits/inherits_browser.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    if (typeof Object.create === "function") {
      module.exports = function inherits(ctor, superCtor) {
        if (superCtor) {
          ctor.super_ = superCtor;
          ctor.prototype = Object.create(superCtor.prototype, {
            constructor: {
              value: ctor,
              enumerable: false,
              writable: true,
              configurable: true
            }
          });
        }
      };
    } else {
      module.exports = function inherits(ctor, superCtor) {
        if (superCtor) {
          ctor.super_ = superCtor;
          var TempCtor = function() {
          };
          TempCtor.prototype = superCtor.prototype;
          ctor.prototype = new TempCtor();
          ctor.prototype.constructor = ctor;
        }
      };
    }
  }
});

// node_modules/util/util.js
var require_util = __commonJS({
  "node_modules/util/util.js"(exports) {
    init_process_shim();
    init_buffer_shim();
    var getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors || function getOwnPropertyDescriptors2(obj) {
      var keys = Object.keys(obj);
      var descriptors = {};
      for (var i = 0; i < keys.length; i++) {
        descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);
      }
      return descriptors;
    };
    var formatRegExp = /%[sdj%]/g;
    exports.format = function(f) {
      if (!isString(f)) {
        var objects = [];
        for (var i = 0; i < arguments.length; i++) {
          objects.push(inspect(arguments[i]));
        }
        return objects.join(" ");
      }
      var i = 1;
      var args = arguments;
      var len = args.length;
      var str = String(f).replace(formatRegExp, function(x2) {
        if (x2 === "%%")
          return "%";
        if (i >= len)
          return x2;
        switch (x2) {
          case "%s":
            return String(args[i++]);
          case "%d":
            return Number(args[i++]);
          case "%j":
            try {
              return JSON.stringify(args[i++]);
            } catch (_) {
              return "[Circular]";
            }
          default:
            return x2;
        }
      });
      for (var x = args[i]; i < len; x = args[++i]) {
        if (isNull(x) || !isObject(x)) {
          str += " " + x;
        } else {
          str += " " + inspect(x);
        }
      }
      return str;
    };
    exports.deprecate = function(fn, msg) {
      if (typeof process !== "undefined" && process.noDeprecation === true) {
        return fn;
      }
      if (typeof process === "undefined") {
        return function() {
          return exports.deprecate(fn, msg).apply(this, arguments);
        };
      }
      var warned = false;
      function deprecated() {
        if (!warned) {
          if (process.throwDeprecation) {
            throw new Error(msg);
          } else if (process.traceDeprecation) {
            console.trace(msg);
          } else {
            console.error(msg);
          }
          warned = true;
        }
        return fn.apply(this, arguments);
      }
      return deprecated;
    };
    var debugs = {};
    var debugEnvRegex = /^$/;
    if (env.NODE_DEBUG) {
      debugEnv = env.NODE_DEBUG;
      debugEnv = debugEnv.replace(/[|\\{}()[\]^$+?.]/g, "\\$&").replace(/\*/g, ".*").replace(/,/g, "$|^").toUpperCase();
      debugEnvRegex = new RegExp("^" + debugEnv + "$", "i");
    }
    var debugEnv;
    exports.debuglog = function(set) {
      set = set.toUpperCase();
      if (!debugs[set]) {
        if (debugEnvRegex.test(set)) {
          var pid = process.pid;
          debugs[set] = function() {
            var msg = exports.format.apply(exports, arguments);
            console.error("%s %d: %s", set, pid, msg);
          };
        } else {
          debugs[set] = function() {
          };
        }
      }
      return debugs[set];
    };
    function inspect(obj, opts) {
      var ctx = {
        seen: [],
        stylize: stylizeNoColor
      };
      if (arguments.length >= 3)
        ctx.depth = arguments[2];
      if (arguments.length >= 4)
        ctx.colors = arguments[3];
      if (isBoolean(opts)) {
        ctx.showHidden = opts;
      } else if (opts) {
        exports._extend(ctx, opts);
      }
      if (isUndefined(ctx.showHidden))
        ctx.showHidden = false;
      if (isUndefined(ctx.depth))
        ctx.depth = 2;
      if (isUndefined(ctx.colors))
        ctx.colors = false;
      if (isUndefined(ctx.customInspect))
        ctx.customInspect = true;
      if (ctx.colors)
        ctx.stylize = stylizeWithColor;
      return formatValue(ctx, obj, ctx.depth);
    }
    exports.inspect = inspect;
    inspect.colors = {
      "bold": [1, 22],
      "italic": [3, 23],
      "underline": [4, 24],
      "inverse": [7, 27],
      "white": [37, 39],
      "grey": [90, 39],
      "black": [30, 39],
      "blue": [34, 39],
      "cyan": [36, 39],
      "green": [32, 39],
      "magenta": [35, 39],
      "red": [31, 39],
      "yellow": [33, 39]
    };
    inspect.styles = {
      "special": "cyan",
      "number": "yellow",
      "boolean": "yellow",
      "undefined": "grey",
      "null": "bold",
      "string": "green",
      "date": "magenta",
      // "name": intentionally not styling
      "regexp": "red"
    };
    function stylizeWithColor(str, styleType) {
      var style = inspect.styles[styleType];
      if (style) {
        return "\x1B[" + inspect.colors[style][0] + "m" + str + "\x1B[" + inspect.colors[style][1] + "m";
      } else {
        return str;
      }
    }
    function stylizeNoColor(str, styleType) {
      return str;
    }
    function arrayToHash(array) {
      var hash = {};
      array.forEach(function(val, idx) {
        hash[val] = true;
      });
      return hash;
    }
    function formatValue(ctx, value, recurseTimes) {
      if (ctx.customInspect && value && isFunction(value.inspect) && // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect && // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
        var ret = value.inspect(recurseTimes, ctx);
        if (!isString(ret)) {
          ret = formatValue(ctx, ret, recurseTimes);
        }
        return ret;
      }
      var primitive = formatPrimitive(ctx, value);
      if (primitive) {
        return primitive;
      }
      var keys = Object.keys(value);
      var visibleKeys = arrayToHash(keys);
      if (ctx.showHidden) {
        keys = Object.getOwnPropertyNames(value);
      }
      if (isError(value) && (keys.indexOf("message") >= 0 || keys.indexOf("description") >= 0)) {
        return formatError(value);
      }
      if (keys.length === 0) {
        if (isFunction(value)) {
          var name = value.name ? ": " + value.name : "";
          return ctx.stylize("[Function" + name + "]", "special");
        }
        if (isRegExp(value)) {
          return ctx.stylize(RegExp.prototype.toString.call(value), "regexp");
        }
        if (isDate(value)) {
          return ctx.stylize(Date.prototype.toString.call(value), "date");
        }
        if (isError(value)) {
          return formatError(value);
        }
      }
      var base = "", array = false, braces = ["{", "}"];
      if (isArray(value)) {
        array = true;
        braces = ["[", "]"];
      }
      if (isFunction(value)) {
        var n = value.name ? ": " + value.name : "";
        base = " [Function" + n + "]";
      }
      if (isRegExp(value)) {
        base = " " + RegExp.prototype.toString.call(value);
      }
      if (isDate(value)) {
        base = " " + Date.prototype.toUTCString.call(value);
      }
      if (isError(value)) {
        base = " " + formatError(value);
      }
      if (keys.length === 0 && (!array || value.length == 0)) {
        return braces[0] + base + braces[1];
      }
      if (recurseTimes < 0) {
        if (isRegExp(value)) {
          return ctx.stylize(RegExp.prototype.toString.call(value), "regexp");
        } else {
          return ctx.stylize("[Object]", "special");
        }
      }
      ctx.seen.push(value);
      var output;
      if (array) {
        output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
      } else {
        output = keys.map(function(key) {
          return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
        });
      }
      ctx.seen.pop();
      return reduceToSingleString(output, base, braces);
    }
    function formatPrimitive(ctx, value) {
      if (isUndefined(value))
        return ctx.stylize("undefined", "undefined");
      if (isString(value)) {
        var simple = "'" + JSON.stringify(value).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
        return ctx.stylize(simple, "string");
      }
      if (isNumber(value))
        return ctx.stylize("" + value, "number");
      if (isBoolean(value))
        return ctx.stylize("" + value, "boolean");
      if (isNull(value))
        return ctx.stylize("null", "null");
    }
    function formatError(value) {
      return "[" + Error.prototype.toString.call(value) + "]";
    }
    function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
      var output = [];
      for (var i = 0, l = value.length; i < l; ++i) {
        if (hasOwnProperty(value, String(i))) {
          output.push(formatProperty(
            ctx,
            value,
            recurseTimes,
            visibleKeys,
            String(i),
            true
          ));
        } else {
          output.push("");
        }
      }
      keys.forEach(function(key) {
        if (!key.match(/^\d+$/)) {
          output.push(formatProperty(
            ctx,
            value,
            recurseTimes,
            visibleKeys,
            key,
            true
          ));
        }
      });
      return output;
    }
    function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
      var name, str, desc;
      desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
      if (desc.get) {
        if (desc.set) {
          str = ctx.stylize("[Getter/Setter]", "special");
        } else {
          str = ctx.stylize("[Getter]", "special");
        }
      } else {
        if (desc.set) {
          str = ctx.stylize("[Setter]", "special");
        }
      }
      if (!hasOwnProperty(visibleKeys, key)) {
        name = "[" + key + "]";
      }
      if (!str) {
        if (ctx.seen.indexOf(desc.value) < 0) {
          if (isNull(recurseTimes)) {
            str = formatValue(ctx, desc.value, null);
          } else {
            str = formatValue(ctx, desc.value, recurseTimes - 1);
          }
          if (str.indexOf("\n") > -1) {
            if (array) {
              str = str.split("\n").map(function(line) {
                return "  " + line;
              }).join("\n").substr(2);
            } else {
              str = "\n" + str.split("\n").map(function(line) {
                return "   " + line;
              }).join("\n");
            }
          }
        } else {
          str = ctx.stylize("[Circular]", "special");
        }
      }
      if (isUndefined(name)) {
        if (array && key.match(/^\d+$/)) {
          return str;
        }
        name = JSON.stringify("" + key);
        if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
          name = name.substr(1, name.length - 2);
          name = ctx.stylize(name, "name");
        } else {
          name = name.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'");
          name = ctx.stylize(name, "string");
        }
      }
      return name + ": " + str;
    }
    function reduceToSingleString(output, base, braces) {
      var numLinesEst = 0;
      var length = output.reduce(function(prev, cur) {
        numLinesEst++;
        if (cur.indexOf("\n") >= 0)
          numLinesEst++;
        return prev + cur.replace(/\u001b\[\d\d?m/g, "").length + 1;
      }, 0);
      if (length > 60) {
        return braces[0] + (base === "" ? "" : base + "\n ") + " " + output.join(",\n  ") + " " + braces[1];
      }
      return braces[0] + base + " " + output.join(", ") + " " + braces[1];
    }
    exports.types = require_types();
    function isArray(ar) {
      return Array.isArray(ar);
    }
    exports.isArray = isArray;
    function isBoolean(arg) {
      return typeof arg === "boolean";
    }
    exports.isBoolean = isBoolean;
    function isNull(arg) {
      return arg === null;
    }
    exports.isNull = isNull;
    function isNullOrUndefined(arg) {
      return arg == null;
    }
    exports.isNullOrUndefined = isNullOrUndefined;
    function isNumber(arg) {
      return typeof arg === "number";
    }
    exports.isNumber = isNumber;
    function isString(arg) {
      return typeof arg === "string";
    }
    exports.isString = isString;
    function isSymbol(arg) {
      return typeof arg === "symbol";
    }
    exports.isSymbol = isSymbol;
    function isUndefined(arg) {
      return arg === void 0;
    }
    exports.isUndefined = isUndefined;
    function isRegExp(re) {
      return isObject(re) && objectToString(re) === "[object RegExp]";
    }
    exports.isRegExp = isRegExp;
    exports.types.isRegExp = isRegExp;
    function isObject(arg) {
      return typeof arg === "object" && arg !== null;
    }
    exports.isObject = isObject;
    function isDate(d) {
      return isObject(d) && objectToString(d) === "[object Date]";
    }
    exports.isDate = isDate;
    exports.types.isDate = isDate;
    function isError(e) {
      return isObject(e) && (objectToString(e) === "[object Error]" || e instanceof Error);
    }
    exports.isError = isError;
    exports.types.isNativeError = isError;
    function isFunction(arg) {
      return typeof arg === "function";
    }
    exports.isFunction = isFunction;
    function isPrimitive(arg) {
      return arg === null || typeof arg === "boolean" || typeof arg === "number" || typeof arg === "string" || typeof arg === "symbol" || // ES6 symbol
      typeof arg === "undefined";
    }
    exports.isPrimitive = isPrimitive;
    exports.isBuffer = require_isBufferBrowser();
    function objectToString(o) {
      return Object.prototype.toString.call(o);
    }
    function pad(n) {
      return n < 10 ? "0" + n.toString(10) : n.toString(10);
    }
    var months = [
      "Jan",
      "Feb",
      "Mar",
      "Apr",
      "May",
      "Jun",
      "Jul",
      "Aug",
      "Sep",
      "Oct",
      "Nov",
      "Dec"
    ];
    function timestamp() {
      var d = /* @__PURE__ */ new Date();
      var time = [
        pad(d.getHours()),
        pad(d.getMinutes()),
        pad(d.getSeconds())
      ].join(":");
      return [d.getDate(), months[d.getMonth()], time].join(" ");
    }
    exports.log = function() {
      console.log("%s - %s", timestamp(), exports.format.apply(exports, arguments));
    };
    exports.inherits = require_inherits_browser();
    exports._extend = function(origin, add) {
      if (!add || !isObject(add))
        return origin;
      var keys = Object.keys(add);
      var i = keys.length;
      while (i--) {
        origin[keys[i]] = add[keys[i]];
      }
      return origin;
    };
    function hasOwnProperty(obj, prop) {
      return Object.prototype.hasOwnProperty.call(obj, prop);
    }
    var kCustomPromisifiedSymbol = typeof Symbol !== "undefined" ? Symbol("util.promisify.custom") : void 0;
    exports.promisify = function promisify(original) {
      if (typeof original !== "function")
        throw new TypeError('The "original" argument must be of type Function');
      if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {
        var fn = original[kCustomPromisifiedSymbol];
        if (typeof fn !== "function") {
          throw new TypeError('The "util.promisify.custom" argument must be of type Function');
        }
        Object.defineProperty(fn, kCustomPromisifiedSymbol, {
          value: fn,
          enumerable: false,
          writable: false,
          configurable: true
        });
        return fn;
      }
      function fn() {
        var promiseResolve, promiseReject;
        var promise = new Promise(function(resolve, reject) {
          promiseResolve = resolve;
          promiseReject = reject;
        });
        var args = [];
        for (var i = 0; i < arguments.length; i++) {
          args.push(arguments[i]);
        }
        args.push(function(err2, value) {
          if (err2) {
            promiseReject(err2);
          } else {
            promiseResolve(value);
          }
        });
        try {
          original.apply(this, args);
        } catch (err2) {
          promiseReject(err2);
        }
        return promise;
      }
      Object.setPrototypeOf(fn, Object.getPrototypeOf(original));
      if (kCustomPromisifiedSymbol)
        Object.defineProperty(fn, kCustomPromisifiedSymbol, {
          value: fn,
          enumerable: false,
          writable: false,
          configurable: true
        });
      return Object.defineProperties(
        fn,
        getOwnPropertyDescriptors(original)
      );
    };
    exports.promisify.custom = kCustomPromisifiedSymbol;
    function callbackifyOnRejected(reason, cb) {
      if (!reason) {
        var newReason = new Error("Promise was rejected with a falsy value");
        newReason.reason = reason;
        reason = newReason;
      }
      return cb(reason);
    }
    function callbackify(original) {
      if (typeof original !== "function") {
        throw new TypeError('The "original" argument must be of type Function');
      }
      function callbackified() {
        var args = [];
        for (var i = 0; i < arguments.length; i++) {
          args.push(arguments[i]);
        }
        var maybeCb = args.pop();
        if (typeof maybeCb !== "function") {
          throw new TypeError("The last argument must be of type Function");
        }
        var self2 = this;
        var cb = function() {
          return maybeCb.apply(self2, arguments);
        };
        original.apply(this, args).then(
          function(ret) {
            process.nextTick(cb.bind(null, null, ret));
          },
          function(rej) {
            process.nextTick(callbackifyOnRejected.bind(null, rej, cb));
          }
        );
      }
      Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));
      Object.defineProperties(
        callbackified,
        getOwnPropertyDescriptors(original)
      );
      return callbackified;
    }
    exports.callbackify = callbackify;
  }
});

// node_modules/assert/build/internal/errors.js
var require_errors = __commonJS({
  "node_modules/assert/build/internal/errors.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function _typeof(obj) {
      if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof2(obj2) {
          return typeof obj2;
        };
      } else {
        _typeof = function _typeof2(obj2) {
          return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
        };
      }
      return _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    var codes = {};
    var assert4;
    var util;
    function createErrorType(code, message, Base) {
      if (!Base) {
        Base = Error;
      }
      function getMessage(arg1, arg2, arg3) {
        if (typeof message === "string") {
          return message;
        } else {
          return message(arg1, arg2, arg3);
        }
      }
      var NodeError = /* @__PURE__ */ function(_Base) {
        _inherits(NodeError2, _Base);
        function NodeError2(arg1, arg2, arg3) {
          var _this;
          _classCallCheck(this, NodeError2);
          _this = _possibleConstructorReturn(this, _getPrototypeOf(NodeError2).call(this, getMessage(arg1, arg2, arg3)));
          _this.code = code;
          return _this;
        }
        return NodeError2;
      }(Base);
      codes[code] = NodeError;
    }
    function oneOf(expected, thing) {
      if (Array.isArray(expected)) {
        var len = expected.length;
        expected = expected.map(function(i) {
          return String(i);
        });
        if (len > 2) {
          return "one of ".concat(thing, " ").concat(expected.slice(0, len - 1).join(", "), ", or ") + expected[len - 1];
        } else if (len === 2) {
          return "one of ".concat(thing, " ").concat(expected[0], " or ").concat(expected[1]);
        } else {
          return "of ".concat(thing, " ").concat(expected[0]);
        }
      } else {
        return "of ".concat(thing, " ").concat(String(expected));
      }
    }
    function startsWith(str, search, pos) {
      return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
    }
    function endsWith(str, search, this_len) {
      if (this_len === void 0 || this_len > str.length) {
        this_len = str.length;
      }
      return str.substring(this_len - search.length, this_len) === search;
    }
    function includes(str, search, start) {
      if (typeof start !== "number") {
        start = 0;
      }
      if (start + search.length > str.length) {
        return false;
      } else {
        return str.indexOf(search, start) !== -1;
      }
    }
    createErrorType("ERR_AMBIGUOUS_ARGUMENT", 'The "%s" argument is ambiguous. %s', TypeError);
    createErrorType("ERR_INVALID_ARG_TYPE", function(name, expected, actual) {
      if (assert4 === void 0)
        assert4 = require_assert();
      assert4(typeof name === "string", "'name' must be a string");
      var determiner;
      if (typeof expected === "string" && startsWith(expected, "not ")) {
        determiner = "must not be";
        expected = expected.replace(/^not /, "");
      } else {
        determiner = "must be";
      }
      var msg;
      if (endsWith(name, " argument")) {
        msg = "The ".concat(name, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
      } else {
        var type = includes(name, ".") ? "property" : "argument";
        msg = 'The "'.concat(name, '" ').concat(type, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
      }
      msg += ". Received type ".concat(_typeof(actual));
      return msg;
    }, TypeError);
    createErrorType("ERR_INVALID_ARG_VALUE", function(name, value) {
      var reason = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "is invalid";
      if (util === void 0)
        util = require_util();
      var inspected = util.inspect(value);
      if (inspected.length > 128) {
        inspected = "".concat(inspected.slice(0, 128), "...");
      }
      return "The argument '".concat(name, "' ").concat(reason, ". Received ").concat(inspected);
    }, TypeError, RangeError);
    createErrorType("ERR_INVALID_RETURN_VALUE", function(input, name, value) {
      var type;
      if (value && value.constructor && value.constructor.name) {
        type = "instance of ".concat(value.constructor.name);
      } else {
        type = "type ".concat(_typeof(value));
      }
      return "Expected ".concat(input, ' to be returned from the "').concat(name, '"') + " function but got ".concat(type, ".");
    }, TypeError);
    createErrorType("ERR_MISSING_ARGS", function() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      if (assert4 === void 0)
        assert4 = require_assert();
      assert4(args.length > 0, "At least one arg needs to be specified");
      var msg = "The ";
      var len = args.length;
      args = args.map(function(a) {
        return '"'.concat(a, '"');
      });
      switch (len) {
        case 1:
          msg += "".concat(args[0], " argument");
          break;
        case 2:
          msg += "".concat(args[0], " and ").concat(args[1], " arguments");
          break;
        default:
          msg += args.slice(0, len - 1).join(", ");
          msg += ", and ".concat(args[len - 1], " arguments");
          break;
      }
      return "".concat(msg, " must be specified");
    }, TypeError);
    module.exports.codes = codes;
  }
});

// node_modules/assert/build/internal/assert/assertion_error.js
var require_assertion_error = __commonJS({
  "node_modules/assert/build/internal/assert/assertion_error.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function _objectSpread(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        var ownKeys = Object.keys(source);
        if (typeof Object.getOwnPropertySymbols === "function") {
          ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {
            return Object.getOwnPropertyDescriptor(source, sym).enumerable;
          }));
        }
        ownKeys.forEach(function(key) {
          _defineProperty(target, key, source[key]);
        });
      }
      return target;
    }
    function _defineProperty(obj, key, value) {
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      return Constructor;
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (_typeof(call) === "object" || typeof call === "function")) {
        return call;
      }
      return _assertThisInitialized(self2);
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _wrapNativeSuper(Class) {
      var _cache = typeof Map === "function" ? /* @__PURE__ */ new Map() : void 0;
      _wrapNativeSuper = function _wrapNativeSuper2(Class2) {
        if (Class2 === null || !_isNativeFunction(Class2))
          return Class2;
        if (typeof Class2 !== "function") {
          throw new TypeError("Super expression must either be null or a function");
        }
        if (typeof _cache !== "undefined") {
          if (_cache.has(Class2))
            return _cache.get(Class2);
          _cache.set(Class2, Wrapper);
        }
        function Wrapper() {
          return _construct(Class2, arguments, _getPrototypeOf(this).constructor);
        }
        Wrapper.prototype = Object.create(Class2.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } });
        return _setPrototypeOf(Wrapper, Class2);
      };
      return _wrapNativeSuper(Class);
    }
    function isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Date.prototype.toString.call(Reflect.construct(Date, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _construct(Parent, args, Class) {
      if (isNativeReflectConstruct()) {
        _construct = Reflect.construct;
      } else {
        _construct = function _construct2(Parent2, args2, Class2) {
          var a = [null];
          a.push.apply(a, args2);
          var Constructor = Function.bind.apply(Parent2, a);
          var instance = new Constructor();
          if (Class2)
            _setPrototypeOf(instance, Class2.prototype);
          return instance;
        };
      }
      return _construct.apply(null, arguments);
    }
    function _isNativeFunction(fn) {
      return Function.toString.call(fn).indexOf("[native code]") !== -1;
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    function _typeof(obj) {
      if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof2(obj2) {
          return typeof obj2;
        };
      } else {
        _typeof = function _typeof2(obj2) {
          return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
        };
      }
      return _typeof(obj);
    }
    var _require = require_util();
    var inspect = _require.inspect;
    var _require2 = require_errors();
    var ERR_INVALID_ARG_TYPE = _require2.codes.ERR_INVALID_ARG_TYPE;
    function endsWith(str, search, this_len) {
      if (this_len === void 0 || this_len > str.length) {
        this_len = str.length;
      }
      return str.substring(this_len - search.length, this_len) === search;
    }
    function repeat(str, count) {
      count = Math.floor(count);
      if (str.length == 0 || count == 0)
        return "";
      var maxCount = str.length * count;
      count = Math.floor(Math.log(count) / Math.log(2));
      while (count) {
        str += str;
        count--;
      }
      str += str.substring(0, maxCount - str.length);
      return str;
    }
    var blue = "";
    var green = "";
    var red = "";
    var white = "";
    var kReadableOperator = {
      deepStrictEqual: "Expected values to be strictly deep-equal:",
      strictEqual: "Expected values to be strictly equal:",
      strictEqualObject: 'Expected "actual" to be reference-equal to "expected":',
      deepEqual: "Expected values to be loosely deep-equal:",
      equal: "Expected values to be loosely equal:",
      notDeepStrictEqual: 'Expected "actual" not to be strictly deep-equal to:',
      notStrictEqual: 'Expected "actual" to be strictly unequal to:',
      notStrictEqualObject: 'Expected "actual" not to be reference-equal to "expected":',
      notDeepEqual: 'Expected "actual" not to be loosely deep-equal to:',
      notEqual: 'Expected "actual" to be loosely unequal to:',
      notIdentical: "Values identical but not reference-equal:"
    };
    var kMaxShortLength = 10;
    function copyError(source) {
      var keys = Object.keys(source);
      var target = Object.create(Object.getPrototypeOf(source));
      keys.forEach(function(key) {
        target[key] = source[key];
      });
      Object.defineProperty(target, "message", {
        value: source.message
      });
      return target;
    }
    function inspectValue(val) {
      return inspect(val, {
        compact: false,
        customInspect: false,
        depth: 1e3,
        maxArrayLength: Infinity,
        // Assert compares only enumerable properties (with a few exceptions).
        showHidden: false,
        // Having a long line as error is better than wrapping the line for
        // comparison for now.
        // TODO(BridgeAR): `breakLength` should be limited as soon as soon as we
        // have meta information about the inspected properties (i.e., know where
        // in what line the property starts and ends).
        breakLength: Infinity,
        // Assert does not detect proxies currently.
        showProxy: false,
        sorted: true,
        // Inspect getters as we also check them when comparing entries.
        getters: true
      });
    }
    function createErrDiff(actual, expected, operator) {
      var other = "";
      var res = "";
      var lastPos = 0;
      var end = "";
      var skipped = false;
      var actualInspected = inspectValue(actual);
      var actualLines = actualInspected.split("\n");
      var expectedLines = inspectValue(expected).split("\n");
      var i = 0;
      var indicator = "";
      if (operator === "strictEqual" && _typeof(actual) === "object" && _typeof(expected) === "object" && actual !== null && expected !== null) {
        operator = "strictEqualObject";
      }
      if (actualLines.length === 1 && expectedLines.length === 1 && actualLines[0] !== expectedLines[0]) {
        var inputLength = actualLines[0].length + expectedLines[0].length;
        if (inputLength <= kMaxShortLength) {
          if ((_typeof(actual) !== "object" || actual === null) && (_typeof(expected) !== "object" || expected === null) && (actual !== 0 || expected !== 0)) {
            return "".concat(kReadableOperator[operator], "\n\n") + "".concat(actualLines[0], " !== ").concat(expectedLines[0], "\n");
          }
        } else if (operator !== "strictEqualObject") {
          var maxLength = process.stderr && process.stderr.isTTY ? process.stderr.columns : 80;
          if (inputLength < maxLength) {
            while (actualLines[0][i] === expectedLines[0][i]) {
              i++;
            }
            if (i > 2) {
              indicator = "\n  ".concat(repeat(" ", i), "^");
              i = 0;
            }
          }
        }
      }
      var a = actualLines[actualLines.length - 1];
      var b = expectedLines[expectedLines.length - 1];
      while (a === b) {
        if (i++ < 2) {
          end = "\n  ".concat(a).concat(end);
        } else {
          other = a;
        }
        actualLines.pop();
        expectedLines.pop();
        if (actualLines.length === 0 || expectedLines.length === 0)
          break;
        a = actualLines[actualLines.length - 1];
        b = expectedLines[expectedLines.length - 1];
      }
      var maxLines = Math.max(actualLines.length, expectedLines.length);
      if (maxLines === 0) {
        var _actualLines = actualInspected.split("\n");
        if (_actualLines.length > 30) {
          _actualLines[26] = "".concat(blue, "...").concat(white);
          while (_actualLines.length > 27) {
            _actualLines.pop();
          }
        }
        return "".concat(kReadableOperator.notIdentical, "\n\n").concat(_actualLines.join("\n"), "\n");
      }
      if (i > 3) {
        end = "\n".concat(blue, "...").concat(white).concat(end);
        skipped = true;
      }
      if (other !== "") {
        end = "\n  ".concat(other).concat(end);
        other = "";
      }
      var printedLines = 0;
      var msg = kReadableOperator[operator] + "\n".concat(green, "+ actual").concat(white, " ").concat(red, "- expected").concat(white);
      var skippedMsg = " ".concat(blue, "...").concat(white, " Lines skipped");
      for (i = 0; i < maxLines; i++) {
        var cur = i - lastPos;
        if (actualLines.length < i + 1) {
          if (cur > 1 && i > 2) {
            if (cur > 4) {
              res += "\n".concat(blue, "...").concat(white);
              skipped = true;
            } else if (cur > 3) {
              res += "\n  ".concat(expectedLines[i - 2]);
              printedLines++;
            }
            res += "\n  ".concat(expectedLines[i - 1]);
            printedLines++;
          }
          lastPos = i;
          other += "\n".concat(red, "-").concat(white, " ").concat(expectedLines[i]);
          printedLines++;
        } else if (expectedLines.length < i + 1) {
          if (cur > 1 && i > 2) {
            if (cur > 4) {
              res += "\n".concat(blue, "...").concat(white);
              skipped = true;
            } else if (cur > 3) {
              res += "\n  ".concat(actualLines[i - 2]);
              printedLines++;
            }
            res += "\n  ".concat(actualLines[i - 1]);
            printedLines++;
          }
          lastPos = i;
          res += "\n".concat(green, "+").concat(white, " ").concat(actualLines[i]);
          printedLines++;
        } else {
          var expectedLine = expectedLines[i];
          var actualLine = actualLines[i];
          var divergingLines = actualLine !== expectedLine && (!endsWith(actualLine, ",") || actualLine.slice(0, -1) !== expectedLine);
          if (divergingLines && endsWith(expectedLine, ",") && expectedLine.slice(0, -1) === actualLine) {
            divergingLines = false;
            actualLine += ",";
          }
          if (divergingLines) {
            if (cur > 1 && i > 2) {
              if (cur > 4) {
                res += "\n".concat(blue, "...").concat(white);
                skipped = true;
              } else if (cur > 3) {
                res += "\n  ".concat(actualLines[i - 2]);
                printedLines++;
              }
              res += "\n  ".concat(actualLines[i - 1]);
              printedLines++;
            }
            lastPos = i;
            res += "\n".concat(green, "+").concat(white, " ").concat(actualLine);
            other += "\n".concat(red, "-").concat(white, " ").concat(expectedLine);
            printedLines += 2;
          } else {
            res += other;
            other = "";
            if (cur === 1 || i === 0) {
              res += "\n  ".concat(actualLine);
              printedLines++;
            }
          }
        }
        if (printedLines > 20 && i < maxLines - 2) {
          return "".concat(msg).concat(skippedMsg, "\n").concat(res, "\n").concat(blue, "...").concat(white).concat(other, "\n") + "".concat(blue, "...").concat(white);
        }
      }
      return "".concat(msg).concat(skipped ? skippedMsg : "", "\n").concat(res).concat(other).concat(end).concat(indicator);
    }
    var AssertionError = /* @__PURE__ */ function(_Error) {
      _inherits(AssertionError2, _Error);
      function AssertionError2(options) {
        var _this;
        _classCallCheck(this, AssertionError2);
        if (_typeof(options) !== "object" || options === null) {
          throw new ERR_INVALID_ARG_TYPE("options", "Object", options);
        }
        var message = options.message, operator = options.operator, stackStartFn = options.stackStartFn;
        var actual = options.actual, expected = options.expected;
        var limit = Error.stackTraceLimit;
        Error.stackTraceLimit = 0;
        if (message != null) {
          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError2).call(this, String(message)));
        } else {
          if (process.stderr && process.stderr.isTTY) {
            if (process.stderr && process.stderr.getColorDepth && process.stderr.getColorDepth() !== 1) {
              blue = "\x1B[34m";
              green = "\x1B[32m";
              white = "\x1B[39m";
              red = "\x1B[31m";
            } else {
              blue = "";
              green = "";
              white = "";
              red = "";
            }
          }
          if (_typeof(actual) === "object" && actual !== null && _typeof(expected) === "object" && expected !== null && "stack" in actual && actual instanceof Error && "stack" in expected && expected instanceof Error) {
            actual = copyError(actual);
            expected = copyError(expected);
          }
          if (operator === "deepStrictEqual" || operator === "strictEqual") {
            _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError2).call(this, createErrDiff(actual, expected, operator)));
          } else if (operator === "notDeepStrictEqual" || operator === "notStrictEqual") {
            var base = kReadableOperator[operator];
            var res = inspectValue(actual).split("\n");
            if (operator === "notStrictEqual" && _typeof(actual) === "object" && actual !== null) {
              base = kReadableOperator.notStrictEqualObject;
            }
            if (res.length > 30) {
              res[26] = "".concat(blue, "...").concat(white);
              while (res.length > 27) {
                res.pop();
              }
            }
            if (res.length === 1) {
              _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError2).call(this, "".concat(base, " ").concat(res[0])));
            } else {
              _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError2).call(this, "".concat(base, "\n\n").concat(res.join("\n"), "\n")));
            }
          } else {
            var _res = inspectValue(actual);
            var other = "";
            var knownOperators = kReadableOperator[operator];
            if (operator === "notDeepEqual" || operator === "notEqual") {
              _res = "".concat(kReadableOperator[operator], "\n\n").concat(_res);
              if (_res.length > 1024) {
                _res = "".concat(_res.slice(0, 1021), "...");
              }
            } else {
              other = "".concat(inspectValue(expected));
              if (_res.length > 512) {
                _res = "".concat(_res.slice(0, 509), "...");
              }
              if (other.length > 512) {
                other = "".concat(other.slice(0, 509), "...");
              }
              if (operator === "deepEqual" || operator === "equal") {
                _res = "".concat(knownOperators, "\n\n").concat(_res, "\n\nshould equal\n\n");
              } else {
                other = " ".concat(operator, " ").concat(other);
              }
            }
            _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError2).call(this, "".concat(_res).concat(other)));
          }
        }
        Error.stackTraceLimit = limit;
        _this.generatedMessage = !message;
        Object.defineProperty(_assertThisInitialized(_this), "name", {
          value: "AssertionError [ERR_ASSERTION]",
          enumerable: false,
          writable: true,
          configurable: true
        });
        _this.code = "ERR_ASSERTION";
        _this.actual = actual;
        _this.expected = expected;
        _this.operator = operator;
        if (Error.captureStackTrace) {
          Error.captureStackTrace(_assertThisInitialized(_this), stackStartFn);
        }
        _this.stack;
        _this.name = "AssertionError";
        return _possibleConstructorReturn(_this);
      }
      _createClass(AssertionError2, [{
        key: "toString",
        value: function toString() {
          return "".concat(this.name, " [").concat(this.code, "]: ").concat(this.message);
        }
      }, {
        key: inspect.custom,
        value: function value(recurseTimes, ctx) {
          return inspect(this, _objectSpread({}, ctx, {
            customInspect: false,
            depth: 0
          }));
        }
      }]);
      return AssertionError2;
    }(_wrapNativeSuper(Error));
    module.exports = AssertionError;
  }
});

// node_modules/es6-object-assign/index.js
var require_es6_object_assign = __commonJS({
  "node_modules/es6-object-assign/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function assign(target, firstSource) {
      if (target === void 0 || target === null) {
        throw new TypeError("Cannot convert first argument to object");
      }
      var to = Object(target);
      for (var i = 1; i < arguments.length; i++) {
        var nextSource = arguments[i];
        if (nextSource === void 0 || nextSource === null) {
          continue;
        }
        var keysArray = Object.keys(Object(nextSource));
        for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {
          var nextKey = keysArray[nextIndex];
          var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);
          if (desc !== void 0 && desc.enumerable) {
            to[nextKey] = nextSource[nextKey];
          }
        }
      }
      return to;
    }
    function polyfill() {
      if (!Object.assign) {
        Object.defineProperty(Object, "assign", {
          enumerable: false,
          configurable: true,
          writable: true,
          value: assign
        });
      }
    }
    module.exports = {
      assign,
      polyfill
    };
  }
});

// node_modules/object-keys/isArguments.js
var require_isArguments = __commonJS({
  "node_modules/object-keys/isArguments.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var toStr = Object.prototype.toString;
    module.exports = function isArguments(value) {
      var str = toStr.call(value);
      var isArgs = str === "[object Arguments]";
      if (!isArgs) {
        isArgs = str !== "[object Array]" && value !== null && typeof value === "object" && typeof value.length === "number" && value.length >= 0 && toStr.call(value.callee) === "[object Function]";
      }
      return isArgs;
    };
  }
});

// node_modules/object-keys/implementation.js
var require_implementation2 = __commonJS({
  "node_modules/object-keys/implementation.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var keysShim;
    if (!Object.keys) {
      has = Object.prototype.hasOwnProperty;
      toStr = Object.prototype.toString;
      isArgs = require_isArguments();
      isEnumerable = Object.prototype.propertyIsEnumerable;
      hasDontEnumBug = !isEnumerable.call({ toString: null }, "toString");
      hasProtoEnumBug = isEnumerable.call(function() {
      }, "prototype");
      dontEnums = [
        "toString",
        "toLocaleString",
        "valueOf",
        "hasOwnProperty",
        "isPrototypeOf",
        "propertyIsEnumerable",
        "constructor"
      ];
      equalsConstructorPrototype = function(o) {
        var ctor = o.constructor;
        return ctor && ctor.prototype === o;
      };
      excludedKeys = {
        $applicationCache: true,
        $console: true,
        $external: true,
        $frame: true,
        $frameElement: true,
        $frames: true,
        $innerHeight: true,
        $innerWidth: true,
        $onmozfullscreenchange: true,
        $onmozfullscreenerror: true,
        $outerHeight: true,
        $outerWidth: true,
        $pageXOffset: true,
        $pageYOffset: true,
        $parent: true,
        $scrollLeft: true,
        $scrollTop: true,
        $scrollX: true,
        $scrollY: true,
        $self: true,
        $webkitIndexedDB: true,
        $webkitStorageInfo: true,
        $window: true
      };
      hasAutomationEqualityBug = function() {
        if (typeof window === "undefined") {
          return false;
        }
        for (var k in window) {
          try {
            if (!excludedKeys["$" + k] && has.call(window, k) && window[k] !== null && typeof window[k] === "object") {
              try {
                equalsConstructorPrototype(window[k]);
              } catch (e) {
                return true;
              }
            }
          } catch (e) {
            return true;
          }
        }
        return false;
      }();
      equalsConstructorPrototypeIfNotBuggy = function(o) {
        if (typeof window === "undefined" || !hasAutomationEqualityBug) {
          return equalsConstructorPrototype(o);
        }
        try {
          return equalsConstructorPrototype(o);
        } catch (e) {
          return false;
        }
      };
      keysShim = function keys(object) {
        var isObject = object !== null && typeof object === "object";
        var isFunction = toStr.call(object) === "[object Function]";
        var isArguments = isArgs(object);
        var isString = isObject && toStr.call(object) === "[object String]";
        var theKeys = [];
        if (!isObject && !isFunction && !isArguments) {
          throw new TypeError("Object.keys called on a non-object");
        }
        var skipProto = hasProtoEnumBug && isFunction;
        if (isString && object.length > 0 && !has.call(object, 0)) {
          for (var i = 0; i < object.length; ++i) {
            theKeys.push(String(i));
          }
        }
        if (isArguments && object.length > 0) {
          for (var j = 0; j < object.length; ++j) {
            theKeys.push(String(j));
          }
        } else {
          for (var name in object) {
            if (!(skipProto && name === "prototype") && has.call(object, name)) {
              theKeys.push(String(name));
            }
          }
        }
        if (hasDontEnumBug) {
          var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);
          for (var k = 0; k < dontEnums.length; ++k) {
            if (!(skipConstructor && dontEnums[k] === "constructor") && has.call(object, dontEnums[k])) {
              theKeys.push(dontEnums[k]);
            }
          }
        }
        return theKeys;
      };
    }
    var has;
    var toStr;
    var isArgs;
    var isEnumerable;
    var hasDontEnumBug;
    var hasProtoEnumBug;
    var dontEnums;
    var equalsConstructorPrototype;
    var excludedKeys;
    var hasAutomationEqualityBug;
    var equalsConstructorPrototypeIfNotBuggy;
    module.exports = keysShim;
  }
});

// node_modules/object-keys/index.js
var require_object_keys = __commonJS({
  "node_modules/object-keys/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var slice = Array.prototype.slice;
    var isArgs = require_isArguments();
    var origKeys = Object.keys;
    var keysShim = origKeys ? function keys(o) {
      return origKeys(o);
    } : require_implementation2();
    var originalKeys = Object.keys;
    keysShim.shim = function shimObjectKeys() {
      if (Object.keys) {
        var keysWorksWithArguments = function() {
          var args = Object.keys(arguments);
          return args && args.length === arguments.length;
        }(1, 2);
        if (!keysWorksWithArguments) {
          Object.keys = function keys(object) {
            if (isArgs(object)) {
              return originalKeys(slice.call(object));
            }
            return originalKeys(object);
          };
        }
      } else {
        Object.keys = keysShim;
      }
      return Object.keys || keysShim;
    };
    module.exports = keysShim;
  }
});

// node_modules/define-properties/index.js
var require_define_properties = __commonJS({
  "node_modules/define-properties/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var keys = require_object_keys();
    var hasSymbols = typeof Symbol === "function" && typeof Symbol("foo") === "symbol";
    var toStr = Object.prototype.toString;
    var concat = Array.prototype.concat;
    var origDefineProperty = Object.defineProperty;
    var isFunction = function(fn) {
      return typeof fn === "function" && toStr.call(fn) === "[object Function]";
    };
    var arePropertyDescriptorsSupported = function() {
      var obj = {};
      try {
        origDefineProperty(obj, "x", { enumerable: false, value: obj });
        for (var _ in obj) {
          return false;
        }
        return obj.x === obj;
      } catch (e) {
        return false;
      }
    };
    var supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();
    var defineProperty = function(object, name, value, predicate) {
      if (name in object && (!isFunction(predicate) || !predicate())) {
        return;
      }
      if (supportsDescriptors) {
        origDefineProperty(object, name, {
          configurable: true,
          enumerable: false,
          value,
          writable: true
        });
      } else {
        object[name] = value;
      }
    };
    var defineProperties = function(object, map) {
      var predicates = arguments.length > 2 ? arguments[2] : {};
      var props = keys(map);
      if (hasSymbols) {
        props = concat.call(props, Object.getOwnPropertySymbols(map));
      }
      for (var i = 0; i < props.length; i += 1) {
        defineProperty(object, props[i], map[props[i]], predicates[props[i]]);
      }
    };
    defineProperties.supportsDescriptors = !!supportsDescriptors;
    module.exports = defineProperties;
  }
});

// node_modules/object-is/implementation.js
var require_implementation3 = __commonJS({
  "node_modules/object-is/implementation.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var numberIsNaN = function(value) {
      return value !== value;
    };
    module.exports = function is(a, b) {
      if (a === 0 && b === 0) {
        return 1 / a === 1 / b;
      }
      if (a === b) {
        return true;
      }
      if (numberIsNaN(a) && numberIsNaN(b)) {
        return true;
      }
      return false;
    };
  }
});

// node_modules/object-is/polyfill.js
var require_polyfill = __commonJS({
  "node_modules/object-is/polyfill.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var implementation = require_implementation3();
    module.exports = function getPolyfill() {
      return typeof Object.is === "function" ? Object.is : implementation;
    };
  }
});

// node_modules/object-is/shim.js
var require_shim = __commonJS({
  "node_modules/object-is/shim.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var getPolyfill = require_polyfill();
    var define = require_define_properties();
    module.exports = function shimObjectIs() {
      var polyfill = getPolyfill();
      define(Object, { is: polyfill }, {
        is: function testObjectIs() {
          return Object.is !== polyfill;
        }
      });
      return polyfill;
    };
  }
});

// node_modules/object-is/index.js
var require_object_is = __commonJS({
  "node_modules/object-is/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var define = require_define_properties();
    var callBind = require_call_bind();
    var implementation = require_implementation3();
    var getPolyfill = require_polyfill();
    var shim = require_shim();
    var polyfill = callBind(getPolyfill(), Object);
    define(polyfill, {
      getPolyfill,
      implementation,
      shim
    });
    module.exports = polyfill;
  }
});

// node_modules/is-nan/implementation.js
var require_implementation4 = __commonJS({
  "node_modules/is-nan/implementation.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    module.exports = function isNaN2(value) {
      return value !== value;
    };
  }
});

// node_modules/is-nan/polyfill.js
var require_polyfill2 = __commonJS({
  "node_modules/is-nan/polyfill.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var implementation = require_implementation4();
    module.exports = function getPolyfill() {
      if (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN("a")) {
        return Number.isNaN;
      }
      return implementation;
    };
  }
});

// node_modules/is-nan/shim.js
var require_shim2 = __commonJS({
  "node_modules/is-nan/shim.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var define = require_define_properties();
    var getPolyfill = require_polyfill2();
    module.exports = function shimNumberIsNaN() {
      var polyfill = getPolyfill();
      define(Number, { isNaN: polyfill }, {
        isNaN: function testIsNaN() {
          return Number.isNaN !== polyfill;
        }
      });
      return polyfill;
    };
  }
});

// node_modules/is-nan/index.js
var require_is_nan = __commonJS({
  "node_modules/is-nan/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var callBind = require_call_bind();
    var define = require_define_properties();
    var implementation = require_implementation4();
    var getPolyfill = require_polyfill2();
    var shim = require_shim2();
    var polyfill = callBind(getPolyfill(), Number);
    define(polyfill, {
      getPolyfill,
      implementation,
      shim
    });
    module.exports = polyfill;
  }
});

// node_modules/assert/build/internal/util/comparisons.js
var require_comparisons = __commonJS({
  "node_modules/assert/build/internal/util/comparisons.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function _slicedToArray(arr, i) {
      return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();
    }
    function _nonIterableRest() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
    function _iterableToArrayLimit(arr, i) {
      var _arr = [];
      var _n = true;
      var _d = false;
      var _e = void 0;
      try {
        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);
          if (i && _arr.length === i)
            break;
        }
      } catch (err2) {
        _d = true;
        _e = err2;
      } finally {
        try {
          if (!_n && _i["return"] != null)
            _i["return"]();
        } finally {
          if (_d)
            throw _e;
        }
      }
      return _arr;
    }
    function _arrayWithHoles(arr) {
      if (Array.isArray(arr))
        return arr;
    }
    function _typeof(obj) {
      if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof2(obj2) {
          return typeof obj2;
        };
      } else {
        _typeof = function _typeof2(obj2) {
          return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
        };
      }
      return _typeof(obj);
    }
    var regexFlagsSupported = /a/g.flags !== void 0;
    var arrayFromSet = function arrayFromSet2(set) {
      var array = [];
      set.forEach(function(value) {
        return array.push(value);
      });
      return array;
    };
    var arrayFromMap = function arrayFromMap2(map) {
      var array = [];
      map.forEach(function(value, key) {
        return array.push([key, value]);
      });
      return array;
    };
    var objectIs = Object.is ? Object.is : require_object_is();
    var objectGetOwnPropertySymbols = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols : function() {
      return [];
    };
    var numberIsNaN = Number.isNaN ? Number.isNaN : require_is_nan();
    function uncurryThis(f) {
      return f.call.bind(f);
    }
    var hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);
    var propertyIsEnumerable = uncurryThis(Object.prototype.propertyIsEnumerable);
    var objectToString = uncurryThis(Object.prototype.toString);
    var _require$types = require_util().types;
    var isAnyArrayBuffer = _require$types.isAnyArrayBuffer;
    var isArrayBufferView = _require$types.isArrayBufferView;
    var isDate = _require$types.isDate;
    var isMap = _require$types.isMap;
    var isRegExp = _require$types.isRegExp;
    var isSet = _require$types.isSet;
    var isNativeError = _require$types.isNativeError;
    var isBoxedPrimitive = _require$types.isBoxedPrimitive;
    var isNumberObject = _require$types.isNumberObject;
    var isStringObject = _require$types.isStringObject;
    var isBooleanObject = _require$types.isBooleanObject;
    var isBigIntObject = _require$types.isBigIntObject;
    var isSymbolObject = _require$types.isSymbolObject;
    var isFloat32Array = _require$types.isFloat32Array;
    var isFloat64Array = _require$types.isFloat64Array;
    function isNonIndex(key) {
      if (key.length === 0 || key.length > 10)
        return true;
      for (var i = 0; i < key.length; i++) {
        var code = key.charCodeAt(i);
        if (code < 48 || code > 57)
          return true;
      }
      return key.length === 10 && key >= Math.pow(2, 32);
    }
    function getOwnNonIndexProperties(value) {
      return Object.keys(value).filter(isNonIndex).concat(objectGetOwnPropertySymbols(value).filter(Object.prototype.propertyIsEnumerable.bind(value)));
    }
    function compare(a, b) {
      if (a === b) {
        return 0;
      }
      var x = a.length;
      var y = b.length;
      for (var i = 0, len = Math.min(x, y); i < len; ++i) {
        if (a[i] !== b[i]) {
          x = a[i];
          y = b[i];
          break;
        }
      }
      if (x < y) {
        return -1;
      }
      if (y < x) {
        return 1;
      }
      return 0;
    }
    var ONLY_ENUMERABLE = void 0;
    var kStrict = true;
    var kLoose = false;
    var kNoIterator = 0;
    var kIsArray = 1;
    var kIsSet = 2;
    var kIsMap = 3;
    function areSimilarRegExps(a, b) {
      return regexFlagsSupported ? a.source === b.source && a.flags === b.flags : RegExp.prototype.toString.call(a) === RegExp.prototype.toString.call(b);
    }
    function areSimilarFloatArrays(a, b) {
      if (a.byteLength !== b.byteLength) {
        return false;
      }
      for (var offset = 0; offset < a.byteLength; offset++) {
        if (a[offset] !== b[offset]) {
          return false;
        }
      }
      return true;
    }
    function areSimilarTypedArrays(a, b) {
      if (a.byteLength !== b.byteLength) {
        return false;
      }
      return compare(new Uint8Array(a.buffer, a.byteOffset, a.byteLength), new Uint8Array(b.buffer, b.byteOffset, b.byteLength)) === 0;
    }
    function areEqualArrayBuffers(buf1, buf2) {
      return buf1.byteLength === buf2.byteLength && compare(new Uint8Array(buf1), new Uint8Array(buf2)) === 0;
    }
    function isEqualBoxedPrimitive(val1, val2) {
      if (isNumberObject(val1)) {
        return isNumberObject(val2) && objectIs(Number.prototype.valueOf.call(val1), Number.prototype.valueOf.call(val2));
      }
      if (isStringObject(val1)) {
        return isStringObject(val2) && String.prototype.valueOf.call(val1) === String.prototype.valueOf.call(val2);
      }
      if (isBooleanObject(val1)) {
        return isBooleanObject(val2) && Boolean.prototype.valueOf.call(val1) === Boolean.prototype.valueOf.call(val2);
      }
      if (isBigIntObject(val1)) {
        return isBigIntObject(val2) && BigInt.prototype.valueOf.call(val1) === BigInt.prototype.valueOf.call(val2);
      }
      return isSymbolObject(val2) && Symbol.prototype.valueOf.call(val1) === Symbol.prototype.valueOf.call(val2);
    }
    function innerDeepEqual(val1, val2, strict, memos) {
      if (val1 === val2) {
        if (val1 !== 0)
          return true;
        return strict ? objectIs(val1, val2) : true;
      }
      if (strict) {
        if (_typeof(val1) !== "object") {
          return typeof val1 === "number" && numberIsNaN(val1) && numberIsNaN(val2);
        }
        if (_typeof(val2) !== "object" || val1 === null || val2 === null) {
          return false;
        }
        if (Object.getPrototypeOf(val1) !== Object.getPrototypeOf(val2)) {
          return false;
        }
      } else {
        if (val1 === null || _typeof(val1) !== "object") {
          if (val2 === null || _typeof(val2) !== "object") {
            return val1 == val2;
          }
          return false;
        }
        if (val2 === null || _typeof(val2) !== "object") {
          return false;
        }
      }
      var val1Tag = objectToString(val1);
      var val2Tag = objectToString(val2);
      if (val1Tag !== val2Tag) {
        return false;
      }
      if (Array.isArray(val1)) {
        if (val1.length !== val2.length) {
          return false;
        }
        var keys1 = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);
        var keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);
        if (keys1.length !== keys2.length) {
          return false;
        }
        return keyCheck(val1, val2, strict, memos, kIsArray, keys1);
      }
      if (val1Tag === "[object Object]") {
        if (!isMap(val1) && isMap(val2) || !isSet(val1) && isSet(val2)) {
          return false;
        }
      }
      if (isDate(val1)) {
        if (!isDate(val2) || Date.prototype.getTime.call(val1) !== Date.prototype.getTime.call(val2)) {
          return false;
        }
      } else if (isRegExp(val1)) {
        if (!isRegExp(val2) || !areSimilarRegExps(val1, val2)) {
          return false;
        }
      } else if (isNativeError(val1) || val1 instanceof Error) {
        if (val1.message !== val2.message || val1.name !== val2.name) {
          return false;
        }
      } else if (isArrayBufferView(val1)) {
        if (!strict && (isFloat32Array(val1) || isFloat64Array(val1))) {
          if (!areSimilarFloatArrays(val1, val2)) {
            return false;
          }
        } else if (!areSimilarTypedArrays(val1, val2)) {
          return false;
        }
        var _keys = getOwnNonIndexProperties(val1, ONLY_ENUMERABLE);
        var _keys2 = getOwnNonIndexProperties(val2, ONLY_ENUMERABLE);
        if (_keys.length !== _keys2.length) {
          return false;
        }
        return keyCheck(val1, val2, strict, memos, kNoIterator, _keys);
      } else if (isSet(val1)) {
        if (!isSet(val2) || val1.size !== val2.size) {
          return false;
        }
        return keyCheck(val1, val2, strict, memos, kIsSet);
      } else if (isMap(val1)) {
        if (!isMap(val2) || val1.size !== val2.size) {
          return false;
        }
        return keyCheck(val1, val2, strict, memos, kIsMap);
      } else if (isAnyArrayBuffer(val1)) {
        if (!areEqualArrayBuffers(val1, val2)) {
          return false;
        }
      } else if (isBoxedPrimitive(val1) && !isEqualBoxedPrimitive(val1, val2)) {
        return false;
      }
      return keyCheck(val1, val2, strict, memos, kNoIterator);
    }
    function getEnumerables(val, keys) {
      return keys.filter(function(k) {
        return propertyIsEnumerable(val, k);
      });
    }
    function keyCheck(val1, val2, strict, memos, iterationType, aKeys) {
      if (arguments.length === 5) {
        aKeys = Object.keys(val1);
        var bKeys = Object.keys(val2);
        if (aKeys.length !== bKeys.length) {
          return false;
        }
      }
      var i = 0;
      for (; i < aKeys.length; i++) {
        if (!hasOwnProperty(val2, aKeys[i])) {
          return false;
        }
      }
      if (strict && arguments.length === 5) {
        var symbolKeysA = objectGetOwnPropertySymbols(val1);
        if (symbolKeysA.length !== 0) {
          var count = 0;
          for (i = 0; i < symbolKeysA.length; i++) {
            var key = symbolKeysA[i];
            if (propertyIsEnumerable(val1, key)) {
              if (!propertyIsEnumerable(val2, key)) {
                return false;
              }
              aKeys.push(key);
              count++;
            } else if (propertyIsEnumerable(val2, key)) {
              return false;
            }
          }
          var symbolKeysB = objectGetOwnPropertySymbols(val2);
          if (symbolKeysA.length !== symbolKeysB.length && getEnumerables(val2, symbolKeysB).length !== count) {
            return false;
          }
        } else {
          var _symbolKeysB = objectGetOwnPropertySymbols(val2);
          if (_symbolKeysB.length !== 0 && getEnumerables(val2, _symbolKeysB).length !== 0) {
            return false;
          }
        }
      }
      if (aKeys.length === 0 && (iterationType === kNoIterator || iterationType === kIsArray && val1.length === 0 || val1.size === 0)) {
        return true;
      }
      if (memos === void 0) {
        memos = {
          val1: /* @__PURE__ */ new Map(),
          val2: /* @__PURE__ */ new Map(),
          position: 0
        };
      } else {
        var val2MemoA = memos.val1.get(val1);
        if (val2MemoA !== void 0) {
          var val2MemoB = memos.val2.get(val2);
          if (val2MemoB !== void 0) {
            return val2MemoA === val2MemoB;
          }
        }
        memos.position++;
      }
      memos.val1.set(val1, memos.position);
      memos.val2.set(val2, memos.position);
      var areEq = objEquiv(val1, val2, strict, aKeys, memos, iterationType);
      memos.val1.delete(val1);
      memos.val2.delete(val2);
      return areEq;
    }
    function setHasEqualElement(set, val1, strict, memo) {
      var setValues = arrayFromSet(set);
      for (var i = 0; i < setValues.length; i++) {
        var val2 = setValues[i];
        if (innerDeepEqual(val1, val2, strict, memo)) {
          set.delete(val2);
          return true;
        }
      }
      return false;
    }
    function findLooseMatchingPrimitives(prim) {
      switch (_typeof(prim)) {
        case "undefined":
          return null;
        case "object":
          return void 0;
        case "symbol":
          return false;
        case "string":
          prim = +prim;
        case "number":
          if (numberIsNaN(prim)) {
            return false;
          }
      }
      return true;
    }
    function setMightHaveLoosePrim(a, b, prim) {
      var altValue = findLooseMatchingPrimitives(prim);
      if (altValue != null)
        return altValue;
      return b.has(altValue) && !a.has(altValue);
    }
    function mapMightHaveLoosePrim(a, b, prim, item, memo) {
      var altValue = findLooseMatchingPrimitives(prim);
      if (altValue != null) {
        return altValue;
      }
      var curB = b.get(altValue);
      if (curB === void 0 && !b.has(altValue) || !innerDeepEqual(item, curB, false, memo)) {
        return false;
      }
      return !a.has(altValue) && innerDeepEqual(item, curB, false, memo);
    }
    function setEquiv(a, b, strict, memo) {
      var set = null;
      var aValues = arrayFromSet(a);
      for (var i = 0; i < aValues.length; i++) {
        var val = aValues[i];
        if (_typeof(val) === "object" && val !== null) {
          if (set === null) {
            set = /* @__PURE__ */ new Set();
          }
          set.add(val);
        } else if (!b.has(val)) {
          if (strict)
            return false;
          if (!setMightHaveLoosePrim(a, b, val)) {
            return false;
          }
          if (set === null) {
            set = /* @__PURE__ */ new Set();
          }
          set.add(val);
        }
      }
      if (set !== null) {
        var bValues = arrayFromSet(b);
        for (var _i = 0; _i < bValues.length; _i++) {
          var _val = bValues[_i];
          if (_typeof(_val) === "object" && _val !== null) {
            if (!setHasEqualElement(set, _val, strict, memo))
              return false;
          } else if (!strict && !a.has(_val) && !setHasEqualElement(set, _val, strict, memo)) {
            return false;
          }
        }
        return set.size === 0;
      }
      return true;
    }
    function mapHasEqualEntry(set, map, key1, item1, strict, memo) {
      var setValues = arrayFromSet(set);
      for (var i = 0; i < setValues.length; i++) {
        var key2 = setValues[i];
        if (innerDeepEqual(key1, key2, strict, memo) && innerDeepEqual(item1, map.get(key2), strict, memo)) {
          set.delete(key2);
          return true;
        }
      }
      return false;
    }
    function mapEquiv(a, b, strict, memo) {
      var set = null;
      var aEntries = arrayFromMap(a);
      for (var i = 0; i < aEntries.length; i++) {
        var _aEntries$i = _slicedToArray(aEntries[i], 2), key = _aEntries$i[0], item1 = _aEntries$i[1];
        if (_typeof(key) === "object" && key !== null) {
          if (set === null) {
            set = /* @__PURE__ */ new Set();
          }
          set.add(key);
        } else {
          var item2 = b.get(key);
          if (item2 === void 0 && !b.has(key) || !innerDeepEqual(item1, item2, strict, memo)) {
            if (strict)
              return false;
            if (!mapMightHaveLoosePrim(a, b, key, item1, memo))
              return false;
            if (set === null) {
              set = /* @__PURE__ */ new Set();
            }
            set.add(key);
          }
        }
      }
      if (set !== null) {
        var bEntries = arrayFromMap(b);
        for (var _i2 = 0; _i2 < bEntries.length; _i2++) {
          var _bEntries$_i = _slicedToArray(bEntries[_i2], 2), key = _bEntries$_i[0], item = _bEntries$_i[1];
          if (_typeof(key) === "object" && key !== null) {
            if (!mapHasEqualEntry(set, a, key, item, strict, memo))
              return false;
          } else if (!strict && (!a.has(key) || !innerDeepEqual(a.get(key), item, false, memo)) && !mapHasEqualEntry(set, a, key, item, false, memo)) {
            return false;
          }
        }
        return set.size === 0;
      }
      return true;
    }
    function objEquiv(a, b, strict, keys, memos, iterationType) {
      var i = 0;
      if (iterationType === kIsSet) {
        if (!setEquiv(a, b, strict, memos)) {
          return false;
        }
      } else if (iterationType === kIsMap) {
        if (!mapEquiv(a, b, strict, memos)) {
          return false;
        }
      } else if (iterationType === kIsArray) {
        for (; i < a.length; i++) {
          if (hasOwnProperty(a, i)) {
            if (!hasOwnProperty(b, i) || !innerDeepEqual(a[i], b[i], strict, memos)) {
              return false;
            }
          } else if (hasOwnProperty(b, i)) {
            return false;
          } else {
            var keysA = Object.keys(a);
            for (; i < keysA.length; i++) {
              var key = keysA[i];
              if (!hasOwnProperty(b, key) || !innerDeepEqual(a[key], b[key], strict, memos)) {
                return false;
              }
            }
            if (keysA.length !== Object.keys(b).length) {
              return false;
            }
            return true;
          }
        }
      }
      for (i = 0; i < keys.length; i++) {
        var _key = keys[i];
        if (!innerDeepEqual(a[_key], b[_key], strict, memos)) {
          return false;
        }
      }
      return true;
    }
    function isDeepEqual(val1, val2) {
      return innerDeepEqual(val1, val2, kLoose);
    }
    function isDeepStrictEqual(val1, val2) {
      return innerDeepEqual(val1, val2, kStrict);
    }
    module.exports = {
      isDeepEqual,
      isDeepStrictEqual
    };
  }
});

// node_modules/assert/build/assert.js
var require_assert = __commonJS({
  "node_modules/assert/build/assert.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function _typeof(obj) {
      if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
        _typeof = function _typeof2(obj2) {
          return typeof obj2;
        };
      } else {
        _typeof = function _typeof2(obj2) {
          return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
        };
      }
      return _typeof(obj);
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    var _require = require_errors();
    var _require$codes = _require.codes;
    var ERR_AMBIGUOUS_ARGUMENT = _require$codes.ERR_AMBIGUOUS_ARGUMENT;
    var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
    var ERR_INVALID_ARG_VALUE = _require$codes.ERR_INVALID_ARG_VALUE;
    var ERR_INVALID_RETURN_VALUE = _require$codes.ERR_INVALID_RETURN_VALUE;
    var ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;
    var AssertionError = require_assertion_error();
    var _require2 = require_util();
    var inspect = _require2.inspect;
    var _require$types = require_util().types;
    var isPromise = _require$types.isPromise;
    var isRegExp = _require$types.isRegExp;
    var objectAssign = Object.assign ? Object.assign : require_es6_object_assign().assign;
    var objectIs = Object.is ? Object.is : require_object_is();
    var isDeepEqual;
    var isDeepStrictEqual;
    function lazyLoadComparison() {
      var comparison = require_comparisons();
      isDeepEqual = comparison.isDeepEqual;
      isDeepStrictEqual = comparison.isDeepStrictEqual;
    }
    var warned = false;
    var assert4 = module.exports = ok;
    var NO_EXCEPTION_SENTINEL = {};
    function innerFail(obj) {
      if (obj.message instanceof Error)
        throw obj.message;
      throw new AssertionError(obj);
    }
    function fail(actual, expected, message, operator, stackStartFn) {
      var argsLen = arguments.length;
      var internalMessage;
      if (argsLen === 0) {
        internalMessage = "Failed";
      } else if (argsLen === 1) {
        message = actual;
        actual = void 0;
      } else {
        if (warned === false) {
          warned = true;
          var warn = process.emitWarning ? process.emitWarning : console.warn.bind(console);
          warn("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.", "DeprecationWarning", "DEP0094");
        }
        if (argsLen === 2)
          operator = "!=";
      }
      if (message instanceof Error)
        throw message;
      var errArgs = {
        actual,
        expected,
        operator: operator === void 0 ? "fail" : operator,
        stackStartFn: stackStartFn || fail
      };
      if (message !== void 0) {
        errArgs.message = message;
      }
      var err2 = new AssertionError(errArgs);
      if (internalMessage) {
        err2.message = internalMessage;
        err2.generatedMessage = true;
      }
      throw err2;
    }
    assert4.fail = fail;
    assert4.AssertionError = AssertionError;
    function innerOk(fn, argLen, value, message) {
      if (!value) {
        var generatedMessage = false;
        if (argLen === 0) {
          generatedMessage = true;
          message = "No value argument passed to `assert.ok()`";
        } else if (message instanceof Error) {
          throw message;
        }
        var err2 = new AssertionError({
          actual: value,
          expected: true,
          message,
          operator: "==",
          stackStartFn: fn
        });
        err2.generatedMessage = generatedMessage;
        throw err2;
      }
    }
    function ok() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      innerOk.apply(void 0, [ok, args.length].concat(args));
    }
    assert4.ok = ok;
    assert4.equal = function equal(actual, expected, message) {
      if (arguments.length < 2) {
        throw new ERR_MISSING_ARGS("actual", "expected");
      }
      if (actual != expected) {
        innerFail({
          actual,
          expected,
          message,
          operator: "==",
          stackStartFn: equal
        });
      }
    };
    assert4.notEqual = function notEqual(actual, expected, message) {
      if (arguments.length < 2) {
        throw new ERR_MISSING_ARGS("actual", "expected");
      }
      if (actual == expected) {
        innerFail({
          actual,
          expected,
          message,
          operator: "!=",
          stackStartFn: notEqual
        });
      }
    };
    assert4.deepEqual = function deepEqual(actual, expected, message) {
      if (arguments.length < 2) {
        throw new ERR_MISSING_ARGS("actual", "expected");
      }
      if (isDeepEqual === void 0)
        lazyLoadComparison();
      if (!isDeepEqual(actual, expected)) {
        innerFail({
          actual,
          expected,
          message,
          operator: "deepEqual",
          stackStartFn: deepEqual
        });
      }
    };
    assert4.notDeepEqual = function notDeepEqual(actual, expected, message) {
      if (arguments.length < 2) {
        throw new ERR_MISSING_ARGS("actual", "expected");
      }
      if (isDeepEqual === void 0)
        lazyLoadComparison();
      if (isDeepEqual(actual, expected)) {
        innerFail({
          actual,
          expected,
          message,
          operator: "notDeepEqual",
          stackStartFn: notDeepEqual
        });
      }
    };
    assert4.deepStrictEqual = function deepStrictEqual(actual, expected, message) {
      if (arguments.length < 2) {
        throw new ERR_MISSING_ARGS("actual", "expected");
      }
      if (isDeepEqual === void 0)
        lazyLoadComparison();
      if (!isDeepStrictEqual(actual, expected)) {
        innerFail({
          actual,
          expected,
          message,
          operator: "deepStrictEqual",
          stackStartFn: deepStrictEqual
        });
      }
    };
    assert4.notDeepStrictEqual = notDeepStrictEqual;
    function notDeepStrictEqual(actual, expected, message) {
      if (arguments.length < 2) {
        throw new ERR_MISSING_ARGS("actual", "expected");
      }
      if (isDeepEqual === void 0)
        lazyLoadComparison();
      if (isDeepStrictEqual(actual, expected)) {
        innerFail({
          actual,
          expected,
          message,
          operator: "notDeepStrictEqual",
          stackStartFn: notDeepStrictEqual
        });
      }
    }
    assert4.strictEqual = function strictEqual(actual, expected, message) {
      if (arguments.length < 2) {
        throw new ERR_MISSING_ARGS("actual", "expected");
      }
      if (!objectIs(actual, expected)) {
        innerFail({
          actual,
          expected,
          message,
          operator: "strictEqual",
          stackStartFn: strictEqual
        });
      }
    };
    assert4.notStrictEqual = function notStrictEqual(actual, expected, message) {
      if (arguments.length < 2) {
        throw new ERR_MISSING_ARGS("actual", "expected");
      }
      if (objectIs(actual, expected)) {
        innerFail({
          actual,
          expected,
          message,
          operator: "notStrictEqual",
          stackStartFn: notStrictEqual
        });
      }
    };
    var Comparison = function Comparison2(obj, keys, actual) {
      var _this = this;
      _classCallCheck(this, Comparison2);
      keys.forEach(function(key) {
        if (key in obj) {
          if (actual !== void 0 && typeof actual[key] === "string" && isRegExp(obj[key]) && obj[key].test(actual[key])) {
            _this[key] = actual[key];
          } else {
            _this[key] = obj[key];
          }
        }
      });
    };
    function compareExceptionKey(actual, expected, key, message, keys, fn) {
      if (!(key in actual) || !isDeepStrictEqual(actual[key], expected[key])) {
        if (!message) {
          var a = new Comparison(actual, keys);
          var b = new Comparison(expected, keys, actual);
          var err2 = new AssertionError({
            actual: a,
            expected: b,
            operator: "deepStrictEqual",
            stackStartFn: fn
          });
          err2.actual = actual;
          err2.expected = expected;
          err2.operator = fn.name;
          throw err2;
        }
        innerFail({
          actual,
          expected,
          message,
          operator: fn.name,
          stackStartFn: fn
        });
      }
    }
    function expectedException(actual, expected, msg, fn) {
      if (typeof expected !== "function") {
        if (isRegExp(expected))
          return expected.test(actual);
        if (arguments.length === 2) {
          throw new ERR_INVALID_ARG_TYPE("expected", ["Function", "RegExp"], expected);
        }
        if (_typeof(actual) !== "object" || actual === null) {
          var err2 = new AssertionError({
            actual,
            expected,
            message: msg,
            operator: "deepStrictEqual",
            stackStartFn: fn
          });
          err2.operator = fn.name;
          throw err2;
        }
        var keys = Object.keys(expected);
        if (expected instanceof Error) {
          keys.push("name", "message");
        } else if (keys.length === 0) {
          throw new ERR_INVALID_ARG_VALUE("error", expected, "may not be an empty object");
        }
        if (isDeepEqual === void 0)
          lazyLoadComparison();
        keys.forEach(function(key) {
          if (typeof actual[key] === "string" && isRegExp(expected[key]) && expected[key].test(actual[key])) {
            return;
          }
          compareExceptionKey(actual, expected, key, msg, keys, fn);
        });
        return true;
      }
      if (expected.prototype !== void 0 && actual instanceof expected) {
        return true;
      }
      if (Error.isPrototypeOf(expected)) {
        return false;
      }
      return expected.call({}, actual) === true;
    }
    function getActual(fn) {
      if (typeof fn !== "function") {
        throw new ERR_INVALID_ARG_TYPE("fn", "Function", fn);
      }
      try {
        fn();
      } catch (e) {
        return e;
      }
      return NO_EXCEPTION_SENTINEL;
    }
    function checkIsPromise(obj) {
      return isPromise(obj) || obj !== null && _typeof(obj) === "object" && typeof obj.then === "function" && typeof obj.catch === "function";
    }
    function waitForActual(promiseFn) {
      return Promise.resolve().then(function() {
        var resultPromise;
        if (typeof promiseFn === "function") {
          resultPromise = promiseFn();
          if (!checkIsPromise(resultPromise)) {
            throw new ERR_INVALID_RETURN_VALUE("instance of Promise", "promiseFn", resultPromise);
          }
        } else if (checkIsPromise(promiseFn)) {
          resultPromise = promiseFn;
        } else {
          throw new ERR_INVALID_ARG_TYPE("promiseFn", ["Function", "Promise"], promiseFn);
        }
        return Promise.resolve().then(function() {
          return resultPromise;
        }).then(function() {
          return NO_EXCEPTION_SENTINEL;
        }).catch(function(e) {
          return e;
        });
      });
    }
    function expectsError(stackStartFn, actual, error, message) {
      if (typeof error === "string") {
        if (arguments.length === 4) {
          throw new ERR_INVALID_ARG_TYPE("error", ["Object", "Error", "Function", "RegExp"], error);
        }
        if (_typeof(actual) === "object" && actual !== null) {
          if (actual.message === error) {
            throw new ERR_AMBIGUOUS_ARGUMENT("error/message", 'The error message "'.concat(actual.message, '" is identical to the message.'));
          }
        } else if (actual === error) {
          throw new ERR_AMBIGUOUS_ARGUMENT("error/message", 'The error "'.concat(actual, '" is identical to the message.'));
        }
        message = error;
        error = void 0;
      } else if (error != null && _typeof(error) !== "object" && typeof error !== "function") {
        throw new ERR_INVALID_ARG_TYPE("error", ["Object", "Error", "Function", "RegExp"], error);
      }
      if (actual === NO_EXCEPTION_SENTINEL) {
        var details = "";
        if (error && error.name) {
          details += " (".concat(error.name, ")");
        }
        details += message ? ": ".concat(message) : ".";
        var fnType = stackStartFn.name === "rejects" ? "rejection" : "exception";
        innerFail({
          actual: void 0,
          expected: error,
          operator: stackStartFn.name,
          message: "Missing expected ".concat(fnType).concat(details),
          stackStartFn
        });
      }
      if (error && !expectedException(actual, error, message, stackStartFn)) {
        throw actual;
      }
    }
    function expectsNoError(stackStartFn, actual, error, message) {
      if (actual === NO_EXCEPTION_SENTINEL)
        return;
      if (typeof error === "string") {
        message = error;
        error = void 0;
      }
      if (!error || expectedException(actual, error)) {
        var details = message ? ": ".concat(message) : ".";
        var fnType = stackStartFn.name === "doesNotReject" ? "rejection" : "exception";
        innerFail({
          actual,
          expected: error,
          operator: stackStartFn.name,
          message: "Got unwanted ".concat(fnType).concat(details, "\n") + 'Actual message: "'.concat(actual && actual.message, '"'),
          stackStartFn
        });
      }
      throw actual;
    }
    assert4.throws = function throws(promiseFn) {
      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }
      expectsError.apply(void 0, [throws, getActual(promiseFn)].concat(args));
    };
    assert4.rejects = function rejects(promiseFn) {
      for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
        args[_key3 - 1] = arguments[_key3];
      }
      return waitForActual(promiseFn).then(function(result) {
        return expectsError.apply(void 0, [rejects, result].concat(args));
      });
    };
    assert4.doesNotThrow = function doesNotThrow(fn) {
      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
        args[_key4 - 1] = arguments[_key4];
      }
      expectsNoError.apply(void 0, [doesNotThrow, getActual(fn)].concat(args));
    };
    assert4.doesNotReject = function doesNotReject(fn) {
      for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
        args[_key5 - 1] = arguments[_key5];
      }
      return waitForActual(fn).then(function(result) {
        return expectsNoError.apply(void 0, [doesNotReject, result].concat(args));
      });
    };
    assert4.ifError = function ifError(err2) {
      if (err2 !== null && err2 !== void 0) {
        var message = "ifError got unwanted exception: ";
        if (_typeof(err2) === "object" && typeof err2.message === "string") {
          if (err2.message.length === 0 && err2.constructor) {
            message += err2.constructor.name;
          } else {
            message += err2.message;
          }
        } else {
          message += inspect(err2);
        }
        var newErr = new AssertionError({
          actual: err2,
          expected: null,
          operator: "ifError",
          message,
          stackStartFn: ifError
        });
        var origStack = err2.stack;
        if (typeof origStack === "string") {
          var tmp2 = origStack.split("\n");
          tmp2.shift();
          var tmp1 = newErr.stack.split("\n");
          for (var i = 0; i < tmp2.length; i++) {
            var pos = tmp1.indexOf(tmp2[i]);
            if (pos !== -1) {
              tmp1 = tmp1.slice(0, pos);
              break;
            }
          }
          newErr.stack = "".concat(tmp1.join("\n"), "\n").concat(tmp2.join("\n"));
        }
        throw newErr;
      }
    };
    function strict() {
      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
        args[_key6] = arguments[_key6];
      }
      innerOk.apply(void 0, [strict, args.length].concat(args));
    }
    assert4.strict = objectAssign(strict, assert4, {
      equal: assert4.strictEqual,
      deepEqual: assert4.deepStrictEqual,
      notEqual: assert4.notStrictEqual,
      notDeepEqual: assert4.notDeepStrictEqual
    });
    assert4.strict.strict = assert4.strict;
  }
});

// node_modules/path-browserify/index.js
var require_path_browserify = __commonJS({
  "node_modules/path-browserify/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function assertPath(path2) {
      if (typeof path2 !== "string") {
        throw new TypeError("Path must be a string. Received " + JSON.stringify(path2));
      }
    }
    function normalizeStringPosix(path2, allowAboveRoot) {
      var res = "";
      var lastSegmentLength = 0;
      var lastSlash = -1;
      var dots = 0;
      var code;
      for (var i = 0; i <= path2.length; ++i) {
        if (i < path2.length)
          code = path2.charCodeAt(i);
        else if (code === 47)
          break;
        else
          code = 47;
        if (code === 47) {
          if (lastSlash === i - 1 || dots === 1) {
          } else if (lastSlash !== i - 1 && dots === 2) {
            if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
              if (res.length > 2) {
                var lastSlashIndex = res.lastIndexOf("/");
                if (lastSlashIndex !== res.length - 1) {
                  if (lastSlashIndex === -1) {
                    res = "";
                    lastSegmentLength = 0;
                  } else {
                    res = res.slice(0, lastSlashIndex);
                    lastSegmentLength = res.length - 1 - res.lastIndexOf("/");
                  }
                  lastSlash = i;
                  dots = 0;
                  continue;
                }
              } else if (res.length === 2 || res.length === 1) {
                res = "";
                lastSegmentLength = 0;
                lastSlash = i;
                dots = 0;
                continue;
              }
            }
            if (allowAboveRoot) {
              if (res.length > 0)
                res += "/..";
              else
                res = "..";
              lastSegmentLength = 2;
            }
          } else {
            if (res.length > 0)
              res += "/" + path2.slice(lastSlash + 1, i);
            else
              res = path2.slice(lastSlash + 1, i);
            lastSegmentLength = i - lastSlash - 1;
          }
          lastSlash = i;
          dots = 0;
        } else if (code === 46 && dots !== -1) {
          ++dots;
        } else {
          dots = -1;
        }
      }
      return res;
    }
    function _format(sep, pathObject) {
      var dir = pathObject.dir || pathObject.root;
      var base = pathObject.base || (pathObject.name || "") + (pathObject.ext || "");
      if (!dir) {
        return base;
      }
      if (dir === pathObject.root) {
        return dir + base;
      }
      return dir + sep + base;
    }
    var posix = {
      // path.resolve([from ...], to)
      resolve: function resolve() {
        var resolvedPath = "";
        var resolvedAbsolute = false;
        var cwd2;
        for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
          var path2;
          if (i >= 0)
            path2 = arguments[i];
          else {
            if (cwd2 === void 0)
              cwd2 = cwd();
            path2 = cwd2;
          }
          assertPath(path2);
          if (path2.length === 0) {
            continue;
          }
          resolvedPath = path2 + "/" + resolvedPath;
          resolvedAbsolute = path2.charCodeAt(0) === 47;
        }
        resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);
        if (resolvedAbsolute) {
          if (resolvedPath.length > 0)
            return "/" + resolvedPath;
          else
            return "/";
        } else if (resolvedPath.length > 0) {
          return resolvedPath;
        } else {
          return ".";
        }
      },
      normalize: function normalize(path2) {
        assertPath(path2);
        if (path2.length === 0)
          return ".";
        var isAbsolute = path2.charCodeAt(0) === 47;
        var trailingSeparator = path2.charCodeAt(path2.length - 1) === 47;
        path2 = normalizeStringPosix(path2, !isAbsolute);
        if (path2.length === 0 && !isAbsolute)
          path2 = ".";
        if (path2.length > 0 && trailingSeparator)
          path2 += "/";
        if (isAbsolute)
          return "/" + path2;
        return path2;
      },
      isAbsolute: function isAbsolute(path2) {
        assertPath(path2);
        return path2.length > 0 && path2.charCodeAt(0) === 47;
      },
      join: function join() {
        if (arguments.length === 0)
          return ".";
        var joined;
        for (var i = 0; i < arguments.length; ++i) {
          var arg = arguments[i];
          assertPath(arg);
          if (arg.length > 0) {
            if (joined === void 0)
              joined = arg;
            else
              joined += "/" + arg;
          }
        }
        if (joined === void 0)
          return ".";
        return posix.normalize(joined);
      },
      relative: function relative(from, to) {
        assertPath(from);
        assertPath(to);
        if (from === to)
          return "";
        from = posix.resolve(from);
        to = posix.resolve(to);
        if (from === to)
          return "";
        var fromStart = 1;
        for (; fromStart < from.length; ++fromStart) {
          if (from.charCodeAt(fromStart) !== 47)
            break;
        }
        var fromEnd = from.length;
        var fromLen = fromEnd - fromStart;
        var toStart = 1;
        for (; toStart < to.length; ++toStart) {
          if (to.charCodeAt(toStart) !== 47)
            break;
        }
        var toEnd = to.length;
        var toLen = toEnd - toStart;
        var length = fromLen < toLen ? fromLen : toLen;
        var lastCommonSep = -1;
        var i = 0;
        for (; i <= length; ++i) {
          if (i === length) {
            if (toLen > length) {
              if (to.charCodeAt(toStart + i) === 47) {
                return to.slice(toStart + i + 1);
              } else if (i === 0) {
                return to.slice(toStart + i);
              }
            } else if (fromLen > length) {
              if (from.charCodeAt(fromStart + i) === 47) {
                lastCommonSep = i;
              } else if (i === 0) {
                lastCommonSep = 0;
              }
            }
            break;
          }
          var fromCode = from.charCodeAt(fromStart + i);
          var toCode = to.charCodeAt(toStart + i);
          if (fromCode !== toCode)
            break;
          else if (fromCode === 47)
            lastCommonSep = i;
        }
        var out = "";
        for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
          if (i === fromEnd || from.charCodeAt(i) === 47) {
            if (out.length === 0)
              out += "..";
            else
              out += "/..";
          }
        }
        if (out.length > 0)
          return out + to.slice(toStart + lastCommonSep);
        else {
          toStart += lastCommonSep;
          if (to.charCodeAt(toStart) === 47)
            ++toStart;
          return to.slice(toStart);
        }
      },
      _makeLong: function _makeLong(path2) {
        return path2;
      },
      dirname: function dirname(path2) {
        assertPath(path2);
        if (path2.length === 0)
          return ".";
        var code = path2.charCodeAt(0);
        var hasRoot = code === 47;
        var end = -1;
        var matchedSlash = true;
        for (var i = path2.length - 1; i >= 1; --i) {
          code = path2.charCodeAt(i);
          if (code === 47) {
            if (!matchedSlash) {
              end = i;
              break;
            }
          } else {
            matchedSlash = false;
          }
        }
        if (end === -1)
          return hasRoot ? "/" : ".";
        if (hasRoot && end === 1)
          return "//";
        return path2.slice(0, end);
      },
      basename: function basename(path2, ext) {
        if (ext !== void 0 && typeof ext !== "string")
          throw new TypeError('"ext" argument must be a string');
        assertPath(path2);
        var start = 0;
        var end = -1;
        var matchedSlash = true;
        var i;
        if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {
          if (ext.length === path2.length && ext === path2)
            return "";
          var extIdx = ext.length - 1;
          var firstNonSlashEnd = -1;
          for (i = path2.length - 1; i >= 0; --i) {
            var code = path2.charCodeAt(i);
            if (code === 47) {
              if (!matchedSlash) {
                start = i + 1;
                break;
              }
            } else {
              if (firstNonSlashEnd === -1) {
                matchedSlash = false;
                firstNonSlashEnd = i + 1;
              }
              if (extIdx >= 0) {
                if (code === ext.charCodeAt(extIdx)) {
                  if (--extIdx === -1) {
                    end = i;
                  }
                } else {
                  extIdx = -1;
                  end = firstNonSlashEnd;
                }
              }
            }
          }
          if (start === end)
            end = firstNonSlashEnd;
          else if (end === -1)
            end = path2.length;
          return path2.slice(start, end);
        } else {
          for (i = path2.length - 1; i >= 0; --i) {
            if (path2.charCodeAt(i) === 47) {
              if (!matchedSlash) {
                start = i + 1;
                break;
              }
            } else if (end === -1) {
              matchedSlash = false;
              end = i + 1;
            }
          }
          if (end === -1)
            return "";
          return path2.slice(start, end);
        }
      },
      extname: function extname(path2) {
        assertPath(path2);
        var startDot = -1;
        var startPart = 0;
        var end = -1;
        var matchedSlash = true;
        var preDotState = 0;
        for (var i = path2.length - 1; i >= 0; --i) {
          var code = path2.charCodeAt(i);
          if (code === 47) {
            if (!matchedSlash) {
              startPart = i + 1;
              break;
            }
            continue;
          }
          if (end === -1) {
            matchedSlash = false;
            end = i + 1;
          }
          if (code === 46) {
            if (startDot === -1)
              startDot = i;
            else if (preDotState !== 1)
              preDotState = 1;
          } else if (startDot !== -1) {
            preDotState = -1;
          }
        }
        if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot
        preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
          return "";
        }
        return path2.slice(startDot, end);
      },
      format: function format(pathObject) {
        if (pathObject === null || typeof pathObject !== "object") {
          throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof pathObject);
        }
        return _format("/", pathObject);
      },
      parse: function parse(path2) {
        assertPath(path2);
        var ret = { root: "", dir: "", base: "", ext: "", name: "" };
        if (path2.length === 0)
          return ret;
        var code = path2.charCodeAt(0);
        var isAbsolute = code === 47;
        var start;
        if (isAbsolute) {
          ret.root = "/";
          start = 1;
        } else {
          start = 0;
        }
        var startDot = -1;
        var startPart = 0;
        var end = -1;
        var matchedSlash = true;
        var i = path2.length - 1;
        var preDotState = 0;
        for (; i >= start; --i) {
          code = path2.charCodeAt(i);
          if (code === 47) {
            if (!matchedSlash) {
              startPart = i + 1;
              break;
            }
            continue;
          }
          if (end === -1) {
            matchedSlash = false;
            end = i + 1;
          }
          if (code === 46) {
            if (startDot === -1)
              startDot = i;
            else if (preDotState !== 1)
              preDotState = 1;
          } else if (startDot !== -1) {
            preDotState = -1;
          }
        }
        if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot
        preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
          if (end !== -1) {
            if (startPart === 0 && isAbsolute)
              ret.base = ret.name = path2.slice(1, end);
            else
              ret.base = ret.name = path2.slice(startPart, end);
          }
        } else {
          if (startPart === 0 && isAbsolute) {
            ret.name = path2.slice(1, startDot);
            ret.base = path2.slice(1, end);
          } else {
            ret.name = path2.slice(startPart, startDot);
            ret.base = path2.slice(startPart, end);
          }
          ret.ext = path2.slice(startDot, end);
        }
        if (startPart > 0)
          ret.dir = path2.slice(0, startPart - 1);
        else if (isAbsolute)
          ret.dir = "/";
        return ret;
      },
      sep: "/",
      delimiter: ":",
      win32: null,
      posix: null
    };
    posix.posix = posix;
    module.exports = posix;
  }
});

// node_modules/@wasmer/wasi/lib/polyfills/bigint.js
var require_bigint = __commonJS({
  "node_modules/@wasmer/wasi/lib/polyfills/bigint.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var globalObj = typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : {};
    exports.BigIntPolyfill = typeof BigInt !== "undefined" ? BigInt : globalObj.BigInt || Number;
  }
});

// node_modules/@wasmer/wasi/lib/constants.js
var require_constants = __commonJS({
  "node_modules/@wasmer/wasi/lib/constants.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var bigint_1 = require_bigint();
    exports.WASI_ESUCCESS = 0;
    exports.WASI_E2BIG = 1;
    exports.WASI_EACCES = 2;
    exports.WASI_EADDRINUSE = 3;
    exports.WASI_EADDRNOTAVAIL = 4;
    exports.WASI_EAFNOSUPPORT = 5;
    exports.WASI_EAGAIN = 6;
    exports.WASI_EALREADY = 7;
    exports.WASI_EBADF = 8;
    exports.WASI_EBADMSG = 9;
    exports.WASI_EBUSY = 10;
    exports.WASI_ECANCELED = 11;
    exports.WASI_ECHILD = 12;
    exports.WASI_ECONNABORTED = 13;
    exports.WASI_ECONNREFUSED = 14;
    exports.WASI_ECONNRESET = 15;
    exports.WASI_EDEADLK = 16;
    exports.WASI_EDESTADDRREQ = 17;
    exports.WASI_EDOM = 18;
    exports.WASI_EDQUOT = 19;
    exports.WASI_EEXIST = 20;
    exports.WASI_EFAULT = 21;
    exports.WASI_EFBIG = 22;
    exports.WASI_EHOSTUNREACH = 23;
    exports.WASI_EIDRM = 24;
    exports.WASI_EILSEQ = 25;
    exports.WASI_EINPROGRESS = 26;
    exports.WASI_EINTR = 27;
    exports.WASI_EINVAL = 28;
    exports.WASI_EIO = 29;
    exports.WASI_EISCONN = 30;
    exports.WASI_EISDIR = 31;
    exports.WASI_ELOOP = 32;
    exports.WASI_EMFILE = 33;
    exports.WASI_EMLINK = 34;
    exports.WASI_EMSGSIZE = 35;
    exports.WASI_EMULTIHOP = 36;
    exports.WASI_ENAMETOOLONG = 37;
    exports.WASI_ENETDOWN = 38;
    exports.WASI_ENETRESET = 39;
    exports.WASI_ENETUNREACH = 40;
    exports.WASI_ENFILE = 41;
    exports.WASI_ENOBUFS = 42;
    exports.WASI_ENODEV = 43;
    exports.WASI_ENOENT = 44;
    exports.WASI_ENOEXEC = 45;
    exports.WASI_ENOLCK = 46;
    exports.WASI_ENOLINK = 47;
    exports.WASI_ENOMEM = 48;
    exports.WASI_ENOMSG = 49;
    exports.WASI_ENOPROTOOPT = 50;
    exports.WASI_ENOSPC = 51;
    exports.WASI_ENOSYS = 52;
    exports.WASI_ENOTCONN = 53;
    exports.WASI_ENOTDIR = 54;
    exports.WASI_ENOTEMPTY = 55;
    exports.WASI_ENOTRECOVERABLE = 56;
    exports.WASI_ENOTSOCK = 57;
    exports.WASI_ENOTSUP = 58;
    exports.WASI_ENOTTY = 59;
    exports.WASI_ENXIO = 60;
    exports.WASI_EOVERFLOW = 61;
    exports.WASI_EOWNERDEAD = 62;
    exports.WASI_EPERM = 63;
    exports.WASI_EPIPE = 64;
    exports.WASI_EPROTO = 65;
    exports.WASI_EPROTONOSUPPORT = 66;
    exports.WASI_EPROTOTYPE = 67;
    exports.WASI_ERANGE = 68;
    exports.WASI_EROFS = 69;
    exports.WASI_ESPIPE = 70;
    exports.WASI_ESRCH = 71;
    exports.WASI_ESTALE = 72;
    exports.WASI_ETIMEDOUT = 73;
    exports.WASI_ETXTBSY = 74;
    exports.WASI_EXDEV = 75;
    exports.WASI_ENOTCAPABLE = 76;
    exports.WASI_SIGABRT = 0;
    exports.WASI_SIGALRM = 1;
    exports.WASI_SIGBUS = 2;
    exports.WASI_SIGCHLD = 3;
    exports.WASI_SIGCONT = 4;
    exports.WASI_SIGFPE = 5;
    exports.WASI_SIGHUP = 6;
    exports.WASI_SIGILL = 7;
    exports.WASI_SIGINT = 8;
    exports.WASI_SIGKILL = 9;
    exports.WASI_SIGPIPE = 10;
    exports.WASI_SIGQUIT = 11;
    exports.WASI_SIGSEGV = 12;
    exports.WASI_SIGSTOP = 13;
    exports.WASI_SIGTERM = 14;
    exports.WASI_SIGTRAP = 15;
    exports.WASI_SIGTSTP = 16;
    exports.WASI_SIGTTIN = 17;
    exports.WASI_SIGTTOU = 18;
    exports.WASI_SIGURG = 19;
    exports.WASI_SIGUSR1 = 20;
    exports.WASI_SIGUSR2 = 21;
    exports.WASI_SIGVTALRM = 22;
    exports.WASI_SIGXCPU = 23;
    exports.WASI_SIGXFSZ = 24;
    exports.WASI_FILETYPE_UNKNOWN = 0;
    exports.WASI_FILETYPE_BLOCK_DEVICE = 1;
    exports.WASI_FILETYPE_CHARACTER_DEVICE = 2;
    exports.WASI_FILETYPE_DIRECTORY = 3;
    exports.WASI_FILETYPE_REGULAR_FILE = 4;
    exports.WASI_FILETYPE_SOCKET_DGRAM = 5;
    exports.WASI_FILETYPE_SOCKET_STREAM = 6;
    exports.WASI_FILETYPE_SYMBOLIC_LINK = 7;
    exports.WASI_FDFLAG_APPEND = 1;
    exports.WASI_FDFLAG_DSYNC = 2;
    exports.WASI_FDFLAG_NONBLOCK = 4;
    exports.WASI_FDFLAG_RSYNC = 8;
    exports.WASI_FDFLAG_SYNC = 16;
    exports.WASI_RIGHT_FD_DATASYNC = bigint_1.BigIntPolyfill(1);
    exports.WASI_RIGHT_FD_READ = bigint_1.BigIntPolyfill(2);
    exports.WASI_RIGHT_FD_SEEK = bigint_1.BigIntPolyfill(4);
    exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS = bigint_1.BigIntPolyfill(8);
    exports.WASI_RIGHT_FD_SYNC = bigint_1.BigIntPolyfill(16);
    exports.WASI_RIGHT_FD_TELL = bigint_1.BigIntPolyfill(32);
    exports.WASI_RIGHT_FD_WRITE = bigint_1.BigIntPolyfill(64);
    exports.WASI_RIGHT_FD_ADVISE = bigint_1.BigIntPolyfill(128);
    exports.WASI_RIGHT_FD_ALLOCATE = bigint_1.BigIntPolyfill(256);
    exports.WASI_RIGHT_PATH_CREATE_DIRECTORY = bigint_1.BigIntPolyfill(512);
    exports.WASI_RIGHT_PATH_CREATE_FILE = bigint_1.BigIntPolyfill(1024);
    exports.WASI_RIGHT_PATH_LINK_SOURCE = bigint_1.BigIntPolyfill(2048);
    exports.WASI_RIGHT_PATH_LINK_TARGET = bigint_1.BigIntPolyfill(4096);
    exports.WASI_RIGHT_PATH_OPEN = bigint_1.BigIntPolyfill(8192);
    exports.WASI_RIGHT_FD_READDIR = bigint_1.BigIntPolyfill(16384);
    exports.WASI_RIGHT_PATH_READLINK = bigint_1.BigIntPolyfill(32768);
    exports.WASI_RIGHT_PATH_RENAME_SOURCE = bigint_1.BigIntPolyfill(65536);
    exports.WASI_RIGHT_PATH_RENAME_TARGET = bigint_1.BigIntPolyfill(131072);
    exports.WASI_RIGHT_PATH_FILESTAT_GET = bigint_1.BigIntPolyfill(262144);
    exports.WASI_RIGHT_PATH_FILESTAT_SET_SIZE = bigint_1.BigIntPolyfill(524288);
    exports.WASI_RIGHT_PATH_FILESTAT_SET_TIMES = bigint_1.BigIntPolyfill(1048576);
    exports.WASI_RIGHT_FD_FILESTAT_GET = bigint_1.BigIntPolyfill(2097152);
    exports.WASI_RIGHT_FD_FILESTAT_SET_SIZE = bigint_1.BigIntPolyfill(4194304);
    exports.WASI_RIGHT_FD_FILESTAT_SET_TIMES = bigint_1.BigIntPolyfill(8388608);
    exports.WASI_RIGHT_PATH_SYMLINK = bigint_1.BigIntPolyfill(16777216);
    exports.WASI_RIGHT_PATH_REMOVE_DIRECTORY = bigint_1.BigIntPolyfill(33554432);
    exports.WASI_RIGHT_PATH_UNLINK_FILE = bigint_1.BigIntPolyfill(67108864);
    exports.WASI_RIGHT_POLL_FD_READWRITE = bigint_1.BigIntPolyfill(134217728);
    exports.WASI_RIGHT_SOCK_SHUTDOWN = bigint_1.BigIntPolyfill(268435456);
    exports.RIGHTS_ALL = exports.WASI_RIGHT_FD_DATASYNC | exports.WASI_RIGHT_FD_READ | exports.WASI_RIGHT_FD_SEEK | exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_SYNC | exports.WASI_RIGHT_FD_TELL | exports.WASI_RIGHT_FD_WRITE | exports.WASI_RIGHT_FD_ADVISE | exports.WASI_RIGHT_FD_ALLOCATE | exports.WASI_RIGHT_PATH_CREATE_DIRECTORY | exports.WASI_RIGHT_PATH_CREATE_FILE | exports.WASI_RIGHT_PATH_LINK_SOURCE | exports.WASI_RIGHT_PATH_LINK_TARGET | exports.WASI_RIGHT_PATH_OPEN | exports.WASI_RIGHT_FD_READDIR | exports.WASI_RIGHT_PATH_READLINK | exports.WASI_RIGHT_PATH_RENAME_SOURCE | exports.WASI_RIGHT_PATH_RENAME_TARGET | exports.WASI_RIGHT_PATH_FILESTAT_GET | exports.WASI_RIGHT_PATH_FILESTAT_SET_SIZE | exports.WASI_RIGHT_PATH_FILESTAT_SET_TIMES | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_FD_FILESTAT_SET_TIMES | exports.WASI_RIGHT_FD_FILESTAT_SET_SIZE | exports.WASI_RIGHT_PATH_SYMLINK | exports.WASI_RIGHT_PATH_UNLINK_FILE | exports.WASI_RIGHT_PATH_REMOVE_DIRECTORY | exports.WASI_RIGHT_POLL_FD_READWRITE | exports.WASI_RIGHT_SOCK_SHUTDOWN;
    exports.RIGHTS_BLOCK_DEVICE_BASE = exports.RIGHTS_ALL;
    exports.RIGHTS_BLOCK_DEVICE_INHERITING = exports.RIGHTS_ALL;
    exports.RIGHTS_CHARACTER_DEVICE_BASE = exports.RIGHTS_ALL;
    exports.RIGHTS_CHARACTER_DEVICE_INHERITING = exports.RIGHTS_ALL;
    exports.RIGHTS_REGULAR_FILE_BASE = exports.WASI_RIGHT_FD_DATASYNC | exports.WASI_RIGHT_FD_READ | exports.WASI_RIGHT_FD_SEEK | exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_SYNC | exports.WASI_RIGHT_FD_TELL | exports.WASI_RIGHT_FD_WRITE | exports.WASI_RIGHT_FD_ADVISE | exports.WASI_RIGHT_FD_ALLOCATE | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_FD_FILESTAT_SET_SIZE | exports.WASI_RIGHT_FD_FILESTAT_SET_TIMES | exports.WASI_RIGHT_POLL_FD_READWRITE;
    exports.RIGHTS_REGULAR_FILE_INHERITING = bigint_1.BigIntPolyfill(0);
    exports.RIGHTS_DIRECTORY_BASE = exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_SYNC | exports.WASI_RIGHT_FD_ADVISE | exports.WASI_RIGHT_PATH_CREATE_DIRECTORY | exports.WASI_RIGHT_PATH_CREATE_FILE | exports.WASI_RIGHT_PATH_LINK_SOURCE | exports.WASI_RIGHT_PATH_LINK_TARGET | exports.WASI_RIGHT_PATH_OPEN | exports.WASI_RIGHT_FD_READDIR | exports.WASI_RIGHT_PATH_READLINK | exports.WASI_RIGHT_PATH_RENAME_SOURCE | exports.WASI_RIGHT_PATH_RENAME_TARGET | exports.WASI_RIGHT_PATH_FILESTAT_GET | exports.WASI_RIGHT_PATH_FILESTAT_SET_SIZE | exports.WASI_RIGHT_PATH_FILESTAT_SET_TIMES | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_FD_FILESTAT_SET_TIMES | exports.WASI_RIGHT_PATH_SYMLINK | exports.WASI_RIGHT_PATH_UNLINK_FILE | exports.WASI_RIGHT_PATH_REMOVE_DIRECTORY | exports.WASI_RIGHT_POLL_FD_READWRITE;
    exports.RIGHTS_DIRECTORY_INHERITING = exports.RIGHTS_DIRECTORY_BASE | exports.RIGHTS_REGULAR_FILE_BASE;
    exports.RIGHTS_SOCKET_BASE = exports.WASI_RIGHT_FD_READ | exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_WRITE | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_POLL_FD_READWRITE | exports.WASI_RIGHT_SOCK_SHUTDOWN;
    exports.RIGHTS_SOCKET_INHERITING = exports.RIGHTS_ALL;
    exports.RIGHTS_TTY_BASE = exports.WASI_RIGHT_FD_READ | exports.WASI_RIGHT_FD_FDSTAT_SET_FLAGS | exports.WASI_RIGHT_FD_WRITE | exports.WASI_RIGHT_FD_FILESTAT_GET | exports.WASI_RIGHT_POLL_FD_READWRITE;
    exports.RIGHTS_TTY_INHERITING = bigint_1.BigIntPolyfill(0);
    exports.WASI_CLOCK_REALTIME = 0;
    exports.WASI_CLOCK_MONOTONIC = 1;
    exports.WASI_CLOCK_PROCESS_CPUTIME_ID = 2;
    exports.WASI_CLOCK_THREAD_CPUTIME_ID = 3;
    exports.WASI_EVENTTYPE_CLOCK = 0;
    exports.WASI_EVENTTYPE_FD_READ = 1;
    exports.WASI_EVENTTYPE_FD_WRITE = 2;
    exports.WASI_FILESTAT_SET_ATIM = 1 << 0;
    exports.WASI_FILESTAT_SET_ATIM_NOW = 1 << 1;
    exports.WASI_FILESTAT_SET_MTIM = 1 << 2;
    exports.WASI_FILESTAT_SET_MTIM_NOW = 1 << 3;
    exports.WASI_O_CREAT = 1 << 0;
    exports.WASI_O_DIRECTORY = 1 << 1;
    exports.WASI_O_EXCL = 1 << 2;
    exports.WASI_O_TRUNC = 1 << 3;
    exports.WASI_PREOPENTYPE_DIR = 0;
    exports.WASI_DIRCOOKIE_START = 0;
    exports.WASI_STDIN_FILENO = 0;
    exports.WASI_STDOUT_FILENO = 1;
    exports.WASI_STDERR_FILENO = 2;
    exports.WASI_WHENCE_SET = 0;
    exports.WASI_WHENCE_CUR = 1;
    exports.WASI_WHENCE_END = 2;
    exports.ERROR_MAP = {
      E2BIG: exports.WASI_E2BIG,
      EACCES: exports.WASI_EACCES,
      EADDRINUSE: exports.WASI_EADDRINUSE,
      EADDRNOTAVAIL: exports.WASI_EADDRNOTAVAIL,
      EAFNOSUPPORT: exports.WASI_EAFNOSUPPORT,
      EALREADY: exports.WASI_EALREADY,
      EAGAIN: exports.WASI_EAGAIN,
      // EBADE: WASI_EBADE,
      EBADF: exports.WASI_EBADF,
      // EBADFD: WASI_EBADFD,
      EBADMSG: exports.WASI_EBADMSG,
      // EBADR: WASI_EBADR,
      // EBADRQC: WASI_EBADRQC,
      // EBADSLT: WASI_EBADSLT,
      EBUSY: exports.WASI_EBUSY,
      ECANCELED: exports.WASI_ECANCELED,
      ECHILD: exports.WASI_ECHILD,
      // ECHRNG: WASI_ECHRNG,
      // ECOMM: WASI_ECOMM,
      ECONNABORTED: exports.WASI_ECONNABORTED,
      ECONNREFUSED: exports.WASI_ECONNREFUSED,
      ECONNRESET: exports.WASI_ECONNRESET,
      EDEADLOCK: exports.WASI_EDEADLK,
      EDESTADDRREQ: exports.WASI_EDESTADDRREQ,
      EDOM: exports.WASI_EDOM,
      EDQUOT: exports.WASI_EDQUOT,
      EEXIST: exports.WASI_EEXIST,
      EFAULT: exports.WASI_EFAULT,
      EFBIG: exports.WASI_EFBIG,
      EHOSTDOWN: exports.WASI_EHOSTUNREACH,
      EHOSTUNREACH: exports.WASI_EHOSTUNREACH,
      // EHWPOISON: WASI_EHWPOISON,
      EIDRM: exports.WASI_EIDRM,
      EILSEQ: exports.WASI_EILSEQ,
      EINPROGRESS: exports.WASI_EINPROGRESS,
      EINTR: exports.WASI_EINTR,
      EINVAL: exports.WASI_EINVAL,
      EIO: exports.WASI_EIO,
      EISCONN: exports.WASI_EISCONN,
      EISDIR: exports.WASI_EISDIR,
      ELOOP: exports.WASI_ELOOP,
      EMFILE: exports.WASI_EMFILE,
      EMLINK: exports.WASI_EMLINK,
      EMSGSIZE: exports.WASI_EMSGSIZE,
      EMULTIHOP: exports.WASI_EMULTIHOP,
      ENAMETOOLONG: exports.WASI_ENAMETOOLONG,
      ENETDOWN: exports.WASI_ENETDOWN,
      ENETRESET: exports.WASI_ENETRESET,
      ENETUNREACH: exports.WASI_ENETUNREACH,
      ENFILE: exports.WASI_ENFILE,
      ENOBUFS: exports.WASI_ENOBUFS,
      ENODEV: exports.WASI_ENODEV,
      ENOENT: exports.WASI_ENOENT,
      ENOEXEC: exports.WASI_ENOEXEC,
      ENOLCK: exports.WASI_ENOLCK,
      ENOLINK: exports.WASI_ENOLINK,
      ENOMEM: exports.WASI_ENOMEM,
      ENOMSG: exports.WASI_ENOMSG,
      ENOPROTOOPT: exports.WASI_ENOPROTOOPT,
      ENOSPC: exports.WASI_ENOSPC,
      ENOSYS: exports.WASI_ENOSYS,
      ENOTCONN: exports.WASI_ENOTCONN,
      ENOTDIR: exports.WASI_ENOTDIR,
      ENOTEMPTY: exports.WASI_ENOTEMPTY,
      ENOTRECOVERABLE: exports.WASI_ENOTRECOVERABLE,
      ENOTSOCK: exports.WASI_ENOTSOCK,
      ENOTTY: exports.WASI_ENOTTY,
      ENXIO: exports.WASI_ENXIO,
      EOVERFLOW: exports.WASI_EOVERFLOW,
      EOWNERDEAD: exports.WASI_EOWNERDEAD,
      EPERM: exports.WASI_EPERM,
      EPIPE: exports.WASI_EPIPE,
      EPROTO: exports.WASI_EPROTO,
      EPROTONOSUPPORT: exports.WASI_EPROTONOSUPPORT,
      EPROTOTYPE: exports.WASI_EPROTOTYPE,
      ERANGE: exports.WASI_ERANGE,
      EROFS: exports.WASI_EROFS,
      ESPIPE: exports.WASI_ESPIPE,
      ESRCH: exports.WASI_ESRCH,
      ESTALE: exports.WASI_ESTALE,
      ETIMEDOUT: exports.WASI_ETIMEDOUT,
      ETXTBSY: exports.WASI_ETXTBSY,
      EXDEV: exports.WASI_EXDEV
    };
    exports.SIGNAL_MAP = {
      [exports.WASI_SIGHUP]: "SIGHUP",
      [exports.WASI_SIGINT]: "SIGINT",
      [exports.WASI_SIGQUIT]: "SIGQUIT",
      [exports.WASI_SIGILL]: "SIGILL",
      [exports.WASI_SIGTRAP]: "SIGTRAP",
      [exports.WASI_SIGABRT]: "SIGABRT",
      [exports.WASI_SIGBUS]: "SIGBUS",
      [exports.WASI_SIGFPE]: "SIGFPE",
      [exports.WASI_SIGKILL]: "SIGKILL",
      [exports.WASI_SIGUSR1]: "SIGUSR1",
      [exports.WASI_SIGSEGV]: "SIGSEGV",
      [exports.WASI_SIGUSR2]: "SIGUSR2",
      [exports.WASI_SIGPIPE]: "SIGPIPE",
      [exports.WASI_SIGALRM]: "SIGALRM",
      [exports.WASI_SIGTERM]: "SIGTERM",
      [exports.WASI_SIGCHLD]: "SIGCHLD",
      [exports.WASI_SIGCONT]: "SIGCONT",
      [exports.WASI_SIGSTOP]: "SIGSTOP",
      [exports.WASI_SIGTSTP]: "SIGTSTP",
      [exports.WASI_SIGTTIN]: "SIGTTIN",
      [exports.WASI_SIGTTOU]: "SIGTTOU",
      [exports.WASI_SIGURG]: "SIGURG",
      [exports.WASI_SIGXCPU]: "SIGXCPU",
      [exports.WASI_SIGXFSZ]: "SIGXFSZ",
      [exports.WASI_SIGVTALRM]: "SIGVTALRM"
    };
  }
});

// node_modules/wasi-kernel/src/kernel/bits/stubs.ts
var names, stubs, stubs_default;
var init_stubs = __esm({
  "node_modules/wasi-kernel/src/kernel/bits/stubs.ts"() {
    init_process_shim();
    init_buffer_shim();
    names = [
      "signal",
      "raise",
      "pipe",
      "dup",
      "dup2",
      "dup3",
      "execv",
      "execl",
      "execvp",
      "execlp",
      "getpwnam",
      "getpwnam_r",
      "getpwent",
      "tcsetpgrp",
      "kill",
      "killpg",
      "fork",
      "realpath",
      "getpid",
      "getpgid",
      "setpgid",
      "getpgrp",
      "setpgrp",
      "issetugid",
      "strsignal",
      "wait4",
      "waitpid",
      "getuid",
      "geteuid",
      "getgid",
      "getegid",
      "getsid",
      "setegid",
      "seteuid",
      "setgid",
      "setuid",
      "setsid",
      "umask",
      "getrlimit",
      "setrlimit",
      "getpriority",
      "setpriority",
      "sigfillset",
      "sigprocmask",
      "sigsetmask",
      "siginterrupt",
      "sigaltstack",
      "sigwait",
      "sigpending",
      "getppid",
      "tcgetpgrp",
      "gethostname",
      "tzset",
      "flockfile",
      "ftrylockfile",
      "funlockfile",
      "getpwuid",
      "getpwuid_r",
      "setpwent",
      "endpwent",
      "getgrgid",
      "setreuid",
      "setregid",
      "strmode",
      "acl_get_file",
      "acl_free",
      "acl_get_entry",
      "fchdir",
      "chown",
      "fchown",
      "lchown",
      "fchownat",
      "chmod",
      "fchmod",
      "fchmodat",
      "lchmod",
      "chflags",
      "fchflags",
      "lchflags",
      "chroot",
      "getgroups",
      "utimes",
      "futimes",
      "lutimes",
      "clock_gettime",
      "clock_settime",
      "alarm",
      "system",
      "mkfifo",
      "mkstemp",
      "mkstemps",
      "mkostemp",
      "mkostemps",
      "tmpfile",
      "settimeofday",
      "bsd_signal",
      "ttyname",
      "ttyname_r",
      "ctermid_r",
      "socket",
      "connect",
      "popen",
      "pclose",
      "sync",
      "nice",
      "errx",
      //???
      "vwarnx",
      //???
      // posix
      "posix_spawn",
      "posix_spawnp",
      "posix_spawnattr_init",
      "posix_spawnattr_destroy",
      "posix_spawnattr_setflags",
      "posix_spawnattr_setsigmask",
      "posix_spawn_file_actions_init",
      "posix_spawn_file_actions_destroy",
      "posix_spawn_file_actions_addopen",
      "posix_spawn_file_actions_addclose",
      "posix_spawn_file_actions_adddup2",
      // pthreads
      "pthread_mutex_init",
      "pthread_mutex_lock",
      "pthread_cond_timedwait",
      "pthread_cond_signal",
      "pthread_mutex_unlock",
      "pthread_cond_destroy",
      "pthread_mutex_destroy",
      "pthread_cond_wait",
      "pthread_cond_init",
      "pthread_attr_init",
      "pthread_attr_setstacksize",
      "pthread_attr_destroy",
      "pthread_create",
      "pthread_detach",
      "pthread_self",
      "pthread_kill",
      "pthread_exit",
      "pthread_mutex_trylock",
      "pthread_key_create",
      "pthread_key_delete",
      "pthread_setspecific",
      "pthread_getspecific",
      "pthread_sigmask",
      "pthread_attr_getscope",
      "pthread_attr_setscope",
      "posix_spawnattr_setpgroup",
      "posix_spawnattr_setsigdefault",
      // curses (terminfo)
      "tgetent",
      "tgetflag",
      "tgetnum",
      "tgetstr",
      "tgoto",
      "tputs",
      // termios
      "cfgetospeed",
      "cfgetispeed",
      "cfsetospeed",
      "cfsetispeed",
      "tcsendbreak",
      "tcdrain",
      "tcflush",
      "tcflow",
      "tcgetsid",
      // util (tty)
      "login",
      "login_tty",
      "logout",
      "logwtmp",
      "opendev",
      "openpty",
      "fparseln",
      "forkpty",
      "pidlock",
      "ttylock",
      "ttyunlock",
      "ttyaction",
      "ttymsg"
    ];
    stubs = {
      debug: (message) => {
      }
    };
    for (let nm of names) {
      stubs[nm] = function() {
        stubs.debug(`stub for ${nm} [${[...arguments]}]`);
      };
    }
    stubs_default = stubs;
  }
});

// node_modules/wasi-kernel/src/kernel/bits/autogen/delegation.ts
var delegation_default;
var init_delegation = __esm({
  "node_modules/wasi-kernel/src/kernel/bits/autogen/delegation.ts"() {
    init_process_shim();
    init_buffer_shim();
    delegation_default = { "0": [0, 97, 115, 109, 1, 0, 0, 0, 1, 5, 1, 96, 0, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 6, 1, 4, 0, 16, 0, 11], "1": [0, 97, 115, 109, 1, 0, 0, 0, 1, 6, 1, 96, 1, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 8, 1, 6, 0, 32, 0, 16, 0, 11], "2": [0, 97, 115, 109, 1, 0, 0, 0, 1, 7, 1, 96, 2, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 10, 1, 8, 0, 32, 0, 32, 1, 16, 0, 11], "3": [0, 97, 115, 109, 1, 0, 0, 0, 1, 8, 1, 96, 3, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 12, 1, 10, 0, 32, 0, 32, 1, 32, 2, 16, 0, 11], "4": [0, 97, 115, 109, 1, 0, 0, 0, 1, 9, 1, 96, 4, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 14, 1, 12, 0, 32, 0, 32, 1, 32, 2, 32, 3, 16, 0, 11], "5": [0, 97, 115, 109, 1, 0, 0, 0, 1, 10, 1, 96, 5, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 16, 1, 14, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 16, 0, 11], "6": [0, 97, 115, 109, 1, 0, 0, 0, 1, 11, 1, 96, 6, 127, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 18, 1, 16, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 32, 5, 16, 0, 11], "7": [0, 97, 115, 109, 1, 0, 0, 0, 1, 12, 1, 96, 7, 127, 127, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 20, 1, 18, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 32, 5, 32, 6, 16, 0, 11], "8": [0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 1, 96, 8, 127, 127, 127, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 22, 1, 20, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 32, 5, 32, 6, 32, 7, 16, 0, 11], "9": [0, 97, 115, 109, 1, 0, 0, 0, 1, 14, 1, 96, 9, 127, 127, 127, 127, 127, 127, 127, 127, 127, 1, 127, 2, 16, 1, 3, 101, 110, 118, 8, 100, 101, 108, 101, 103, 97, 116, 101, 0, 0, 3, 2, 1, 0, 7, 8, 1, 4, 103, 108, 117, 101, 0, 1, 10, 24, 1, 22, 0, 32, 0, 32, 1, 32, 2, 32, 3, 32, 4, 32, 5, 32, 6, 32, 7, 32, 8, 16, 0, 11] };
  }
});

// node_modules/wasi-kernel/src/kernel/bits/dyld.ts
function bindAll(instance, methods) {
  return methods.reduce((d, m) => Object.assign(d, { [m]: instance[m].bind(instance) }), {});
}
var DynamicLoader, DynamicLibrary, EM_GLOBAL_NS, EM_ALIASES;
var init_dyld = __esm({
  "node_modules/wasi-kernel/src/kernel/bits/dyld.ts"() {
    init_process_shim();
    init_buffer_shim();
    init_delegation();
    DynamicLoader = class {
      core;
      dylibTable;
      constructor(core) {
        this.core = core;
      }
      preload(path2, uri, reloc) {
        if (!this.dylibTable)
          this.dylibTable = new DynamicLibrary.Table();
        if (this.dylibTable.def.has(path2))
          return;
        return this.core.fetchCompile(uri).then((w) => {
          this.dylibTable.def.set(path2, new DynamicLibrary.Def(w, reloc, { path: path2, uri }));
        });
      }
      get import() {
        return bindAll(this, ["dlopen", "dlsym", "dlclose"]);
      }
      get extlib() {
        return bindAll(this, ["dlerror_get"]);
      }
      // -----------
      // Loader Part
      // -----------
      dlopen(path2, flags) {
        var path_str = this.userGetCString(path2).toString("utf-8");
        this.core.trace.syscalls(`dlopen("${path_str}", ${flags})`);
        if (!this.dylibTable)
          return 0;
        var def = this.dylibTable.def.get(path_str);
        if (def) {
          var instance = def.instantiate(this.core), handle = this.dylibTable.ref.size + 1;
          this.dylibTable.ref.set(handle, { def, instance });
          return handle;
        } else {
          return 0;
        }
      }
      dlsym(handle, symbol) {
        var symbol_str = this.userGetCString(symbol).toString("utf-8");
        this.core.trace.syscalls(`dlsym(${handle}, "${symbol_str}")`);
        var ref = this.dylibTable.ref.get(handle);
        if (ref) {
          var sym = ref.instance.exports[symbol_str];
          if (sym && sym instanceof Function) {
            return this.allocateFunc(sym);
          }
          var js = ref.def.reloc?.js?.[symbol_str], d = js && this.allocateDelegate(js);
          if (d !== void 0)
            return d;
        }
        return 0;
      }
      dlclose(handle) {
      }
      dlerror_get(pbuf) {
        var ret = "not found\0";
        return this.userCStringMalloc(ret, pbuf);
      }
      allocateFunc(func) {
        var h = this.core.proc.funcTable.grow(1);
        this.core.proc.funcTable.set(h, func);
        return h;
      }
      allocateDelegate(func) {
        var bin = delegation_default[func.length];
        if (bin) {
          var mod = new WebAssembly.Module(new Uint8Array(bin)), inst = new WebAssembly.Instance(mod, { env: { delegate: func } });
          return this.allocateFunc(inst.exports["glue"]);
        } else {
          console.warn(`cannot delegate function with ${func.length} arguments:`, func);
        }
      }
      // - some helpers from Proc
      userGetCString(addr) {
        return this.core.proc.userGetCString(addr);
      }
      userCStringMalloc(s, pbuf) {
        return this.core.proc.userCStringMalloc(s, pbuf);
      }
    };
    ((DynamicLibrary2) => {
      class Table {
        def = /* @__PURE__ */ new Map();
        ref = /* @__PURE__ */ new Map();
      }
      DynamicLibrary2.Table = Table;
      class Def {
        module;
        reloc;
        metadata;
        stackSize = 1 << 16;
        /** @todo */
        memBlocks = 10;
        /** @todo */
        tblSize = 1024;
        /** @todo */
        constructor(module, reloc = {}, metadata = {}) {
          this.module = module;
          this.reloc = reloc;
          this.metadata = metadata;
        }
        instantiate(core) {
          var stack_base = core.wasi.memory.buffer.byteLength, mem_base = stack_base + this.stackSize, tbl_base = core.proc.funcTable.length;
          core.wasi.memory.grow(this.memBlocks);
          core.proc.funcTable.grow(this.tblSize);
          var globals = this.globals(this.module, core.wasm.instance);
          var instance = new WebAssembly.Instance(this.module, {
            env: {
              memory: core.wasi.memory,
              table: core.proc.funcTable,
              // <--- Emscripten
              __indirect_function_table: core.proc.funcTable,
              __memory_base: mem_base,
              __table_base: tbl_base,
              __stack_pointer: this._mkglobal(mem_base),
              // stack grows down?
              stackSave: () => mem_base,
              // <--- Emscripten
              stackRestore: () => {
              },
              ...this.relocTable(this.module, core.wasm.instance, core.proc.import),
              ...this.emglobals(this.module, mem_base, core.wasm.instance, () => instance)
            },
            ...globals,
            wasik_ext: core.proc.extlib
          });
          this.globalsInit(instance, mem_base, globals["GOT.mem"] || {});
          var init = instance.exports.__post_instantiate;
          if (init instanceof Function)
            init();
          var ctors = instance.exports.__wasm_call_ctors;
          if (ctors instanceof Function)
            ctors();
          return instance;
        }
        relocTable(module, main2, std) {
          var imports = WebAssembly.Module.imports(module), env2 = {};
          for (let imp of imports) {
            if (imp.module == "env" && imp.kind === "function") {
              var exp = this.reloc.js?.[imp.name] || main2.exports[EM_ALIASES[imp.name] || imp.name] || std[imp.name];
              if (exp instanceof Function)
                env2[imp.name] = exp;
              else {
                console.warn("unresolved symbol:", imp, "\nin", this.metadata);
                env2[imp.name] = () => 0;
              }
            }
          }
          return env2;
        }
        globals(module, main2) {
          var imports = WebAssembly.Module.imports(module), g = {};
          for (let imp of imports) {
            if (imp.kind === "global" && imp.module.match(EM_GLOBAL_NS)) {
              var exp = main2.exports[imp.name];
              g[imp.module] ??= {};
              g[imp.module][imp.name] = this._mkglobal(
                exp instanceof WebAssembly.Global ? exp.value : void 0
              );
            }
          }
          return g;
        }
        globalsInit(instance, mem_base, globals) {
          for (let g in globals) {
            var exp = instance.exports[g];
            if (exp instanceof WebAssembly.Global)
              globals[g].value = mem_base + exp.value;
          }
        }
        /**
         * [internal] creates a table of self-referenced globals.
         * Specific to Emscripten.
         */
        emglobals(module, mem_base, main2, instance) {
          var imports = WebAssembly.Module.imports(module), exports = WebAssembly.Module.exports(module), resolve = (symbol) => mem_base + +instance().exports[symbol], g = {};
          for (let imp of imports) {
            if (imp.kind === "function" && imp.name.startsWith("g$")) {
              let name = imp.name.slice(2), bud;
              if (bud = main2.exports[name])
                g[imp.name] = () => bud;
              else if (bud = exports.find((wed) => wed.name == name))
                g[imp.name] = () => resolve(name);
            }
          }
          return g;
        }
        _mkglobal(initial = 3735928559) {
          return new WebAssembly.Global({ value: "i32", mutable: true }, initial);
        }
      }
      DynamicLibrary2.Def = Def;
    })(DynamicLibrary || (DynamicLibrary = {}));
    EM_GLOBAL_NS = /^GOT[.]/;
    EM_ALIASES = { fiprintf: "fprintf" };
  }
});

// node_modules/wasi-kernel/src/kernel/bits/fs.ts
var constants, FsServices, fs;
var init_fs = __esm({
  "node_modules/wasi-kernel/src/kernel/bits/fs.ts"() {
    init_process_shim();
    init_buffer_shim();
    constants = {
      O_RDONLY: 0,
      O_WRONLY: 1,
      O_RDWR: 2,
      S_IFMT: 61440,
      S_IFREG: 32768,
      S_IFDIR: 16384,
      S_IFCHR: 8192,
      S_IFBLK: 24576,
      S_IFIFO: 4096,
      S_IFLNK: 40960,
      S_IFSOCK: 49152,
      O_CREAT: 512,
      O_EXCL: 2048,
      O_NOCTTY: 131072,
      O_TRUNC: 1024,
      O_APPEND: 8,
      O_DIRECTORY: 1048576,
      O_NOFOLLOW: 256,
      O_SYNC: 128,
      O_DSYNC: 4194304,
      O_SYMLINK: 2097152,
      O_NONBLOCK: 4,
      S_IRWXU: 448,
      S_IRUSR: 256,
      S_IWUSR: 128,
      S_IXUSR: 64,
      S_IRWXG: 56,
      S_IRGRP: 32,
      S_IWGRP: 16,
      S_IXGRP: 8,
      S_IRWXO: 7,
      S_IROTH: 4,
      S_IWOTH: 2,
      S_IXOTH: 1,
      F_OK: 0,
      R_OK: 4,
      W_OK: 2,
      X_OK: 1,
      UV_FS_COPYFILE_EXCL: 1,
      COPYFILE_EXCL: 1
    };
    FsServices = class {
      constants = constants;
      strmode(mode) {
        const c = constants;
        let ret = "";
        let d = {
          [c.S_IFDIR]: "d",
          [c.S_IFCHR]: "c",
          [c.S_IFBLK]: "b",
          [c.S_IFREG]: "-",
          [c.S_IFLNK]: "l",
          [c.S_IFSOCK]: "s",
          [c.S_IFIFO]: "p"
        };
        ret += d[mode & c.S_IFMT] || "?";
        ret += mode & c.S_IRUSR ? "r" : "-";
        ret += mode & c.S_IWUSR ? "w" : "-";
        ret += mode & c.S_IXUSR ? "x" : "-";
        ret += mode & c.S_IRGRP ? "r" : "-";
        ret += mode & c.S_IWGRP ? "w" : "-";
        ret += mode & c.S_IXGRP ? "x" : "-";
        ret += mode & c.S_IROTH ? "r" : "-";
        ret += mode & c.S_IWOTH ? "w" : "-";
        ret += mode & c.S_IXOTH ? "x" : "-";
        return ret;
      }
    };
    fs = new FsServices();
  }
});

// node_modules/wasi-kernel/src/kernel/bindings/utf8.ts
var utf8encode, utf8decode;
var init_utf8 = __esm({
  "node_modules/wasi-kernel/src/kernel/bindings/utf8.ts"() {
    init_process_shim();
    init_buffer_shim();
    if (typeof TextEncoder !== "undefined") {
      utf8encode = (text) => new TextEncoder().encode(text);
    } else {
      utf8encode = (text) => import_buffer.Buffer.from(text);
    }
    if (typeof TextDecoder !== "undefined") {
      utf8decode = (ui8a) => new TextDecoder().decode(ui8a);
    } else {
      utf8decode = (ui8a) => import_buffer.Buffer.from(ui8a).toString("utf-8");
    }
  }
});

// node_modules/wasi-kernel/src/kernel/bits/proc.ts
function bindAll2(instance, methods) {
  return methods.reduce((d, m) => Object.assign(d, { [m]: instance[m].bind(instance) }), {});
}
var import_assert, import_path, import_events2, constants2, import_buffer2, Proc, AT_FDCWD, RIGHTS_ALL2, SignalVector, PATH_MAX, NSIG, ExecvCall, Longjmp, MaybeSharedArrayBuffer3;
var init_proc = __esm({
  "node_modules/wasi-kernel/src/kernel/bits/proc.ts"() {
    init_process_shim();
    init_buffer_shim();
    import_assert = __toESM(require_assert());
    import_path = __toESM(require_path_browserify());
    import_events2 = __toESM(require_events());
    constants2 = __toESM(require_constants());
    init_stubs();
    import_buffer2 = __toESM(require_buffer());
    init_queue();
    init_dyld();
    init_fs();
    init_utf8();
    Proc = class extends import_events2.EventEmitter {
      core;
      opts;
      sigvec;
      childq;
      dyld;
      childset;
      onJoin;
      pending;
      funcTable;
      debug;
      constructor(core, opts = {}) {
        super();
        this.core = core;
        this.opts = opts;
        this.sigvec = new SignalVector();
        this.sigvec.on("signal", (ev) => this.emit("syscall", {
          func: "signal",
          data: ev
        }));
        this.childq = new SharedQueue({ data: new Uint32Array(new MaybeSharedArrayBuffer3(4 * 128)) });
        this.childset = /* @__PURE__ */ new Set();
        this.dyld = new DynamicLoader(core);
        this.pending = [];
      }
      init() {
        const newfd = this.newfd() + 1, fdcwd = {
          /* type File is not exported by wasmer :( */
          real: newfd,
          rights: RIGHTS_ALL2,
          // uhm
          filetype: constants2.WASI_FILETYPE_DIRECTORY,
          path: ".",
          fakePath: "."
        };
        this.core.wasi.FD_MAP.set(AT_FDCWD, fdcwd);
        this.core.wasi.FD_MAP.set(newfd, fdcwd);
        this.core.wasmFs.fs.writeFileSync("/dev/null", "");
      }
      get import() {
        this.sigvec.debug = this.debug;
        if (!this.funcTable) {
          this.funcTable = new WebAssembly.Table({
            initial: this.opts.funcTableSz || 1024,
            element: "anyfunc"
          });
        }
        return {
          ...stubs_default,
          __indirect_function_table: this.funcTable,
          ...bindAll2(this, [
            "geteuid",
            "strmode",
            "__control_setjmp",
            "__control_setjmp_with_return",
            "setjmp",
            "longjmp",
            "sigsetjmp",
            "siglongjmp",
            "vfork",
            "__control_fork",
            "wait",
            "wait3",
            "execve",
            "sigkill",
            "sigsuspend",
            "sigaction",
            "getpagesize",
            "posix_spawn"
          ]),
          ...this.dyld.import
        };
      }
      get extlib() {
        return {
          ...bindAll2(this, [
            "trace",
            "sorry",
            "dupfd",
            "progname_get",
            "login_get"
          ]),
          ...this.dyld.extlib
        };
      }
      get path() {
        return {
          ...import_path.default,
          resolve: (dir, ...paths) => {
            if (dir == ".")
              dir = this.core.env.PWD;
            return import_path.default.resolve(dir || "/", ...paths);
          }
        };
      }
      get mem() {
        this.core.wasi.refreshMemory();
        return this.core.wasi.view;
      }
      get membuf() {
        return import_buffer2.Buffer.from(this.core.wasi.memory.buffer);
      }
      /**
       * This is a nasty hack and so deserves an apology.
       */
      sorry() {
        for (var f; f = this.pending.pop(); f())
          ;
      }
      // ----------------
      // Environment Part
      // ----------------
      getenv_all() {
        var wasik_environ = this.core.wasm.instance.exports.wasik_environ;
        return typeof wasik_environ === "function" ? this.parse_env(wasik_environ()) : {};
      }
      parse_env(environ) {
        var d = {};
        for (let envvar of this.userGetCStrings(environ)) {
          this._parse_envvar(envvar, d);
        }
        return d;
      }
      _parse_envvar(buf, d) {
        try {
          var text = new TextDecoder().decode(buf), mo = text.match(/^(.*?)=(.*)$/);
          if (mo)
            d[mo[1]] = mo[2];
          else
            console.warn(`invalid envvar? '${text}'`);
        } catch (e) {
          console.warn("parse_env", e);
        }
      }
      progname_get(pbuf) {
        var ret = this.core.argv[0] + "\0";
        return this.userCStringMalloc(ret, pbuf);
      }
      login_get(pbuf) {
        var ret = "user\0";
        return this.userCStringMalloc(ret, pbuf);
      }
      geteuid() {
        return 0;
      }
      trace(message) {
        var buf = this.userGetCString(message);
        this.core.trace.user(buf);
      }
      // ----------
      // Files Part
      // ----------
      realpath(file_name, resolved_name) {
        var arg = this.userGetCString(file_name);
        if (resolved_name === 0)
          throw "realpath(0): not implemented";
        let ret = import_path.default.resolve(this.core.env.PWD, utf8decode(arg)) + "\0";
        if (ret.length > PATH_MAX)
          throw { errno: 1, code: "ERANGE" };
        this.membuf.write(ret, resolved_name);
        return resolved_name;
      }
      newfd(minfd = 0) {
        var highest = Math.max(...this.core.wasi.FD_MAP.keys());
        return Math.max(minfd, highest + 1);
      }
      dupfd(fd2, minfd, cloexec) {
        this.core.trace.syscalls(`dupfd(${fd2}, ${minfd}, ${cloexec}`);
        var desc = this.core.wasi.FD_MAP.get(fd2);
        if (!desc)
          return -1;
        var newfd = this.newfd(minfd);
        this.core.wasi.FD_MAP.set(newfd, this.dupdesc(desc));
        return newfd;
      }
      dupdesc(desc) {
        var newreal = this.core.wasmFs.volume.openSync("/", "r");
        var realFD_MAP = this.core.wasmFs.volume.fds;
        realFD_MAP[newreal] = realFD_MAP[desc.real];
        return Object.assign({}, desc, { real: newreal });
      }
      strmode(mode, buf) {
        let ret = fs.strmode(mode) + "\0";
        this.membuf.write(ret, buf);
      }
      // ------------
      // Control Part
      // ------------
      __control_setjmp(env2, block) {
        this.debug(`__control_setjmp [${env2}, ${block}]`);
        this.mem.setUint32(env2, 0);
        let impl = this.blockImpl(block), val = 0;
        try {
          while (true) {
            try {
              return impl(val);
            } catch (e) {
              this.debug(`setjmp caught ${JSON.stringify(e)}`);
              if (e instanceof Longjmp && e.env == env2)
                val = e.val;
              else
                throw e;
            }
          }
        } finally {
          this.debug(`__control_setjmp exiting`);
        }
      }
      __control_setjmp_with_return(env2, block) {
        return this.__control_setjmp(env2, block);
      }
      setjmp(env2) {
        console.warn("setjmp", env2);
        return 0;
      }
      longjmp(env2, val) {
        this.debug(`longjmp [${env2}] ${val}`);
        throw new Longjmp(env2, val);
      }
      sigsetjmp(env2, save_mask) {
        this.core.trace.syscalls(`sigsetjmp(${env2}, ${save_mask})`);
        return 0;
      }
      siglongjmp(env2, val) {
        this.longjmp(env2, val);
      }
      vfork() {
        this.core.trace.syscalls("vfork()");
        var pid = Math.max(0, ...this.childset) + 1;
        this.childset.add(pid);
        this.onJoin = (onset) => {
          if (onset instanceof ExecvCall) {
            let e = onset;
            this.emit("syscall", {
              func: "spawn",
              data: { pid, execv: e.copy(), env: this.getenv_all() }
            });
          } else
            throw onset;
        };
        return pid;
      }
      __control_fork(v1, v2, block) {
        let impl = this.blockImpl(block);
        try {
          impl(v1);
          if (this.onJoin)
            this.onJoin(null);
        } catch (e) {
          if (this.onJoin)
            this.onJoin(e);
        }
        this.onJoin = null;
        impl(v2);
      }
      execve(path2, argv, envp) {
        this.core.trace.syscalls(`execv(${path2}, ${argv}, ${envp})`);
        throw new ExecvCall(
          utf8decode(this.userGetCString(path2)),
          this.userGetCStrings(argv),
          this.userGetCStrings(envp)
        );
      }
      posix_spawn(pid, path2, file_actions, attrp, argv, envp) {
        var pathStr = utf8decode(this.userGetCString(path2));
        this.core.trace.syscalls(`posix_spawn(${pid}, "${pathStr}", ${file_actions}, ${attrp}, ...})`);
        var execv = new ExecvCall(
          pathStr,
          this.userGetCStrings(argv),
          this.userGetCStrings(envp)
        ), newPid = Math.max(0, ...this.childset) + 1;
        this.emit("syscall", {
          func: "spawn",
          data: { pid: newPid, execv, env: this.core.env }
        });
        this.mem.setUint32(pid, newPid, true);
        return 0;
      }
      wait(stat_loc) {
        this.core.trace.syscalls(`wait(${stat_loc})`);
        return this.waitBase(stat_loc);
      }
      wait3(stat_loc, options, rusage) {
        this.core.trace.syscalls(`wait3(${stat_loc}, ${options}, ${rusage})`);
        return this.waitBase(stat_loc);
      }
      waitBase(stat_loc) {
        var pid = this.childq.dequeue(), exitcode = this.childq.dequeue();
        this.debug(`  -> ${pid}`);
        if (stat_loc !== 0)
          this.mem.setUint32(stat_loc, exitcode << 8, true);
        return pid;
      }
      // - some helpers
      userGetCString(addr) {
        if (addr == 0)
          return null;
        let mem = import_buffer2.Buffer.from(this.core.wasi.memory.buffer);
        return mem.slice(addr, mem.indexOf(0, addr));
      }
      userGetCStrings(addr) {
        if (addr == 0)
          return null;
        let l = [];
        while (1) {
          let s = this.mem.getUint32(addr, true);
          if (s === 0)
            break;
          l.push(this.userGetCString(s));
          addr += 4;
        }
        return l;
      }
      userCStringMalloc(s, pbuf) {
        this.pending.push(() => {
          let buf = this.mem.getUint32(pbuf, true);
          this.membuf.write(s, buf);
        });
        return s.length;
      }
      /**
       * Used to invoke blocks: returns a function
       * @param block a C block pointer
       */
      blockImpl(block) {
        let impl = this.funcTable.get(
          this.mem.getUint32(block + 12, true)
        );
        return (...args) => impl(block, ...args);
      }
      // ------------
      // Signals Part
      // ------------
      sigkill(signum) {
        this.sigvec.send(signum);
      }
      sigsuspend() {
        this.sigvec.receive();
      }
      sigaction(signum, act, oact) {
        this.core.trace.syscalls(`sigaction(${signum}, ${act}, ${oact})`);
        if (act != 0) {
          var sa_handler = this.mem.getUint32(act, true);
          var h = this.funcTable.get(sa_handler);
          this.core.trace.syscalls(" -->", sa_handler, h);
          this.sigvec.handlers[signum] = h;
        }
        if (oact != 0) {
          this.mem.setUint32(oact, 0);
        }
      }
      // -----------
      // Memory Part
      // -----------
      getpagesize() {
        return 4096;
      }
    };
    AT_FDCWD = -100;
    RIGHTS_ALL2 = {
      base: constants2.RIGHTS_ALL,
      inheriting: constants2.RIGHTS_ALL
    };
    SignalVector = class _SignalVector extends import_events2.EventEmitter {
      wait;
      _snapshot;
      handlers;
      debug;
      constructor(_from = {}) {
        super();
        this.wait = _from.wait || new Int32Array(new MaybeSharedArrayBuffer3(4 * NSIG));
        this.handlers = Array(NSIG);
      }
      static from(props) {
        return new _SignalVector(props);
      }
      to() {
        return { wait: this.wait };
      }
      send(signum) {
        (0, import_assert.default)(0 < signum && signum < NSIG);
        Atomics.add(this.wait, 0, 1);
        Atomics.add(this.wait, signum, 1);
        Atomics.notify(this.wait, 0, 1);
      }
      receive(signums) {
        if (!this._snapshot)
          this._snapshot = new Int32Array(NSIG);
        Atomics.wait(this.wait, 0, Atomics.load(this.wait, 0));
        this.sweep(signums);
        return -1;
      }
      sweep(signums) {
        for (let i = 1; i < NSIG; i++) {
          if (!signums || signums.includes(i)) {
            let h = this.handlers[i];
            if (h && this._snapshot[i] < this.wait[i]) {
              this.debug("calling", h);
              h(i);
            }
            this._snapshot[i] = this.wait[i];
          }
        }
      }
    };
    PATH_MAX = 256;
    NSIG = 20;
    ExecvCall = class _ExecvCall {
      prog;
      argv;
      envp;
      constructor(prog, argv, envp) {
        this.prog = prog;
        this.argv = argv;
        this.envp = envp;
      }
      /**
       * (internal) This is needed in order to transfer the `ExecvCall`
       * via `postMessage`.
       */
      copy() {
        var cpa = (bs) => bs.map((b) => import_buffer2.Buffer.from(b));
        return new _ExecvCall(
          this.prog,
          cpa(this.argv),
          cpa(this.envp)
        );
      }
    };
    Longjmp = class {
      env;
      val;
      constructor(env2, val) {
        this.env = env2;
        this.val = val;
      }
    };
    MaybeSharedArrayBuffer3 = typeof SharedArrayBuffer != "undefined" ? SharedArrayBuffer : ArrayBuffer;
  }
});

// node_modules/wasi-kernel/src/infra/arch.ts
var isNode, isBrowser;
var init_arch = __esm({
  "node_modules/wasi-kernel/src/infra/arch.ts"() {
    init_process_shim();
    init_buffer_shim();
    isNode = self.process && self.process.versions && self.process.versions.node;
    isBrowser = typeof window === "object" || typeof DedicatedWorkerGlobalScope === "function";
  }
});

// node_modules/memfs/lib/constants.js
var require_constants2 = __commonJS({
  "node_modules/memfs/lib/constants.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.constants = {
      O_RDONLY: 0,
      O_WRONLY: 1,
      O_RDWR: 2,
      S_IFMT: 61440,
      S_IFREG: 32768,
      S_IFDIR: 16384,
      S_IFCHR: 8192,
      S_IFBLK: 24576,
      S_IFIFO: 4096,
      S_IFLNK: 40960,
      S_IFSOCK: 49152,
      O_CREAT: 64,
      O_EXCL: 128,
      O_NOCTTY: 256,
      O_TRUNC: 512,
      O_APPEND: 1024,
      O_DIRECTORY: 65536,
      O_NOATIME: 262144,
      O_NOFOLLOW: 131072,
      O_SYNC: 1052672,
      O_DIRECT: 16384,
      O_NONBLOCK: 2048,
      S_IRWXU: 448,
      S_IRUSR: 256,
      S_IWUSR: 128,
      S_IXUSR: 64,
      S_IRWXG: 56,
      S_IRGRP: 32,
      S_IWGRP: 16,
      S_IXGRP: 8,
      S_IRWXO: 7,
      S_IROTH: 4,
      S_IWOTH: 2,
      S_IXOTH: 1,
      F_OK: 0,
      R_OK: 4,
      W_OK: 2,
      X_OK: 1,
      UV_FS_SYMLINK_DIR: 1,
      UV_FS_SYMLINK_JUNCTION: 2,
      UV_FS_COPYFILE_EXCL: 1,
      UV_FS_COPYFILE_FICLONE: 2,
      UV_FS_COPYFILE_FICLONE_FORCE: 4,
      COPYFILE_EXCL: 1,
      COPYFILE_FICLONE: 2,
      COPYFILE_FICLONE_FORCE: 4
    };
  }
});

// node_modules/memfs/lib/getBigInt.js
var require_getBigInt = __commonJS({
  "node_modules/memfs/lib/getBigInt.js"(exports) {
    init_process_shim();
    init_buffer_shim();
    if (typeof BigInt === "function")
      exports.default = BigInt;
    else
      exports.default = function BigIntNotSupported() {
        throw new Error("BigInt is not supported in this environment.");
      };
  }
});

// node_modules/memfs/lib/Stats.js
var require_Stats = __commonJS({
  "node_modules/memfs/lib/Stats.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var constants_1 = require_constants2();
    var getBigInt_1 = require_getBigInt();
    var S_IFMT = constants_1.constants.S_IFMT;
    var S_IFDIR = constants_1.constants.S_IFDIR;
    var S_IFREG = constants_1.constants.S_IFREG;
    var S_IFBLK = constants_1.constants.S_IFBLK;
    var S_IFCHR = constants_1.constants.S_IFCHR;
    var S_IFLNK = constants_1.constants.S_IFLNK;
    var S_IFIFO = constants_1.constants.S_IFIFO;
    var S_IFSOCK = constants_1.constants.S_IFSOCK;
    var Stats = (
      /** @class */
      function() {
        function Stats2() {
        }
        Stats2.build = function(node, bigint) {
          if (bigint === void 0) {
            bigint = false;
          }
          var stats = new Stats2();
          var uid = node.uid, gid = node.gid, atime = node.atime, mtime = node.mtime, ctime = node.ctime;
          var getStatNumber = !bigint ? function(number) {
            return number;
          } : getBigInt_1.default;
          stats.uid = getStatNumber(uid);
          stats.gid = getStatNumber(gid);
          stats.rdev = getStatNumber(0);
          stats.blksize = getStatNumber(4096);
          stats.ino = getStatNumber(node.ino);
          stats.size = getStatNumber(node.getSize());
          stats.blocks = getStatNumber(1);
          stats.atime = atime;
          stats.mtime = mtime;
          stats.ctime = ctime;
          stats.birthtime = ctime;
          stats.atimeMs = getStatNumber(atime.getTime());
          stats.mtimeMs = getStatNumber(mtime.getTime());
          var ctimeMs = getStatNumber(ctime.getTime());
          stats.ctimeMs = ctimeMs;
          stats.birthtimeMs = ctimeMs;
          stats.dev = getStatNumber(0);
          stats.mode = getStatNumber(node.mode);
          stats.nlink = getStatNumber(node.nlink);
          return stats;
        };
        Stats2.prototype._checkModeProperty = function(property) {
          return (Number(this.mode) & S_IFMT) === property;
        };
        Stats2.prototype.isDirectory = function() {
          return this._checkModeProperty(S_IFDIR);
        };
        Stats2.prototype.isFile = function() {
          return this._checkModeProperty(S_IFREG);
        };
        Stats2.prototype.isBlockDevice = function() {
          return this._checkModeProperty(S_IFBLK);
        };
        Stats2.prototype.isCharacterDevice = function() {
          return this._checkModeProperty(S_IFCHR);
        };
        Stats2.prototype.isSymbolicLink = function() {
          return this._checkModeProperty(S_IFLNK);
        };
        Stats2.prototype.isFIFO = function() {
          return this._checkModeProperty(S_IFIFO);
        };
        Stats2.prototype.isSocket = function() {
          return this._checkModeProperty(S_IFSOCK);
        };
        return Stats2;
      }()
    );
    exports.Stats = Stats;
    exports.default = Stats;
  }
});

// node_modules/memfs/lib/internal/buffer.js
var require_buffer2 = __commonJS({
  "node_modules/memfs/lib/internal/buffer.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var __spreadArrays = exports && exports.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++)
        s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
          r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var buffer_1 = require_buffer();
    exports.Buffer = buffer_1.Buffer;
    function bufferV0P12Ponyfill(arg0) {
      var args = [];
      for (var _i = 1; _i < arguments.length; _i++) {
        args[_i - 1] = arguments[_i];
      }
      return new (buffer_1.Buffer.bind.apply(buffer_1.Buffer, __spreadArrays([void 0, arg0], args)))();
    }
    var bufferAllocUnsafe = buffer_1.Buffer.allocUnsafe || bufferV0P12Ponyfill;
    exports.bufferAllocUnsafe = bufferAllocUnsafe;
    var bufferFrom = buffer_1.Buffer.from || bufferV0P12Ponyfill;
    exports.bufferFrom = bufferFrom;
  }
});

// node_modules/memfs/lib/internal/errors.js
var require_errors2 = __commonJS({
  "node_modules/memfs/lib/internal/errors.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var __extends = exports && exports.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b3) {
          d2.__proto__ = b3;
        } || function(d2, b3) {
          for (var p in b3)
            if (b3.hasOwnProperty(p))
              d2[p] = b3[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", { value: true });
    var assert4 = require_assert();
    var util = require_util();
    var kCode = typeof Symbol === "undefined" ? "_kCode" : Symbol("code");
    var messages = {};
    function makeNodeError(Base) {
      return (
        /** @class */
        function(_super) {
          __extends(NodeError, _super);
          function NodeError(key) {
            var args = [];
            for (var _i = 1; _i < arguments.length; _i++) {
              args[_i - 1] = arguments[_i];
            }
            var _this = _super.call(this, message(key, args)) || this;
            _this.code = key;
            _this[kCode] = key;
            _this.name = _super.prototype.name + " [" + _this[kCode] + "]";
            return _this;
          }
          return NodeError;
        }(Base)
      );
    }
    var AssertionError = (
      /** @class */
      function(_super) {
        __extends(AssertionError2, _super);
        function AssertionError2(options) {
          var _this = this;
          if (typeof options !== "object" || options === null) {
            throw new exports.TypeError("ERR_INVALID_ARG_TYPE", "options", "object");
          }
          if (options.message) {
            _this = _super.call(this, options.message) || this;
          } else {
            _this = _super.call(this, util.inspect(options.actual).slice(0, 128) + " " + (options.operator + " " + util.inspect(options.expected).slice(0, 128))) || this;
          }
          _this.generatedMessage = !options.message;
          _this.name = "AssertionError [ERR_ASSERTION]";
          _this.code = "ERR_ASSERTION";
          _this.actual = options.actual;
          _this.expected = options.expected;
          _this.operator = options.operator;
          exports.Error.captureStackTrace(_this, options.stackStartFunction);
          return _this;
        }
        return AssertionError2;
      }(self.Error)
    );
    exports.AssertionError = AssertionError;
    function message(key, args) {
      assert4.strictEqual(typeof key, "string");
      var msg = messages[key];
      assert4(msg, "An invalid error message key was used: " + key + ".");
      var fmt;
      if (typeof msg === "function") {
        fmt = msg;
      } else {
        fmt = util.format;
        if (args === void 0 || args.length === 0)
          return msg;
        args.unshift(msg);
      }
      return String(fmt.apply(null, args));
    }
    exports.message = message;
    function E(sym, val) {
      messages[sym] = typeof val === "function" ? val : String(val);
    }
    exports.E = E;
    exports.Error = makeNodeError(self.Error);
    exports.TypeError = makeNodeError(self.TypeError);
    exports.RangeError = makeNodeError(self.RangeError);
    E("ERR_ARG_NOT_ITERABLE", "%s must be iterable");
    E("ERR_ASSERTION", "%s");
    E("ERR_BUFFER_OUT_OF_BOUNDS", bufferOutOfBounds);
    E("ERR_CHILD_CLOSED_BEFORE_REPLY", "Child closed before reply received");
    E("ERR_CONSOLE_WRITABLE_STREAM", "Console expects a writable stream instance for %s");
    E("ERR_CPU_USAGE", "Unable to obtain cpu usage %s");
    E("ERR_DNS_SET_SERVERS_FAILED", function(err2, servers) {
      return 'c-ares failed to set servers: "' + err2 + '" [' + servers + "]";
    });
    E("ERR_FALSY_VALUE_REJECTION", "Promise was rejected with falsy value");
    E("ERR_ENCODING_NOT_SUPPORTED", function(enc) {
      return 'The "' + enc + '" encoding is not supported';
    });
    E("ERR_ENCODING_INVALID_ENCODED_DATA", function(enc) {
      return "The encoded data was not valid for encoding " + enc;
    });
    E("ERR_HTTP_HEADERS_SENT", "Cannot render headers after they are sent to the client");
    E("ERR_HTTP_INVALID_STATUS_CODE", "Invalid status code: %s");
    E("ERR_HTTP_TRAILER_INVALID", "Trailers are invalid with this transfer encoding");
    E("ERR_INDEX_OUT_OF_RANGE", "Index out of range");
    E("ERR_INVALID_ARG_TYPE", invalidArgType);
    E("ERR_INVALID_ARRAY_LENGTH", function(name, len, actual) {
      assert4.strictEqual(typeof actual, "number");
      return 'The array "' + name + '" (length ' + actual + ") must be of length " + len + ".";
    });
    E("ERR_INVALID_BUFFER_SIZE", "Buffer size must be a multiple of %s");
    E("ERR_INVALID_CALLBACK", "Callback must be a function");
    E("ERR_INVALID_CHAR", "Invalid character in %s");
    E("ERR_INVALID_CURSOR_POS", "Cannot set cursor row without setting its column");
    E("ERR_INVALID_FD", '"fd" must be a positive integer: %s');
    E("ERR_INVALID_FILE_URL_HOST", 'File URL host must be "localhost" or empty on %s');
    E("ERR_INVALID_FILE_URL_PATH", "File URL path %s");
    E("ERR_INVALID_HANDLE_TYPE", "This handle type cannot be sent");
    E("ERR_INVALID_IP_ADDRESS", "Invalid IP address: %s");
    E("ERR_INVALID_OPT_VALUE", function(name, value) {
      return 'The value "' + String(value) + '" is invalid for option "' + name + '"';
    });
    E("ERR_INVALID_OPT_VALUE_ENCODING", function(value) {
      return 'The value "' + String(value) + '" is invalid for option "encoding"';
    });
    E("ERR_INVALID_REPL_EVAL_CONFIG", 'Cannot specify both "breakEvalOnSigint" and "eval" for REPL');
    E("ERR_INVALID_SYNC_FORK_INPUT", "Asynchronous forks do not support Buffer, Uint8Array or string input: %s");
    E("ERR_INVALID_THIS", 'Value of "this" must be of type %s');
    E("ERR_INVALID_TUPLE", "%s must be an iterable %s tuple");
    E("ERR_INVALID_URL", "Invalid URL: %s");
    E("ERR_INVALID_URL_SCHEME", function(expected) {
      return "The URL must be " + oneOf(expected, "scheme");
    });
    E("ERR_IPC_CHANNEL_CLOSED", "Channel closed");
    E("ERR_IPC_DISCONNECTED", "IPC channel is already disconnected");
    E("ERR_IPC_ONE_PIPE", "Child process can have only one IPC pipe");
    E("ERR_IPC_SYNC_FORK", "IPC cannot be used with synchronous forks");
    E("ERR_MISSING_ARGS", missingArgs);
    E("ERR_MULTIPLE_CALLBACK", "Callback called multiple times");
    E("ERR_NAPI_CONS_FUNCTION", "Constructor must be a function");
    E("ERR_NAPI_CONS_PROTOTYPE_OBJECT", "Constructor.prototype must be an object");
    E("ERR_NO_CRYPTO", "Node.js is not compiled with OpenSSL crypto support");
    E("ERR_NO_LONGER_SUPPORTED", "%s is no longer supported");
    E("ERR_PARSE_HISTORY_DATA", "Could not parse history data in %s");
    E("ERR_SOCKET_ALREADY_BOUND", "Socket is already bound");
    E("ERR_SOCKET_BAD_PORT", "Port should be > 0 and < 65536");
    E("ERR_SOCKET_BAD_TYPE", "Bad socket type specified. Valid types are: udp4, udp6");
    E("ERR_SOCKET_CANNOT_SEND", "Unable to send data");
    E("ERR_SOCKET_CLOSED", "Socket is closed");
    E("ERR_SOCKET_DGRAM_NOT_RUNNING", "Not running");
    E("ERR_STDERR_CLOSE", "process.stderr cannot be closed");
    E("ERR_STDOUT_CLOSE", "process.stdout cannot be closed");
    E("ERR_STREAM_WRAP", "Stream has StringDecoder set or is in objectMode");
    E("ERR_TLS_CERT_ALTNAME_INVALID", "Hostname/IP does not match certificate's altnames: %s");
    E("ERR_TLS_DH_PARAM_SIZE", function(size) {
      return "DH parameter size " + size + " is less than 2048";
    });
    E("ERR_TLS_HANDSHAKE_TIMEOUT", "TLS handshake timeout");
    E("ERR_TLS_RENEGOTIATION_FAILED", "Failed to renegotiate");
    E("ERR_TLS_REQUIRED_SERVER_NAME", '"servername" is required parameter for Server.addContext');
    E("ERR_TLS_SESSION_ATTACK", "TSL session renegotiation attack detected");
    E("ERR_TRANSFORM_ALREADY_TRANSFORMING", "Calling transform done when still transforming");
    E("ERR_TRANSFORM_WITH_LENGTH_0", "Calling transform done when writableState.length != 0");
    E("ERR_UNKNOWN_ENCODING", "Unknown encoding: %s");
    E("ERR_UNKNOWN_SIGNAL", "Unknown signal: %s");
    E("ERR_UNKNOWN_STDIN_TYPE", "Unknown stdin file type");
    E("ERR_UNKNOWN_STREAM_TYPE", "Unknown stream file type");
    E("ERR_V8BREAKITERATOR", "Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl");
    function invalidArgType(name, expected, actual) {
      assert4(name, "name is required");
      var determiner;
      if (expected.includes("not ")) {
        determiner = "must not be";
        expected = expected.split("not ")[1];
      } else {
        determiner = "must be";
      }
      var msg;
      if (Array.isArray(name)) {
        var names2 = name.map(function(val) {
          return '"' + val + '"';
        }).join(", ");
        msg = "The " + names2 + " arguments " + determiner + " " + oneOf(expected, "type");
      } else if (name.includes(" argument")) {
        msg = "The " + name + " " + determiner + " " + oneOf(expected, "type");
      } else {
        var type = name.includes(".") ? "property" : "argument";
        msg = 'The "' + name + '" ' + type + " " + determiner + " " + oneOf(expected, "type");
      }
      if (arguments.length >= 3) {
        msg += ". Received type " + (actual !== null ? typeof actual : "null");
      }
      return msg;
    }
    function missingArgs() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      assert4(args.length > 0, "At least one arg needs to be specified");
      var msg = "The ";
      var len = args.length;
      args = args.map(function(a) {
        return '"' + a + '"';
      });
      switch (len) {
        case 1:
          msg += args[0] + " argument";
          break;
        case 2:
          msg += args[0] + " and " + args[1] + " arguments";
          break;
        default:
          msg += args.slice(0, len - 1).join(", ");
          msg += ", and " + args[len - 1] + " arguments";
          break;
      }
      return msg + " must be specified";
    }
    function oneOf(expected, thing) {
      assert4(expected, "expected is required");
      assert4(typeof thing === "string", "thing is required");
      if (Array.isArray(expected)) {
        var len = expected.length;
        assert4(len > 0, "At least one expected value needs to be specified");
        expected = expected.map(function(i) {
          return String(i);
        });
        if (len > 2) {
          return "one of " + thing + " " + expected.slice(0, len - 1).join(", ") + ", or " + expected[len - 1];
        } else if (len === 2) {
          return "one of " + thing + " " + expected[0] + " or " + expected[1];
        } else {
          return "of " + thing + " " + expected[0];
        }
      } else {
        return "of " + thing + " " + String(expected);
      }
    }
    function bufferOutOfBounds(name, isWriting) {
      if (isWriting) {
        return "Attempt to write outside buffer bounds";
      } else {
        return '"' + name + '" is outside of buffer bounds';
      }
    }
  }
});

// node_modules/memfs/lib/encoding.js
var require_encoding = __commonJS({
  "node_modules/memfs/lib/encoding.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var buffer_1 = require_buffer2();
    var errors = require_errors2();
    exports.ENCODING_UTF8 = "utf8";
    function assertEncoding(encoding) {
      if (encoding && !buffer_1.Buffer.isEncoding(encoding))
        throw new errors.TypeError("ERR_INVALID_OPT_VALUE_ENCODING", encoding);
    }
    exports.assertEncoding = assertEncoding;
    function strToEncoding(str, encoding) {
      if (!encoding || encoding === exports.ENCODING_UTF8)
        return str;
      if (encoding === "buffer")
        return new buffer_1.Buffer(str);
      return new buffer_1.Buffer(str).toString(encoding);
    }
    exports.strToEncoding = strToEncoding;
  }
});

// node_modules/memfs/lib/Dirent.js
var require_Dirent = __commonJS({
  "node_modules/memfs/lib/Dirent.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var constants_1 = require_constants2();
    var encoding_1 = require_encoding();
    var S_IFMT = constants_1.constants.S_IFMT;
    var S_IFDIR = constants_1.constants.S_IFDIR;
    var S_IFREG = constants_1.constants.S_IFREG;
    var S_IFBLK = constants_1.constants.S_IFBLK;
    var S_IFCHR = constants_1.constants.S_IFCHR;
    var S_IFLNK = constants_1.constants.S_IFLNK;
    var S_IFIFO = constants_1.constants.S_IFIFO;
    var S_IFSOCK = constants_1.constants.S_IFSOCK;
    var Dirent = (
      /** @class */
      function() {
        function Dirent2() {
          this.name = "";
          this.mode = 0;
        }
        Dirent2.build = function(link, encoding) {
          var dirent = new Dirent2();
          var mode = link.getNode().mode;
          dirent.name = encoding_1.strToEncoding(link.getName(), encoding);
          dirent.mode = mode;
          return dirent;
        };
        Dirent2.prototype._checkModeProperty = function(property) {
          return (this.mode & S_IFMT) === property;
        };
        Dirent2.prototype.isDirectory = function() {
          return this._checkModeProperty(S_IFDIR);
        };
        Dirent2.prototype.isFile = function() {
          return this._checkModeProperty(S_IFREG);
        };
        Dirent2.prototype.isBlockDevice = function() {
          return this._checkModeProperty(S_IFBLK);
        };
        Dirent2.prototype.isCharacterDevice = function() {
          return this._checkModeProperty(S_IFCHR);
        };
        Dirent2.prototype.isSymbolicLink = function() {
          return this._checkModeProperty(S_IFLNK);
        };
        Dirent2.prototype.isFIFO = function() {
          return this._checkModeProperty(S_IFIFO);
        };
        Dirent2.prototype.isSocket = function() {
          return this._checkModeProperty(S_IFSOCK);
        };
        return Dirent2;
      }()
    );
    exports.Dirent = Dirent;
    exports.default = Dirent;
  }
});

// node_modules/process/browser.js
var require_browser = __commonJS({
  "node_modules/process/browser.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    var process2 = module.exports = {};
    var cachedSetTimeout;
    var cachedClearTimeout;
    function defaultSetTimout() {
      throw new Error("setTimeout has not been defined");
    }
    function defaultClearTimeout() {
      throw new Error("clearTimeout has not been defined");
    }
    (function() {
      try {
        if (typeof setTimeout === "function") {
          cachedSetTimeout = setTimeout;
        } else {
          cachedSetTimeout = defaultSetTimout;
        }
      } catch (e) {
        cachedSetTimeout = defaultSetTimout;
      }
      try {
        if (typeof clearTimeout === "function") {
          cachedClearTimeout = clearTimeout;
        } else {
          cachedClearTimeout = defaultClearTimeout;
        }
      } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
      }
    })();
    function runTimeout(fun) {
      if (cachedSetTimeout === setTimeout) {
        return setTimeout(fun, 0);
      }
      if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
      }
      try {
        return cachedSetTimeout(fun, 0);
      } catch (e) {
        try {
          return cachedSetTimeout.call(null, fun, 0);
        } catch (e2) {
          return cachedSetTimeout.call(this, fun, 0);
        }
      }
    }
    function runClearTimeout(marker) {
      if (cachedClearTimeout === clearTimeout) {
        return clearTimeout(marker);
      }
      if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
      }
      try {
        return cachedClearTimeout(marker);
      } catch (e) {
        try {
          return cachedClearTimeout.call(null, marker);
        } catch (e2) {
          return cachedClearTimeout.call(this, marker);
        }
      }
    }
    var queue = [];
    var draining = false;
    var currentQueue;
    var queueIndex = -1;
    function cleanUpNextTick() {
      if (!draining || !currentQueue) {
        return;
      }
      draining = false;
      if (currentQueue.length) {
        queue = currentQueue.concat(queue);
      } else {
        queueIndex = -1;
      }
      if (queue.length) {
        drainQueue();
      }
    }
    function drainQueue() {
      if (draining) {
        return;
      }
      var timeout = runTimeout(cleanUpNextTick);
      draining = true;
      var len = queue.length;
      while (len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
          if (currentQueue) {
            currentQueue[queueIndex].run();
          }
        }
        queueIndex = -1;
        len = queue.length;
      }
      currentQueue = null;
      draining = false;
      runClearTimeout(timeout);
    }
    process2.nextTick = function(fun) {
      var args = new Array(arguments.length - 1);
      if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
          args[i - 1] = arguments[i];
        }
      }
      queue.push(new Item(fun, args));
      if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
      }
    };
    function Item(fun, array) {
      this.fun = fun;
      this.array = array;
    }
    Item.prototype.run = function() {
      this.fun.apply(null, this.array);
    };
    process2.title = "browser";
    process2.browser = true;
    process2.env = {};
    process2.argv = [];
    process2.version = "";
    process2.versions = {};
    function noop() {
    }
    process2.on = noop;
    process2.addListener = noop;
    process2.once = noop;
    process2.off = noop;
    process2.removeListener = noop;
    process2.removeAllListeners = noop;
    process2.emit = noop;
    process2.prependListener = noop;
    process2.prependOnceListener = noop;
    process2.listeners = function(name) {
      return [];
    };
    process2.binding = function(name) {
      throw new Error("process.binding is not supported");
    };
    process2.cwd = function() {
      return "/";
    };
    process2.chdir = function(dir) {
      throw new Error("process.chdir is not supported");
    };
    process2.umask = function() {
      return 0;
    };
  }
});

// node_modules/memfs/lib/setImmediate.js
var require_setImmediate = __commonJS({
  "node_modules/memfs/lib/setImmediate.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var _setImmediate;
    if (typeof setImmediate === "function")
      _setImmediate = setImmediate.bind(self);
    else
      _setImmediate = setTimeout.bind(self);
    exports.default = _setImmediate;
  }
});

// node_modules/memfs/lib/process.js
var require_process = __commonJS({
  "node_modules/memfs/lib/process.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var maybeReturnProcess = function() {
      if (typeof process !== "undefined") {
        return process;
      }
      try {
        return require_browser();
      } catch (_a2) {
        return void 0;
      }
    };
    function createProcess() {
      var p = maybeReturnProcess() || {};
      if (!p.getuid)
        p.getuid = function() {
          return 0;
        };
      if (!p.getgid)
        p.getgid = function() {
          return 0;
        };
      if (!p.cwd)
        p.cwd = function() {
          return "/";
        };
      if (!p.nextTick)
        p.nextTick = require_setImmediate().default;
      if (!p.emitWarning)
        p.emitWarning = function(message, type) {
          console.warn("" + type + (type ? ": " : "") + message);
        };
      if (!p.env)
        p.env = {};
      return p;
    }
    exports.createProcess = createProcess;
    exports.default = createProcess();
  }
});

// node_modules/memfs/lib/node.js
var require_node = __commonJS({
  "node_modules/memfs/lib/node.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var __extends = exports && exports.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b3) {
          d2.__proto__ = b3;
        } || function(d2, b3) {
          for (var p in b3)
            if (b3.hasOwnProperty(p))
              d2[p] = b3[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    Object.defineProperty(exports, "__esModule", { value: true });
    var process_1 = require_process();
    var buffer_1 = require_buffer2();
    var constants_1 = require_constants2();
    var events_1 = require_events();
    var Stats_1 = require_Stats();
    var S_IFMT = constants_1.constants.S_IFMT;
    var S_IFDIR = constants_1.constants.S_IFDIR;
    var S_IFREG = constants_1.constants.S_IFREG;
    var S_IFBLK = constants_1.constants.S_IFBLK;
    var S_IFCHR = constants_1.constants.S_IFCHR;
    var S_IFLNK = constants_1.constants.S_IFLNK;
    var S_IFIFO = constants_1.constants.S_IFIFO;
    var S_IFSOCK = constants_1.constants.S_IFSOCK;
    var O_APPEND = constants_1.constants.O_APPEND;
    exports.SEP = "/";
    var Node2 = (
      /** @class */
      function(_super) {
        __extends(Node3, _super);
        function Node3(ino, perm) {
          if (perm === void 0) {
            perm = 438;
          }
          var _this = _super.call(this) || this;
          _this.uid = process_1.default.getuid();
          _this.gid = process_1.default.getgid();
          _this.atime = /* @__PURE__ */ new Date();
          _this.mtime = /* @__PURE__ */ new Date();
          _this.ctime = /* @__PURE__ */ new Date();
          _this.perm = 438;
          _this.mode = S_IFREG;
          _this.nlink = 1;
          _this.perm = perm;
          _this.mode |= perm;
          _this.ino = ino;
          return _this;
        }
        Node3.prototype.getString = function(encoding) {
          if (encoding === void 0) {
            encoding = "utf8";
          }
          return this.getBuffer().toString(encoding);
        };
        Node3.prototype.setString = function(str) {
          this.buf = buffer_1.bufferFrom(str, "utf8");
          this.touch();
        };
        Node3.prototype.getBuffer = function() {
          if (!this.buf)
            this.setBuffer(buffer_1.bufferAllocUnsafe(0));
          return buffer_1.bufferFrom(this.buf);
        };
        Node3.prototype.setBuffer = function(buf) {
          this.buf = buffer_1.bufferFrom(buf);
          this.touch();
        };
        Node3.prototype.getSize = function() {
          return this.buf ? this.buf.length : 0;
        };
        Node3.prototype.setModeProperty = function(property) {
          this.mode = this.mode & ~S_IFMT | property;
        };
        Node3.prototype.setIsFile = function() {
          this.setModeProperty(S_IFREG);
        };
        Node3.prototype.setIsDirectory = function() {
          this.setModeProperty(S_IFDIR);
        };
        Node3.prototype.setIsSymlink = function() {
          this.setModeProperty(S_IFLNK);
        };
        Node3.prototype.isFile = function() {
          return (this.mode & S_IFMT) === S_IFREG;
        };
        Node3.prototype.isDirectory = function() {
          return (this.mode & S_IFMT) === S_IFDIR;
        };
        Node3.prototype.isSymlink = function() {
          return (this.mode & S_IFMT) === S_IFLNK;
        };
        Node3.prototype.makeSymlink = function(steps) {
          this.symlink = steps;
          this.setIsSymlink();
        };
        Node3.prototype.write = function(buf, off, len, pos) {
          if (off === void 0) {
            off = 0;
          }
          if (len === void 0) {
            len = buf.length;
          }
          if (pos === void 0) {
            pos = 0;
          }
          if (!this.buf)
            this.buf = buffer_1.bufferAllocUnsafe(0);
          if (pos + len > this.buf.length) {
            var newBuf = buffer_1.bufferAllocUnsafe(pos + len);
            this.buf.copy(newBuf, 0, 0, this.buf.length);
            this.buf = newBuf;
          }
          buf.copy(this.buf, pos, off, off + len);
          this.touch();
          return len;
        };
        Node3.prototype.read = function(buf, off, len, pos) {
          if (off === void 0) {
            off = 0;
          }
          if (len === void 0) {
            len = buf.byteLength;
          }
          if (pos === void 0) {
            pos = 0;
          }
          if (!this.buf)
            this.buf = buffer_1.bufferAllocUnsafe(0);
          var actualLen = len;
          if (actualLen > buf.byteLength) {
            actualLen = buf.byteLength;
          }
          if (actualLen + pos > this.buf.length) {
            actualLen = this.buf.length - pos;
          }
          this.buf.copy(buf, off, pos, pos + actualLen);
          return actualLen;
        };
        Node3.prototype.truncate = function(len) {
          if (len === void 0) {
            len = 0;
          }
          if (!len)
            this.buf = buffer_1.bufferAllocUnsafe(0);
          else {
            if (!this.buf)
              this.buf = buffer_1.bufferAllocUnsafe(0);
            if (len <= this.buf.length) {
              this.buf = this.buf.slice(0, len);
            } else {
              var buf = buffer_1.bufferAllocUnsafe(0);
              this.buf.copy(buf);
              buf.fill(0, len);
            }
          }
          this.touch();
        };
        Node3.prototype.chmod = function(perm) {
          this.perm = perm;
          this.mode = this.mode & ~511 | perm;
          this.touch();
        };
        Node3.prototype.chown = function(uid, gid) {
          this.uid = uid;
          this.gid = gid;
          this.touch();
        };
        Node3.prototype.touch = function() {
          this.mtime = /* @__PURE__ */ new Date();
          this.emit("change", this);
        };
        Node3.prototype.canRead = function(uid, gid) {
          if (uid === void 0) {
            uid = process_1.default.getuid();
          }
          if (gid === void 0) {
            gid = process_1.default.getgid();
          }
          if (this.perm & 4) {
            return true;
          }
          if (gid === this.gid) {
            if (this.perm & 32) {
              return true;
            }
          }
          if (uid === this.uid) {
            if (this.perm & 256) {
              return true;
            }
          }
          return false;
        };
        Node3.prototype.canWrite = function(uid, gid) {
          if (uid === void 0) {
            uid = process_1.default.getuid();
          }
          if (gid === void 0) {
            gid = process_1.default.getgid();
          }
          if (this.perm & 2) {
            return true;
          }
          if (gid === this.gid) {
            if (this.perm & 16) {
              return true;
            }
          }
          if (uid === this.uid) {
            if (this.perm & 128) {
              return true;
            }
          }
          return false;
        };
        Node3.prototype.del = function() {
          this.emit("delete", this);
        };
        Node3.prototype.toJSON = function() {
          return {
            ino: this.ino,
            uid: this.uid,
            gid: this.gid,
            atime: this.atime.getTime(),
            mtime: this.mtime.getTime(),
            ctime: this.ctime.getTime(),
            perm: this.perm,
            mode: this.mode,
            nlink: this.nlink,
            symlink: this.symlink,
            data: this.getString()
          };
        };
        return Node3;
      }(events_1.EventEmitter)
    );
    exports.Node = Node2;
    var Link2 = (
      /** @class */
      function(_super) {
        __extends(Link3, _super);
        function Link3(vol, parent, name) {
          var _this = _super.call(this) || this;
          _this.children = {};
          _this.steps = [];
          _this.ino = 0;
          _this.length = 0;
          _this.vol = vol;
          _this.parent = parent;
          _this.steps = parent ? parent.steps.concat([name]) : [name];
          return _this;
        }
        Link3.prototype.setNode = function(node) {
          this.node = node;
          this.ino = node.ino;
        };
        Link3.prototype.getNode = function() {
          return this.node;
        };
        Link3.prototype.createChild = function(name, node) {
          if (node === void 0) {
            node = this.vol.createNode();
          }
          var link = new Link3(this.vol, this, name);
          link.setNode(node);
          if (node.isDirectory()) {
          }
          this.setChild(name, link);
          return link;
        };
        Link3.prototype.setChild = function(name, link) {
          if (link === void 0) {
            link = new Link3(this.vol, this, name);
          }
          this.children[name] = link;
          link.parent = this;
          this.length++;
          this.emit("child:add", link, this);
          return link;
        };
        Link3.prototype.deleteChild = function(link) {
          delete this.children[link.getName()];
          this.length--;
          this.emit("child:delete", link, this);
        };
        Link3.prototype.getChild = function(name) {
          if (Object.hasOwnProperty.call(this.children, name)) {
            return this.children[name];
          }
        };
        Link3.prototype.getPath = function() {
          return this.steps.join(exports.SEP);
        };
        Link3.prototype.getName = function() {
          return this.steps[this.steps.length - 1];
        };
        Link3.prototype.walk = function(steps, stop, i) {
          if (stop === void 0) {
            stop = steps.length;
          }
          if (i === void 0) {
            i = 0;
          }
          if (i >= steps.length)
            return this;
          if (i >= stop)
            return this;
          var step = steps[i];
          var link = this.getChild(step);
          if (!link)
            return null;
          return link.walk(steps, stop, i + 1);
        };
        Link3.prototype.toJSON = function() {
          return {
            steps: this.steps,
            ino: this.ino,
            children: Object.keys(this.children)
          };
        };
        return Link3;
      }(events_1.EventEmitter)
    );
    exports.Link = Link2;
    var File = (
      /** @class */
      function() {
        function File2(link, node, flags, fd2) {
          this.position = 0;
          this.link = link;
          this.node = node;
          this.flags = flags;
          this.fd = fd2;
        }
        File2.prototype.getString = function(encoding) {
          if (encoding === void 0) {
            encoding = "utf8";
          }
          return this.node.getString();
        };
        File2.prototype.setString = function(str) {
          this.node.setString(str);
        };
        File2.prototype.getBuffer = function() {
          return this.node.getBuffer();
        };
        File2.prototype.setBuffer = function(buf) {
          this.node.setBuffer(buf);
        };
        File2.prototype.getSize = function() {
          return this.node.getSize();
        };
        File2.prototype.truncate = function(len) {
          this.node.truncate(len);
        };
        File2.prototype.seekTo = function(position) {
          this.position = position;
        };
        File2.prototype.stats = function() {
          return Stats_1.default.build(this.node);
        };
        File2.prototype.write = function(buf, offset, length, position) {
          if (offset === void 0) {
            offset = 0;
          }
          if (length === void 0) {
            length = buf.length;
          }
          if (typeof position !== "number")
            position = this.position;
          if (this.flags & O_APPEND)
            position = this.getSize();
          var bytes = this.node.write(buf, offset, length, position);
          this.position = position + bytes;
          return bytes;
        };
        File2.prototype.read = function(buf, offset, length, position) {
          if (offset === void 0) {
            offset = 0;
          }
          if (length === void 0) {
            length = buf.byteLength;
          }
          if (typeof position !== "number")
            position = this.position;
          var bytes = this.node.read(buf, offset, length, position);
          this.position = position + bytes;
          return bytes;
        };
        File2.prototype.chmod = function(perm) {
          this.node.chmod(perm);
        };
        File2.prototype.chown = function(uid, gid) {
          this.node.chown(uid, gid);
        };
        return File2;
      }()
    );
    exports.File = File;
  }
});

// node_modules/memfs/lib/setTimeoutUnref.js
var require_setTimeoutUnref = __commonJS({
  "node_modules/memfs/lib/setTimeoutUnref.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    function setTimeoutUnref(callback, time, args) {
      var ref = setTimeout.apply(null, arguments);
      if (ref && typeof ref === "object" && typeof ref.unref === "function")
        ref.unref();
      return ref;
    }
    exports.default = setTimeoutUnref;
  }
});

// node_modules/readable-stream/lib/internal/streams/stream-browser.js
var require_stream_browser = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/stream-browser.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    module.exports = require_events().EventEmitter;
  }
});

// (disabled):node_modules/util/util.js
var require_util2 = __commonJS({
  "(disabled):node_modules/util/util.js"() {
    init_process_shim();
    init_buffer_shim();
  }
});

// node_modules/readable-stream/lib/internal/streams/buffer_list.js
var require_buffer_list = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/buffer_list.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function ownKeys(object, enumerableOnly) {
      var keys = Object.keys(object);
      if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly)
          symbols = symbols.filter(function(sym) {
            return Object.getOwnPropertyDescriptor(object, sym).enumerable;
          });
        keys.push.apply(keys, symbols);
      }
      return keys;
    }
    function _objectSpread(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
          ownKeys(Object(source), true).forEach(function(key) {
            _defineProperty(target, key, source[key]);
          });
        } else if (Object.getOwnPropertyDescriptors) {
          Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
          ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
          });
        }
      }
      return target;
    }
    function _defineProperty(obj, key, value) {
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      return Constructor;
    }
    var _require = require_buffer();
    var Buffer4 = _require.Buffer;
    var _require2 = require_util2();
    var inspect = _require2.inspect;
    var custom = inspect && inspect.custom || "inspect";
    function copyBuffer(src, target, offset) {
      Buffer4.prototype.copy.call(src, target, offset);
    }
    module.exports = /* @__PURE__ */ function() {
      function BufferList() {
        _classCallCheck(this, BufferList);
        this.head = null;
        this.tail = null;
        this.length = 0;
      }
      _createClass(BufferList, [{
        key: "push",
        value: function push(v) {
          var entry = {
            data: v,
            next: null
          };
          if (this.length > 0)
            this.tail.next = entry;
          else
            this.head = entry;
          this.tail = entry;
          ++this.length;
        }
      }, {
        key: "unshift",
        value: function unshift(v) {
          var entry = {
            data: v,
            next: this.head
          };
          if (this.length === 0)
            this.tail = entry;
          this.head = entry;
          ++this.length;
        }
      }, {
        key: "shift",
        value: function shift() {
          if (this.length === 0)
            return;
          var ret = this.head.data;
          if (this.length === 1)
            this.head = this.tail = null;
          else
            this.head = this.head.next;
          --this.length;
          return ret;
        }
      }, {
        key: "clear",
        value: function clear() {
          this.head = this.tail = null;
          this.length = 0;
        }
      }, {
        key: "join",
        value: function join(s) {
          if (this.length === 0)
            return "";
          var p = this.head;
          var ret = "" + p.data;
          while (p = p.next) {
            ret += s + p.data;
          }
          return ret;
        }
      }, {
        key: "concat",
        value: function concat(n) {
          if (this.length === 0)
            return Buffer4.alloc(0);
          var ret = Buffer4.allocUnsafe(n >>> 0);
          var p = this.head;
          var i = 0;
          while (p) {
            copyBuffer(p.data, ret, i);
            i += p.data.length;
            p = p.next;
          }
          return ret;
        }
        // Consumes a specified amount of bytes or characters from the buffered data.
      }, {
        key: "consume",
        value: function consume(n, hasStrings) {
          var ret;
          if (n < this.head.data.length) {
            ret = this.head.data.slice(0, n);
            this.head.data = this.head.data.slice(n);
          } else if (n === this.head.data.length) {
            ret = this.shift();
          } else {
            ret = hasStrings ? this._getString(n) : this._getBuffer(n);
          }
          return ret;
        }
      }, {
        key: "first",
        value: function first() {
          return this.head.data;
        }
        // Consumes a specified amount of characters from the buffered data.
      }, {
        key: "_getString",
        value: function _getString(n) {
          var p = this.head;
          var c = 1;
          var ret = p.data;
          n -= ret.length;
          while (p = p.next) {
            var str = p.data;
            var nb = n > str.length ? str.length : n;
            if (nb === str.length)
              ret += str;
            else
              ret += str.slice(0, n);
            n -= nb;
            if (n === 0) {
              if (nb === str.length) {
                ++c;
                if (p.next)
                  this.head = p.next;
                else
                  this.head = this.tail = null;
              } else {
                this.head = p;
                p.data = str.slice(nb);
              }
              break;
            }
            ++c;
          }
          this.length -= c;
          return ret;
        }
        // Consumes a specified amount of bytes from the buffered data.
      }, {
        key: "_getBuffer",
        value: function _getBuffer(n) {
          var ret = Buffer4.allocUnsafe(n);
          var p = this.head;
          var c = 1;
          p.data.copy(ret);
          n -= p.data.length;
          while (p = p.next) {
            var buf = p.data;
            var nb = n > buf.length ? buf.length : n;
            buf.copy(ret, ret.length - n, 0, nb);
            n -= nb;
            if (n === 0) {
              if (nb === buf.length) {
                ++c;
                if (p.next)
                  this.head = p.next;
                else
                  this.head = this.tail = null;
              } else {
                this.head = p;
                p.data = buf.slice(nb);
              }
              break;
            }
            ++c;
          }
          this.length -= c;
          return ret;
        }
        // Make sure the linked list only shows the minimal necessary information.
      }, {
        key: custom,
        value: function value(_, options) {
          return inspect(this, _objectSpread({}, options, {
            // Only inspect one level.
            depth: 0,
            // It should not recurse.
            customInspect: false
          }));
        }
      }]);
      return BufferList;
    }();
  }
});

// node_modules/readable-stream/lib/internal/streams/destroy.js
var require_destroy = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/destroy.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function destroy(err2, cb) {
      var _this = this;
      var readableDestroyed = this._readableState && this._readableState.destroyed;
      var writableDestroyed = this._writableState && this._writableState.destroyed;
      if (readableDestroyed || writableDestroyed) {
        if (cb) {
          cb(err2);
        } else if (err2) {
          if (!this._writableState) {
            process.nextTick(emitErrorNT, this, err2);
          } else if (!this._writableState.errorEmitted) {
            this._writableState.errorEmitted = true;
            process.nextTick(emitErrorNT, this, err2);
          }
        }
        return this;
      }
      if (this._readableState) {
        this._readableState.destroyed = true;
      }
      if (this._writableState) {
        this._writableState.destroyed = true;
      }
      this._destroy(err2 || null, function(err3) {
        if (!cb && err3) {
          if (!_this._writableState) {
            process.nextTick(emitErrorAndCloseNT, _this, err3);
          } else if (!_this._writableState.errorEmitted) {
            _this._writableState.errorEmitted = true;
            process.nextTick(emitErrorAndCloseNT, _this, err3);
          } else {
            process.nextTick(emitCloseNT, _this);
          }
        } else if (cb) {
          process.nextTick(emitCloseNT, _this);
          cb(err3);
        } else {
          process.nextTick(emitCloseNT, _this);
        }
      });
      return this;
    }
    function emitErrorAndCloseNT(self2, err2) {
      emitErrorNT(self2, err2);
      emitCloseNT(self2);
    }
    function emitCloseNT(self2) {
      if (self2._writableState && !self2._writableState.emitClose)
        return;
      if (self2._readableState && !self2._readableState.emitClose)
        return;
      self2.emit("close");
    }
    function undestroy() {
      if (this._readableState) {
        this._readableState.destroyed = false;
        this._readableState.reading = false;
        this._readableState.ended = false;
        this._readableState.endEmitted = false;
      }
      if (this._writableState) {
        this._writableState.destroyed = false;
        this._writableState.ended = false;
        this._writableState.ending = false;
        this._writableState.finalCalled = false;
        this._writableState.prefinished = false;
        this._writableState.finished = false;
        this._writableState.errorEmitted = false;
      }
    }
    function emitErrorNT(self2, err2) {
      self2.emit("error", err2);
    }
    function errorOrDestroy(stream, err2) {
      var rState = stream._readableState;
      var wState = stream._writableState;
      if (rState && rState.autoDestroy || wState && wState.autoDestroy)
        stream.destroy(err2);
      else
        stream.emit("error", err2);
    }
    module.exports = {
      destroy,
      undestroy,
      errorOrDestroy
    };
  }
});

// node_modules/readable-stream/errors-browser.js
var require_errors_browser = __commonJS({
  "node_modules/readable-stream/errors-browser.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function _inheritsLoose(subClass, superClass) {
      subClass.prototype = Object.create(superClass.prototype);
      subClass.prototype.constructor = subClass;
      subClass.__proto__ = superClass;
    }
    var codes = {};
    function createErrorType(code, message, Base) {
      if (!Base) {
        Base = Error;
      }
      function getMessage(arg1, arg2, arg3) {
        if (typeof message === "string") {
          return message;
        } else {
          return message(arg1, arg2, arg3);
        }
      }
      var NodeError = /* @__PURE__ */ function(_Base) {
        _inheritsLoose(NodeError2, _Base);
        function NodeError2(arg1, arg2, arg3) {
          return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;
        }
        return NodeError2;
      }(Base);
      NodeError.prototype.name = Base.name;
      NodeError.prototype.code = code;
      codes[code] = NodeError;
    }
    function oneOf(expected, thing) {
      if (Array.isArray(expected)) {
        var len = expected.length;
        expected = expected.map(function(i) {
          return String(i);
        });
        if (len > 2) {
          return "one of ".concat(thing, " ").concat(expected.slice(0, len - 1).join(", "), ", or ") + expected[len - 1];
        } else if (len === 2) {
          return "one of ".concat(thing, " ").concat(expected[0], " or ").concat(expected[1]);
        } else {
          return "of ".concat(thing, " ").concat(expected[0]);
        }
      } else {
        return "of ".concat(thing, " ").concat(String(expected));
      }
    }
    function startsWith(str, search, pos) {
      return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
    }
    function endsWith(str, search, this_len) {
      if (this_len === void 0 || this_len > str.length) {
        this_len = str.length;
      }
      return str.substring(this_len - search.length, this_len) === search;
    }
    function includes(str, search, start) {
      if (typeof start !== "number") {
        start = 0;
      }
      if (start + search.length > str.length) {
        return false;
      } else {
        return str.indexOf(search, start) !== -1;
      }
    }
    createErrorType("ERR_INVALID_OPT_VALUE", function(name, value) {
      return 'The value "' + value + '" is invalid for option "' + name + '"';
    }, TypeError);
    createErrorType("ERR_INVALID_ARG_TYPE", function(name, expected, actual) {
      var determiner;
      if (typeof expected === "string" && startsWith(expected, "not ")) {
        determiner = "must not be";
        expected = expected.replace(/^not /, "");
      } else {
        determiner = "must be";
      }
      var msg;
      if (endsWith(name, " argument")) {
        msg = "The ".concat(name, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
      } else {
        var type = includes(name, ".") ? "property" : "argument";
        msg = 'The "'.concat(name, '" ').concat(type, " ").concat(determiner, " ").concat(oneOf(expected, "type"));
      }
      msg += ". Received type ".concat(typeof actual);
      return msg;
    }, TypeError);
    createErrorType("ERR_STREAM_PUSH_AFTER_EOF", "stream.push() after EOF");
    createErrorType("ERR_METHOD_NOT_IMPLEMENTED", function(name) {
      return "The " + name + " method is not implemented";
    });
    createErrorType("ERR_STREAM_PREMATURE_CLOSE", "Premature close");
    createErrorType("ERR_STREAM_DESTROYED", function(name) {
      return "Cannot call " + name + " after a stream was destroyed";
    });
    createErrorType("ERR_MULTIPLE_CALLBACK", "Callback called multiple times");
    createErrorType("ERR_STREAM_CANNOT_PIPE", "Cannot pipe, not readable");
    createErrorType("ERR_STREAM_WRITE_AFTER_END", "write after end");
    createErrorType("ERR_STREAM_NULL_VALUES", "May not write null values to stream", TypeError);
    createErrorType("ERR_UNKNOWN_ENCODING", function(arg) {
      return "Unknown encoding: " + arg;
    }, TypeError);
    createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT", "stream.unshift() after end event");
    module.exports.codes = codes;
  }
});

// node_modules/readable-stream/lib/internal/streams/state.js
var require_state = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/state.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var ERR_INVALID_OPT_VALUE = require_errors_browser().codes.ERR_INVALID_OPT_VALUE;
    function highWaterMarkFrom(options, isDuplex, duplexKey) {
      return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;
    }
    function getHighWaterMark(state, options, duplexKey, isDuplex) {
      var hwm = highWaterMarkFrom(options, isDuplex, duplexKey);
      if (hwm != null) {
        if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {
          var name = isDuplex ? duplexKey : "highWaterMark";
          throw new ERR_INVALID_OPT_VALUE(name, hwm);
        }
        return Math.floor(hwm);
      }
      return state.objectMode ? 16 : 16 * 1024;
    }
    module.exports = {
      getHighWaterMark
    };
  }
});

// node_modules/util-deprecate/browser.js
var require_browser2 = __commonJS({
  "node_modules/util-deprecate/browser.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    module.exports = deprecate;
    function deprecate(fn, msg) {
      if (config("noDeprecation")) {
        return fn;
      }
      var warned = false;
      function deprecated() {
        if (!warned) {
          if (config("throwDeprecation")) {
            throw new Error(msg);
          } else if (config("traceDeprecation")) {
            console.trace(msg);
          } else {
            console.warn(msg);
          }
          warned = true;
        }
        return fn.apply(this, arguments);
      }
      return deprecated;
    }
    function config(name) {
      try {
        if (!self.localStorage)
          return false;
      } catch (_) {
        return false;
      }
      var val = self.localStorage[name];
      if (null == val)
        return false;
      return String(val).toLowerCase() === "true";
    }
  }
});

// node_modules/readable-stream/lib/_stream_writable.js
var require_stream_writable = __commonJS({
  "node_modules/readable-stream/lib/_stream_writable.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    module.exports = Writable;
    function CorkedRequest(state) {
      var _this = this;
      this.next = null;
      this.entry = null;
      this.finish = function() {
        onCorkedFinish(_this, state);
      };
    }
    var Duplex;
    Writable.WritableState = WritableState;
    var internalUtil = {
      deprecate: require_browser2()
    };
    var Stream = require_stream_browser();
    var Buffer4 = require_buffer().Buffer;
    var OurUint8Array = self.Uint8Array || function() {
    };
    function _uint8ArrayToBuffer(chunk) {
      return Buffer4.from(chunk);
    }
    function _isUint8Array(obj) {
      return Buffer4.isBuffer(obj) || obj instanceof OurUint8Array;
    }
    var destroyImpl = require_destroy();
    var _require = require_state();
    var getHighWaterMark = _require.getHighWaterMark;
    var _require$codes = require_errors_browser().codes;
    var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
    var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
    var ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK;
    var ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE;
    var ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;
    var ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES;
    var ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END;
    var ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;
    var errorOrDestroy = destroyImpl.errorOrDestroy;
    require_inherits_browser()(Writable, Stream);
    function nop2() {
    }
    function WritableState(options, stream, isDuplex) {
      Duplex = Duplex || require_stream_duplex();
      options = options || {};
      if (typeof isDuplex !== "boolean")
        isDuplex = stream instanceof Duplex;
      this.objectMode = !!options.objectMode;
      if (isDuplex)
        this.objectMode = this.objectMode || !!options.writableObjectMode;
      this.highWaterMark = getHighWaterMark(this, options, "writableHighWaterMark", isDuplex);
      this.finalCalled = false;
      this.needDrain = false;
      this.ending = false;
      this.ended = false;
      this.finished = false;
      this.destroyed = false;
      var noDecode = options.decodeStrings === false;
      this.decodeStrings = !noDecode;
      this.defaultEncoding = options.defaultEncoding || "utf8";
      this.length = 0;
      this.writing = false;
      this.corked = 0;
      this.sync = true;
      this.bufferProcessing = false;
      this.onwrite = function(er) {
        onwrite(stream, er);
      };
      this.writecb = null;
      this.writelen = 0;
      this.bufferedRequest = null;
      this.lastBufferedRequest = null;
      this.pendingcb = 0;
      this.prefinished = false;
      this.errorEmitted = false;
      this.emitClose = options.emitClose !== false;
      this.autoDestroy = !!options.autoDestroy;
      this.bufferedRequestCount = 0;
      this.corkedRequestsFree = new CorkedRequest(this);
    }
    WritableState.prototype.getBuffer = function getBuffer() {
      var current = this.bufferedRequest;
      var out = [];
      while (current) {
        out.push(current);
        current = current.next;
      }
      return out;
    };
    (function() {
      try {
        Object.defineProperty(WritableState.prototype, "buffer", {
          get: internalUtil.deprecate(function writableStateBufferGetter() {
            return this.getBuffer();
          }, "_writableState.buffer is deprecated. Use _writableState.getBuffer instead.", "DEP0003")
        });
      } catch (_) {
      }
    })();
    var realHasInstance;
    if (typeof Symbol === "function" && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === "function") {
      realHasInstance = Function.prototype[Symbol.hasInstance];
      Object.defineProperty(Writable, Symbol.hasInstance, {
        value: function value(object) {
          if (realHasInstance.call(this, object))
            return true;
          if (this !== Writable)
            return false;
          return object && object._writableState instanceof WritableState;
        }
      });
    } else {
      realHasInstance = function realHasInstance2(object) {
        return object instanceof this;
      };
    }
    function Writable(options) {
      Duplex = Duplex || require_stream_duplex();
      var isDuplex = this instanceof Duplex;
      if (!isDuplex && !realHasInstance.call(Writable, this))
        return new Writable(options);
      this._writableState = new WritableState(options, this, isDuplex);
      this.writable = true;
      if (options) {
        if (typeof options.write === "function")
          this._write = options.write;
        if (typeof options.writev === "function")
          this._writev = options.writev;
        if (typeof options.destroy === "function")
          this._destroy = options.destroy;
        if (typeof options.final === "function")
          this._final = options.final;
      }
      Stream.call(this);
    }
    Writable.prototype.pipe = function() {
      errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());
    };
    function writeAfterEnd(stream, cb) {
      var er = new ERR_STREAM_WRITE_AFTER_END();
      errorOrDestroy(stream, er);
      process.nextTick(cb, er);
    }
    function validChunk(stream, state, chunk, cb) {
      var er;
      if (chunk === null) {
        er = new ERR_STREAM_NULL_VALUES();
      } else if (typeof chunk !== "string" && !state.objectMode) {
        er = new ERR_INVALID_ARG_TYPE("chunk", ["string", "Buffer"], chunk);
      }
      if (er) {
        errorOrDestroy(stream, er);
        process.nextTick(cb, er);
        return false;
      }
      return true;
    }
    Writable.prototype.write = function(chunk, encoding, cb) {
      var state = this._writableState;
      var ret = false;
      var isBuf = !state.objectMode && _isUint8Array(chunk);
      if (isBuf && !Buffer4.isBuffer(chunk)) {
        chunk = _uint8ArrayToBuffer(chunk);
      }
      if (typeof encoding === "function") {
        cb = encoding;
        encoding = null;
      }
      if (isBuf)
        encoding = "buffer";
      else if (!encoding)
        encoding = state.defaultEncoding;
      if (typeof cb !== "function")
        cb = nop2;
      if (state.ending)
        writeAfterEnd(this, cb);
      else if (isBuf || validChunk(this, state, chunk, cb)) {
        state.pendingcb++;
        ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);
      }
      return ret;
    };
    Writable.prototype.cork = function() {
      this._writableState.corked++;
    };
    Writable.prototype.uncork = function() {
      var state = this._writableState;
      if (state.corked) {
        state.corked--;
        if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest)
          clearBuffer(this, state);
      }
    };
    Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {
      if (typeof encoding === "string")
        encoding = encoding.toLowerCase();
      if (!(["hex", "utf8", "utf-8", "ascii", "binary", "base64", "ucs2", "ucs-2", "utf16le", "utf-16le", "raw"].indexOf((encoding + "").toLowerCase()) > -1))
        throw new ERR_UNKNOWN_ENCODING(encoding);
      this._writableState.defaultEncoding = encoding;
      return this;
    };
    Object.defineProperty(Writable.prototype, "writableBuffer", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState && this._writableState.getBuffer();
      }
    });
    function decodeChunk(state, chunk, encoding) {
      if (!state.objectMode && state.decodeStrings !== false && typeof chunk === "string") {
        chunk = Buffer4.from(chunk, encoding);
      }
      return chunk;
    }
    Object.defineProperty(Writable.prototype, "writableHighWaterMark", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState.highWaterMark;
      }
    });
    function writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {
      if (!isBuf) {
        var newChunk = decodeChunk(state, chunk, encoding);
        if (chunk !== newChunk) {
          isBuf = true;
          encoding = "buffer";
          chunk = newChunk;
        }
      }
      var len = state.objectMode ? 1 : chunk.length;
      state.length += len;
      var ret = state.length < state.highWaterMark;
      if (!ret)
        state.needDrain = true;
      if (state.writing || state.corked) {
        var last = state.lastBufferedRequest;
        state.lastBufferedRequest = {
          chunk,
          encoding,
          isBuf,
          callback: cb,
          next: null
        };
        if (last) {
          last.next = state.lastBufferedRequest;
        } else {
          state.bufferedRequest = state.lastBufferedRequest;
        }
        state.bufferedRequestCount += 1;
      } else {
        doWrite(stream, state, false, len, chunk, encoding, cb);
      }
      return ret;
    }
    function doWrite(stream, state, writev, len, chunk, encoding, cb) {
      state.writelen = len;
      state.writecb = cb;
      state.writing = true;
      state.sync = true;
      if (state.destroyed)
        state.onwrite(new ERR_STREAM_DESTROYED("write"));
      else if (writev)
        stream._writev(chunk, state.onwrite);
      else
        stream._write(chunk, encoding, state.onwrite);
      state.sync = false;
    }
    function onwriteError(stream, state, sync, er, cb) {
      --state.pendingcb;
      if (sync) {
        process.nextTick(cb, er);
        process.nextTick(finishMaybe, stream, state);
        stream._writableState.errorEmitted = true;
        errorOrDestroy(stream, er);
      } else {
        cb(er);
        stream._writableState.errorEmitted = true;
        errorOrDestroy(stream, er);
        finishMaybe(stream, state);
      }
    }
    function onwriteStateUpdate(state) {
      state.writing = false;
      state.writecb = null;
      state.length -= state.writelen;
      state.writelen = 0;
    }
    function onwrite(stream, er) {
      var state = stream._writableState;
      var sync = state.sync;
      var cb = state.writecb;
      if (typeof cb !== "function")
        throw new ERR_MULTIPLE_CALLBACK();
      onwriteStateUpdate(state);
      if (er)
        onwriteError(stream, state, sync, er, cb);
      else {
        var finished = needFinish(state) || stream.destroyed;
        if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {
          clearBuffer(stream, state);
        }
        if (sync) {
          process.nextTick(afterWrite, stream, state, finished, cb);
        } else {
          afterWrite(stream, state, finished, cb);
        }
      }
    }
    function afterWrite(stream, state, finished, cb) {
      if (!finished)
        onwriteDrain(stream, state);
      state.pendingcb--;
      cb();
      finishMaybe(stream, state);
    }
    function onwriteDrain(stream, state) {
      if (state.length === 0 && state.needDrain) {
        state.needDrain = false;
        stream.emit("drain");
      }
    }
    function clearBuffer(stream, state) {
      state.bufferProcessing = true;
      var entry = state.bufferedRequest;
      if (stream._writev && entry && entry.next) {
        var l = state.bufferedRequestCount;
        var buffer2 = new Array(l);
        var holder = state.corkedRequestsFree;
        holder.entry = entry;
        var count = 0;
        var allBuffers = true;
        while (entry) {
          buffer2[count] = entry;
          if (!entry.isBuf)
            allBuffers = false;
          entry = entry.next;
          count += 1;
        }
        buffer2.allBuffers = allBuffers;
        doWrite(stream, state, true, state.length, buffer2, "", holder.finish);
        state.pendingcb++;
        state.lastBufferedRequest = null;
        if (holder.next) {
          state.corkedRequestsFree = holder.next;
          holder.next = null;
        } else {
          state.corkedRequestsFree = new CorkedRequest(state);
        }
        state.bufferedRequestCount = 0;
      } else {
        while (entry) {
          var chunk = entry.chunk;
          var encoding = entry.encoding;
          var cb = entry.callback;
          var len = state.objectMode ? 1 : chunk.length;
          doWrite(stream, state, false, len, chunk, encoding, cb);
          entry = entry.next;
          state.bufferedRequestCount--;
          if (state.writing) {
            break;
          }
        }
        if (entry === null)
          state.lastBufferedRequest = null;
      }
      state.bufferedRequest = entry;
      state.bufferProcessing = false;
    }
    Writable.prototype._write = function(chunk, encoding, cb) {
      cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"));
    };
    Writable.prototype._writev = null;
    Writable.prototype.end = function(chunk, encoding, cb) {
      var state = this._writableState;
      if (typeof chunk === "function") {
        cb = chunk;
        chunk = null;
        encoding = null;
      } else if (typeof encoding === "function") {
        cb = encoding;
        encoding = null;
      }
      if (chunk !== null && chunk !== void 0)
        this.write(chunk, encoding);
      if (state.corked) {
        state.corked = 1;
        this.uncork();
      }
      if (!state.ending)
        endWritable(this, state, cb);
      return this;
    };
    Object.defineProperty(Writable.prototype, "writableLength", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState.length;
      }
    });
    function needFinish(state) {
      return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;
    }
    function callFinal(stream, state) {
      stream._final(function(err2) {
        state.pendingcb--;
        if (err2) {
          errorOrDestroy(stream, err2);
        }
        state.prefinished = true;
        stream.emit("prefinish");
        finishMaybe(stream, state);
      });
    }
    function prefinish(stream, state) {
      if (!state.prefinished && !state.finalCalled) {
        if (typeof stream._final === "function" && !state.destroyed) {
          state.pendingcb++;
          state.finalCalled = true;
          process.nextTick(callFinal, stream, state);
        } else {
          state.prefinished = true;
          stream.emit("prefinish");
        }
      }
    }
    function finishMaybe(stream, state) {
      var need = needFinish(state);
      if (need) {
        prefinish(stream, state);
        if (state.pendingcb === 0) {
          state.finished = true;
          stream.emit("finish");
          if (state.autoDestroy) {
            var rState = stream._readableState;
            if (!rState || rState.autoDestroy && rState.endEmitted) {
              stream.destroy();
            }
          }
        }
      }
      return need;
    }
    function endWritable(stream, state, cb) {
      state.ending = true;
      finishMaybe(stream, state);
      if (cb) {
        if (state.finished)
          process.nextTick(cb);
        else
          stream.once("finish", cb);
      }
      state.ended = true;
      stream.writable = false;
    }
    function onCorkedFinish(corkReq, state, err2) {
      var entry = corkReq.entry;
      corkReq.entry = null;
      while (entry) {
        var cb = entry.callback;
        state.pendingcb--;
        cb(err2);
        entry = entry.next;
      }
      state.corkedRequestsFree.next = corkReq;
    }
    Object.defineProperty(Writable.prototype, "destroyed", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        if (this._writableState === void 0) {
          return false;
        }
        return this._writableState.destroyed;
      },
      set: function set(value) {
        if (!this._writableState) {
          return;
        }
        this._writableState.destroyed = value;
      }
    });
    Writable.prototype.destroy = destroyImpl.destroy;
    Writable.prototype._undestroy = destroyImpl.undestroy;
    Writable.prototype._destroy = function(err2, cb) {
      cb(err2);
    };
  }
});

// node_modules/readable-stream/lib/_stream_duplex.js
var require_stream_duplex = __commonJS({
  "node_modules/readable-stream/lib/_stream_duplex.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var objectKeys = Object.keys || function(obj) {
      var keys2 = [];
      for (var key in obj) {
        keys2.push(key);
      }
      return keys2;
    };
    module.exports = Duplex;
    var Readable = require_stream_readable();
    var Writable = require_stream_writable();
    require_inherits_browser()(Duplex, Readable);
    {
      keys = objectKeys(Writable.prototype);
      for (v = 0; v < keys.length; v++) {
        method = keys[v];
        if (!Duplex.prototype[method])
          Duplex.prototype[method] = Writable.prototype[method];
      }
    }
    var keys;
    var method;
    var v;
    function Duplex(options) {
      if (!(this instanceof Duplex))
        return new Duplex(options);
      Readable.call(this, options);
      Writable.call(this, options);
      this.allowHalfOpen = true;
      if (options) {
        if (options.readable === false)
          this.readable = false;
        if (options.writable === false)
          this.writable = false;
        if (options.allowHalfOpen === false) {
          this.allowHalfOpen = false;
          this.once("end", onend);
        }
      }
    }
    Object.defineProperty(Duplex.prototype, "writableHighWaterMark", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState.highWaterMark;
      }
    });
    Object.defineProperty(Duplex.prototype, "writableBuffer", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState && this._writableState.getBuffer();
      }
    });
    Object.defineProperty(Duplex.prototype, "writableLength", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._writableState.length;
      }
    });
    function onend() {
      if (this._writableState.ended)
        return;
      process.nextTick(onEndNT, this);
    }
    function onEndNT(self2) {
      self2.end();
    }
    Object.defineProperty(Duplex.prototype, "destroyed", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        if (this._readableState === void 0 || this._writableState === void 0) {
          return false;
        }
        return this._readableState.destroyed && this._writableState.destroyed;
      },
      set: function set(value) {
        if (this._readableState === void 0 || this._writableState === void 0) {
          return;
        }
        this._readableState.destroyed = value;
        this._writableState.destroyed = value;
      }
    });
  }
});

// node_modules/safe-buffer/index.js
var require_safe_buffer = __commonJS({
  "node_modules/safe-buffer/index.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    var buffer2 = require_buffer();
    var Buffer4 = buffer2.Buffer;
    function copyProps(src, dst) {
      for (var key in src) {
        dst[key] = src[key];
      }
    }
    if (Buffer4.from && Buffer4.alloc && Buffer4.allocUnsafe && Buffer4.allocUnsafeSlow) {
      module.exports = buffer2;
    } else {
      copyProps(buffer2, exports);
      exports.Buffer = SafeBuffer;
    }
    function SafeBuffer(arg, encodingOrOffset, length) {
      return Buffer4(arg, encodingOrOffset, length);
    }
    SafeBuffer.prototype = Object.create(Buffer4.prototype);
    copyProps(Buffer4, SafeBuffer);
    SafeBuffer.from = function(arg, encodingOrOffset, length) {
      if (typeof arg === "number") {
        throw new TypeError("Argument must not be a number");
      }
      return Buffer4(arg, encodingOrOffset, length);
    };
    SafeBuffer.alloc = function(size, fill, encoding) {
      if (typeof size !== "number") {
        throw new TypeError("Argument must be a number");
      }
      var buf = Buffer4(size);
      if (fill !== void 0) {
        if (typeof encoding === "string") {
          buf.fill(fill, encoding);
        } else {
          buf.fill(fill);
        }
      } else {
        buf.fill(0);
      }
      return buf;
    };
    SafeBuffer.allocUnsafe = function(size) {
      if (typeof size !== "number") {
        throw new TypeError("Argument must be a number");
      }
      return Buffer4(size);
    };
    SafeBuffer.allocUnsafeSlow = function(size) {
      if (typeof size !== "number") {
        throw new TypeError("Argument must be a number");
      }
      return buffer2.SlowBuffer(size);
    };
  }
});

// node_modules/string_decoder/lib/string_decoder.js
var require_string_decoder = __commonJS({
  "node_modules/string_decoder/lib/string_decoder.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var Buffer4 = require_safe_buffer().Buffer;
    var isEncoding = Buffer4.isEncoding || function(encoding) {
      encoding = "" + encoding;
      switch (encoding && encoding.toLowerCase()) {
        case "hex":
        case "utf8":
        case "utf-8":
        case "ascii":
        case "binary":
        case "base64":
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
        case "raw":
          return true;
        default:
          return false;
      }
    };
    function _normalizeEncoding(enc) {
      if (!enc)
        return "utf8";
      var retried;
      while (true) {
        switch (enc) {
          case "utf8":
          case "utf-8":
            return "utf8";
          case "ucs2":
          case "ucs-2":
          case "utf16le":
          case "utf-16le":
            return "utf16le";
          case "latin1":
          case "binary":
            return "latin1";
          case "base64":
          case "ascii":
          case "hex":
            return enc;
          default:
            if (retried)
              return;
            enc = ("" + enc).toLowerCase();
            retried = true;
        }
      }
    }
    function normalizeEncoding(enc) {
      var nenc = _normalizeEncoding(enc);
      if (typeof nenc !== "string" && (Buffer4.isEncoding === isEncoding || !isEncoding(enc)))
        throw new Error("Unknown encoding: " + enc);
      return nenc || enc;
    }
    exports.StringDecoder = StringDecoder;
    function StringDecoder(encoding) {
      this.encoding = normalizeEncoding(encoding);
      var nb;
      switch (this.encoding) {
        case "utf16le":
          this.text = utf16Text;
          this.end = utf16End;
          nb = 4;
          break;
        case "utf8":
          this.fillLast = utf8FillLast;
          nb = 4;
          break;
        case "base64":
          this.text = base64Text;
          this.end = base64End;
          nb = 3;
          break;
        default:
          this.write = simpleWrite;
          this.end = simpleEnd;
          return;
      }
      this.lastNeed = 0;
      this.lastTotal = 0;
      this.lastChar = Buffer4.allocUnsafe(nb);
    }
    StringDecoder.prototype.write = function(buf) {
      if (buf.length === 0)
        return "";
      var r;
      var i;
      if (this.lastNeed) {
        r = this.fillLast(buf);
        if (r === void 0)
          return "";
        i = this.lastNeed;
        this.lastNeed = 0;
      } else {
        i = 0;
      }
      if (i < buf.length)
        return r ? r + this.text(buf, i) : this.text(buf, i);
      return r || "";
    };
    StringDecoder.prototype.end = utf8End;
    StringDecoder.prototype.text = utf8Text;
    StringDecoder.prototype.fillLast = function(buf) {
      if (this.lastNeed <= buf.length) {
        buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);
        return this.lastChar.toString(this.encoding, 0, this.lastTotal);
      }
      buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);
      this.lastNeed -= buf.length;
    };
    function utf8CheckByte(byte) {
      if (byte <= 127)
        return 0;
      else if (byte >> 5 === 6)
        return 2;
      else if (byte >> 4 === 14)
        return 3;
      else if (byte >> 3 === 30)
        return 4;
      return byte >> 6 === 2 ? -1 : -2;
    }
    function utf8CheckIncomplete(self2, buf, i) {
      var j = buf.length - 1;
      if (j < i)
        return 0;
      var nb = utf8CheckByte(buf[j]);
      if (nb >= 0) {
        if (nb > 0)
          self2.lastNeed = nb - 1;
        return nb;
      }
      if (--j < i || nb === -2)
        return 0;
      nb = utf8CheckByte(buf[j]);
      if (nb >= 0) {
        if (nb > 0)
          self2.lastNeed = nb - 2;
        return nb;
      }
      if (--j < i || nb === -2)
        return 0;
      nb = utf8CheckByte(buf[j]);
      if (nb >= 0) {
        if (nb > 0) {
          if (nb === 2)
            nb = 0;
          else
            self2.lastNeed = nb - 3;
        }
        return nb;
      }
      return 0;
    }
    function utf8CheckExtraBytes(self2, buf, p) {
      if ((buf[0] & 192) !== 128) {
        self2.lastNeed = 0;
        return "\uFFFD";
      }
      if (self2.lastNeed > 1 && buf.length > 1) {
        if ((buf[1] & 192) !== 128) {
          self2.lastNeed = 1;
          return "\uFFFD";
        }
        if (self2.lastNeed > 2 && buf.length > 2) {
          if ((buf[2] & 192) !== 128) {
            self2.lastNeed = 2;
            return "\uFFFD";
          }
        }
      }
    }
    function utf8FillLast(buf) {
      var p = this.lastTotal - this.lastNeed;
      var r = utf8CheckExtraBytes(this, buf, p);
      if (r !== void 0)
        return r;
      if (this.lastNeed <= buf.length) {
        buf.copy(this.lastChar, p, 0, this.lastNeed);
        return this.lastChar.toString(this.encoding, 0, this.lastTotal);
      }
      buf.copy(this.lastChar, p, 0, buf.length);
      this.lastNeed -= buf.length;
    }
    function utf8Text(buf, i) {
      var total = utf8CheckIncomplete(this, buf, i);
      if (!this.lastNeed)
        return buf.toString("utf8", i);
      this.lastTotal = total;
      var end = buf.length - (total - this.lastNeed);
      buf.copy(this.lastChar, 0, end);
      return buf.toString("utf8", i, end);
    }
    function utf8End(buf) {
      var r = buf && buf.length ? this.write(buf) : "";
      if (this.lastNeed)
        return r + "\uFFFD";
      return r;
    }
    function utf16Text(buf, i) {
      if ((buf.length - i) % 2 === 0) {
        var r = buf.toString("utf16le", i);
        if (r) {
          var c = r.charCodeAt(r.length - 1);
          if (c >= 55296 && c <= 56319) {
            this.lastNeed = 2;
            this.lastTotal = 4;
            this.lastChar[0] = buf[buf.length - 2];
            this.lastChar[1] = buf[buf.length - 1];
            return r.slice(0, -1);
          }
        }
        return r;
      }
      this.lastNeed = 1;
      this.lastTotal = 2;
      this.lastChar[0] = buf[buf.length - 1];
      return buf.toString("utf16le", i, buf.length - 1);
    }
    function utf16End(buf) {
      var r = buf && buf.length ? this.write(buf) : "";
      if (this.lastNeed) {
        var end = this.lastTotal - this.lastNeed;
        return r + this.lastChar.toString("utf16le", 0, end);
      }
      return r;
    }
    function base64Text(buf, i) {
      var n = (buf.length - i) % 3;
      if (n === 0)
        return buf.toString("base64", i);
      this.lastNeed = 3 - n;
      this.lastTotal = 3;
      if (n === 1) {
        this.lastChar[0] = buf[buf.length - 1];
      } else {
        this.lastChar[0] = buf[buf.length - 2];
        this.lastChar[1] = buf[buf.length - 1];
      }
      return buf.toString("base64", i, buf.length - n);
    }
    function base64End(buf) {
      var r = buf && buf.length ? this.write(buf) : "";
      if (this.lastNeed)
        return r + this.lastChar.toString("base64", 0, 3 - this.lastNeed);
      return r;
    }
    function simpleWrite(buf) {
      return buf.toString(this.encoding);
    }
    function simpleEnd(buf) {
      return buf && buf.length ? this.write(buf) : "";
    }
  }
});

// node_modules/readable-stream/lib/internal/streams/end-of-stream.js
var require_end_of_stream = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var ERR_STREAM_PREMATURE_CLOSE = require_errors_browser().codes.ERR_STREAM_PREMATURE_CLOSE;
    function once(callback) {
      var called = false;
      return function() {
        if (called)
          return;
        called = true;
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        callback.apply(this, args);
      };
    }
    function noop() {
    }
    function isRequest(stream) {
      return stream.setHeader && typeof stream.abort === "function";
    }
    function eos(stream, opts, callback) {
      if (typeof opts === "function")
        return eos(stream, null, opts);
      if (!opts)
        opts = {};
      callback = once(callback || noop);
      var readable = opts.readable || opts.readable !== false && stream.readable;
      var writable = opts.writable || opts.writable !== false && stream.writable;
      var onlegacyfinish = function onlegacyfinish2() {
        if (!stream.writable)
          onfinish();
      };
      var writableEnded = stream._writableState && stream._writableState.finished;
      var onfinish = function onfinish2() {
        writable = false;
        writableEnded = true;
        if (!readable)
          callback.call(stream);
      };
      var readableEnded = stream._readableState && stream._readableState.endEmitted;
      var onend = function onend2() {
        readable = false;
        readableEnded = true;
        if (!writable)
          callback.call(stream);
      };
      var onerror = function onerror2(err2) {
        callback.call(stream, err2);
      };
      var onclose = function onclose2() {
        var err2;
        if (readable && !readableEnded) {
          if (!stream._readableState || !stream._readableState.ended)
            err2 = new ERR_STREAM_PREMATURE_CLOSE();
          return callback.call(stream, err2);
        }
        if (writable && !writableEnded) {
          if (!stream._writableState || !stream._writableState.ended)
            err2 = new ERR_STREAM_PREMATURE_CLOSE();
          return callback.call(stream, err2);
        }
      };
      var onrequest = function onrequest2() {
        stream.req.on("finish", onfinish);
      };
      if (isRequest(stream)) {
        stream.on("complete", onfinish);
        stream.on("abort", onclose);
        if (stream.req)
          onrequest();
        else
          stream.on("request", onrequest);
      } else if (writable && !stream._writableState) {
        stream.on("end", onlegacyfinish);
        stream.on("close", onlegacyfinish);
      }
      stream.on("end", onend);
      stream.on("finish", onfinish);
      if (opts.error !== false)
        stream.on("error", onerror);
      stream.on("close", onclose);
      return function() {
        stream.removeListener("complete", onfinish);
        stream.removeListener("abort", onclose);
        stream.removeListener("request", onrequest);
        if (stream.req)
          stream.req.removeListener("finish", onfinish);
        stream.removeListener("end", onlegacyfinish);
        stream.removeListener("close", onlegacyfinish);
        stream.removeListener("finish", onfinish);
        stream.removeListener("end", onend);
        stream.removeListener("error", onerror);
        stream.removeListener("close", onclose);
      };
    }
    module.exports = eos;
  }
});

// node_modules/readable-stream/lib/internal/streams/async_iterator.js
var require_async_iterator = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/async_iterator.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var _Object$setPrototypeO;
    function _defineProperty(obj, key, value) {
      if (key in obj) {
        Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    var finished = require_end_of_stream();
    var kLastResolve = Symbol("lastResolve");
    var kLastReject = Symbol("lastReject");
    var kError = Symbol("error");
    var kEnded = Symbol("ended");
    var kLastPromise = Symbol("lastPromise");
    var kHandlePromise = Symbol("handlePromise");
    var kStream = Symbol("stream");
    function createIterResult(value, done) {
      return {
        value,
        done
      };
    }
    function readAndResolve(iter) {
      var resolve = iter[kLastResolve];
      if (resolve !== null) {
        var data = iter[kStream].read();
        if (data !== null) {
          iter[kLastPromise] = null;
          iter[kLastResolve] = null;
          iter[kLastReject] = null;
          resolve(createIterResult(data, false));
        }
      }
    }
    function onReadable(iter) {
      process.nextTick(readAndResolve, iter);
    }
    function wrapForNext(lastPromise, iter) {
      return function(resolve, reject) {
        lastPromise.then(function() {
          if (iter[kEnded]) {
            resolve(createIterResult(void 0, true));
            return;
          }
          iter[kHandlePromise](resolve, reject);
        }, reject);
      };
    }
    var AsyncIteratorPrototype = Object.getPrototypeOf(function() {
    });
    var ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {
      get stream() {
        return this[kStream];
      },
      next: function next() {
        var _this = this;
        var error = this[kError];
        if (error !== null) {
          return Promise.reject(error);
        }
        if (this[kEnded]) {
          return Promise.resolve(createIterResult(void 0, true));
        }
        if (this[kStream].destroyed) {
          return new Promise(function(resolve, reject) {
            process.nextTick(function() {
              if (_this[kError]) {
                reject(_this[kError]);
              } else {
                resolve(createIterResult(void 0, true));
              }
            });
          });
        }
        var lastPromise = this[kLastPromise];
        var promise;
        if (lastPromise) {
          promise = new Promise(wrapForNext(lastPromise, this));
        } else {
          var data = this[kStream].read();
          if (data !== null) {
            return Promise.resolve(createIterResult(data, false));
          }
          promise = new Promise(this[kHandlePromise]);
        }
        this[kLastPromise] = promise;
        return promise;
      }
    }, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function() {
      return this;
    }), _defineProperty(_Object$setPrototypeO, "return", function _return() {
      var _this2 = this;
      return new Promise(function(resolve, reject) {
        _this2[kStream].destroy(null, function(err2) {
          if (err2) {
            reject(err2);
            return;
          }
          resolve(createIterResult(void 0, true));
        });
      });
    }), _Object$setPrototypeO), AsyncIteratorPrototype);
    var createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator2(stream) {
      var _Object$create;
      var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {
        value: stream,
        writable: true
      }), _defineProperty(_Object$create, kLastResolve, {
        value: null,
        writable: true
      }), _defineProperty(_Object$create, kLastReject, {
        value: null,
        writable: true
      }), _defineProperty(_Object$create, kError, {
        value: null,
        writable: true
      }), _defineProperty(_Object$create, kEnded, {
        value: stream._readableState.endEmitted,
        writable: true
      }), _defineProperty(_Object$create, kHandlePromise, {
        value: function value(resolve, reject) {
          var data = iterator[kStream].read();
          if (data) {
            iterator[kLastPromise] = null;
            iterator[kLastResolve] = null;
            iterator[kLastReject] = null;
            resolve(createIterResult(data, false));
          } else {
            iterator[kLastResolve] = resolve;
            iterator[kLastReject] = reject;
          }
        },
        writable: true
      }), _Object$create));
      iterator[kLastPromise] = null;
      finished(stream, function(err2) {
        if (err2 && err2.code !== "ERR_STREAM_PREMATURE_CLOSE") {
          var reject = iterator[kLastReject];
          if (reject !== null) {
            iterator[kLastPromise] = null;
            iterator[kLastResolve] = null;
            iterator[kLastReject] = null;
            reject(err2);
          }
          iterator[kError] = err2;
          return;
        }
        var resolve = iterator[kLastResolve];
        if (resolve !== null) {
          iterator[kLastPromise] = null;
          iterator[kLastResolve] = null;
          iterator[kLastReject] = null;
          resolve(createIterResult(void 0, true));
        }
        iterator[kEnded] = true;
      });
      stream.on("readable", onReadable.bind(null, iterator));
      return iterator;
    };
    module.exports = createReadableStreamAsyncIterator;
  }
});

// node_modules/readable-stream/lib/internal/streams/from-browser.js
var require_from_browser = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/from-browser.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    module.exports = function() {
      throw new Error("Readable.from is not available in the browser");
    };
  }
});

// node_modules/readable-stream/lib/_stream_readable.js
var require_stream_readable = __commonJS({
  "node_modules/readable-stream/lib/_stream_readable.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    module.exports = Readable;
    var Duplex;
    Readable.ReadableState = ReadableState;
    var EE = require_events().EventEmitter;
    var EElistenerCount = function EElistenerCount2(emitter, type) {
      return emitter.listeners(type).length;
    };
    var Stream = require_stream_browser();
    var Buffer4 = require_buffer().Buffer;
    var OurUint8Array = self.Uint8Array || function() {
    };
    function _uint8ArrayToBuffer(chunk) {
      return Buffer4.from(chunk);
    }
    function _isUint8Array(obj) {
      return Buffer4.isBuffer(obj) || obj instanceof OurUint8Array;
    }
    var debugUtil = require_util2();
    var debug;
    if (debugUtil && debugUtil.debuglog) {
      debug = debugUtil.debuglog("stream");
    } else {
      debug = function debug2() {
      };
    }
    var BufferList = require_buffer_list();
    var destroyImpl = require_destroy();
    var _require = require_state();
    var getHighWaterMark = _require.getHighWaterMark;
    var _require$codes = require_errors_browser().codes;
    var ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE;
    var ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF;
    var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
    var ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;
    var StringDecoder;
    var createReadableStreamAsyncIterator;
    var from;
    require_inherits_browser()(Readable, Stream);
    var errorOrDestroy = destroyImpl.errorOrDestroy;
    var kProxyEvents = ["error", "close", "destroy", "pause", "resume"];
    function prependListener(emitter, event, fn) {
      if (typeof emitter.prependListener === "function")
        return emitter.prependListener(event, fn);
      if (!emitter._events || !emitter._events[event])
        emitter.on(event, fn);
      else if (Array.isArray(emitter._events[event]))
        emitter._events[event].unshift(fn);
      else
        emitter._events[event] = [fn, emitter._events[event]];
    }
    function ReadableState(options, stream, isDuplex) {
      Duplex = Duplex || require_stream_duplex();
      options = options || {};
      if (typeof isDuplex !== "boolean")
        isDuplex = stream instanceof Duplex;
      this.objectMode = !!options.objectMode;
      if (isDuplex)
        this.objectMode = this.objectMode || !!options.readableObjectMode;
      this.highWaterMark = getHighWaterMark(this, options, "readableHighWaterMark", isDuplex);
      this.buffer = new BufferList();
      this.length = 0;
      this.pipes = null;
      this.pipesCount = 0;
      this.flowing = null;
      this.ended = false;
      this.endEmitted = false;
      this.reading = false;
      this.sync = true;
      this.needReadable = false;
      this.emittedReadable = false;
      this.readableListening = false;
      this.resumeScheduled = false;
      this.paused = true;
      this.emitClose = options.emitClose !== false;
      this.autoDestroy = !!options.autoDestroy;
      this.destroyed = false;
      this.defaultEncoding = options.defaultEncoding || "utf8";
      this.awaitDrain = 0;
      this.readingMore = false;
      this.decoder = null;
      this.encoding = null;
      if (options.encoding) {
        if (!StringDecoder)
          StringDecoder = require_string_decoder().StringDecoder;
        this.decoder = new StringDecoder(options.encoding);
        this.encoding = options.encoding;
      }
    }
    function Readable(options) {
      Duplex = Duplex || require_stream_duplex();
      if (!(this instanceof Readable))
        return new Readable(options);
      var isDuplex = this instanceof Duplex;
      this._readableState = new ReadableState(options, this, isDuplex);
      this.readable = true;
      if (options) {
        if (typeof options.read === "function")
          this._read = options.read;
        if (typeof options.destroy === "function")
          this._destroy = options.destroy;
      }
      Stream.call(this);
    }
    Object.defineProperty(Readable.prototype, "destroyed", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        if (this._readableState === void 0) {
          return false;
        }
        return this._readableState.destroyed;
      },
      set: function set(value) {
        if (!this._readableState) {
          return;
        }
        this._readableState.destroyed = value;
      }
    });
    Readable.prototype.destroy = destroyImpl.destroy;
    Readable.prototype._undestroy = destroyImpl.undestroy;
    Readable.prototype._destroy = function(err2, cb) {
      cb(err2);
    };
    Readable.prototype.push = function(chunk, encoding) {
      var state = this._readableState;
      var skipChunkCheck;
      if (!state.objectMode) {
        if (typeof chunk === "string") {
          encoding = encoding || state.defaultEncoding;
          if (encoding !== state.encoding) {
            chunk = Buffer4.from(chunk, encoding);
            encoding = "";
          }
          skipChunkCheck = true;
        }
      } else {
        skipChunkCheck = true;
      }
      return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);
    };
    Readable.prototype.unshift = function(chunk) {
      return readableAddChunk(this, chunk, null, true, false);
    };
    function readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {
      debug("readableAddChunk", chunk);
      var state = stream._readableState;
      if (chunk === null) {
        state.reading = false;
        onEofChunk(stream, state);
      } else {
        var er;
        if (!skipChunkCheck)
          er = chunkInvalid(state, chunk);
        if (er) {
          errorOrDestroy(stream, er);
        } else if (state.objectMode || chunk && chunk.length > 0) {
          if (typeof chunk !== "string" && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer4.prototype) {
            chunk = _uint8ArrayToBuffer(chunk);
          }
          if (addToFront) {
            if (state.endEmitted)
              errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());
            else
              addChunk(stream, state, chunk, true);
          } else if (state.ended) {
            errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());
          } else if (state.destroyed) {
            return false;
          } else {
            state.reading = false;
            if (state.decoder && !encoding) {
              chunk = state.decoder.write(chunk);
              if (state.objectMode || chunk.length !== 0)
                addChunk(stream, state, chunk, false);
              else
                maybeReadMore(stream, state);
            } else {
              addChunk(stream, state, chunk, false);
            }
          }
        } else if (!addToFront) {
          state.reading = false;
          maybeReadMore(stream, state);
        }
      }
      return !state.ended && (state.length < state.highWaterMark || state.length === 0);
    }
    function addChunk(stream, state, chunk, addToFront) {
      if (state.flowing && state.length === 0 && !state.sync) {
        state.awaitDrain = 0;
        stream.emit("data", chunk);
      } else {
        state.length += state.objectMode ? 1 : chunk.length;
        if (addToFront)
          state.buffer.unshift(chunk);
        else
          state.buffer.push(chunk);
        if (state.needReadable)
          emitReadable(stream);
      }
      maybeReadMore(stream, state);
    }
    function chunkInvalid(state, chunk) {
      var er;
      if (!_isUint8Array(chunk) && typeof chunk !== "string" && chunk !== void 0 && !state.objectMode) {
        er = new ERR_INVALID_ARG_TYPE("chunk", ["string", "Buffer", "Uint8Array"], chunk);
      }
      return er;
    }
    Readable.prototype.isPaused = function() {
      return this._readableState.flowing === false;
    };
    Readable.prototype.setEncoding = function(enc) {
      if (!StringDecoder)
        StringDecoder = require_string_decoder().StringDecoder;
      var decoder = new StringDecoder(enc);
      this._readableState.decoder = decoder;
      this._readableState.encoding = this._readableState.decoder.encoding;
      var p = this._readableState.buffer.head;
      var content = "";
      while (p !== null) {
        content += decoder.write(p.data);
        p = p.next;
      }
      this._readableState.buffer.clear();
      if (content !== "")
        this._readableState.buffer.push(content);
      this._readableState.length = content.length;
      return this;
    };
    var MAX_HWM = 1073741824;
    function computeNewHighWaterMark(n) {
      if (n >= MAX_HWM) {
        n = MAX_HWM;
      } else {
        n--;
        n |= n >>> 1;
        n |= n >>> 2;
        n |= n >>> 4;
        n |= n >>> 8;
        n |= n >>> 16;
        n++;
      }
      return n;
    }
    function howMuchToRead(n, state) {
      if (n <= 0 || state.length === 0 && state.ended)
        return 0;
      if (state.objectMode)
        return 1;
      if (n !== n) {
        if (state.flowing && state.length)
          return state.buffer.head.data.length;
        else
          return state.length;
      }
      if (n > state.highWaterMark)
        state.highWaterMark = computeNewHighWaterMark(n);
      if (n <= state.length)
        return n;
      if (!state.ended) {
        state.needReadable = true;
        return 0;
      }
      return state.length;
    }
    Readable.prototype.read = function(n) {
      debug("read", n);
      n = parseInt(n, 10);
      var state = this._readableState;
      var nOrig = n;
      if (n !== 0)
        state.emittedReadable = false;
      if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {
        debug("read: emitReadable", state.length, state.ended);
        if (state.length === 0 && state.ended)
          endReadable(this);
        else
          emitReadable(this);
        return null;
      }
      n = howMuchToRead(n, state);
      if (n === 0 && state.ended) {
        if (state.length === 0)
          endReadable(this);
        return null;
      }
      var doRead = state.needReadable;
      debug("need readable", doRead);
      if (state.length === 0 || state.length - n < state.highWaterMark) {
        doRead = true;
        debug("length less than watermark", doRead);
      }
      if (state.ended || state.reading) {
        doRead = false;
        debug("reading or ended", doRead);
      } else if (doRead) {
        debug("do read");
        state.reading = true;
        state.sync = true;
        if (state.length === 0)
          state.needReadable = true;
        this._read(state.highWaterMark);
        state.sync = false;
        if (!state.reading)
          n = howMuchToRead(nOrig, state);
      }
      var ret;
      if (n > 0)
        ret = fromList(n, state);
      else
        ret = null;
      if (ret === null) {
        state.needReadable = state.length <= state.highWaterMark;
        n = 0;
      } else {
        state.length -= n;
        state.awaitDrain = 0;
      }
      if (state.length === 0) {
        if (!state.ended)
          state.needReadable = true;
        if (nOrig !== n && state.ended)
          endReadable(this);
      }
      if (ret !== null)
        this.emit("data", ret);
      return ret;
    };
    function onEofChunk(stream, state) {
      debug("onEofChunk");
      if (state.ended)
        return;
      if (state.decoder) {
        var chunk = state.decoder.end();
        if (chunk && chunk.length) {
          state.buffer.push(chunk);
          state.length += state.objectMode ? 1 : chunk.length;
        }
      }
      state.ended = true;
      if (state.sync) {
        emitReadable(stream);
      } else {
        state.needReadable = false;
        if (!state.emittedReadable) {
          state.emittedReadable = true;
          emitReadable_(stream);
        }
      }
    }
    function emitReadable(stream) {
      var state = stream._readableState;
      debug("emitReadable", state.needReadable, state.emittedReadable);
      state.needReadable = false;
      if (!state.emittedReadable) {
        debug("emitReadable", state.flowing);
        state.emittedReadable = true;
        process.nextTick(emitReadable_, stream);
      }
    }
    function emitReadable_(stream) {
      var state = stream._readableState;
      debug("emitReadable_", state.destroyed, state.length, state.ended);
      if (!state.destroyed && (state.length || state.ended)) {
        stream.emit("readable");
        state.emittedReadable = false;
      }
      state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;
      flow(stream);
    }
    function maybeReadMore(stream, state) {
      if (!state.readingMore) {
        state.readingMore = true;
        process.nextTick(maybeReadMore_, stream, state);
      }
    }
    function maybeReadMore_(stream, state) {
      while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {
        var len = state.length;
        debug("maybeReadMore read 0");
        stream.read(0);
        if (len === state.length)
          break;
      }
      state.readingMore = false;
    }
    Readable.prototype._read = function(n) {
      errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED("_read()"));
    };
    Readable.prototype.pipe = function(dest, pipeOpts) {
      var src = this;
      var state = this._readableState;
      switch (state.pipesCount) {
        case 0:
          state.pipes = dest;
          break;
        case 1:
          state.pipes = [state.pipes, dest];
          break;
        default:
          state.pipes.push(dest);
          break;
      }
      state.pipesCount += 1;
      debug("pipe count=%d opts=%j", state.pipesCount, pipeOpts);
      var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;
      var endFn = doEnd ? onend : unpipe;
      if (state.endEmitted)
        process.nextTick(endFn);
      else
        src.once("end", endFn);
      dest.on("unpipe", onunpipe);
      function onunpipe(readable, unpipeInfo) {
        debug("onunpipe");
        if (readable === src) {
          if (unpipeInfo && unpipeInfo.hasUnpiped === false) {
            unpipeInfo.hasUnpiped = true;
            cleanup();
          }
        }
      }
      function onend() {
        debug("onend");
        dest.end();
      }
      var ondrain = pipeOnDrain(src);
      dest.on("drain", ondrain);
      var cleanedUp = false;
      function cleanup() {
        debug("cleanup");
        dest.removeListener("close", onclose);
        dest.removeListener("finish", onfinish);
        dest.removeListener("drain", ondrain);
        dest.removeListener("error", onerror);
        dest.removeListener("unpipe", onunpipe);
        src.removeListener("end", onend);
        src.removeListener("end", unpipe);
        src.removeListener("data", ondata);
        cleanedUp = true;
        if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain))
          ondrain();
      }
      src.on("data", ondata);
      function ondata(chunk) {
        debug("ondata");
        var ret = dest.write(chunk);
        debug("dest.write", ret);
        if (ret === false) {
          if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {
            debug("false write response, pause", state.awaitDrain);
            state.awaitDrain++;
          }
          src.pause();
        }
      }
      function onerror(er) {
        debug("onerror", er);
        unpipe();
        dest.removeListener("error", onerror);
        if (EElistenerCount(dest, "error") === 0)
          errorOrDestroy(dest, er);
      }
      prependListener(dest, "error", onerror);
      function onclose() {
        dest.removeListener("finish", onfinish);
        unpipe();
      }
      dest.once("close", onclose);
      function onfinish() {
        debug("onfinish");
        dest.removeListener("close", onclose);
        unpipe();
      }
      dest.once("finish", onfinish);
      function unpipe() {
        debug("unpipe");
        src.unpipe(dest);
      }
      dest.emit("pipe", src);
      if (!state.flowing) {
        debug("pipe resume");
        src.resume();
      }
      return dest;
    };
    function pipeOnDrain(src) {
      return function pipeOnDrainFunctionResult() {
        var state = src._readableState;
        debug("pipeOnDrain", state.awaitDrain);
        if (state.awaitDrain)
          state.awaitDrain--;
        if (state.awaitDrain === 0 && EElistenerCount(src, "data")) {
          state.flowing = true;
          flow(src);
        }
      };
    }
    Readable.prototype.unpipe = function(dest) {
      var state = this._readableState;
      var unpipeInfo = {
        hasUnpiped: false
      };
      if (state.pipesCount === 0)
        return this;
      if (state.pipesCount === 1) {
        if (dest && dest !== state.pipes)
          return this;
        if (!dest)
          dest = state.pipes;
        state.pipes = null;
        state.pipesCount = 0;
        state.flowing = false;
        if (dest)
          dest.emit("unpipe", this, unpipeInfo);
        return this;
      }
      if (!dest) {
        var dests = state.pipes;
        var len = state.pipesCount;
        state.pipes = null;
        state.pipesCount = 0;
        state.flowing = false;
        for (var i = 0; i < len; i++) {
          dests[i].emit("unpipe", this, {
            hasUnpiped: false
          });
        }
        return this;
      }
      var index = indexOf(state.pipes, dest);
      if (index === -1)
        return this;
      state.pipes.splice(index, 1);
      state.pipesCount -= 1;
      if (state.pipesCount === 1)
        state.pipes = state.pipes[0];
      dest.emit("unpipe", this, unpipeInfo);
      return this;
    };
    Readable.prototype.on = function(ev, fn) {
      var res = Stream.prototype.on.call(this, ev, fn);
      var state = this._readableState;
      if (ev === "data") {
        state.readableListening = this.listenerCount("readable") > 0;
        if (state.flowing !== false)
          this.resume();
      } else if (ev === "readable") {
        if (!state.endEmitted && !state.readableListening) {
          state.readableListening = state.needReadable = true;
          state.flowing = false;
          state.emittedReadable = false;
          debug("on readable", state.length, state.reading);
          if (state.length) {
            emitReadable(this);
          } else if (!state.reading) {
            process.nextTick(nReadingNextTick, this);
          }
        }
      }
      return res;
    };
    Readable.prototype.addListener = Readable.prototype.on;
    Readable.prototype.removeListener = function(ev, fn) {
      var res = Stream.prototype.removeListener.call(this, ev, fn);
      if (ev === "readable") {
        process.nextTick(updateReadableListening, this);
      }
      return res;
    };
    Readable.prototype.removeAllListeners = function(ev) {
      var res = Stream.prototype.removeAllListeners.apply(this, arguments);
      if (ev === "readable" || ev === void 0) {
        process.nextTick(updateReadableListening, this);
      }
      return res;
    };
    function updateReadableListening(self2) {
      var state = self2._readableState;
      state.readableListening = self2.listenerCount("readable") > 0;
      if (state.resumeScheduled && !state.paused) {
        state.flowing = true;
      } else if (self2.listenerCount("data") > 0) {
        self2.resume();
      }
    }
    function nReadingNextTick(self2) {
      debug("readable nexttick read 0");
      self2.read(0);
    }
    Readable.prototype.resume = function() {
      var state = this._readableState;
      if (!state.flowing) {
        debug("resume");
        state.flowing = !state.readableListening;
        resume(this, state);
      }
      state.paused = false;
      return this;
    };
    function resume(stream, state) {
      if (!state.resumeScheduled) {
        state.resumeScheduled = true;
        process.nextTick(resume_, stream, state);
      }
    }
    function resume_(stream, state) {
      debug("resume", state.reading);
      if (!state.reading) {
        stream.read(0);
      }
      state.resumeScheduled = false;
      stream.emit("resume");
      flow(stream);
      if (state.flowing && !state.reading)
        stream.read(0);
    }
    Readable.prototype.pause = function() {
      debug("call pause flowing=%j", this._readableState.flowing);
      if (this._readableState.flowing !== false) {
        debug("pause");
        this._readableState.flowing = false;
        this.emit("pause");
      }
      this._readableState.paused = true;
      return this;
    };
    function flow(stream) {
      var state = stream._readableState;
      debug("flow", state.flowing);
      while (state.flowing && stream.read() !== null) {
        ;
      }
    }
    Readable.prototype.wrap = function(stream) {
      var _this = this;
      var state = this._readableState;
      var paused = false;
      stream.on("end", function() {
        debug("wrapped end");
        if (state.decoder && !state.ended) {
          var chunk = state.decoder.end();
          if (chunk && chunk.length)
            _this.push(chunk);
        }
        _this.push(null);
      });
      stream.on("data", function(chunk) {
        debug("wrapped data");
        if (state.decoder)
          chunk = state.decoder.write(chunk);
        if (state.objectMode && (chunk === null || chunk === void 0))
          return;
        else if (!state.objectMode && (!chunk || !chunk.length))
          return;
        var ret = _this.push(chunk);
        if (!ret) {
          paused = true;
          stream.pause();
        }
      });
      for (var i in stream) {
        if (this[i] === void 0 && typeof stream[i] === "function") {
          this[i] = function methodWrap(method) {
            return function methodWrapReturnFunction() {
              return stream[method].apply(stream, arguments);
            };
          }(i);
        }
      }
      for (var n = 0; n < kProxyEvents.length; n++) {
        stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));
      }
      this._read = function(n2) {
        debug("wrapped _read", n2);
        if (paused) {
          paused = false;
          stream.resume();
        }
      };
      return this;
    };
    if (typeof Symbol === "function") {
      Readable.prototype[Symbol.asyncIterator] = function() {
        if (createReadableStreamAsyncIterator === void 0) {
          createReadableStreamAsyncIterator = require_async_iterator();
        }
        return createReadableStreamAsyncIterator(this);
      };
    }
    Object.defineProperty(Readable.prototype, "readableHighWaterMark", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._readableState.highWaterMark;
      }
    });
    Object.defineProperty(Readable.prototype, "readableBuffer", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._readableState && this._readableState.buffer;
      }
    });
    Object.defineProperty(Readable.prototype, "readableFlowing", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._readableState.flowing;
      },
      set: function set(state) {
        if (this._readableState) {
          this._readableState.flowing = state;
        }
      }
    });
    Readable._fromList = fromList;
    Object.defineProperty(Readable.prototype, "readableLength", {
      // making it explicit this property is not enumerable
      // because otherwise some prototype manipulation in
      // userland will fail
      enumerable: false,
      get: function get() {
        return this._readableState.length;
      }
    });
    function fromList(n, state) {
      if (state.length === 0)
        return null;
      var ret;
      if (state.objectMode)
        ret = state.buffer.shift();
      else if (!n || n >= state.length) {
        if (state.decoder)
          ret = state.buffer.join("");
        else if (state.buffer.length === 1)
          ret = state.buffer.first();
        else
          ret = state.buffer.concat(state.length);
        state.buffer.clear();
      } else {
        ret = state.buffer.consume(n, state.decoder);
      }
      return ret;
    }
    function endReadable(stream) {
      var state = stream._readableState;
      debug("endReadable", state.endEmitted);
      if (!state.endEmitted) {
        state.ended = true;
        process.nextTick(endReadableNT, state, stream);
      }
    }
    function endReadableNT(state, stream) {
      debug("endReadableNT", state.endEmitted, state.length);
      if (!state.endEmitted && state.length === 0) {
        state.endEmitted = true;
        stream.readable = false;
        stream.emit("end");
        if (state.autoDestroy) {
          var wState = stream._writableState;
          if (!wState || wState.autoDestroy && wState.finished) {
            stream.destroy();
          }
        }
      }
    }
    if (typeof Symbol === "function") {
      Readable.from = function(iterable, opts) {
        if (from === void 0) {
          from = require_from_browser();
        }
        return from(Readable, iterable, opts);
      };
    }
    function indexOf(xs, x) {
      for (var i = 0, l = xs.length; i < l; i++) {
        if (xs[i] === x)
          return i;
      }
      return -1;
    }
  }
});

// node_modules/readable-stream/lib/_stream_transform.js
var require_stream_transform = __commonJS({
  "node_modules/readable-stream/lib/_stream_transform.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    module.exports = Transform;
    var _require$codes = require_errors_browser().codes;
    var ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED;
    var ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK;
    var ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING;
    var ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;
    var Duplex = require_stream_duplex();
    require_inherits_browser()(Transform, Duplex);
    function afterTransform(er, data) {
      var ts = this._transformState;
      ts.transforming = false;
      var cb = ts.writecb;
      if (cb === null) {
        return this.emit("error", new ERR_MULTIPLE_CALLBACK());
      }
      ts.writechunk = null;
      ts.writecb = null;
      if (data != null)
        this.push(data);
      cb(er);
      var rs = this._readableState;
      rs.reading = false;
      if (rs.needReadable || rs.length < rs.highWaterMark) {
        this._read(rs.highWaterMark);
      }
    }
    function Transform(options) {
      if (!(this instanceof Transform))
        return new Transform(options);
      Duplex.call(this, options);
      this._transformState = {
        afterTransform: afterTransform.bind(this),
        needTransform: false,
        transforming: false,
        writecb: null,
        writechunk: null,
        writeencoding: null
      };
      this._readableState.needReadable = true;
      this._readableState.sync = false;
      if (options) {
        if (typeof options.transform === "function")
          this._transform = options.transform;
        if (typeof options.flush === "function")
          this._flush = options.flush;
      }
      this.on("prefinish", prefinish);
    }
    function prefinish() {
      var _this = this;
      if (typeof this._flush === "function" && !this._readableState.destroyed) {
        this._flush(function(er, data) {
          done(_this, er, data);
        });
      } else {
        done(this, null, null);
      }
    }
    Transform.prototype.push = function(chunk, encoding) {
      this._transformState.needTransform = false;
      return Duplex.prototype.push.call(this, chunk, encoding);
    };
    Transform.prototype._transform = function(chunk, encoding, cb) {
      cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"));
    };
    Transform.prototype._write = function(chunk, encoding, cb) {
      var ts = this._transformState;
      ts.writecb = cb;
      ts.writechunk = chunk;
      ts.writeencoding = encoding;
      if (!ts.transforming) {
        var rs = this._readableState;
        if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark)
          this._read(rs.highWaterMark);
      }
    };
    Transform.prototype._read = function(n) {
      var ts = this._transformState;
      if (ts.writechunk !== null && !ts.transforming) {
        ts.transforming = true;
        this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);
      } else {
        ts.needTransform = true;
      }
    };
    Transform.prototype._destroy = function(err2, cb) {
      Duplex.prototype._destroy.call(this, err2, function(err22) {
        cb(err22);
      });
    };
    function done(stream, er, data) {
      if (er)
        return stream.emit("error", er);
      if (data != null)
        stream.push(data);
      if (stream._writableState.length)
        throw new ERR_TRANSFORM_WITH_LENGTH_0();
      if (stream._transformState.transforming)
        throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();
      return stream.push(null);
    }
  }
});

// node_modules/readable-stream/lib/_stream_passthrough.js
var require_stream_passthrough = __commonJS({
  "node_modules/readable-stream/lib/_stream_passthrough.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    module.exports = PassThrough;
    var Transform = require_stream_transform();
    require_inherits_browser()(PassThrough, Transform);
    function PassThrough(options) {
      if (!(this instanceof PassThrough))
        return new PassThrough(options);
      Transform.call(this, options);
    }
    PassThrough.prototype._transform = function(chunk, encoding, cb) {
      cb(null, chunk);
    };
  }
});

// node_modules/readable-stream/lib/internal/streams/pipeline.js
var require_pipeline = __commonJS({
  "node_modules/readable-stream/lib/internal/streams/pipeline.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var eos;
    function once(callback) {
      var called = false;
      return function() {
        if (called)
          return;
        called = true;
        callback.apply(void 0, arguments);
      };
    }
    var _require$codes = require_errors_browser().codes;
    var ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;
    var ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;
    function noop(err2) {
      if (err2)
        throw err2;
    }
    function isRequest(stream) {
      return stream.setHeader && typeof stream.abort === "function";
    }
    function destroyer(stream, reading, writing, callback) {
      callback = once(callback);
      var closed = false;
      stream.on("close", function() {
        closed = true;
      });
      if (eos === void 0)
        eos = require_end_of_stream();
      eos(stream, {
        readable: reading,
        writable: writing
      }, function(err2) {
        if (err2)
          return callback(err2);
        closed = true;
        callback();
      });
      var destroyed = false;
      return function(err2) {
        if (closed)
          return;
        if (destroyed)
          return;
        destroyed = true;
        if (isRequest(stream))
          return stream.abort();
        if (typeof stream.destroy === "function")
          return stream.destroy();
        callback(err2 || new ERR_STREAM_DESTROYED("pipe"));
      };
    }
    function call(fn) {
      fn();
    }
    function pipe(from, to) {
      return from.pipe(to);
    }
    function popCallback(streams) {
      if (!streams.length)
        return noop;
      if (typeof streams[streams.length - 1] !== "function")
        return noop;
      return streams.pop();
    }
    function pipeline() {
      for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {
        streams[_key] = arguments[_key];
      }
      var callback = popCallback(streams);
      if (Array.isArray(streams[0]))
        streams = streams[0];
      if (streams.length < 2) {
        throw new ERR_MISSING_ARGS("streams");
      }
      var error;
      var destroys = streams.map(function(stream, i) {
        var reading = i < streams.length - 1;
        var writing = i > 0;
        return destroyer(stream, reading, writing, function(err2) {
          if (!error)
            error = err2;
          if (err2)
            destroys.forEach(call);
          if (reading)
            return;
          destroys.forEach(call);
          callback(error);
        });
      });
      return streams.reduce(pipe);
    }
    module.exports = pipeline;
  }
});

// node_modules/stream-browserify/index.js
var require_stream_browserify = __commonJS({
  "node_modules/stream-browserify/index.js"(exports, module) {
    init_process_shim();
    init_buffer_shim();
    module.exports = Stream;
    var EE = require_events().EventEmitter;
    var inherits = require_inherits_browser();
    inherits(Stream, EE);
    Stream.Readable = require_stream_readable();
    Stream.Writable = require_stream_writable();
    Stream.Duplex = require_stream_duplex();
    Stream.Transform = require_stream_transform();
    Stream.PassThrough = require_stream_passthrough();
    Stream.finished = require_end_of_stream();
    Stream.pipeline = require_pipeline();
    Stream.Stream = Stream;
    function Stream() {
      EE.call(this);
    }
    Stream.prototype.pipe = function(dest, options) {
      var source = this;
      function ondata(chunk) {
        if (dest.writable) {
          if (false === dest.write(chunk) && source.pause) {
            source.pause();
          }
        }
      }
      source.on("data", ondata);
      function ondrain() {
        if (source.readable && source.resume) {
          source.resume();
        }
      }
      dest.on("drain", ondrain);
      if (!dest._isStdio && (!options || options.end !== false)) {
        source.on("end", onend);
        source.on("close", onclose);
      }
      var didOnEnd = false;
      function onend() {
        if (didOnEnd)
          return;
        didOnEnd = true;
        dest.end();
      }
      function onclose() {
        if (didOnEnd)
          return;
        didOnEnd = true;
        if (typeof dest.destroy === "function")
          dest.destroy();
      }
      function onerror(er) {
        cleanup();
        if (EE.listenerCount(this, "error") === 0) {
          throw er;
        }
      }
      source.on("error", onerror);
      dest.on("error", onerror);
      function cleanup() {
        source.removeListener("data", ondata);
        dest.removeListener("drain", ondrain);
        source.removeListener("end", onend);
        source.removeListener("close", onclose);
        source.removeListener("error", onerror);
        dest.removeListener("error", onerror);
        source.removeListener("end", cleanup);
        source.removeListener("close", cleanup);
        dest.removeListener("close", cleanup);
      }
      source.on("end", cleanup);
      source.on("close", cleanup);
      dest.on("close", cleanup);
      dest.emit("pipe", source);
      return dest;
    };
  }
});

// node_modules/fast-extend/index.js
var require_fast_extend = __commonJS({
  "node_modules/fast-extend/index.js"(exports) {
    init_process_shim();
    init_buffer_shim();
    var slice = Array.prototype.slice;
    exports.extend = function extend(a, b) {
      for (var key in b)
        a[key] = b[key];
      return arguments.length < 3 ? a : extend.apply(null, [a].concat(slice.call(arguments, 2)));
    };
  }
});

// node_modules/memfs/lib/promises.js
var require_promises = __commonJS({
  "node_modules/memfs/lib/promises.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var __spreadArrays = exports && exports.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++)
        s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
          r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    function promisify(vol, fn, getResult) {
      if (getResult === void 0) {
        getResult = function(input) {
          return input;
        };
      }
      return function() {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
          args[_i] = arguments[_i];
        }
        return new Promise(function(resolve, reject) {
          vol[fn].bind(vol).apply(void 0, __spreadArrays(args, [function(error, result) {
            if (error)
              return reject(error);
            return resolve(getResult(result));
          }]));
        });
      };
    }
    var FileHandle = (
      /** @class */
      function() {
        function FileHandle2(vol, fd2) {
          this.vol = vol;
          this.fd = fd2;
        }
        FileHandle2.prototype.appendFile = function(data, options) {
          return promisify(this.vol, "appendFile")(this.fd, data, options);
        };
        FileHandle2.prototype.chmod = function(mode) {
          return promisify(this.vol, "fchmod")(this.fd, mode);
        };
        FileHandle2.prototype.chown = function(uid, gid) {
          return promisify(this.vol, "fchown")(this.fd, uid, gid);
        };
        FileHandle2.prototype.close = function() {
          return promisify(this.vol, "close")(this.fd);
        };
        FileHandle2.prototype.datasync = function() {
          return promisify(this.vol, "fdatasync")(this.fd);
        };
        FileHandle2.prototype.read = function(buffer2, offset, length, position) {
          return promisify(this.vol, "read", function(bytesRead) {
            return { bytesRead, buffer: buffer2 };
          })(this.fd, buffer2, offset, length, position);
        };
        FileHandle2.prototype.readFile = function(options) {
          return promisify(this.vol, "readFile")(this.fd, options);
        };
        FileHandle2.prototype.stat = function(options) {
          return promisify(this.vol, "fstat")(this.fd, options);
        };
        FileHandle2.prototype.sync = function() {
          return promisify(this.vol, "fsync")(this.fd);
        };
        FileHandle2.prototype.truncate = function(len) {
          return promisify(this.vol, "ftruncate")(this.fd, len);
        };
        FileHandle2.prototype.utimes = function(atime, mtime) {
          return promisify(this.vol, "futimes")(this.fd, atime, mtime);
        };
        FileHandle2.prototype.write = function(buffer2, offset, length, position) {
          return promisify(this.vol, "write", function(bytesWritten) {
            return { bytesWritten, buffer: buffer2 };
          })(this.fd, buffer2, offset, length, position);
        };
        FileHandle2.prototype.writeFile = function(data, options) {
          return promisify(this.vol, "writeFile")(this.fd, data, options);
        };
        return FileHandle2;
      }()
    );
    exports.FileHandle = FileHandle;
    function createPromisesApi(vol) {
      if (typeof Promise === "undefined")
        return null;
      return {
        FileHandle,
        access: function(path2, mode) {
          return promisify(vol, "access")(path2, mode);
        },
        appendFile: function(path2, data, options) {
          return promisify(vol, "appendFile")(path2 instanceof FileHandle ? path2.fd : path2, data, options);
        },
        chmod: function(path2, mode) {
          return promisify(vol, "chmod")(path2, mode);
        },
        chown: function(path2, uid, gid) {
          return promisify(vol, "chown")(path2, uid, gid);
        },
        copyFile: function(src, dest, flags) {
          return promisify(vol, "copyFile")(src, dest, flags);
        },
        lchmod: function(path2, mode) {
          return promisify(vol, "lchmod")(path2, mode);
        },
        lchown: function(path2, uid, gid) {
          return promisify(vol, "lchown")(path2, uid, gid);
        },
        link: function(existingPath, newPath) {
          return promisify(vol, "link")(existingPath, newPath);
        },
        lstat: function(path2, options) {
          return promisify(vol, "lstat")(path2, options);
        },
        mkdir: function(path2, options) {
          return promisify(vol, "mkdir")(path2, options);
        },
        mkdtemp: function(prefix, options) {
          return promisify(vol, "mkdtemp")(prefix, options);
        },
        open: function(path2, flags, mode) {
          return promisify(vol, "open", function(fd2) {
            return new FileHandle(vol, fd2);
          })(path2, flags, mode);
        },
        readdir: function(path2, options) {
          return promisify(vol, "readdir")(path2, options);
        },
        readFile: function(id, options) {
          return promisify(vol, "readFile")(id instanceof FileHandle ? id.fd : id, options);
        },
        readlink: function(path2, options) {
          return promisify(vol, "readlink")(path2, options);
        },
        realpath: function(path2, options) {
          return promisify(vol, "realpath")(path2, options);
        },
        rename: function(oldPath, newPath) {
          return promisify(vol, "rename")(oldPath, newPath);
        },
        rmdir: function(path2) {
          return promisify(vol, "rmdir")(path2);
        },
        stat: function(path2, options) {
          return promisify(vol, "stat")(path2, options);
        },
        symlink: function(target, path2, type) {
          return promisify(vol, "symlink")(target, path2, type);
        },
        truncate: function(path2, len) {
          return promisify(vol, "truncate")(path2, len);
        },
        unlink: function(path2) {
          return promisify(vol, "unlink")(path2);
        },
        utimes: function(path2, atime, mtime) {
          return promisify(vol, "utimes")(path2, atime, mtime);
        },
        writeFile: function(id, data, options) {
          return promisify(vol, "writeFile")(id instanceof FileHandle ? id.fd : id, data, options);
        }
      };
    }
    exports.default = createPromisesApi;
  }
});

// (disabled):url
var require_url = __commonJS({
  "(disabled):url"() {
    init_process_shim();
    init_buffer_shim();
  }
});

// node_modules/fs-monkey/lib/correctPath.js
var require_correctPath = __commonJS({
  "node_modules/fs-monkey/lib/correctPath.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.unixify = unixify;
    exports.correctPath = correctPath;
    var isWin = process.platform === "win32";
    function removeTrailingSeparator(str) {
      var i = str.length - 1;
      if (i < 2) {
        return str;
      }
      while (isSeparator(str, i)) {
        i--;
      }
      return str.substr(0, i + 1);
    }
    function isSeparator(str, i) {
      var char = str[i];
      return i > 0 && (char === "/" || isWin && char === "\\");
    }
    function normalizePath(str, stripTrailing) {
      if (typeof str !== "string") {
        throw new TypeError("expected a string");
      }
      str = str.replace(/[\\\/]+/g, "/");
      if (stripTrailing !== false) {
        str = removeTrailingSeparator(str);
      }
      return str;
    }
    function unixify(filepath) {
      var stripTrailing = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;
      if (isWin) {
        filepath = normalizePath(filepath, stripTrailing);
        return filepath.replace(/^([a-zA-Z]+:|\.\/)/, "");
      }
      return filepath;
    }
    function correctPath(filepath) {
      return unixify(filepath.replace(/^\\\\\?\\.:\\/, "\\"));
    }
  }
});

// node_modules/memfs/lib/volume.js
var require_volume = __commonJS({
  "node_modules/memfs/lib/volume.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var __extends = exports && exports.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b3) {
          d2.__proto__ = b3;
        } || function(d2, b3) {
          for (var p in b3)
            if (b3.hasOwnProperty(p))
              d2[p] = b3[p];
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __spreadArrays = exports && exports.__spreadArrays || function() {
      for (var s = 0, i = 0, il = arguments.length; i < il; i++)
        s += arguments[i].length;
      for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
          r[k] = a[j];
      return r;
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var pathModule = require_path_browserify();
    var node_1 = require_node();
    var Stats_1 = require_Stats();
    var Dirent_1 = require_Dirent();
    var buffer_1 = require_buffer2();
    var setImmediate_1 = require_setImmediate();
    var process_1 = require_process();
    var setTimeoutUnref_1 = require_setTimeoutUnref();
    var stream_1 = require_stream_browserify();
    var constants_1 = require_constants2();
    var events_1 = require_events();
    var encoding_1 = require_encoding();
    var errors = require_errors2();
    var extend = require_fast_extend().extend;
    var util = require_util();
    var promises_1 = require_promises();
    var resolveCrossPlatform = pathModule.resolve;
    var O_RDONLY = constants_1.constants.O_RDONLY;
    var O_WRONLY = constants_1.constants.O_WRONLY;
    var O_RDWR = constants_1.constants.O_RDWR;
    var O_CREAT = constants_1.constants.O_CREAT;
    var O_EXCL = constants_1.constants.O_EXCL;
    var O_TRUNC = constants_1.constants.O_TRUNC;
    var O_APPEND = constants_1.constants.O_APPEND;
    var O_SYNC = constants_1.constants.O_SYNC;
    var O_DIRECTORY = constants_1.constants.O_DIRECTORY;
    var F_OK = constants_1.constants.F_OK;
    var COPYFILE_EXCL = constants_1.constants.COPYFILE_EXCL;
    var COPYFILE_FICLONE_FORCE = constants_1.constants.COPYFILE_FICLONE_FORCE;
    var sep;
    var relative;
    if (pathModule.posix) {
      posix = pathModule.posix;
      sep = posix.sep;
      relative = posix.relative;
    } else {
      sep = pathModule.sep;
      relative = pathModule.relative;
    }
    var posix;
    var isWin = process_1.default.platform === "win32";
    var kMinPoolSpace = 128;
    var ERRSTR = {
      PATH_STR: "path must be a string or Buffer",
      // FD:             'file descriptor must be a unsigned 32-bit integer',
      FD: "fd must be a file descriptor",
      MODE_INT: "mode must be an int",
      CB: "callback must be a function",
      UID: "uid must be an unsigned int",
      GID: "gid must be an unsigned int",
      LEN: "len must be an integer",
      ATIME: "atime must be an integer",
      MTIME: "mtime must be an integer",
      PREFIX: "filename prefix is required",
      BUFFER: "buffer must be an instance of Buffer or StaticBuffer",
      OFFSET: "offset must be an integer",
      LENGTH: "length must be an integer",
      POSITION: "position must be an integer"
    };
    var ERRSTR_OPTS = function(tipeof) {
      return "Expected options to be either an object or a string, but got " + tipeof + " instead";
    };
    var ENOENT = "ENOENT";
    var EBADF = "EBADF";
    var EINVAL = "EINVAL";
    var EPERM = "EPERM";
    var EPROTO = "EPROTO";
    var EEXIST = "EEXIST";
    var ENOTDIR = "ENOTDIR";
    var EMFILE = "EMFILE";
    var EACCES = "EACCES";
    var EISDIR = "EISDIR";
    var ENOTEMPTY = "ENOTEMPTY";
    var ENOSYS = "ENOSYS";
    function formatError(errorCode, func, path2, path22) {
      if (func === void 0) {
        func = "";
      }
      if (path2 === void 0) {
        path2 = "";
      }
      if (path22 === void 0) {
        path22 = "";
      }
      var pathFormatted = "";
      if (path2)
        pathFormatted = " '" + path2 + "'";
      if (path22)
        pathFormatted += " -> '" + path22 + "'";
      switch (errorCode) {
        case ENOENT:
          return "ENOENT: no such file or directory, " + func + pathFormatted;
        case EBADF:
          return "EBADF: bad file descriptor, " + func + pathFormatted;
        case EINVAL:
          return "EINVAL: invalid argument, " + func + pathFormatted;
        case EPERM:
          return "EPERM: operation not permitted, " + func + pathFormatted;
        case EPROTO:
          return "EPROTO: protocol error, " + func + pathFormatted;
        case EEXIST:
          return "EEXIST: file already exists, " + func + pathFormatted;
        case ENOTDIR:
          return "ENOTDIR: not a directory, " + func + pathFormatted;
        case EISDIR:
          return "EISDIR: illegal operation on a directory, " + func + pathFormatted;
        case EACCES:
          return "EACCES: permission denied, " + func + pathFormatted;
        case ENOTEMPTY:
          return "ENOTEMPTY: directory not empty, " + func + pathFormatted;
        case EMFILE:
          return "EMFILE: too many open files, " + func + pathFormatted;
        case ENOSYS:
          return "ENOSYS: function not implemented, " + func + pathFormatted;
        default:
          return errorCode + ": error occurred, " + func + pathFormatted;
      }
    }
    function createError(errorCode, func, path2, path22, Constructor) {
      if (func === void 0) {
        func = "";
      }
      if (path2 === void 0) {
        path2 = "";
      }
      if (path22 === void 0) {
        path22 = "";
      }
      if (Constructor === void 0) {
        Constructor = Error;
      }
      var error = new Constructor(formatError(errorCode, func, path2, path22));
      error.code = errorCode;
      return error;
    }
    var FLAGS;
    (function(FLAGS2) {
      FLAGS2[FLAGS2["r"] = O_RDONLY] = "r";
      FLAGS2[FLAGS2["r+"] = O_RDWR] = "r+";
      FLAGS2[FLAGS2["rs"] = O_RDONLY | O_SYNC] = "rs";
      FLAGS2[FLAGS2["sr"] = FLAGS2.rs] = "sr";
      FLAGS2[FLAGS2["rs+"] = O_RDWR | O_SYNC] = "rs+";
      FLAGS2[FLAGS2["sr+"] = FLAGS2["rs+"]] = "sr+";
      FLAGS2[FLAGS2["w"] = O_WRONLY | O_CREAT | O_TRUNC] = "w";
      FLAGS2[FLAGS2["wx"] = O_WRONLY | O_CREAT | O_TRUNC | O_EXCL] = "wx";
      FLAGS2[FLAGS2["xw"] = FLAGS2.wx] = "xw";
      FLAGS2[FLAGS2["w+"] = O_RDWR | O_CREAT | O_TRUNC] = "w+";
      FLAGS2[FLAGS2["wx+"] = O_RDWR | O_CREAT | O_TRUNC | O_EXCL] = "wx+";
      FLAGS2[FLAGS2["xw+"] = FLAGS2["wx+"]] = "xw+";
      FLAGS2[FLAGS2["a"] = O_WRONLY | O_APPEND | O_CREAT] = "a";
      FLAGS2[FLAGS2["ax"] = O_WRONLY | O_APPEND | O_CREAT | O_EXCL] = "ax";
      FLAGS2[FLAGS2["xa"] = FLAGS2.ax] = "xa";
      FLAGS2[FLAGS2["a+"] = O_RDWR | O_APPEND | O_CREAT] = "a+";
      FLAGS2[FLAGS2["ax+"] = O_RDWR | O_APPEND | O_CREAT | O_EXCL] = "ax+";
      FLAGS2[FLAGS2["xa+"] = FLAGS2["ax+"]] = "xa+";
    })(FLAGS = exports.FLAGS || (exports.FLAGS = {}));
    function flagsToNumber(flags) {
      if (typeof flags === "number")
        return flags;
      if (typeof flags === "string") {
        var flagsNum = FLAGS[flags];
        if (typeof flagsNum !== "undefined")
          return flagsNum;
      }
      throw new errors.TypeError("ERR_INVALID_OPT_VALUE", "flags", flags);
    }
    exports.flagsToNumber = flagsToNumber;
    function getOptions(defaults2, options) {
      var opts;
      if (!options)
        return defaults2;
      else {
        var tipeof = typeof options;
        switch (tipeof) {
          case "string":
            opts = extend({}, defaults2, { encoding: options });
            break;
          case "object":
            opts = extend({}, defaults2, options);
            break;
          default:
            throw TypeError(ERRSTR_OPTS(tipeof));
        }
      }
      if (opts.encoding !== "buffer")
        encoding_1.assertEncoding(opts.encoding);
      return opts;
    }
    function optsGenerator(defaults2) {
      return function(options) {
        return getOptions(defaults2, options);
      };
    }
    function validateCallback(callback) {
      if (typeof callback !== "function")
        throw TypeError(ERRSTR.CB);
      return callback;
    }
    function optsAndCbGenerator(getOpts) {
      return function(options, callback) {
        return typeof options === "function" ? [getOpts(), options] : [getOpts(options), validateCallback(callback)];
      };
    }
    var optsDefaults = {
      encoding: "utf8"
    };
    var getDefaultOpts = optsGenerator(optsDefaults);
    var getDefaultOptsAndCb = optsAndCbGenerator(getDefaultOpts);
    var readFileOptsDefaults = {
      flag: "r"
    };
    var getReadFileOptions = optsGenerator(readFileOptsDefaults);
    var writeFileDefaults = {
      encoding: "utf8",
      mode: 438,
      flag: FLAGS[FLAGS.w]
    };
    var getWriteFileOptions = optsGenerator(writeFileDefaults);
    var appendFileDefaults = {
      encoding: "utf8",
      mode: 438,
      flag: FLAGS[FLAGS.a]
    };
    var getAppendFileOpts = optsGenerator(appendFileDefaults);
    var getAppendFileOptsAndCb = optsAndCbGenerator(getAppendFileOpts);
    var realpathDefaults = optsDefaults;
    var getRealpathOptions = optsGenerator(realpathDefaults);
    var getRealpathOptsAndCb = optsAndCbGenerator(getRealpathOptions);
    var mkdirDefaults = {
      mode: 511,
      recursive: false
    };
    var getMkdirOptions = function(options) {
      if (typeof options === "number")
        return extend({}, mkdirDefaults, { mode: options });
      return extend({}, mkdirDefaults, options);
    };
    var rmdirDefaults = {
      recursive: false
    };
    var getRmdirOptions = function(options) {
      return extend({}, rmdirDefaults, options);
    };
    var readdirDefaults = {
      encoding: "utf8",
      withFileTypes: false
    };
    var getReaddirOptions = optsGenerator(readdirDefaults);
    var getReaddirOptsAndCb = optsAndCbGenerator(getReaddirOptions);
    var statDefaults = {
      bigint: false
    };
    var getStatOptions = function(options) {
      if (options === void 0) {
        options = {};
      }
      return extend({}, statDefaults, options);
    };
    var getStatOptsAndCb = function(options, callback) {
      return typeof options === "function" ? [getStatOptions(), options] : [getStatOptions(options), validateCallback(callback)];
    };
    function getPathFromURLPosix(url) {
      if (url.hostname !== "") {
        throw new errors.TypeError("ERR_INVALID_FILE_URL_HOST", process_1.default.platform);
      }
      var pathname = url.pathname;
      for (var n = 0; n < pathname.length; n++) {
        if (pathname[n] === "%") {
          var third = pathname.codePointAt(n + 2) | 32;
          if (pathname[n + 1] === "2" && third === 102) {
            throw new errors.TypeError("ERR_INVALID_FILE_URL_PATH", "must not include encoded / characters");
          }
        }
      }
      return decodeURIComponent(pathname);
    }
    function pathToFilename(path2) {
      if (typeof path2 !== "string" && !buffer_1.Buffer.isBuffer(path2)) {
        try {
          if (!(path2 instanceof require_url().URL))
            throw new TypeError(ERRSTR.PATH_STR);
        } catch (err2) {
          throw new TypeError(ERRSTR.PATH_STR);
        }
        path2 = getPathFromURLPosix(path2);
      }
      var pathString = String(path2);
      nullCheck(pathString);
      return pathString;
    }
    exports.pathToFilename = pathToFilename;
    var resolve = function(filename, base) {
      if (base === void 0) {
        base = process_1.default.cwd();
      }
      return resolveCrossPlatform(base, filename);
    };
    if (isWin) {
      _resolve_1 = resolve;
      unixify_1 = require_correctPath().unixify;
      resolve = function(filename, base) {
        return unixify_1(_resolve_1(filename, base));
      };
    }
    var _resolve_1;
    var unixify_1;
    function filenameToSteps2(filename, base) {
      var fullPath = resolve(filename, base);
      var fullPathSansSlash = fullPath.substr(1);
      if (!fullPathSansSlash)
        return [];
      return fullPathSansSlash.split(sep);
    }
    exports.filenameToSteps = filenameToSteps2;
    function pathToSteps(path2) {
      return filenameToSteps2(pathToFilename(path2));
    }
    exports.pathToSteps = pathToSteps;
    function dataToStr(data, encoding) {
      if (encoding === void 0) {
        encoding = encoding_1.ENCODING_UTF8;
      }
      if (buffer_1.Buffer.isBuffer(data))
        return data.toString(encoding);
      else if (data instanceof Uint8Array)
        return buffer_1.bufferFrom(data).toString(encoding);
      else
        return String(data);
    }
    exports.dataToStr = dataToStr;
    function dataToBuffer(data, encoding) {
      if (encoding === void 0) {
        encoding = encoding_1.ENCODING_UTF8;
      }
      if (buffer_1.Buffer.isBuffer(data))
        return data;
      else if (data instanceof Uint8Array)
        return buffer_1.bufferFrom(data);
      else
        return buffer_1.bufferFrom(String(data), encoding);
    }
    exports.dataToBuffer = dataToBuffer;
    function bufferToEncoding(buffer2, encoding) {
      if (!encoding || encoding === "buffer")
        return buffer2;
      else
        return buffer2.toString(encoding);
    }
    exports.bufferToEncoding = bufferToEncoding;
    function nullCheck(path2, callback) {
      if (("" + path2).indexOf("\0") !== -1) {
        var er = new Error("Path must be a string without null bytes");
        er.code = ENOENT;
        if (typeof callback !== "function")
          throw er;
        process_1.default.nextTick(callback, er);
        return false;
      }
      return true;
    }
    function _modeToNumber(mode, def) {
      if (typeof mode === "number")
        return mode;
      if (typeof mode === "string")
        return parseInt(mode, 8);
      if (def)
        return modeToNumber(def);
      return void 0;
    }
    function modeToNumber(mode, def) {
      var result = _modeToNumber(mode, def);
      if (typeof result !== "number" || isNaN(result))
        throw new TypeError(ERRSTR.MODE_INT);
      return result;
    }
    function isFd(path2) {
      return path2 >>> 0 === path2;
    }
    function validateFd(fd2) {
      if (!isFd(fd2))
        throw TypeError(ERRSTR.FD);
    }
    function toUnixTimestamp(time) {
      if (typeof time === "string" && +time == time) {
        return +time;
      }
      if (time instanceof Date) {
        return time.getTime() / 1e3;
      }
      if (isFinite(time)) {
        if (time < 0) {
          return Date.now() / 1e3;
        }
        return time;
      }
      throw new Error("Cannot parse time: " + time);
    }
    exports.toUnixTimestamp = toUnixTimestamp;
    function validateUid(uid) {
      if (typeof uid !== "number")
        throw TypeError(ERRSTR.UID);
    }
    function validateGid(gid) {
      if (typeof gid !== "number")
        throw TypeError(ERRSTR.GID);
    }
    var Volume2 = (
      /** @class */
      function() {
        function Volume3(props) {
          if (props === void 0) {
            props = {};
          }
          this.ino = 0;
          this.inodes = {};
          this.releasedInos = [];
          this.fds = {};
          this.releasedFds = [];
          this.maxFiles = 1e4;
          this.openFiles = 0;
          this.promisesApi = promises_1.default(this);
          this.statWatchers = {};
          this.props = extend({ Node: node_1.Node, Link: node_1.Link, File: node_1.File }, props);
          var root = this.createLink();
          root.setNode(this.createNode(true));
          var self2 = this;
          this.StatWatcher = /** @class */
          function(_super) {
            __extends(StatWatcher2, _super);
            function StatWatcher2() {
              return _super.call(this, self2) || this;
            }
            return StatWatcher2;
          }(StatWatcher);
          var _ReadStream = FsReadStream;
          this.ReadStream = /** @class */
          function(_super) {
            __extends(class_1, _super);
            function class_1() {
              var args = [];
              for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
              }
              return _super.apply(this, __spreadArrays([self2], args)) || this;
            }
            return class_1;
          }(_ReadStream);
          var _WriteStream = FsWriteStream;
          this.WriteStream = /** @class */
          function(_super) {
            __extends(class_2, _super);
            function class_2() {
              var args = [];
              for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
              }
              return _super.apply(this, __spreadArrays([self2], args)) || this;
            }
            return class_2;
          }(_WriteStream);
          this.FSWatcher = /** @class */
          function(_super) {
            __extends(FSWatcher2, _super);
            function FSWatcher2() {
              return _super.call(this, self2) || this;
            }
            return FSWatcher2;
          }(FSWatcher);
          this.root = root;
        }
        Volume3.fromJSON = function(json, cwd2) {
          var vol = new Volume3();
          vol.fromJSON(json, cwd2);
          return vol;
        };
        Object.defineProperty(Volume3.prototype, "promises", {
          get: function() {
            if (this.promisesApi === null)
              throw new Error("Promise is not supported in this environment.");
            return this.promisesApi;
          },
          enumerable: true,
          configurable: true
        });
        Volume3.prototype.createLink = function(parent, name, isDirectory, perm) {
          if (isDirectory === void 0) {
            isDirectory = false;
          }
          if (!parent) {
            return new this.props.Link(this, null, "");
          }
          if (!name) {
            throw new Error("createLink: name cannot be empty");
          }
          return parent.createChild(name, this.createNode(isDirectory, perm));
        };
        Volume3.prototype.deleteLink = function(link) {
          var parent = link.parent;
          if (parent) {
            parent.deleteChild(link);
            return true;
          }
          return false;
        };
        Volume3.prototype.newInoNumber = function() {
          var releasedFd = this.releasedInos.pop();
          if (releasedFd)
            return releasedFd;
          else {
            this.ino = (this.ino + 1) % 4294967295;
            return this.ino;
          }
        };
        Volume3.prototype.newFdNumber = function() {
          var releasedFd = this.releasedFds.pop();
          return typeof releasedFd === "number" ? releasedFd : Volume3.fd--;
        };
        Volume3.prototype.createNode = function(isDirectory, perm) {
          if (isDirectory === void 0) {
            isDirectory = false;
          }
          var node = new this.props.Node(this.newInoNumber(), perm);
          if (isDirectory)
            node.setIsDirectory();
          this.inodes[node.ino] = node;
          return node;
        };
        Volume3.prototype.getNode = function(ino) {
          return this.inodes[ino];
        };
        Volume3.prototype.deleteNode = function(node) {
          node.del();
          delete this.inodes[node.ino];
          this.releasedInos.push(node.ino);
        };
        Volume3.prototype.genRndStr = function() {
          var str = (Math.random() + 1).toString(36).substr(2, 6);
          if (str.length === 6)
            return str;
          else
            return this.genRndStr();
        };
        Volume3.prototype.getLink = function(steps) {
          return this.root.walk(steps);
        };
        Volume3.prototype.getLinkOrThrow = function(filename, funcName) {
          var steps = filenameToSteps2(filename);
          var link = this.getLink(steps);
          if (!link)
            throw createError(ENOENT, funcName, filename);
          return link;
        };
        Volume3.prototype.getResolvedLink = function(filenameOrSteps) {
          var steps = typeof filenameOrSteps === "string" ? filenameToSteps2(filenameOrSteps) : filenameOrSteps;
          var link = this.root;
          var i = 0;
          while (i < steps.length) {
            var step = steps[i];
            link = link.getChild(step);
            if (!link)
              return null;
            var node = link.getNode();
            if (node.isSymlink()) {
              steps = node.symlink.concat(steps.slice(i + 1));
              link = this.root;
              i = 0;
              continue;
            }
            i++;
          }
          return link;
        };
        Volume3.prototype.getResolvedLinkOrThrow = function(filename, funcName) {
          var link = this.getResolvedLink(filename);
          if (!link)
            throw createError(ENOENT, funcName, filename);
          return link;
        };
        Volume3.prototype.resolveSymlinks = function(link) {
          return this.getResolvedLink(link.steps.slice(1));
        };
        Volume3.prototype.getLinkAsDirOrThrow = function(filename, funcName) {
          var link = this.getLinkOrThrow(filename, funcName);
          if (!link.getNode().isDirectory())
            throw createError(ENOTDIR, funcName, filename);
          return link;
        };
        Volume3.prototype.getLinkParent = function(steps) {
          return this.root.walk(steps, steps.length - 1);
        };
        Volume3.prototype.getLinkParentAsDirOrThrow = function(filenameOrSteps, funcName) {
          var steps = filenameOrSteps instanceof Array ? filenameOrSteps : filenameToSteps2(filenameOrSteps);
          var link = this.getLinkParent(steps);
          if (!link)
            throw createError(ENOENT, funcName, sep + steps.join(sep));
          if (!link.getNode().isDirectory())
            throw createError(ENOTDIR, funcName, sep + steps.join(sep));
          return link;
        };
        Volume3.prototype.getFileByFd = function(fd2) {
          return this.fds[String(fd2)];
        };
        Volume3.prototype.getFileByFdOrThrow = function(fd2, funcName) {
          if (!isFd(fd2))
            throw TypeError(ERRSTR.FD);
          var file = this.getFileByFd(fd2);
          if (!file)
            throw createError(EBADF, funcName);
          return file;
        };
        Volume3.prototype.getNodeByIdOrCreate = function(id, flags, perm) {
          if (typeof id === "number") {
            var file = this.getFileByFd(id);
            if (!file)
              throw Error("File nto found");
            return file.node;
          } else {
            var steps = pathToSteps(id);
            var link = this.getLink(steps);
            if (link)
              return link.getNode();
            if (flags & O_CREAT) {
              var dirLink = this.getLinkParent(steps);
              if (dirLink) {
                var name_1 = steps[steps.length - 1];
                link = this.createLink(dirLink, name_1, false, perm);
                return link.getNode();
              }
            }
            throw createError(ENOENT, "getNodeByIdOrCreate", pathToFilename(id));
          }
        };
        Volume3.prototype.wrapAsync = function(method, args, callback) {
          var _this = this;
          validateCallback(callback);
          setImmediate_1.default(function() {
            try {
              callback(null, method.apply(_this, args));
            } catch (err2) {
              callback(err2);
            }
          });
        };
        Volume3.prototype._toJSON = function(link, json, path2) {
          var _a2;
          if (link === void 0) {
            link = this.root;
          }
          if (json === void 0) {
            json = {};
          }
          var isEmpty = true;
          var children = link.children;
          if (link.getNode().isFile()) {
            children = (_a2 = {}, _a2[link.getName()] = link.parent.getChild(link.getName()), _a2);
            link = link.parent;
          }
          for (var name_2 in children) {
            isEmpty = false;
            var child = link.getChild(name_2);
            if (!child) {
              throw new Error("_toJSON: unexpected undefined");
            }
            var node = child.getNode();
            if (node.isFile()) {
              var filename = child.getPath();
              if (path2)
                filename = relative(path2, filename);
              json[filename] = node.getString();
            } else if (node.isDirectory()) {
              this._toJSON(child, json, path2);
            }
          }
          var dirPath = link.getPath();
          if (path2)
            dirPath = relative(path2, dirPath);
          if (dirPath && isEmpty) {
            json[dirPath] = null;
          }
          return json;
        };
        Volume3.prototype.toJSON = function(paths, json, isRelative) {
          if (json === void 0) {
            json = {};
          }
          if (isRelative === void 0) {
            isRelative = false;
          }
          var links = [];
          if (paths) {
            if (!(paths instanceof Array))
              paths = [paths];
            for (var _i = 0, paths_1 = paths; _i < paths_1.length; _i++) {
              var path2 = paths_1[_i];
              var filename = pathToFilename(path2);
              var link = this.getResolvedLink(filename);
              if (!link)
                continue;
              links.push(link);
            }
          } else {
            links.push(this.root);
          }
          if (!links.length)
            return json;
          for (var _a2 = 0, links_1 = links; _a2 < links_1.length; _a2++) {
            var link = links_1[_a2];
            this._toJSON(link, json, isRelative ? link.getPath() : "");
          }
          return json;
        };
        Volume3.prototype.fromJSON = function(json, cwd2) {
          if (cwd2 === void 0) {
            cwd2 = process_1.default.cwd();
          }
          for (var filename in json) {
            var data = json[filename];
            if (typeof data === "string") {
              filename = resolve(filename, cwd2);
              var steps = filenameToSteps2(filename);
              if (steps.length > 1) {
                var dirname = sep + steps.slice(0, steps.length - 1).join(sep);
                this.mkdirpBase(
                  dirname,
                  511
                  /* DIR */
                );
              }
              this.writeFileSync(filename, data);
            } else {
              this.mkdirpBase(
                filename,
                511
                /* DIR */
              );
            }
          }
        };
        Volume3.prototype.reset = function() {
          this.ino = 0;
          this.inodes = {};
          this.releasedInos = [];
          this.fds = {};
          this.releasedFds = [];
          this.openFiles = 0;
          this.root = this.createLink();
          this.root.setNode(this.createNode(true));
        };
        Volume3.prototype.mountSync = function(mountpoint, json) {
          this.fromJSON(json, mountpoint);
        };
        Volume3.prototype.openLink = function(link, flagsNum, resolveSymlinks) {
          if (resolveSymlinks === void 0) {
            resolveSymlinks = true;
          }
          if (this.openFiles >= this.maxFiles) {
            throw createError(EMFILE, "open", link.getPath());
          }
          var realLink = link;
          if (resolveSymlinks)
            realLink = this.resolveSymlinks(link);
          if (!realLink)
            throw createError(ENOENT, "open", link.getPath());
          var node = realLink.getNode();
          if (node.isDirectory()) {
            if ((flagsNum & (O_RDONLY | O_RDWR | O_WRONLY)) !== O_RDONLY)
              throw createError(EISDIR, "open", link.getPath());
          } else {
            if (flagsNum & O_DIRECTORY)
              throw createError(ENOTDIR, "open", link.getPath());
          }
          if (!(flagsNum & O_WRONLY)) {
            if (!node.canRead()) {
              throw createError(EACCES, "open", link.getPath());
            }
          }
          if (flagsNum & O_RDWR) {
          }
          var file = new this.props.File(link, node, flagsNum, this.newFdNumber());
          this.fds[file.fd] = file;
          this.openFiles++;
          if (flagsNum & O_TRUNC)
            file.truncate();
          return file;
        };
        Volume3.prototype.openFile = function(filename, flagsNum, modeNum, resolveSymlinks) {
          if (resolveSymlinks === void 0) {
            resolveSymlinks = true;
          }
          var steps = filenameToSteps2(filename);
          var link = resolveSymlinks ? this.getResolvedLink(steps) : this.getLink(steps);
          if (!link && flagsNum & O_CREAT) {
            var dirLink = this.getResolvedLink(steps.slice(0, steps.length - 1));
            if (!dirLink)
              throw createError(ENOENT, "open", sep + steps.join(sep));
            if (flagsNum & O_CREAT && typeof modeNum === "number") {
              link = this.createLink(dirLink, steps[steps.length - 1], false, modeNum);
            }
          }
          if (link)
            return this.openLink(link, flagsNum, resolveSymlinks);
          throw createError(ENOENT, "open", filename);
        };
        Volume3.prototype.openBase = function(filename, flagsNum, modeNum, resolveSymlinks) {
          if (resolveSymlinks === void 0) {
            resolveSymlinks = true;
          }
          var file = this.openFile(filename, flagsNum, modeNum, resolveSymlinks);
          if (!file)
            throw createError(ENOENT, "open", filename);
          return file.fd;
        };
        Volume3.prototype.openSync = function(path2, flags, mode) {
          if (mode === void 0) {
            mode = 438;
          }
          var modeNum = modeToNumber(mode);
          var fileName = pathToFilename(path2);
          var flagsNum = flagsToNumber(flags);
          return this.openBase(fileName, flagsNum, modeNum);
        };
        Volume3.prototype.open = function(path2, flags, a, b) {
          var mode = a;
          var callback = b;
          if (typeof a === "function") {
            mode = 438;
            callback = a;
          }
          mode = mode || 438;
          var modeNum = modeToNumber(mode);
          var fileName = pathToFilename(path2);
          var flagsNum = flagsToNumber(flags);
          this.wrapAsync(this.openBase, [fileName, flagsNum, modeNum], callback);
        };
        Volume3.prototype.closeFile = function(file) {
          if (!this.fds[file.fd])
            return;
          this.openFiles--;
          delete this.fds[file.fd];
          this.releasedFds.push(file.fd);
        };
        Volume3.prototype.closeSync = function(fd2) {
          validateFd(fd2);
          var file = this.getFileByFdOrThrow(fd2, "close");
          this.closeFile(file);
        };
        Volume3.prototype.close = function(fd2, callback) {
          validateFd(fd2);
          this.wrapAsync(this.closeSync, [fd2], callback);
        };
        Volume3.prototype.openFileOrGetById = function(id, flagsNum, modeNum) {
          if (typeof id === "number") {
            var file = this.fds[id];
            if (!file)
              throw createError(ENOENT);
            return file;
          } else {
            return this.openFile(pathToFilename(id), flagsNum, modeNum);
          }
        };
        Volume3.prototype.readBase = function(fd2, buffer2, offset, length, position) {
          var file = this.getFileByFdOrThrow(fd2);
          return file.read(buffer2, Number(offset), Number(length), position);
        };
        Volume3.prototype.readSync = function(fd2, buffer2, offset, length, position) {
          validateFd(fd2);
          return this.readBase(fd2, buffer2, offset, length, position);
        };
        Volume3.prototype.read = function(fd2, buffer2, offset, length, position, callback) {
          var _this = this;
          validateCallback(callback);
          if (length === 0) {
            return process_1.default.nextTick(function() {
              if (callback)
                callback(null, 0, buffer2);
            });
          }
          setImmediate_1.default(function() {
            try {
              var bytes = _this.readBase(fd2, buffer2, offset, length, position);
              callback(null, bytes, buffer2);
            } catch (err2) {
              callback(err2);
            }
          });
        };
        Volume3.prototype.readFileBase = function(id, flagsNum, encoding) {
          var result;
          var isUserFd = typeof id === "number";
          var userOwnsFd = isUserFd && isFd(id);
          var fd2;
          if (userOwnsFd)
            fd2 = id;
          else {
            var filename = pathToFilename(id);
            var steps = filenameToSteps2(filename);
            var link = this.getResolvedLink(steps);
            if (link) {
              var node = link.getNode();
              if (node.isDirectory())
                throw createError(EISDIR, "open", link.getPath());
            }
            fd2 = this.openSync(id, flagsNum);
          }
          try {
            result = bufferToEncoding(this.getFileByFdOrThrow(fd2).getBuffer(), encoding);
          } finally {
            if (!userOwnsFd) {
              this.closeSync(fd2);
            }
          }
          return result;
        };
        Volume3.prototype.readFileSync = function(file, options) {
          var opts = getReadFileOptions(options);
          var flagsNum = flagsToNumber(opts.flag);
          return this.readFileBase(file, flagsNum, opts.encoding);
        };
        Volume3.prototype.readFile = function(id, a, b) {
          var _a2 = optsAndCbGenerator(getReadFileOptions)(a, b), opts = _a2[0], callback = _a2[1];
          var flagsNum = flagsToNumber(opts.flag);
          this.wrapAsync(this.readFileBase, [id, flagsNum, opts.encoding], callback);
        };
        Volume3.prototype.writeBase = function(fd2, buf, offset, length, position) {
          var file = this.getFileByFdOrThrow(fd2, "write");
          return file.write(buf, offset, length, position);
        };
        Volume3.prototype.writeSync = function(fd2, a, b, c, d) {
          validateFd(fd2);
          var encoding;
          var offset;
          var length;
          var position;
          var isBuffer = typeof a !== "string";
          if (isBuffer) {
            offset = (b || 0) | 0;
            length = c;
            position = d;
          } else {
            position = b;
            encoding = c;
          }
          var buf = dataToBuffer(a, encoding);
          if (isBuffer) {
            if (typeof length === "undefined") {
              length = buf.length;
            }
          } else {
            offset = 0;
            length = buf.length;
          }
          return this.writeBase(fd2, buf, offset, length, position);
        };
        Volume3.prototype.write = function(fd2, a, b, c, d, e) {
          var _this = this;
          validateFd(fd2);
          var offset;
          var length;
          var position;
          var encoding;
          var callback;
          var tipa = typeof a;
          var tipb = typeof b;
          var tipc = typeof c;
          var tipd = typeof d;
          if (tipa !== "string") {
            if (tipb === "function") {
              callback = b;
            } else if (tipc === "function") {
              offset = b | 0;
              callback = c;
            } else if (tipd === "function") {
              offset = b | 0;
              length = c;
              callback = d;
            } else {
              offset = b | 0;
              length = c;
              position = d;
              callback = e;
            }
          } else {
            if (tipb === "function") {
              callback = b;
            } else if (tipc === "function") {
              position = b;
              callback = c;
            } else if (tipd === "function") {
              position = b;
              encoding = c;
              callback = d;
            }
          }
          var buf = dataToBuffer(a, encoding);
          if (tipa !== "string") {
            if (typeof length === "undefined")
              length = buf.length;
          } else {
            offset = 0;
            length = buf.length;
          }
          var cb = validateCallback(callback);
          setImmediate_1.default(function() {
            try {
              var bytes = _this.writeBase(fd2, buf, offset, length, position);
              if (tipa !== "string") {
                cb(null, bytes, buf);
              } else {
                cb(null, bytes, a);
              }
            } catch (err2) {
              cb(err2);
            }
          });
        };
        Volume3.prototype.writeFileBase = function(id, buf, flagsNum, modeNum) {
          var isUserFd = typeof id === "number";
          var fd2;
          if (isUserFd)
            fd2 = id;
          else {
            fd2 = this.openBase(pathToFilename(id), flagsNum, modeNum);
          }
          var offset = 0;
          var length = buf.length;
          var position = flagsNum & O_APPEND ? void 0 : 0;
          try {
            while (length > 0) {
              var written = this.writeSync(fd2, buf, offset, length, position);
              offset += written;
              length -= written;
              if (position !== void 0)
                position += written;
            }
          } finally {
            if (!isUserFd)
              this.closeSync(fd2);
          }
        };
        Volume3.prototype.writeFileSync = function(id, data, options) {
          var opts = getWriteFileOptions(options);
          var flagsNum = flagsToNumber(opts.flag);
          var modeNum = modeToNumber(opts.mode);
          var buf = dataToBuffer(data, opts.encoding);
          this.writeFileBase(id, buf, flagsNum, modeNum);
        };
        Volume3.prototype.writeFile = function(id, data, a, b) {
          var options = a;
          var callback = b;
          if (typeof a === "function") {
            options = writeFileDefaults;
            callback = a;
          }
          var cb = validateCallback(callback);
          var opts = getWriteFileOptions(options);
          var flagsNum = flagsToNumber(opts.flag);
          var modeNum = modeToNumber(opts.mode);
          var buf = dataToBuffer(data, opts.encoding);
          this.wrapAsync(this.writeFileBase, [id, buf, flagsNum, modeNum], cb);
        };
        Volume3.prototype.linkBase = function(filename1, filename2) {
          var steps1 = filenameToSteps2(filename1);
          var link1 = this.getLink(steps1);
          if (!link1)
            throw createError(ENOENT, "link", filename1, filename2);
          var steps2 = filenameToSteps2(filename2);
          var dir2 = this.getLinkParent(steps2);
          if (!dir2)
            throw createError(ENOENT, "link", filename1, filename2);
          var name = steps2[steps2.length - 1];
          if (dir2.getChild(name))
            throw createError(EEXIST, "link", filename1, filename2);
          var node = link1.getNode();
          node.nlink++;
          dir2.createChild(name, node);
        };
        Volume3.prototype.copyFileBase = function(src, dest, flags) {
          var buf = this.readFileSync(src);
          if (flags & COPYFILE_EXCL) {
            if (this.existsSync(dest)) {
              throw createError(EEXIST, "copyFile", src, dest);
            }
          }
          if (flags & COPYFILE_FICLONE_FORCE) {
            throw createError(ENOSYS, "copyFile", src, dest);
          }
          this.writeFileBase(
            dest,
            buf,
            FLAGS.w,
            438
            /* DEFAULT */
          );
        };
        Volume3.prototype.copyFileSync = function(src, dest, flags) {
          var srcFilename = pathToFilename(src);
          var destFilename = pathToFilename(dest);
          return this.copyFileBase(srcFilename, destFilename, (flags || 0) | 0);
        };
        Volume3.prototype.copyFile = function(src, dest, a, b) {
          var srcFilename = pathToFilename(src);
          var destFilename = pathToFilename(dest);
          var flags;
          var callback;
          if (typeof a === "function") {
            flags = 0;
            callback = a;
          } else {
            flags = a;
            callback = b;
          }
          validateCallback(callback);
          this.wrapAsync(this.copyFileBase, [srcFilename, destFilename, flags], callback);
        };
        Volume3.prototype.linkSync = function(existingPath, newPath) {
          var existingPathFilename = pathToFilename(existingPath);
          var newPathFilename = pathToFilename(newPath);
          this.linkBase(existingPathFilename, newPathFilename);
        };
        Volume3.prototype.link = function(existingPath, newPath, callback) {
          var existingPathFilename = pathToFilename(existingPath);
          var newPathFilename = pathToFilename(newPath);
          this.wrapAsync(this.linkBase, [existingPathFilename, newPathFilename], callback);
        };
        Volume3.prototype.unlinkBase = function(filename) {
          var steps = filenameToSteps2(filename);
          var link = this.getLink(steps);
          if (!link)
            throw createError(ENOENT, "unlink", filename);
          if (link.length)
            throw Error("Dir not empty...");
          this.deleteLink(link);
          var node = link.getNode();
          node.nlink--;
          if (node.nlink <= 0) {
            this.deleteNode(node);
          }
        };
        Volume3.prototype.unlinkSync = function(path2) {
          var filename = pathToFilename(path2);
          this.unlinkBase(filename);
        };
        Volume3.prototype.unlink = function(path2, callback) {
          var filename = pathToFilename(path2);
          this.wrapAsync(this.unlinkBase, [filename], callback);
        };
        Volume3.prototype.symlinkBase = function(targetFilename, pathFilename) {
          var pathSteps = filenameToSteps2(pathFilename);
          var dirLink = this.getLinkParent(pathSteps);
          if (!dirLink)
            throw createError(ENOENT, "symlink", targetFilename, pathFilename);
          var name = pathSteps[pathSteps.length - 1];
          if (dirLink.getChild(name))
            throw createError(EEXIST, "symlink", targetFilename, pathFilename);
          var symlink = dirLink.createChild(name);
          symlink.getNode().makeSymlink(filenameToSteps2(targetFilename));
          return symlink;
        };
        Volume3.prototype.symlinkSync = function(target, path2, type) {
          var targetFilename = pathToFilename(target);
          var pathFilename = pathToFilename(path2);
          this.symlinkBase(targetFilename, pathFilename);
        };
        Volume3.prototype.symlink = function(target, path2, a, b) {
          var callback = validateCallback(typeof a === "function" ? a : b);
          var targetFilename = pathToFilename(target);
          var pathFilename = pathToFilename(path2);
          this.wrapAsync(this.symlinkBase, [targetFilename, pathFilename], callback);
        };
        Volume3.prototype.realpathBase = function(filename, encoding) {
          var steps = filenameToSteps2(filename);
          var realLink = this.getResolvedLink(steps);
          if (!realLink)
            throw createError(ENOENT, "realpath", filename);
          return encoding_1.strToEncoding(realLink.getPath(), encoding);
        };
        Volume3.prototype.realpathSync = function(path2, options) {
          return this.realpathBase(pathToFilename(path2), getRealpathOptions(options).encoding);
        };
        Volume3.prototype.realpath = function(path2, a, b) {
          var _a2 = getRealpathOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
          var pathFilename = pathToFilename(path2);
          this.wrapAsync(this.realpathBase, [pathFilename, opts.encoding], callback);
        };
        Volume3.prototype.lstatBase = function(filename, bigint) {
          if (bigint === void 0) {
            bigint = false;
          }
          var link = this.getLink(filenameToSteps2(filename));
          if (!link)
            throw createError(ENOENT, "lstat", filename);
          return Stats_1.default.build(link.getNode(), bigint);
        };
        Volume3.prototype.lstatSync = function(path2, options) {
          return this.lstatBase(pathToFilename(path2), getStatOptions(options).bigint);
        };
        Volume3.prototype.lstat = function(path2, a, b) {
          var _a2 = getStatOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
          this.wrapAsync(this.lstatBase, [pathToFilename(path2), opts.bigint], callback);
        };
        Volume3.prototype.statBase = function(filename, bigint) {
          if (bigint === void 0) {
            bigint = false;
          }
          var link = this.getResolvedLink(filenameToSteps2(filename));
          if (!link)
            throw createError(ENOENT, "stat", filename);
          return Stats_1.default.build(link.getNode(), bigint);
        };
        Volume3.prototype.statSync = function(path2, options) {
          return this.statBase(pathToFilename(path2), getStatOptions(options).bigint);
        };
        Volume3.prototype.stat = function(path2, a, b) {
          var _a2 = getStatOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
          this.wrapAsync(this.statBase, [pathToFilename(path2), opts.bigint], callback);
        };
        Volume3.prototype.fstatBase = function(fd2, bigint) {
          if (bigint === void 0) {
            bigint = false;
          }
          var file = this.getFileByFd(fd2);
          if (!file)
            throw createError(EBADF, "fstat");
          return Stats_1.default.build(file.node, bigint);
        };
        Volume3.prototype.fstatSync = function(fd2, options) {
          return this.fstatBase(fd2, getStatOptions(options).bigint);
        };
        Volume3.prototype.fstat = function(fd2, a, b) {
          var _a2 = getStatOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
          this.wrapAsync(this.fstatBase, [fd2, opts.bigint], callback);
        };
        Volume3.prototype.renameBase = function(oldPathFilename, newPathFilename) {
          var link = this.getLink(filenameToSteps2(oldPathFilename));
          if (!link)
            throw createError(ENOENT, "rename", oldPathFilename, newPathFilename);
          var newPathSteps = filenameToSteps2(newPathFilename);
          var newPathDirLink = this.getLinkParent(newPathSteps);
          if (!newPathDirLink)
            throw createError(ENOENT, "rename", oldPathFilename, newPathFilename);
          var oldLinkParent = link.parent;
          if (oldLinkParent) {
            oldLinkParent.deleteChild(link);
          }
          var name = newPathSteps[newPathSteps.length - 1];
          link.steps = __spreadArrays(newPathDirLink.steps, [name]);
          newPathDirLink.setChild(link.getName(), link);
        };
        Volume3.prototype.renameSync = function(oldPath, newPath) {
          var oldPathFilename = pathToFilename(oldPath);
          var newPathFilename = pathToFilename(newPath);
          this.renameBase(oldPathFilename, newPathFilename);
        };
        Volume3.prototype.rename = function(oldPath, newPath, callback) {
          var oldPathFilename = pathToFilename(oldPath);
          var newPathFilename = pathToFilename(newPath);
          this.wrapAsync(this.renameBase, [oldPathFilename, newPathFilename], callback);
        };
        Volume3.prototype.existsBase = function(filename) {
          return !!this.statBase(filename);
        };
        Volume3.prototype.existsSync = function(path2) {
          try {
            return this.existsBase(pathToFilename(path2));
          } catch (err2) {
            return false;
          }
        };
        Volume3.prototype.exists = function(path2, callback) {
          var _this = this;
          var filename = pathToFilename(path2);
          if (typeof callback !== "function")
            throw Error(ERRSTR.CB);
          setImmediate_1.default(function() {
            try {
              callback(_this.existsBase(filename));
            } catch (err2) {
              callback(false);
            }
          });
        };
        Volume3.prototype.accessBase = function(filename, mode) {
          var link = this.getLinkOrThrow(filename, "access");
        };
        Volume3.prototype.accessSync = function(path2, mode) {
          if (mode === void 0) {
            mode = F_OK;
          }
          var filename = pathToFilename(path2);
          mode = mode | 0;
          this.accessBase(filename, mode);
        };
        Volume3.prototype.access = function(path2, a, b) {
          var mode = F_OK;
          var callback;
          if (typeof a !== "function") {
            mode = a | 0;
            callback = validateCallback(b);
          } else {
            callback = a;
          }
          var filename = pathToFilename(path2);
          this.wrapAsync(this.accessBase, [filename, mode], callback);
        };
        Volume3.prototype.appendFileSync = function(id, data, options) {
          if (options === void 0) {
            options = appendFileDefaults;
          }
          var opts = getAppendFileOpts(options);
          if (!opts.flag || isFd(id))
            opts.flag = "a";
          this.writeFileSync(id, data, opts);
        };
        Volume3.prototype.appendFile = function(id, data, a, b) {
          var _a2 = getAppendFileOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
          if (!opts.flag || isFd(id))
            opts.flag = "a";
          this.writeFile(id, data, opts, callback);
        };
        Volume3.prototype.readdirBase = function(filename, options) {
          var steps = filenameToSteps2(filename);
          var link = this.getResolvedLink(steps);
          if (!link)
            throw createError(ENOENT, "readdir", filename);
          var node = link.getNode();
          if (!node.isDirectory())
            throw createError(ENOTDIR, "scandir", filename);
          if (options.withFileTypes) {
            var list_1 = [];
            for (var name_3 in link.children) {
              var child = link.getChild(name_3);
              if (!child) {
                continue;
              }
              list_1.push(Dirent_1.default.build(child, options.encoding));
            }
            if (!isWin && options.encoding !== "buffer")
              list_1.sort(function(a, b) {
                if (a.name < b.name)
                  return -1;
                if (a.name > b.name)
                  return 1;
                return 0;
              });
            return list_1;
          }
          var list = [];
          for (var name_4 in link.children) {
            list.push(encoding_1.strToEncoding(name_4, options.encoding));
          }
          if (!isWin && options.encoding !== "buffer")
            list.sort();
          return list;
        };
        Volume3.prototype.readdirSync = function(path2, options) {
          var opts = getReaddirOptions(options);
          var filename = pathToFilename(path2);
          return this.readdirBase(filename, opts);
        };
        Volume3.prototype.readdir = function(path2, a, b) {
          var _a2 = getReaddirOptsAndCb(a, b), options = _a2[0], callback = _a2[1];
          var filename = pathToFilename(path2);
          this.wrapAsync(this.readdirBase, [filename, options], callback);
        };
        Volume3.prototype.readlinkBase = function(filename, encoding) {
          var link = this.getLinkOrThrow(filename, "readlink");
          var node = link.getNode();
          if (!node.isSymlink())
            throw createError(EINVAL, "readlink", filename);
          var str = sep + node.symlink.join(sep);
          return encoding_1.strToEncoding(str, encoding);
        };
        Volume3.prototype.readlinkSync = function(path2, options) {
          var opts = getDefaultOpts(options);
          var filename = pathToFilename(path2);
          return this.readlinkBase(filename, opts.encoding);
        };
        Volume3.prototype.readlink = function(path2, a, b) {
          var _a2 = getDefaultOptsAndCb(a, b), opts = _a2[0], callback = _a2[1];
          var filename = pathToFilename(path2);
          this.wrapAsync(this.readlinkBase, [filename, opts.encoding], callback);
        };
        Volume3.prototype.fsyncBase = function(fd2) {
          this.getFileByFdOrThrow(fd2, "fsync");
        };
        Volume3.prototype.fsyncSync = function(fd2) {
          this.fsyncBase(fd2);
        };
        Volume3.prototype.fsync = function(fd2, callback) {
          this.wrapAsync(this.fsyncBase, [fd2], callback);
        };
        Volume3.prototype.fdatasyncBase = function(fd2) {
          this.getFileByFdOrThrow(fd2, "fdatasync");
        };
        Volume3.prototype.fdatasyncSync = function(fd2) {
          this.fdatasyncBase(fd2);
        };
        Volume3.prototype.fdatasync = function(fd2, callback) {
          this.wrapAsync(this.fdatasyncBase, [fd2], callback);
        };
        Volume3.prototype.ftruncateBase = function(fd2, len) {
          var file = this.getFileByFdOrThrow(fd2, "ftruncate");
          file.truncate(len);
        };
        Volume3.prototype.ftruncateSync = function(fd2, len) {
          this.ftruncateBase(fd2, len);
        };
        Volume3.prototype.ftruncate = function(fd2, a, b) {
          var len = typeof a === "number" ? a : 0;
          var callback = validateCallback(typeof a === "number" ? b : a);
          this.wrapAsync(this.ftruncateBase, [fd2, len], callback);
        };
        Volume3.prototype.truncateBase = function(path2, len) {
          var fd2 = this.openSync(path2, "r+");
          try {
            this.ftruncateSync(fd2, len);
          } finally {
            this.closeSync(fd2);
          }
        };
        Volume3.prototype.truncateSync = function(id, len) {
          if (isFd(id))
            return this.ftruncateSync(id, len);
          this.truncateBase(id, len);
        };
        Volume3.prototype.truncate = function(id, a, b) {
          var len = typeof a === "number" ? a : 0;
          var callback = validateCallback(typeof a === "number" ? b : a);
          if (isFd(id))
            return this.ftruncate(id, len, callback);
          this.wrapAsync(this.truncateBase, [id, len], callback);
        };
        Volume3.prototype.futimesBase = function(fd2, atime, mtime) {
          var file = this.getFileByFdOrThrow(fd2, "futimes");
          var node = file.node;
          node.atime = new Date(atime * 1e3);
          node.mtime = new Date(mtime * 1e3);
        };
        Volume3.prototype.futimesSync = function(fd2, atime, mtime) {
          this.futimesBase(fd2, toUnixTimestamp(atime), toUnixTimestamp(mtime));
        };
        Volume3.prototype.futimes = function(fd2, atime, mtime, callback) {
          this.wrapAsync(this.futimesBase, [fd2, toUnixTimestamp(atime), toUnixTimestamp(mtime)], callback);
        };
        Volume3.prototype.utimesBase = function(filename, atime, mtime) {
          var fd2 = this.openSync(filename, "r+");
          try {
            this.futimesBase(fd2, atime, mtime);
          } finally {
            this.closeSync(fd2);
          }
        };
        Volume3.prototype.utimesSync = function(path2, atime, mtime) {
          this.utimesBase(pathToFilename(path2), toUnixTimestamp(atime), toUnixTimestamp(mtime));
        };
        Volume3.prototype.utimes = function(path2, atime, mtime, callback) {
          this.wrapAsync(this.utimesBase, [pathToFilename(path2), toUnixTimestamp(atime), toUnixTimestamp(mtime)], callback);
        };
        Volume3.prototype.mkdirBase = function(filename, modeNum) {
          var steps = filenameToSteps2(filename);
          if (!steps.length) {
            throw createError(EISDIR, "mkdir", filename);
          }
          var dir = this.getLinkParentAsDirOrThrow(filename, "mkdir");
          var name = steps[steps.length - 1];
          if (dir.getChild(name))
            throw createError(EEXIST, "mkdir", filename);
          dir.createChild(name, this.createNode(true, modeNum));
        };
        Volume3.prototype.mkdirpBase = function(filename, modeNum) {
          var steps = filenameToSteps2(filename);
          var link = this.root;
          for (var i = 0; i < steps.length; i++) {
            var step = steps[i];
            if (!link.getNode().isDirectory())
              throw createError(ENOTDIR, "mkdir", link.getPath());
            var child = link.getChild(step);
            if (child) {
              if (child.getNode().isDirectory())
                link = child;
              else
                throw createError(ENOTDIR, "mkdir", child.getPath());
            } else {
              link = link.createChild(step, this.createNode(true, modeNum));
            }
          }
        };
        Volume3.prototype.mkdirSync = function(path2, options) {
          var opts = getMkdirOptions(options);
          var modeNum = modeToNumber(opts.mode, 511);
          var filename = pathToFilename(path2);
          if (opts.recursive)
            this.mkdirpBase(filename, modeNum);
          else
            this.mkdirBase(filename, modeNum);
        };
        Volume3.prototype.mkdir = function(path2, a, b) {
          var opts = getMkdirOptions(a);
          var callback = validateCallback(typeof a === "function" ? a : b);
          var modeNum = modeToNumber(opts.mode, 511);
          var filename = pathToFilename(path2);
          if (opts.recursive)
            this.wrapAsync(this.mkdirpBase, [filename, modeNum], callback);
          else
            this.wrapAsync(this.mkdirBase, [filename, modeNum], callback);
        };
        Volume3.prototype.mkdirpSync = function(path2, mode) {
          this.mkdirSync(path2, { mode, recursive: true });
        };
        Volume3.prototype.mkdirp = function(path2, a, b) {
          var mode = typeof a === "function" ? void 0 : a;
          var callback = validateCallback(typeof a === "function" ? a : b);
          this.mkdir(path2, { mode, recursive: true }, callback);
        };
        Volume3.prototype.mkdtempBase = function(prefix, encoding, retry) {
          if (retry === void 0) {
            retry = 5;
          }
          var filename = prefix + this.genRndStr();
          try {
            this.mkdirBase(
              filename,
              511
              /* DIR */
            );
            return encoding_1.strToEncoding(filename, encoding);
          } catch (err2) {
            if (err2.code === EEXIST) {
              if (retry > 1)
                return this.mkdtempBase(prefix, encoding, retry - 1);
              else
                throw Error("Could not create temp dir.");
            } else
              throw err2;
          }
        };
        Volume3.prototype.mkdtempSync = function(prefix, options) {
          var encoding = getDefaultOpts(options).encoding;
          if (!prefix || typeof prefix !== "string")
            throw new TypeError("filename prefix is required");
          nullCheck(prefix);
          return this.mkdtempBase(prefix, encoding);
        };
        Volume3.prototype.mkdtemp = function(prefix, a, b) {
          var _a2 = getDefaultOptsAndCb(a, b), encoding = _a2[0].encoding, callback = _a2[1];
          if (!prefix || typeof prefix !== "string")
            throw new TypeError("filename prefix is required");
          if (!nullCheck(prefix))
            return;
          this.wrapAsync(this.mkdtempBase, [prefix, encoding], callback);
        };
        Volume3.prototype.rmdirBase = function(filename, options) {
          var opts = getRmdirOptions(options);
          var link = this.getLinkAsDirOrThrow(filename, "rmdir");
          if (link.length && !opts.recursive)
            throw createError(ENOTEMPTY, "rmdir", filename);
          this.deleteLink(link);
        };
        Volume3.prototype.rmdirSync = function(path2, options) {
          this.rmdirBase(pathToFilename(path2), options);
        };
        Volume3.prototype.rmdir = function(path2, a, b) {
          var opts = getRmdirOptions(a);
          var callback = validateCallback(typeof a === "function" ? a : b);
          this.wrapAsync(this.rmdirBase, [pathToFilename(path2), opts], callback);
        };
        Volume3.prototype.fchmodBase = function(fd2, modeNum) {
          var file = this.getFileByFdOrThrow(fd2, "fchmod");
          file.chmod(modeNum);
        };
        Volume3.prototype.fchmodSync = function(fd2, mode) {
          this.fchmodBase(fd2, modeToNumber(mode));
        };
        Volume3.prototype.fchmod = function(fd2, mode, callback) {
          this.wrapAsync(this.fchmodBase, [fd2, modeToNumber(mode)], callback);
        };
        Volume3.prototype.chmodBase = function(filename, modeNum) {
          var fd2 = this.openSync(filename, "r+");
          try {
            this.fchmodBase(fd2, modeNum);
          } finally {
            this.closeSync(fd2);
          }
        };
        Volume3.prototype.chmodSync = function(path2, mode) {
          var modeNum = modeToNumber(mode);
          var filename = pathToFilename(path2);
          this.chmodBase(filename, modeNum);
        };
        Volume3.prototype.chmod = function(path2, mode, callback) {
          var modeNum = modeToNumber(mode);
          var filename = pathToFilename(path2);
          this.wrapAsync(this.chmodBase, [filename, modeNum], callback);
        };
        Volume3.prototype.lchmodBase = function(filename, modeNum) {
          var fd2 = this.openBase(filename, O_RDWR, 0, false);
          try {
            this.fchmodBase(fd2, modeNum);
          } finally {
            this.closeSync(fd2);
          }
        };
        Volume3.prototype.lchmodSync = function(path2, mode) {
          var modeNum = modeToNumber(mode);
          var filename = pathToFilename(path2);
          this.lchmodBase(filename, modeNum);
        };
        Volume3.prototype.lchmod = function(path2, mode, callback) {
          var modeNum = modeToNumber(mode);
          var filename = pathToFilename(path2);
          this.wrapAsync(this.lchmodBase, [filename, modeNum], callback);
        };
        Volume3.prototype.fchownBase = function(fd2, uid, gid) {
          this.getFileByFdOrThrow(fd2, "fchown").chown(uid, gid);
        };
        Volume3.prototype.fchownSync = function(fd2, uid, gid) {
          validateUid(uid);
          validateGid(gid);
          this.fchownBase(fd2, uid, gid);
        };
        Volume3.prototype.fchown = function(fd2, uid, gid, callback) {
          validateUid(uid);
          validateGid(gid);
          this.wrapAsync(this.fchownBase, [fd2, uid, gid], callback);
        };
        Volume3.prototype.chownBase = function(filename, uid, gid) {
          var link = this.getResolvedLinkOrThrow(filename, "chown");
          var node = link.getNode();
          node.chown(uid, gid);
        };
        Volume3.prototype.chownSync = function(path2, uid, gid) {
          validateUid(uid);
          validateGid(gid);
          this.chownBase(pathToFilename(path2), uid, gid);
        };
        Volume3.prototype.chown = function(path2, uid, gid, callback) {
          validateUid(uid);
          validateGid(gid);
          this.wrapAsync(this.chownBase, [pathToFilename(path2), uid, gid], callback);
        };
        Volume3.prototype.lchownBase = function(filename, uid, gid) {
          this.getLinkOrThrow(filename, "lchown").getNode().chown(uid, gid);
        };
        Volume3.prototype.lchownSync = function(path2, uid, gid) {
          validateUid(uid);
          validateGid(gid);
          this.lchownBase(pathToFilename(path2), uid, gid);
        };
        Volume3.prototype.lchown = function(path2, uid, gid, callback) {
          validateUid(uid);
          validateGid(gid);
          this.wrapAsync(this.lchownBase, [pathToFilename(path2), uid, gid], callback);
        };
        Volume3.prototype.watchFile = function(path2, a, b) {
          var filename = pathToFilename(path2);
          var options = a;
          var listener = b;
          if (typeof options === "function") {
            listener = a;
            options = null;
          }
          if (typeof listener !== "function") {
            throw Error('"watchFile()" requires a listener function');
          }
          var interval = 5007;
          var persistent = true;
          if (options && typeof options === "object") {
            if (typeof options.interval === "number")
              interval = options.interval;
            if (typeof options.persistent === "boolean")
              persistent = options.persistent;
          }
          var watcher = this.statWatchers[filename];
          if (!watcher) {
            watcher = new this.StatWatcher();
            watcher.start(filename, persistent, interval);
            this.statWatchers[filename] = watcher;
          }
          watcher.addListener("change", listener);
          return watcher;
        };
        Volume3.prototype.unwatchFile = function(path2, listener) {
          var filename = pathToFilename(path2);
          var watcher = this.statWatchers[filename];
          if (!watcher)
            return;
          if (typeof listener === "function") {
            watcher.removeListener("change", listener);
          } else {
            watcher.removeAllListeners("change");
          }
          if (watcher.listenerCount("change") === 0) {
            watcher.stop();
            delete this.statWatchers[filename];
          }
        };
        Volume3.prototype.createReadStream = function(path2, options) {
          return new this.ReadStream(path2, options);
        };
        Volume3.prototype.createWriteStream = function(path2, options) {
          return new this.WriteStream(path2, options);
        };
        Volume3.prototype.watch = function(path2, options, listener) {
          var filename = pathToFilename(path2);
          var givenOptions = options;
          if (typeof options === "function") {
            listener = options;
            givenOptions = null;
          }
          var _a2 = getDefaultOpts(givenOptions), persistent = _a2.persistent, recursive = _a2.recursive, encoding = _a2.encoding;
          if (persistent === void 0)
            persistent = true;
          if (recursive === void 0)
            recursive = false;
          var watcher = new this.FSWatcher();
          watcher.start(filename, persistent, recursive, encoding);
          if (listener) {
            watcher.addListener("change", listener);
          }
          return watcher;
        };
        Volume3.fd = 2147483647;
        return Volume3;
      }()
    );
    exports.Volume = Volume2;
    function emitStop(self2) {
      self2.emit("stop");
    }
    var StatWatcher = (
      /** @class */
      function(_super) {
        __extends(StatWatcher2, _super);
        function StatWatcher2(vol) {
          var _this = _super.call(this) || this;
          _this.onInterval = function() {
            try {
              var stats = _this.vol.statSync(_this.filename);
              if (_this.hasChanged(stats)) {
                _this.emit("change", stats, _this.prev);
                _this.prev = stats;
              }
            } finally {
              _this.loop();
            }
          };
          _this.vol = vol;
          return _this;
        }
        StatWatcher2.prototype.loop = function() {
          this.timeoutRef = this.setTimeout(this.onInterval, this.interval);
        };
        StatWatcher2.prototype.hasChanged = function(stats) {
          if (stats.mtimeMs > this.prev.mtimeMs)
            return true;
          if (stats.nlink !== this.prev.nlink)
            return true;
          return false;
        };
        StatWatcher2.prototype.start = function(path2, persistent, interval) {
          if (persistent === void 0) {
            persistent = true;
          }
          if (interval === void 0) {
            interval = 5007;
          }
          this.filename = pathToFilename(path2);
          this.setTimeout = persistent ? setTimeout : setTimeoutUnref_1.default;
          this.interval = interval;
          this.prev = this.vol.statSync(this.filename);
          this.loop();
        };
        StatWatcher2.prototype.stop = function() {
          clearTimeout(this.timeoutRef);
          process_1.default.nextTick(emitStop, this);
        };
        return StatWatcher2;
      }(events_1.EventEmitter)
    );
    exports.StatWatcher = StatWatcher;
    var pool;
    function allocNewPool(poolSize) {
      pool = buffer_1.bufferAllocUnsafe(poolSize);
      pool.used = 0;
    }
    util.inherits(FsReadStream, stream_1.Readable);
    exports.ReadStream = FsReadStream;
    function FsReadStream(vol, path2, options) {
      if (!(this instanceof FsReadStream))
        return new FsReadStream(vol, path2, options);
      this._vol = vol;
      options = extend({}, getOptions(options, {}));
      if (options.highWaterMark === void 0)
        options.highWaterMark = 64 * 1024;
      stream_1.Readable.call(this, options);
      this.path = pathToFilename(path2);
      this.fd = options.fd === void 0 ? null : options.fd;
      this.flags = options.flags === void 0 ? "r" : options.flags;
      this.mode = options.mode === void 0 ? 438 : options.mode;
      this.start = options.start;
      this.end = options.end;
      this.autoClose = options.autoClose === void 0 ? true : options.autoClose;
      this.pos = void 0;
      this.bytesRead = 0;
      if (this.start !== void 0) {
        if (typeof this.start !== "number") {
          throw new TypeError('"start" option must be a Number');
        }
        if (this.end === void 0) {
          this.end = Infinity;
        } else if (typeof this.end !== "number") {
          throw new TypeError('"end" option must be a Number');
        }
        if (this.start > this.end) {
          throw new Error('"start" option must be <= "end" option');
        }
        this.pos = this.start;
      }
      if (typeof this.fd !== "number")
        this.open();
      this.on("end", function() {
        if (this.autoClose) {
          if (this.destroy)
            this.destroy();
        }
      });
    }
    FsReadStream.prototype.open = function() {
      var self2 = this;
      this._vol.open(this.path, this.flags, this.mode, function(er, fd2) {
        if (er) {
          if (self2.autoClose) {
            if (self2.destroy)
              self2.destroy();
          }
          self2.emit("error", er);
          return;
        }
        self2.fd = fd2;
        self2.emit("open", fd2);
        self2.read();
      });
    };
    FsReadStream.prototype._read = function(n) {
      if (typeof this.fd !== "number") {
        return this.once("open", function() {
          this._read(n);
        });
      }
      if (this.destroyed)
        return;
      if (!pool || pool.length - pool.used < kMinPoolSpace) {
        allocNewPool(this._readableState.highWaterMark);
      }
      var thisPool = pool;
      var toRead = Math.min(pool.length - pool.used, n);
      var start = pool.used;
      if (this.pos !== void 0)
        toRead = Math.min(this.end - this.pos + 1, toRead);
      if (toRead <= 0)
        return this.push(null);
      var self2 = this;
      this._vol.read(this.fd, pool, pool.used, toRead, this.pos, onread);
      if (this.pos !== void 0)
        this.pos += toRead;
      pool.used += toRead;
      function onread(er, bytesRead) {
        if (er) {
          if (self2.autoClose && self2.destroy) {
            self2.destroy();
          }
          self2.emit("error", er);
        } else {
          var b = null;
          if (bytesRead > 0) {
            self2.bytesRead += bytesRead;
            b = thisPool.slice(start, start + bytesRead);
          }
          self2.push(b);
        }
      }
    };
    FsReadStream.prototype._destroy = function(err2, cb) {
      this.close(function(err22) {
        cb(err2 || err22);
      });
    };
    FsReadStream.prototype.close = function(cb) {
      var _this = this;
      if (cb)
        this.once("close", cb);
      if (this.closed || typeof this.fd !== "number") {
        if (typeof this.fd !== "number") {
          this.once("open", closeOnOpen);
          return;
        }
        return process_1.default.nextTick(function() {
          return _this.emit("close");
        });
      }
      this.closed = true;
      this._vol.close(this.fd, function(er) {
        if (er)
          _this.emit("error", er);
        else
          _this.emit("close");
      });
      this.fd = null;
    };
    function closeOnOpen(fd2) {
      this.close();
    }
    util.inherits(FsWriteStream, stream_1.Writable);
    exports.WriteStream = FsWriteStream;
    function FsWriteStream(vol, path2, options) {
      if (!(this instanceof FsWriteStream))
        return new FsWriteStream(vol, path2, options);
      this._vol = vol;
      options = extend({}, getOptions(options, {}));
      stream_1.Writable.call(this, options);
      this.path = pathToFilename(path2);
      this.fd = options.fd === void 0 ? null : options.fd;
      this.flags = options.flags === void 0 ? "w" : options.flags;
      this.mode = options.mode === void 0 ? 438 : options.mode;
      this.start = options.start;
      this.autoClose = options.autoClose === void 0 ? true : !!options.autoClose;
      this.pos = void 0;
      this.bytesWritten = 0;
      if (this.start !== void 0) {
        if (typeof this.start !== "number") {
          throw new TypeError('"start" option must be a Number');
        }
        if (this.start < 0) {
          throw new Error('"start" must be >= zero');
        }
        this.pos = this.start;
      }
      if (options.encoding)
        this.setDefaultEncoding(options.encoding);
      if (typeof this.fd !== "number")
        this.open();
      this.once("finish", function() {
        if (this.autoClose) {
          this.close();
        }
      });
    }
    FsWriteStream.prototype.open = function() {
      this._vol.open(this.path, this.flags, this.mode, function(er, fd2) {
        if (er) {
          if (this.autoClose && this.destroy) {
            this.destroy();
          }
          this.emit("error", er);
          return;
        }
        this.fd = fd2;
        this.emit("open", fd2);
      }.bind(this));
    };
    FsWriteStream.prototype._write = function(data, encoding, cb) {
      if (!(data instanceof buffer_1.Buffer))
        return this.emit("error", new Error("Invalid data"));
      if (typeof this.fd !== "number") {
        return this.once("open", function() {
          this._write(data, encoding, cb);
        });
      }
      var self2 = this;
      this._vol.write(this.fd, data, 0, data.length, this.pos, function(er, bytes) {
        if (er) {
          if (self2.autoClose && self2.destroy) {
            self2.destroy();
          }
          return cb(er);
        }
        self2.bytesWritten += bytes;
        cb();
      });
      if (this.pos !== void 0)
        this.pos += data.length;
    };
    FsWriteStream.prototype._writev = function(data, cb) {
      if (typeof this.fd !== "number") {
        return this.once("open", function() {
          this._writev(data, cb);
        });
      }
      var self2 = this;
      var len = data.length;
      var chunks = new Array(len);
      var size = 0;
      for (var i = 0; i < len; i++) {
        var chunk = data[i].chunk;
        chunks[i] = chunk;
        size += chunk.length;
      }
      var buf = buffer_1.Buffer.concat(chunks);
      this._vol.write(this.fd, buf, 0, buf.length, this.pos, function(er, bytes) {
        if (er) {
          if (self2.destroy)
            self2.destroy();
          return cb(er);
        }
        self2.bytesWritten += bytes;
        cb();
      });
      if (this.pos !== void 0)
        this.pos += size;
    };
    FsWriteStream.prototype._destroy = FsReadStream.prototype._destroy;
    FsWriteStream.prototype.close = FsReadStream.prototype.close;
    FsWriteStream.prototype.destroySoon = FsWriteStream.prototype.end;
    var FSWatcher = (
      /** @class */
      function(_super) {
        __extends(FSWatcher2, _super);
        function FSWatcher2(vol) {
          var _this = _super.call(this) || this;
          _this._filename = "";
          _this._filenameEncoded = "";
          _this._recursive = false;
          _this._encoding = encoding_1.ENCODING_UTF8;
          _this._onNodeChange = function() {
            _this._emit("change");
          };
          _this._onParentChild = function(link) {
            if (link.getName() === _this._getName()) {
              _this._emit("rename");
            }
          };
          _this._emit = function(type) {
            _this.emit("change", type, _this._filenameEncoded);
          };
          _this._persist = function() {
            _this._timer = setTimeout(_this._persist, 1e6);
          };
          _this._vol = vol;
          return _this;
        }
        FSWatcher2.prototype._getName = function() {
          return this._steps[this._steps.length - 1];
        };
        FSWatcher2.prototype.start = function(path2, persistent, recursive, encoding) {
          if (persistent === void 0) {
            persistent = true;
          }
          if (recursive === void 0) {
            recursive = false;
          }
          if (encoding === void 0) {
            encoding = encoding_1.ENCODING_UTF8;
          }
          this._filename = pathToFilename(path2);
          this._steps = filenameToSteps2(this._filename);
          this._filenameEncoded = encoding_1.strToEncoding(this._filename);
          this._recursive = recursive;
          this._encoding = encoding;
          try {
            this._link = this._vol.getLinkOrThrow(this._filename, "FSWatcher");
          } catch (err2) {
            var error = new Error("watch " + this._filename + " " + err2.code);
            error.code = err2.code;
            error.errno = err2.code;
            throw error;
          }
          this._link.getNode().on("change", this._onNodeChange);
          this._link.on("child:add", this._onNodeChange);
          this._link.on("child:delete", this._onNodeChange);
          var parent = this._link.parent;
          if (parent) {
            parent.setMaxListeners(parent.getMaxListeners() + 1);
            parent.on("child:delete", this._onParentChild);
          }
          if (persistent)
            this._persist();
        };
        FSWatcher2.prototype.close = function() {
          clearTimeout(this._timer);
          this._link.getNode().removeListener("change", this._onNodeChange);
          var parent = this._link.parent;
          if (parent) {
            parent.removeListener("child:delete", this._onParentChild);
          }
        };
        return FSWatcher2;
      }(events_1.EventEmitter)
    );
    exports.FSWatcher = FSWatcher;
  }
});

// node_modules/fs-monkey/lib/util/lists.js
var require_lists = __commonJS({
  "node_modules/fs-monkey/lib/util/lists.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var fsProps = exports.fsProps = ["constants", "F_OK", "R_OK", "W_OK", "X_OK", "Stats"];
    var fsSyncMethods = exports.fsSyncMethods = ["renameSync", "ftruncateSync", "truncateSync", "chownSync", "fchownSync", "lchownSync", "chmodSync", "fchmodSync", "lchmodSync", "statSync", "lstatSync", "fstatSync", "linkSync", "symlinkSync", "readlinkSync", "realpathSync", "unlinkSync", "rmdirSync", "mkdirSync", "mkdirpSync", "readdirSync", "closeSync", "openSync", "utimesSync", "futimesSync", "fsyncSync", "writeSync", "readSync", "readFileSync", "writeFileSync", "appendFileSync", "existsSync", "accessSync", "fdatasyncSync", "mkdtempSync", "copyFileSync", "createReadStream", "createWriteStream"];
    var fsAsyncMethods = exports.fsAsyncMethods = ["rename", "ftruncate", "truncate", "chown", "fchown", "lchown", "chmod", "fchmod", "lchmod", "stat", "lstat", "fstat", "link", "symlink", "readlink", "realpath", "unlink", "rmdir", "mkdir", "mkdirp", "readdir", "close", "open", "utimes", "futimes", "fsync", "write", "read", "readFile", "writeFile", "appendFile", "exists", "access", "fdatasync", "mkdtemp", "copyFile", "watchFile", "unwatchFile", "watch"];
  }
});

// node_modules/memfs/lib/index.js
var require_lib2 = __commonJS({
  "node_modules/memfs/lib/index.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var __assign = exports && exports.__assign || function() {
      __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];
          for (var p in s)
            if (Object.prototype.hasOwnProperty.call(s, p))
              t[p] = s[p];
        }
        return t;
      };
      return __assign.apply(this, arguments);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var Stats_1 = require_Stats();
    var Dirent_1 = require_Dirent();
    var volume_1 = require_volume();
    var _a2 = require_lists();
    var fsSyncMethods = _a2.fsSyncMethods;
    var fsAsyncMethods = _a2.fsAsyncMethods;
    var constants_1 = require_constants2();
    var F_OK = constants_1.constants.F_OK;
    var R_OK = constants_1.constants.R_OK;
    var W_OK = constants_1.constants.W_OK;
    var X_OK = constants_1.constants.X_OK;
    exports.Volume = volume_1.Volume;
    exports.vol = new volume_1.Volume();
    function createFsFromVolume2(vol) {
      var fs2 = { F_OK, R_OK, W_OK, X_OK, constants: constants_1.constants, Stats: Stats_1.default, Dirent: Dirent_1.default };
      for (var _i = 0, fsSyncMethods_1 = fsSyncMethods; _i < fsSyncMethods_1.length; _i++) {
        var method = fsSyncMethods_1[_i];
        if (typeof vol[method] === "function")
          fs2[method] = vol[method].bind(vol);
      }
      for (var _a3 = 0, fsAsyncMethods_1 = fsAsyncMethods; _a3 < fsAsyncMethods_1.length; _a3++) {
        var method = fsAsyncMethods_1[_a3];
        if (typeof vol[method] === "function")
          fs2[method] = vol[method].bind(vol);
      }
      fs2.StatWatcher = vol.StatWatcher;
      fs2.FSWatcher = vol.FSWatcher;
      fs2.WriteStream = vol.WriteStream;
      fs2.ReadStream = vol.ReadStream;
      fs2.promises = vol.promises;
      fs2._toUnixTimestamp = volume_1.toUnixTimestamp;
      return fs2;
    }
    exports.createFsFromVolume = createFsFromVolume2;
    exports.fs = createFsFromVolume2(exports.vol);
    module.exports = __assign(__assign({}, module.exports), exports.fs);
    module.exports.semantic = true;
  }
});

// node_modules/@wasmer/wasi/lib/polyfills/dataview.js
var require_dataview = __commonJS({
  "node_modules/@wasmer/wasi/lib/polyfills/dataview.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var bigint_1 = require_bigint();
    var exportedDataView = DataView;
    if (!exportedDataView.prototype.setBigUint64) {
      exportedDataView.prototype.setBigUint64 = function(byteOffset, value, littleEndian) {
        let lowWord;
        let highWord;
        if (value < 2 ** 32) {
          lowWord = Number(value);
          highWord = 0;
        } else {
          var bigNumberAsBinaryStr = value.toString(2);
          var bigNumberAsBinaryStr2 = "";
          for (var i = 0; i < 64 - bigNumberAsBinaryStr.length; i++) {
            bigNumberAsBinaryStr2 += "0";
          }
          bigNumberAsBinaryStr2 += bigNumberAsBinaryStr;
          highWord = parseInt(bigNumberAsBinaryStr2.substring(0, 32), 2);
          lowWord = parseInt(bigNumberAsBinaryStr2.substring(32), 2);
        }
        this.setUint32(byteOffset + (littleEndian ? 0 : 4), lowWord, littleEndian);
        this.setUint32(byteOffset + (littleEndian ? 4 : 0), highWord, littleEndian);
      };
      exportedDataView.prototype.getBigUint64 = function(byteOffset, littleEndian) {
        let lowWord = this.getUint32(byteOffset + (littleEndian ? 0 : 4), littleEndian);
        let highWord = this.getUint32(byteOffset + (littleEndian ? 4 : 0), littleEndian);
        var lowWordAsBinaryStr = lowWord.toString(2);
        var highWordAsBinaryStr = highWord.toString(2);
        var lowWordAsBinaryStrPadded = "";
        for (var i = 0; i < 32 - lowWordAsBinaryStr.length; i++) {
          lowWordAsBinaryStrPadded += "0";
        }
        lowWordAsBinaryStrPadded += lowWordAsBinaryStr;
        return bigint_1.BigIntPolyfill("0b" + highWordAsBinaryStr + lowWordAsBinaryStrPadded);
      };
    }
    exports.DataViewPolyfill = exportedDataView;
  }
});

// node_modules/@wasmer/wasi/lib/polyfills/buffer.js
var require_buffer3 = __commonJS({
  "node_modules/@wasmer/wasi/lib/polyfills/buffer.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var isomorphicBuffer = import_buffer.Buffer;
    exports.default = isomorphicBuffer;
  }
});

// node_modules/@wasmer/wasi/lib/index.js
var require_lib3 = __commonJS({
  "node_modules/@wasmer/wasi/lib/index.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var bigint_1 = require_bigint();
    var dataview_1 = require_dataview();
    var buffer_1 = require_buffer3();
    var defaultBindings;
    var constants_1 = require_constants();
    var STDIN_DEFAULT_RIGHTS = constants_1.WASI_RIGHT_FD_DATASYNC | constants_1.WASI_RIGHT_FD_READ | constants_1.WASI_RIGHT_FD_SYNC | constants_1.WASI_RIGHT_FD_ADVISE | constants_1.WASI_RIGHT_FD_FILESTAT_GET | constants_1.WASI_RIGHT_POLL_FD_READWRITE;
    var STDOUT_DEFAULT_RIGHTS = constants_1.WASI_RIGHT_FD_DATASYNC | constants_1.WASI_RIGHT_FD_WRITE | constants_1.WASI_RIGHT_FD_SYNC | constants_1.WASI_RIGHT_FD_ADVISE | constants_1.WASI_RIGHT_FD_FILESTAT_GET | constants_1.WASI_RIGHT_POLL_FD_READWRITE;
    var STDERR_DEFAULT_RIGHTS = STDOUT_DEFAULT_RIGHTS;
    var msToNs = (ms) => {
      const msInt = Math.trunc(ms);
      const decimal = bigint_1.BigIntPolyfill(Math.round((ms - msInt) * 1e6));
      const ns = bigint_1.BigIntPolyfill(msInt) * bigint_1.BigIntPolyfill(1e6);
      return ns + decimal;
    };
    var nsToMs = (ns) => {
      if (typeof ns === "number") {
        ns = Math.trunc(ns);
      }
      const nsInt = bigint_1.BigIntPolyfill(ns);
      return Number(nsInt / bigint_1.BigIntPolyfill(1e6));
    };
    var wrap = (f) => (...args) => {
      try {
        return f(...args);
      } catch (e) {
        if (e && e.code && typeof e.code === "string") {
          return constants_1.ERROR_MAP[e.code] || constants_1.WASI_EINVAL;
        }
        if (e instanceof WASIError) {
          return e.errno;
        }
        throw e;
      }
    };
    var stat = (wasi, fd2) => {
      const entry = wasi.FD_MAP.get(fd2);
      if (!entry) {
        throw new WASIError(constants_1.WASI_EBADF);
      }
      if (entry.filetype === void 0) {
        const stats = wasi.bindings.fs.fstatSync(entry.real);
        const { filetype, rightsBase, rightsInheriting } = translateFileAttributes(wasi, fd2, stats);
        entry.filetype = filetype;
        if (!entry.rights) {
          entry.rights = {
            base: rightsBase,
            inheriting: rightsInheriting
          };
        }
      }
      return entry;
    };
    var translateFileAttributes = (wasi, fd2, stats) => {
      switch (true) {
        case stats.isBlockDevice():
          return {
            filetype: constants_1.WASI_FILETYPE_BLOCK_DEVICE,
            rightsBase: constants_1.RIGHTS_BLOCK_DEVICE_BASE,
            rightsInheriting: constants_1.RIGHTS_BLOCK_DEVICE_INHERITING
          };
        case stats.isCharacterDevice(): {
          const filetype = constants_1.WASI_FILETYPE_CHARACTER_DEVICE;
          if (fd2 !== void 0 && wasi.bindings.isTTY(fd2)) {
            return {
              filetype,
              rightsBase: constants_1.RIGHTS_TTY_BASE,
              rightsInheriting: constants_1.RIGHTS_TTY_INHERITING
            };
          }
          return {
            filetype,
            rightsBase: constants_1.RIGHTS_CHARACTER_DEVICE_BASE,
            rightsInheriting: constants_1.RIGHTS_CHARACTER_DEVICE_INHERITING
          };
        }
        case stats.isDirectory():
          return {
            filetype: constants_1.WASI_FILETYPE_DIRECTORY,
            rightsBase: constants_1.RIGHTS_DIRECTORY_BASE,
            rightsInheriting: constants_1.RIGHTS_DIRECTORY_INHERITING
          };
        case stats.isFIFO():
          return {
            filetype: constants_1.WASI_FILETYPE_SOCKET_STREAM,
            rightsBase: constants_1.RIGHTS_SOCKET_BASE,
            rightsInheriting: constants_1.RIGHTS_SOCKET_INHERITING
          };
        case stats.isFile():
          return {
            filetype: constants_1.WASI_FILETYPE_REGULAR_FILE,
            rightsBase: constants_1.RIGHTS_REGULAR_FILE_BASE,
            rightsInheriting: constants_1.RIGHTS_REGULAR_FILE_INHERITING
          };
        case stats.isSocket():
          return {
            filetype: constants_1.WASI_FILETYPE_SOCKET_STREAM,
            rightsBase: constants_1.RIGHTS_SOCKET_BASE,
            rightsInheriting: constants_1.RIGHTS_SOCKET_INHERITING
          };
        case stats.isSymbolicLink():
          return {
            filetype: constants_1.WASI_FILETYPE_SYMBOLIC_LINK,
            rightsBase: bigint_1.BigIntPolyfill(0),
            rightsInheriting: bigint_1.BigIntPolyfill(0)
          };
        default:
          return {
            filetype: constants_1.WASI_FILETYPE_UNKNOWN,
            rightsBase: bigint_1.BigIntPolyfill(0),
            rightsInheriting: bigint_1.BigIntPolyfill(0)
          };
      }
    };
    var WASIError = class _WASIError extends Error {
      constructor(errno) {
        super();
        this.errno = errno;
        Object.setPrototypeOf(this, _WASIError.prototype);
      }
    };
    exports.WASIError = WASIError;
    var WASIExitError2 = class _WASIExitError extends Error {
      constructor(code) {
        super(`WASI Exit error: ${code}`);
        this.code = code;
        Object.setPrototypeOf(this, _WASIExitError.prototype);
      }
    };
    exports.WASIExitError = WASIExitError2;
    var WASIKillError = class _WASIKillError extends Error {
      constructor(signal) {
        super(`WASI Kill signal: ${signal}`);
        this.signal = signal;
        Object.setPrototypeOf(this, _WASIKillError.prototype);
      }
    };
    exports.WASIKillError = WASIKillError;
    var WASIDefault = class {
      constructor(wasiConfig) {
        let preopens = {};
        if (wasiConfig && wasiConfig.preopens) {
          preopens = wasiConfig.preopens;
        } else if (wasiConfig && wasiConfig.preopenDirectories) {
          preopens = wasiConfig.preopenDirectories;
        }
        let env2 = {};
        if (wasiConfig && wasiConfig.env) {
          env2 = wasiConfig.env;
        }
        let args = [];
        if (wasiConfig && wasiConfig.args) {
          args = wasiConfig.args;
        }
        let bindings = defaultBindings;
        if (wasiConfig && wasiConfig.bindings) {
          bindings = wasiConfig.bindings;
        }
        this.memory = void 0;
        this.view = void 0;
        this.bindings = bindings;
        this.FD_MAP = /* @__PURE__ */ new Map([
          [
            constants_1.WASI_STDIN_FILENO,
            {
              real: 0,
              filetype: constants_1.WASI_FILETYPE_CHARACTER_DEVICE,
              // offset: BigInt(0),
              rights: {
                base: STDIN_DEFAULT_RIGHTS,
                inheriting: bigint_1.BigIntPolyfill(0)
              },
              path: void 0
            }
          ],
          [
            constants_1.WASI_STDOUT_FILENO,
            {
              real: 1,
              filetype: constants_1.WASI_FILETYPE_CHARACTER_DEVICE,
              // offset: BigInt(0),
              rights: {
                base: STDOUT_DEFAULT_RIGHTS,
                inheriting: bigint_1.BigIntPolyfill(0)
              },
              path: void 0
            }
          ],
          [
            constants_1.WASI_STDERR_FILENO,
            {
              real: 2,
              filetype: constants_1.WASI_FILETYPE_CHARACTER_DEVICE,
              // offset: BigInt(0),
              rights: {
                base: STDERR_DEFAULT_RIGHTS,
                inheriting: bigint_1.BigIntPolyfill(0)
              },
              path: void 0
            }
          ]
        ]);
        let fs2 = this.bindings.fs;
        let path2 = this.bindings.path;
        for (const [k, v] of Object.entries(preopens)) {
          const real = fs2.openSync(v, fs2.constants.O_RDONLY);
          const newfd = [...this.FD_MAP.keys()].reverse()[0] + 1;
          this.FD_MAP.set(newfd, {
            real,
            filetype: constants_1.WASI_FILETYPE_DIRECTORY,
            // offset: BigInt(0),
            rights: {
              base: constants_1.RIGHTS_DIRECTORY_BASE,
              inheriting: constants_1.RIGHTS_DIRECTORY_INHERITING
            },
            fakePath: k,
            path: v
          });
        }
        const getiovs = (iovs, iovsLen) => {
          this.refreshMemory();
          const buffers = Array.from({ length: iovsLen }, (_, i) => {
            const ptr = iovs + i * 8;
            const buf = this.view.getUint32(ptr, true);
            const bufLen = this.view.getUint32(ptr + 4, true);
            return new Uint8Array(this.memory.buffer, buf, bufLen);
          });
          return buffers;
        };
        const CHECK_FD = (fd2, rights) => {
          const stats = stat(this, fd2);
          if (rights !== bigint_1.BigIntPolyfill(0) && (stats.rights.base & rights) === bigint_1.BigIntPolyfill(0)) {
            throw new WASIError(constants_1.WASI_EPERM);
          }
          return stats;
        };
        const CPUTIME_START = bindings.hrtime();
        const now = (clockId) => {
          switch (clockId) {
            case constants_1.WASI_CLOCK_MONOTONIC:
              return bindings.hrtime();
            case constants_1.WASI_CLOCK_REALTIME:
              return msToNs(Date.now());
            case constants_1.WASI_CLOCK_PROCESS_CPUTIME_ID:
            case constants_1.WASI_CLOCK_THREAD_CPUTIME_ID:
              return bindings.hrtime() - CPUTIME_START;
            default:
              return null;
          }
        };
        this.wasiImport = {
          args_get: (argv, argvBuf) => {
            this.refreshMemory();
            let coffset = argv;
            let offset = argvBuf;
            args.forEach((a) => {
              this.view.setUint32(coffset, offset, true);
              coffset += 4;
              offset += buffer_1.default.from(this.memory.buffer).write(`${a}\0`, offset);
            });
            return constants_1.WASI_ESUCCESS;
          },
          args_sizes_get: (argc, argvBufSize) => {
            this.refreshMemory();
            this.view.setUint32(argc, args.length, true);
            const size = args.reduce((acc, a) => acc + buffer_1.default.byteLength(a) + 1, 0);
            this.view.setUint32(argvBufSize, size, true);
            return constants_1.WASI_ESUCCESS;
          },
          environ_get: (environ, environBuf) => {
            this.refreshMemory();
            let coffset = environ;
            let offset = environBuf;
            Object.entries(env2).forEach(([key, value]) => {
              this.view.setUint32(coffset, offset, true);
              coffset += 4;
              offset += buffer_1.default.from(this.memory.buffer).write(`${key}=${value}\0`, offset);
            });
            return constants_1.WASI_ESUCCESS;
          },
          environ_sizes_get: (environCount, environBufSize) => {
            this.refreshMemory();
            const envProcessed = Object.entries(env2).map(([key, value]) => `${key}=${value}\0`);
            const size = envProcessed.reduce((acc, e) => acc + buffer_1.default.byteLength(e), 0);
            this.view.setUint32(environCount, envProcessed.length, true);
            this.view.setUint32(environBufSize, size, true);
            return constants_1.WASI_ESUCCESS;
          },
          clock_res_get: (clockId, resolution) => {
            let res;
            switch (clockId) {
              case constants_1.WASI_CLOCK_MONOTONIC:
              case constants_1.WASI_CLOCK_PROCESS_CPUTIME_ID:
              case constants_1.WASI_CLOCK_THREAD_CPUTIME_ID: {
                res = bigint_1.BigIntPolyfill(1);
                break;
              }
              case constants_1.WASI_CLOCK_REALTIME: {
                res = bigint_1.BigIntPolyfill(1e3);
                break;
              }
            }
            this.view.setBigUint64(resolution, res);
            return constants_1.WASI_ESUCCESS;
          },
          clock_time_get: (clockId, precision, time) => {
            this.refreshMemory();
            const n = now(clockId);
            if (n === null) {
              return constants_1.WASI_EINVAL;
            }
            this.view.setBigUint64(time, bigint_1.BigIntPolyfill(n), true);
            return constants_1.WASI_ESUCCESS;
          },
          fd_advise: wrap((fd2, offset, len, advice) => {
            CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_ADVISE);
            return constants_1.WASI_ENOSYS;
          }),
          fd_allocate: wrap((fd2, offset, len) => {
            CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_ALLOCATE);
            return constants_1.WASI_ENOSYS;
          }),
          fd_close: wrap((fd2) => {
            const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
            fs2.closeSync(stats.real);
            this.FD_MAP.delete(fd2);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_datasync: wrap((fd2) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_DATASYNC);
            fs2.fdatasyncSync(stats.real);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_fdstat_get: wrap((fd2, bufPtr) => {
            const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
            this.refreshMemory();
            this.view.setUint8(bufPtr, stats.filetype);
            this.view.setUint16(bufPtr + 2, 0, true);
            this.view.setUint16(bufPtr + 4, 0, true);
            this.view.setBigUint64(bufPtr + 8, bigint_1.BigIntPolyfill(stats.rights.base), true);
            this.view.setBigUint64(bufPtr + 8 + 8, bigint_1.BigIntPolyfill(stats.rights.inheriting), true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_fdstat_set_flags: wrap((fd2, flags) => {
            CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_FDSTAT_SET_FLAGS);
            return constants_1.WASI_ENOSYS;
          }),
          fd_fdstat_set_rights: wrap((fd2, fsRightsBase, fsRightsInheriting) => {
            const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
            const nrb = stats.rights.base | fsRightsBase;
            if (nrb > stats.rights.base) {
              return constants_1.WASI_EPERM;
            }
            const nri = stats.rights.inheriting | fsRightsInheriting;
            if (nri > stats.rights.inheriting) {
              return constants_1.WASI_EPERM;
            }
            stats.rights.base = fsRightsBase;
            stats.rights.inheriting = fsRightsInheriting;
            return constants_1.WASI_ESUCCESS;
          }),
          fd_filestat_get: wrap((fd2, bufPtr) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_FILESTAT_GET);
            const rstats = fs2.fstatSync(stats.real);
            this.refreshMemory();
            this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.dev), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.ino), true);
            bufPtr += 8;
            this.view.setUint8(bufPtr, stats.filetype);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.nlink), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.size), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, msToNs(rstats.atimeMs), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, msToNs(rstats.mtimeMs), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, msToNs(rstats.ctimeMs), true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_filestat_set_size: wrap((fd2, stSize) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_FILESTAT_SET_SIZE);
            fs2.ftruncateSync(stats.real, Number(stSize));
            return constants_1.WASI_ESUCCESS;
          }),
          fd_filestat_set_times: wrap((fd2, stAtim, stMtim, fstflags) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_FILESTAT_SET_TIMES);
            const rstats = fs2.fstatSync(stats.real);
            let atim = rstats.atime;
            let mtim = rstats.mtime;
            const n = nsToMs(now(constants_1.WASI_CLOCK_REALTIME));
            const atimflags = constants_1.WASI_FILESTAT_SET_ATIM | constants_1.WASI_FILESTAT_SET_ATIM_NOW;
            if ((fstflags & atimflags) === atimflags) {
              return constants_1.WASI_EINVAL;
            }
            const mtimflags = constants_1.WASI_FILESTAT_SET_MTIM | constants_1.WASI_FILESTAT_SET_MTIM_NOW;
            if ((fstflags & mtimflags) === mtimflags) {
              return constants_1.WASI_EINVAL;
            }
            if ((fstflags & constants_1.WASI_FILESTAT_SET_ATIM) === constants_1.WASI_FILESTAT_SET_ATIM) {
              atim = nsToMs(stAtim);
            } else if ((fstflags & constants_1.WASI_FILESTAT_SET_ATIM_NOW) === constants_1.WASI_FILESTAT_SET_ATIM_NOW) {
              atim = n;
            }
            if ((fstflags & constants_1.WASI_FILESTAT_SET_MTIM) === constants_1.WASI_FILESTAT_SET_MTIM) {
              mtim = nsToMs(stMtim);
            } else if ((fstflags & constants_1.WASI_FILESTAT_SET_MTIM_NOW) === constants_1.WASI_FILESTAT_SET_MTIM_NOW) {
              mtim = n;
            }
            fs2.futimesSync(stats.real, new Date(atim), new Date(mtim));
            return constants_1.WASI_ESUCCESS;
          }),
          fd_prestat_get: wrap((fd2, bufPtr) => {
            const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
            if (!stats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            this.view.setUint8(bufPtr, constants_1.WASI_PREOPENTYPE_DIR);
            this.view.setUint32(bufPtr + 4, buffer_1.default.byteLength(stats.fakePath), true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_prestat_dir_name: wrap((fd2, pathPtr, pathLen) => {
            const stats = CHECK_FD(fd2, bigint_1.BigIntPolyfill(0));
            if (!stats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            buffer_1.default.from(this.memory.buffer).write(stats.fakePath, pathPtr, pathLen, "utf8");
            return constants_1.WASI_ESUCCESS;
          }),
          fd_pwrite: wrap((fd2, iovs, iovsLen, offset, nwritten) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_WRITE | constants_1.WASI_RIGHT_FD_SEEK);
            let written = 0;
            getiovs(iovs, iovsLen).forEach((iov) => {
              let w = 0;
              while (w < iov.byteLength) {
                w += fs2.writeSync(stats.real, iov, w, iov.byteLength - w, Number(offset) + written + w);
              }
              written += w;
            });
            this.view.setUint32(nwritten, written, true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_write: wrap((fd2, iovs, iovsLen, nwritten) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_WRITE);
            let written = 0;
            getiovs(iovs, iovsLen).forEach((iov) => {
              let w = 0;
              while (w < iov.byteLength) {
                const i = fs2.writeSync(stats.real, iov, w, iov.byteLength - w, stats.offset ? Number(stats.offset) : null);
                if (stats.offset)
                  stats.offset += bigint_1.BigIntPolyfill(i);
                w += i;
              }
              written += w;
            });
            this.view.setUint32(nwritten, written, true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_pread: wrap((fd2, iovs, iovsLen, offset, nread) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_READ | constants_1.WASI_RIGHT_FD_SEEK);
            let read = 0;
            outer:
              for (const iov of getiovs(iovs, iovsLen)) {
                let r = 0;
                while (r < iov.byteLength) {
                  const length = iov.byteLength - r;
                  const rr = fs2.readSync(stats.real, iov, r, iov.byteLength - r, Number(offset) + read + r);
                  r += rr;
                  read += rr;
                  if (rr === 0 || rr < length) {
                    break outer;
                  }
                }
                read += r;
              }
            ;
            this.view.setUint32(nread, read, true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_read: wrap((fd2, iovs, iovsLen, nread) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_READ);
            const IS_STDIN = stats.real === 0;
            let read = 0;
            outer:
              for (const iov of getiovs(iovs, iovsLen)) {
                let r = 0;
                while (r < iov.byteLength) {
                  let length = iov.byteLength - r;
                  let position = IS_STDIN || stats.offset === void 0 ? null : Number(stats.offset);
                  let rr = fs2.readSync(
                    stats.real,
                    // fd
                    iov,
                    // buffer
                    r,
                    // offset
                    length,
                    // length
                    position
                    // position
                  );
                  if (!IS_STDIN) {
                    stats.offset = (stats.offset ? stats.offset : bigint_1.BigIntPolyfill(0)) + bigint_1.BigIntPolyfill(rr);
                  }
                  r += rr;
                  read += rr;
                  if (rr === 0 || rr < length) {
                    break outer;
                  }
                }
              }
            this.view.setUint32(nread, read, true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_readdir: wrap((fd2, bufPtr, bufLen, cookie, bufusedPtr) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_READDIR);
            this.refreshMemory();
            const entries = fs2.readdirSync(stats.path, { withFileTypes: true });
            const startPtr = bufPtr;
            for (let i = Number(cookie); i < entries.length; i += 1) {
              const entry = entries[i];
              let nameLength = buffer_1.default.byteLength(entry.name);
              if (bufPtr - startPtr > bufLen) {
                break;
              }
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(i + 1), true);
              bufPtr += 8;
              if (bufPtr - startPtr > bufLen) {
                break;
              }
              const rstats = fs2.statSync(path2.resolve(stats.path, entry.name));
              this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.ino), true);
              bufPtr += 8;
              if (bufPtr - startPtr > bufLen) {
                break;
              }
              this.view.setUint32(bufPtr, nameLength, true);
              bufPtr += 4;
              if (bufPtr - startPtr > bufLen) {
                break;
              }
              let filetype;
              switch (true) {
                case rstats.isBlockDevice():
                  filetype = constants_1.WASI_FILETYPE_BLOCK_DEVICE;
                  break;
                case rstats.isCharacterDevice():
                  filetype = constants_1.WASI_FILETYPE_CHARACTER_DEVICE;
                  break;
                case rstats.isDirectory():
                  filetype = constants_1.WASI_FILETYPE_DIRECTORY;
                  break;
                case rstats.isFIFO():
                  filetype = constants_1.WASI_FILETYPE_SOCKET_STREAM;
                  break;
                case rstats.isFile():
                  filetype = constants_1.WASI_FILETYPE_REGULAR_FILE;
                  break;
                case rstats.isSocket():
                  filetype = constants_1.WASI_FILETYPE_SOCKET_STREAM;
                  break;
                case rstats.isSymbolicLink():
                  filetype = constants_1.WASI_FILETYPE_SYMBOLIC_LINK;
                  break;
                default:
                  filetype = constants_1.WASI_FILETYPE_UNKNOWN;
                  break;
              }
              this.view.setUint8(bufPtr, filetype);
              bufPtr += 1;
              bufPtr += 3;
              if (bufPtr + nameLength >= startPtr + bufLen) {
                break;
              }
              let memory_buffer = buffer_1.default.from(this.memory.buffer);
              memory_buffer.write(entry.name, bufPtr);
              bufPtr += nameLength;
            }
            const bufused = bufPtr - startPtr;
            this.view.setUint32(bufusedPtr, Math.min(bufused, bufLen), true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_renumber: wrap((from, to) => {
            CHECK_FD(from, bigint_1.BigIntPolyfill(0));
            CHECK_FD(to, bigint_1.BigIntPolyfill(0));
            fs2.closeSync(this.FD_MAP.get(from).real);
            this.FD_MAP.set(from, this.FD_MAP.get(to));
            this.FD_MAP.delete(to);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_seek: wrap((fd2, offset, whence, newOffsetPtr) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_SEEK);
            this.refreshMemory();
            switch (whence) {
              case constants_1.WASI_WHENCE_CUR:
                stats.offset = (stats.offset ? stats.offset : bigint_1.BigIntPolyfill(0)) + bigint_1.BigIntPolyfill(offset);
                break;
              case constants_1.WASI_WHENCE_END:
                const { size } = fs2.fstatSync(stats.real);
                stats.offset = bigint_1.BigIntPolyfill(size) + bigint_1.BigIntPolyfill(offset);
                break;
              case constants_1.WASI_WHENCE_SET:
                stats.offset = bigint_1.BigIntPolyfill(offset);
                break;
            }
            this.view.setBigUint64(newOffsetPtr, stats.offset, true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_tell: wrap((fd2, offsetPtr) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_TELL);
            this.refreshMemory();
            if (!stats.offset) {
              stats.offset = bigint_1.BigIntPolyfill(0);
            }
            this.view.setBigUint64(offsetPtr, stats.offset, true);
            return constants_1.WASI_ESUCCESS;
          }),
          fd_sync: wrap((fd2) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_FD_SYNC);
            fs2.fsyncSync(stats.real);
            return constants_1.WASI_ESUCCESS;
          }),
          path_create_directory: wrap((fd2, pathPtr, pathLen) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_CREATE_DIRECTORY);
            if (!stats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
            fs2.mkdirSync(path2.resolve(stats.path, p));
            return constants_1.WASI_ESUCCESS;
          }),
          path_filestat_get: wrap((fd2, flags, pathPtr, pathLen, bufPtr) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_FILESTAT_GET);
            if (!stats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
            const rstats = fs2.statSync(path2.resolve(stats.path, p));
            this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.dev), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.ino), true);
            bufPtr += 8;
            this.view.setUint8(bufPtr, translateFileAttributes(this, void 0, rstats).filetype);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.nlink), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, bigint_1.BigIntPolyfill(rstats.size), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, msToNs(rstats.atimeMs), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, msToNs(rstats.mtimeMs), true);
            bufPtr += 8;
            this.view.setBigUint64(bufPtr, msToNs(rstats.ctimeMs), true);
            return constants_1.WASI_ESUCCESS;
          }),
          path_filestat_set_times: wrap((fd2, dirflags, pathPtr, pathLen, stAtim, stMtim, fstflags) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_FILESTAT_SET_TIMES);
            if (!stats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            const rstats = fs2.fstatSync(stats.real);
            let atim = rstats.atime;
            let mtim = rstats.mtime;
            const n = nsToMs(now(constants_1.WASI_CLOCK_REALTIME));
            const atimflags = constants_1.WASI_FILESTAT_SET_ATIM | constants_1.WASI_FILESTAT_SET_ATIM_NOW;
            if ((fstflags & atimflags) === atimflags) {
              return constants_1.WASI_EINVAL;
            }
            const mtimflags = constants_1.WASI_FILESTAT_SET_MTIM | constants_1.WASI_FILESTAT_SET_MTIM_NOW;
            if ((fstflags & mtimflags) === mtimflags) {
              return constants_1.WASI_EINVAL;
            }
            if ((fstflags & constants_1.WASI_FILESTAT_SET_ATIM) === constants_1.WASI_FILESTAT_SET_ATIM) {
              atim = nsToMs(stAtim);
            } else if ((fstflags & constants_1.WASI_FILESTAT_SET_ATIM_NOW) === constants_1.WASI_FILESTAT_SET_ATIM_NOW) {
              atim = n;
            }
            if ((fstflags & constants_1.WASI_FILESTAT_SET_MTIM) === constants_1.WASI_FILESTAT_SET_MTIM) {
              mtim = nsToMs(stMtim);
            } else if ((fstflags & constants_1.WASI_FILESTAT_SET_MTIM_NOW) === constants_1.WASI_FILESTAT_SET_MTIM_NOW) {
              mtim = n;
            }
            const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
            fs2.utimesSync(path2.resolve(stats.path, p), new Date(atim), new Date(mtim));
            return constants_1.WASI_ESUCCESS;
          }),
          path_link: wrap((oldFd, oldFlags, oldPath, oldPathLen, newFd, newPath, newPathLen) => {
            const ostats = CHECK_FD(oldFd, constants_1.WASI_RIGHT_PATH_LINK_SOURCE);
            const nstats = CHECK_FD(newFd, constants_1.WASI_RIGHT_PATH_LINK_TARGET);
            if (!ostats.path || !nstats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            const op = buffer_1.default.from(this.memory.buffer, oldPath, oldPathLen).toString();
            const np = buffer_1.default.from(this.memory.buffer, newPath, newPathLen).toString();
            fs2.linkSync(path2.resolve(ostats.path, op), path2.resolve(nstats.path, np));
            return constants_1.WASI_ESUCCESS;
          }),
          path_open: wrap((dirfd, dirflags, pathPtr, pathLen, oflags, fsRightsBase, fsRightsInheriting, fsFlags, fd2) => {
            const stats = CHECK_FD(dirfd, constants_1.WASI_RIGHT_PATH_OPEN);
            fsRightsBase = bigint_1.BigIntPolyfill(fsRightsBase);
            fsRightsInheriting = bigint_1.BigIntPolyfill(fsRightsInheriting);
            const read = (fsRightsBase & (constants_1.WASI_RIGHT_FD_READ | constants_1.WASI_RIGHT_FD_READDIR)) !== bigint_1.BigIntPolyfill(0);
            const write = (fsRightsBase & (constants_1.WASI_RIGHT_FD_DATASYNC | constants_1.WASI_RIGHT_FD_WRITE | constants_1.WASI_RIGHT_FD_ALLOCATE | constants_1.WASI_RIGHT_FD_FILESTAT_SET_SIZE)) !== bigint_1.BigIntPolyfill(0);
            let noflags;
            if (write && read) {
              noflags = fs2.constants.O_RDWR;
            } else if (read) {
              noflags = fs2.constants.O_RDONLY;
            } else if (write) {
              noflags = fs2.constants.O_WRONLY;
            }
            let neededBase = fsRightsBase | constants_1.WASI_RIGHT_PATH_OPEN;
            let neededInheriting = fsRightsBase | fsRightsInheriting;
            if ((oflags & constants_1.WASI_O_CREAT) !== 0) {
              noflags |= fs2.constants.O_CREAT;
              neededBase |= constants_1.WASI_RIGHT_PATH_CREATE_FILE;
            }
            if ((oflags & constants_1.WASI_O_DIRECTORY) !== 0) {
              noflags |= fs2.constants.O_DIRECTORY;
            }
            if ((oflags & constants_1.WASI_O_EXCL) !== 0) {
              noflags |= fs2.constants.O_EXCL;
            }
            if ((oflags & constants_1.WASI_O_TRUNC) !== 0) {
              noflags |= fs2.constants.O_TRUNC;
              neededBase |= constants_1.WASI_RIGHT_PATH_FILESTAT_SET_SIZE;
            }
            if ((fsFlags & constants_1.WASI_FDFLAG_APPEND) !== 0) {
              noflags |= fs2.constants.O_APPEND;
            }
            if ((fsFlags & constants_1.WASI_FDFLAG_DSYNC) !== 0) {
              if (fs2.constants.O_DSYNC) {
                noflags |= fs2.constants.O_DSYNC;
              } else {
                noflags |= fs2.constants.O_SYNC;
              }
              neededInheriting |= constants_1.WASI_RIGHT_FD_DATASYNC;
            }
            if ((fsFlags & constants_1.WASI_FDFLAG_NONBLOCK) !== 0) {
              noflags |= fs2.constants.O_NONBLOCK;
            }
            if ((fsFlags & constants_1.WASI_FDFLAG_RSYNC) !== 0) {
              if (fs2.constants.O_RSYNC) {
                noflags |= fs2.constants.O_RSYNC;
              } else {
                noflags |= fs2.constants.O_SYNC;
              }
              neededInheriting |= constants_1.WASI_RIGHT_FD_SYNC;
            }
            if ((fsFlags & constants_1.WASI_FDFLAG_SYNC) !== 0) {
              noflags |= fs2.constants.O_SYNC;
              neededInheriting |= constants_1.WASI_RIGHT_FD_SYNC;
            }
            if (write && (noflags & (fs2.constants.O_APPEND | fs2.constants.O_TRUNC)) === 0) {
              neededInheriting |= constants_1.WASI_RIGHT_FD_SEEK;
            }
            this.refreshMemory();
            const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
            const fullUnresolved = path2.resolve(stats.path, p);
            if (path2.relative(stats.path, fullUnresolved).startsWith("..")) {
              return constants_1.WASI_ENOTCAPABLE;
            }
            let full;
            try {
              full = fs2.realpathSync(fullUnresolved);
              if (path2.relative(stats.path, full).startsWith("..")) {
                return constants_1.WASI_ENOTCAPABLE;
              }
            } catch (e) {
              if (e.code === "ENOENT") {
                full = fullUnresolved;
              } else {
                throw e;
              }
            }
            let isDirectory;
            try {
              isDirectory = fs2.statSync(full).isDirectory();
            } catch (e) {
            }
            let realfd;
            if (!write && isDirectory) {
              realfd = fs2.openSync(full, fs2.constants.O_RDONLY);
            } else {
              realfd = fs2.openSync(full, noflags);
            }
            const newfd = [...this.FD_MAP.keys()].reverse()[0] + 1;
            this.FD_MAP.set(newfd, {
              real: realfd,
              filetype: void 0,
              // offset: BigInt(0),
              rights: {
                base: neededBase,
                inheriting: neededInheriting
              },
              path: full
            });
            stat(this, newfd);
            this.view.setUint32(fd2, newfd, true);
            return constants_1.WASI_ESUCCESS;
          }),
          path_readlink: wrap((fd2, pathPtr, pathLen, buf, bufLen, bufused) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_READLINK);
            if (!stats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
            const full = path2.resolve(stats.path, p);
            const r = fs2.readlinkSync(full);
            const used = buffer_1.default.from(this.memory.buffer).write(r, buf, bufLen);
            this.view.setUint32(bufused, used, true);
            return constants_1.WASI_ESUCCESS;
          }),
          path_remove_directory: wrap((fd2, pathPtr, pathLen) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_REMOVE_DIRECTORY);
            if (!stats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
            fs2.rmdirSync(path2.resolve(stats.path, p));
            return constants_1.WASI_ESUCCESS;
          }),
          path_rename: wrap((oldFd, oldPath, oldPathLen, newFd, newPath, newPathLen) => {
            const ostats = CHECK_FD(oldFd, constants_1.WASI_RIGHT_PATH_RENAME_SOURCE);
            const nstats = CHECK_FD(newFd, constants_1.WASI_RIGHT_PATH_RENAME_TARGET);
            if (!ostats.path || !nstats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            const op = buffer_1.default.from(this.memory.buffer, oldPath, oldPathLen).toString();
            const np = buffer_1.default.from(this.memory.buffer, newPath, newPathLen).toString();
            fs2.renameSync(path2.resolve(ostats.path, op), path2.resolve(nstats.path, np));
            return constants_1.WASI_ESUCCESS;
          }),
          path_symlink: wrap((oldPath, oldPathLen, fd2, newPath, newPathLen) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_SYMLINK);
            if (!stats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            const op = buffer_1.default.from(this.memory.buffer, oldPath, oldPathLen).toString();
            const np = buffer_1.default.from(this.memory.buffer, newPath, newPathLen).toString();
            fs2.symlinkSync(op, path2.resolve(stats.path, np));
            return constants_1.WASI_ESUCCESS;
          }),
          path_unlink_file: wrap((fd2, pathPtr, pathLen) => {
            const stats = CHECK_FD(fd2, constants_1.WASI_RIGHT_PATH_UNLINK_FILE);
            if (!stats.path) {
              return constants_1.WASI_EINVAL;
            }
            this.refreshMemory();
            const p = buffer_1.default.from(this.memory.buffer, pathPtr, pathLen).toString();
            fs2.unlinkSync(path2.resolve(stats.path, p));
            return constants_1.WASI_ESUCCESS;
          }),
          poll_oneoff: (sin, sout, nsubscriptions, nevents) => {
            let eventc = 0;
            let waitEnd = 0;
            this.refreshMemory();
            for (let i = 0; i < nsubscriptions; i += 1) {
              const userdata = this.view.getBigUint64(sin, true);
              sin += 8;
              const type = this.view.getUint8(sin);
              sin += 1;
              switch (type) {
                case constants_1.WASI_EVENTTYPE_CLOCK: {
                  sin += 7;
                  const identifier = this.view.getBigUint64(sin, true);
                  sin += 8;
                  const clockid = this.view.getUint32(sin, true);
                  sin += 4;
                  sin += 4;
                  const timestamp = this.view.getBigUint64(sin, true);
                  sin += 8;
                  const precision = this.view.getBigUint64(sin, true);
                  sin += 8;
                  const subclockflags = this.view.getUint16(sin, true);
                  sin += 2;
                  sin += 6;
                  const absolute = subclockflags === 1;
                  let e = constants_1.WASI_ESUCCESS;
                  const n = bigint_1.BigIntPolyfill(now(clockid));
                  if (n === null) {
                    e = constants_1.WASI_EINVAL;
                  } else {
                    const end = absolute ? timestamp : n + timestamp;
                    waitEnd = end > waitEnd ? end : waitEnd;
                  }
                  this.view.setBigUint64(sout, userdata, true);
                  sout += 8;
                  this.view.setUint16(sout, e, true);
                  sout += 2;
                  this.view.setUint8(sout, constants_1.WASI_EVENTTYPE_CLOCK);
                  sout += 1;
                  sout += 5;
                  eventc += 1;
                  break;
                }
                case constants_1.WASI_EVENTTYPE_FD_READ:
                case constants_1.WASI_EVENTTYPE_FD_WRITE: {
                  sin += 3;
                  const fd2 = this.view.getUint32(sin, true);
                  sin += 4;
                  this.view.setBigUint64(sout, userdata, true);
                  sout += 8;
                  this.view.setUint16(sout, constants_1.WASI_ENOSYS, true);
                  sout += 2;
                  this.view.setUint8(sout, type);
                  sout += 1;
                  sout += 5;
                  eventc += 1;
                  break;
                }
                default:
                  return constants_1.WASI_EINVAL;
              }
            }
            this.view.setUint32(nevents, eventc, true);
            while (bindings.hrtime() < waitEnd) {
            }
            return constants_1.WASI_ESUCCESS;
          },
          proc_exit: (rval) => {
            bindings.exit(rval);
            return constants_1.WASI_ESUCCESS;
          },
          proc_raise: (sig) => {
            if (!(sig in constants_1.SIGNAL_MAP)) {
              return constants_1.WASI_EINVAL;
            }
            bindings.kill(constants_1.SIGNAL_MAP[sig]);
            return constants_1.WASI_ESUCCESS;
          },
          random_get: (bufPtr, bufLen) => {
            this.refreshMemory();
            bindings.randomFillSync(new Uint8Array(this.memory.buffer), bufPtr, bufLen);
            return constants_1.WASI_ESUCCESS;
          },
          sched_yield() {
            return constants_1.WASI_ESUCCESS;
          },
          sock_recv() {
            return constants_1.WASI_ENOSYS;
          },
          sock_send() {
            return constants_1.WASI_ENOSYS;
          },
          sock_shutdown() {
            return constants_1.WASI_ENOSYS;
          }
        };
        if (wasiConfig.traceSyscalls) {
          Object.keys(this.wasiImport).forEach((key) => {
            const prevImport = this.wasiImport[key];
            this.wasiImport[key] = function(...args2) {
              console.log(`WASI: wasiImport called: ${key} (${args2})`);
              try {
                let result = prevImport(...args2);
                console.log(`WASI:  => ${result}`);
                return result;
              } catch (e) {
                console.log(`Catched error: ${e}`);
                throw e;
              }
            };
          });
        }
      }
      refreshMemory() {
        if (!this.view || this.view.buffer.byteLength === 0) {
          this.view = new dataview_1.DataViewPolyfill(this.memory.buffer);
        }
      }
      setMemory(memory) {
        this.memory = memory;
      }
      start(instance) {
        const exports2 = instance.exports;
        if (exports2 === null || typeof exports2 !== "object") {
          throw new Error(`instance.exports must be an Object. Received ${exports2}.`);
        }
        const { memory } = exports2;
        if (!(memory instanceof WebAssembly.Memory)) {
          throw new Error(`instance.exports.memory must be a WebAssembly.Memory. Recceived ${memory}.`);
        }
        this.setMemory(memory);
        if (exports2._start) {
          exports2._start();
        }
      }
      getImportNamespace(module2) {
        let namespace = null;
        for (let imp of WebAssembly.Module.imports(module2)) {
          if (imp.kind !== "function") {
            continue;
          }
          if (!imp.module.startsWith("wasi_")) {
            continue;
          }
          if (!namespace) {
            namespace = imp.module;
          } else {
            if (namespace !== imp.module) {
              throw new Error("Multiple namespaces detected.");
            }
          }
        }
        return namespace;
      }
      getImports(module2) {
        let namespace = this.getImportNamespace(module2);
        switch (namespace) {
          case "wasi_unstable":
            return {
              wasi_unstable: this.wasiImport
            };
          case "wasi_snapshot_preview1":
            return {
              wasi_snapshot_preview1: this.wasiImport
            };
          default:
            throw new Error("Can't detect a WASI namespace for the WebAssembly Module");
        }
      }
    };
    exports.default = WASIDefault;
    WASIDefault.defaultBindings = defaultBindings;
    exports.WASI = WASIDefault;
  }
});

// node_modules/@wasmer/wasmfs/lib/node_sync_emit.js
var require_node_sync_emit = __commonJS({
  "node_modules/@wasmer/wasmfs/lib/node_sync_emit.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var node_1 = require_node();
    node_1.Node.prototype.emit = function(event, ...args) {
      const listeners = this.listeners(event);
      for (let listener of listeners) {
        try {
          listener(...args);
        } catch (e) {
          console.error(e);
        }
      }
      return listeners.length > 0;
    };
  }
});

// node_modules/@wasmer/wasmfs/lib/index.js
var require_lib4 = __commonJS({
  "node_modules/@wasmer/wasmfs/lib/index.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var memfs_1 = require_lib2();
    var volume_1 = require_volume();
    var path_1 = require_path_browserify();
    require_node_sync_emit();
    var assert4 = (cond, message) => {
      if (!cond) {
        throw new Error(message);
      }
    };
    var WasmFsDefault = class {
      constructor() {
        this.volume = new volume_1.Volume();
        this.fs = memfs_1.createFsFromVolume(this.volume);
        this.fromJSON({
          "/dev/stdin": "",
          "/dev/stdout": "",
          "/dev/stderr": ""
        });
      }
      _toJSON(link, json = {}, path2) {
        let isEmpty = true;
        for (const name in link.children) {
          isEmpty = false;
          const child = link.getChild(name);
          if (child) {
            const node = child.getNode();
            if (node && node.isFile()) {
              let filename = child.getPath();
              if (path2)
                filename = path_1.relative(path2, filename);
              json[filename] = node.getBuffer();
            } else if (node && node.isDirectory()) {
              this._toJSON(child, json, path2);
            }
          }
        }
        let dirPath = link.getPath();
        if (path2)
          dirPath = path_1.relative(path2, dirPath);
        if (dirPath && isEmpty) {
          json[dirPath] = null;
        }
        return json;
      }
      toJSON(paths, json = {}, isRelative = false) {
        const links = [];
        if (paths) {
          if (!(paths instanceof Array))
            paths = [paths];
          for (const path2 of paths) {
            const filename = volume_1.pathToFilename(path2);
            const link = this.volume.getResolvedLink(filename);
            if (!link)
              continue;
            links.push(link);
          }
        } else {
          links.push(this.volume.root);
        }
        if (!links.length)
          return json;
        for (const link of links)
          this._toJSON(link, json, isRelative ? link.getPath() : "");
        return json;
      }
      fromJSONFixed(vol, json) {
        const sep = "/";
        for (let filename in json) {
          const data = json[filename];
          const isDir = data ? Object.getPrototypeOf(data) === null : data === null;
          if (!isDir) {
            const steps = volume_1.filenameToSteps(filename);
            if (steps.length > 1) {
              const dirname = sep + steps.slice(0, steps.length - 1).join(sep);
              vol.mkdirpBase(dirname, 511);
            }
            vol.writeFileSync(filename, data || "");
          } else {
            vol.mkdirpBase(filename, 511);
          }
        }
      }
      fromJSON(fsJson) {
        this.volume = new volume_1.Volume();
        this.fromJSONFixed(this.volume, fsJson);
        this.fs = memfs_1.createFsFromVolume(this.volume);
        this.volume.releasedFds = [0, 1, 2];
        const fdErr = this.volume.openSync("/dev/stderr", "w");
        const fdOut = this.volume.openSync("/dev/stdout", "w");
        const fdIn = this.volume.openSync("/dev/stdin", "r");
        assert4(fdErr === 2, `invalid handle for stderr: ${fdErr}`);
        assert4(fdOut === 1, `invalid handle for stdout: ${fdOut}`);
        assert4(fdIn === 0, `invalid handle for stdin: ${fdIn}`);
      }
      async getStdOut() {
        let promise = new Promise((resolve) => {
          resolve(this.fs.readFileSync("/dev/stdout", "utf8"));
        });
        return promise;
      }
    };
    exports.default = WasmFsDefault;
    exports.WasmFs = WasmFsDefault;
  }
});

// node_modules/wasi-kernel/src/kernel/bits/tty.ts
function bindAll3(instance, methods) {
  return methods.reduce((d, m) => Object.assign(d, { [m]: instance[m].bind(instance) }), {});
}
function range(n) {
  return [...Array(n).keys()];
}
var import_events4, Tty;
var init_tty = __esm({
  "node_modules/wasi-kernel/src/kernel/bits/tty.ts"() {
    init_process_shim();
    init_buffer_shim();
    import_events4 = __toESM(require_events());
    Tty = class extends import_events4.EventEmitter {
      core;
      fds;
      stdin_fl;
      termios;
      debug;
      constructor(core) {
        super();
        this.core = core;
        this.fds = [];
        this.stdin_fl = 0;
        this.termios = {
          flags: [258, 3, 0, 10],
          /* see include/bits/termios.h */
          win: this.defaultWindow()
        };
        this.core.on("stream:out", (ev) => {
          if (this.fds.includes(ev.fd))
            this.emit("data", ev.data);
        });
        this.debug = () => {
        };
      }
      to() {
        return { termios: { win: this.termios.win } };
      }
      makeTty(fd2) {
        this.core.wasi.FD_MAP.get(fd2).filetype = 2;
        this.core.wasi.FD_MAP.get(fd2).rights.base &= ~BigInt(36);
      }
      write(data) {
        this.core.stdin.write(data);
      }
      // ------------------------------
      // Overrides for WASI.wasiImports
      // ------------------------------
      fd_fdstat_set_flags(fd2, flags) {
        this.debug(`fdstat_set_flags(${fd2}, ${flags})
`);
        if (fd2 === 0) {
          this.stdin_fl = flags;
          this.core.stdin.blocking = !(flags & 4);
        }
        return 0;
      }
      fd_fdstat_get(fd2, bufPtr) {
        var ret = this.core.wasi.wasiImport.fd_fdstat_get(fd2, bufPtr);
        if (fd2 === 0) {
          this.core.proc.mem.setUint16(bufPtr + 2, this.stdin_fl, true);
        }
        return ret;
      }
      defaultWindow() {
        var win = new Uint16Array(new SharedArrayBuffer(4));
        win[0] = 24;
        win[1] = 80;
        return win;
      }
      get overrideImport() {
        return bindAll3(this, ["fd_fdstat_get", "fd_fdstat_set_flags"]);
      }
      get import() {
        return bindAll3(this, ["tcgetattr", "tcsetattr", "tgetent"]);
      }
      get extlib() {
        return bindAll3(this, ["tty_ioctl"]);
      }
      // ------------
      // Termois Part
      // ------------
      tcgetattr(fd2, termios_p) {
        this.debug(`tcgetattr(${fd2}, ${termios_p})`);
        let mem = this.core.proc.mem;
        this.termios.flags.forEach((fl2, i) => {
          mem.setUint32(termios_p + 4 * i, fl2, true);
        });
        mem.setUint8(termios_p + 4 * 4 + 1 + 5, 0);
        mem.setUint8(termios_p + 4 * 4 + 1 + 6, 1);
        return 0;
      }
      tcsetattr(fd2, when, termios_p) {
        this.debug(`tcsetattr(${fd2}, ${when}, ${termios_p})`);
        let mem = this.core.proc.mem, flags = range(4).map((i) => mem.getUint32(termios_p + 4 * i, true)), cc = range(32).map((i) => mem.getUint8(termios_p + 4 * 4 + 1 + i));
        this.debug(`  [${flags.map((i) => "0" + i.toString(8)).join(", ")}] [${cc}]`);
        this.termios.flags = flags;
        this.core.stdin.blocking = cc[6] > 0;
        this.core.proc.emit("syscall", {
          func: "ioctl:tty",
          data: { fd: fd2, when, flags }
        });
        return 0;
      }
      tgetent(bp, name) {
        this.debug(`tgetent(_, '${this.core.proc.userGetCString(name)}')`);
        return 1;
      }
      tty_ioctl(fd2, request, buf) {
        console.warn("tty_ioctl", fd2, request, buf);
        if (fd2 == 1) {
          var mem = this.core.proc.mem, win = this.termios.win;
          switch (request) {
            case 21523 /* TIOCGWINSZ */:
              for (let i = 0; i < win.length; i++)
                mem.setUint16(buf + 2 * i, win[i], true);
              break;
            case 21524 /* TIOCSWINSZ */:
              var setting = win.map((_, i) => mem.getUint16(buf + 2 * i));
              this.core.proc.emit("syscall", {
                func: "ioctl:tty",
                data: { fd: fd2, request, win: setting }
              });
              break;
          }
        }
      }
    };
  }
});

// node_modules/randombytes/browser.js
var require_browser3 = __commonJS({
  "node_modules/randombytes/browser.js"(exports, module) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    var MAX_BYTES = 65536;
    var MAX_UINT32 = 4294967295;
    function oldBrowser() {
      throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11");
    }
    var Buffer4 = require_safe_buffer().Buffer;
    var crypto = self.crypto || self.msCrypto;
    if (crypto && crypto.getRandomValues) {
      module.exports = randomBytes;
    } else {
      module.exports = oldBrowser;
    }
    function randomBytes(size, cb) {
      if (size > MAX_UINT32)
        throw new RangeError("requested too many random bytes");
      var bytes = Buffer4.allocUnsafe(size);
      if (size > 0) {
        if (size > MAX_BYTES) {
          for (var generated = 0; generated < size; generated += MAX_BYTES) {
            crypto.getRandomValues(bytes.slice(generated, generated + MAX_BYTES));
          }
        } else {
          crypto.getRandomValues(bytes);
        }
      }
      if (typeof cb === "function") {
        return process.nextTick(function() {
          cb(null, bytes);
        });
      }
      return bytes;
    }
  }
});

// node_modules/randomfill/browser.js
var require_browser4 = __commonJS({
  "node_modules/randomfill/browser.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    function oldBrowser() {
      throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11");
    }
    var safeBuffer = require_safe_buffer();
    var randombytes = require_browser3();
    var Buffer4 = safeBuffer.Buffer;
    var kBufferMaxLength = safeBuffer.kMaxLength;
    var crypto = self.crypto || self.msCrypto;
    var kMaxUint32 = Math.pow(2, 32) - 1;
    function assertOffset(offset, length) {
      if (typeof offset !== "number" || offset !== offset) {
        throw new TypeError("offset must be a number");
      }
      if (offset > kMaxUint32 || offset < 0) {
        throw new TypeError("offset must be a uint32");
      }
      if (offset > kBufferMaxLength || offset > length) {
        throw new RangeError("offset out of range");
      }
    }
    function assertSize(size, offset, length) {
      if (typeof size !== "number" || size !== size) {
        throw new TypeError("size must be a number");
      }
      if (size > kMaxUint32 || size < 0) {
        throw new TypeError("size must be a uint32");
      }
      if (size + offset > length || size > kBufferMaxLength) {
        throw new RangeError("buffer too small");
      }
    }
    if (crypto && crypto.getRandomValues || !browser) {
      exports.randomFill = randomFill;
      exports.randomFillSync = randomFillSync;
    } else {
      exports.randomFill = oldBrowser;
      exports.randomFillSync = oldBrowser;
    }
    function randomFill(buf, offset, size, cb) {
      if (!Buffer4.isBuffer(buf) && !(buf instanceof self.Uint8Array)) {
        throw new TypeError('"buf" argument must be a Buffer or Uint8Array');
      }
      if (typeof offset === "function") {
        cb = offset;
        offset = 0;
        size = buf.length;
      } else if (typeof size === "function") {
        cb = size;
        size = buf.length - offset;
      } else if (typeof cb !== "function") {
        throw new TypeError('"cb" argument must be a function');
      }
      assertOffset(offset, buf.length);
      assertSize(size, offset, buf.length);
      return actualFill(buf, offset, size, cb);
    }
    function actualFill(buf, offset, size, cb) {
      if (browser) {
        var ourBuf = buf.buffer;
        var uint = new Uint8Array(ourBuf, offset, size);
        crypto.getRandomValues(uint);
        if (cb) {
          process.nextTick(function() {
            cb(null, buf);
          });
          return;
        }
        return buf;
      }
      if (cb) {
        randombytes(size, function(err2, bytes2) {
          if (err2) {
            return cb(err2);
          }
          bytes2.copy(buf, offset);
          cb(null, buf);
        });
        return;
      }
      var bytes = randombytes(size);
      bytes.copy(buf, offset);
      return buf;
    }
    function randomFillSync(buf, offset, size) {
      if (typeof offset === "undefined") {
        offset = 0;
      }
      if (!Buffer4.isBuffer(buf) && !(buf instanceof self.Uint8Array)) {
        throw new TypeError('"buf" argument must be a Buffer or Uint8Array');
      }
      assertOffset(offset, buf.length);
      if (size === void 0)
        size = buf.length - offset;
      assertSize(size, offset, buf.length);
      return actualFill(buf, offset, size);
    }
  }
});

// node_modules/@wasmer/wasi/lib/polyfills/browser-hrtime.js
var require_browser_hrtime = __commonJS({
  "node_modules/@wasmer/wasi/lib/polyfills/browser-hrtime.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var baseNow = Math.floor((Date.now() - performance.now()) * 1e-3);
    function hrtime(previousTimestamp) {
      let clocktime = performance.now() * 1e-3;
      let seconds = Math.floor(clocktime) + baseNow;
      let nanoseconds = Math.floor(clocktime % 1 * 1e9);
      if (previousTimestamp) {
        seconds = seconds - previousTimestamp[0];
        nanoseconds = nanoseconds - previousTimestamp[1];
        if (nanoseconds < 0) {
          seconds--;
          nanoseconds += 1e9;
        }
      }
      return [seconds, nanoseconds];
    }
    exports.default = hrtime;
  }
});

// node_modules/@wasmer/wasi/lib/polyfills/hrtime.bigint.js
var require_hrtime_bigint = __commonJS({
  "node_modules/@wasmer/wasi/lib/polyfills/hrtime.bigint.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var NS_PER_SEC = 1e9;
    var getBigIntHrtime = (nativeHrtime) => {
      return (time) => {
        const diff = nativeHrtime(time);
        return diff[0] * NS_PER_SEC + diff[1];
      };
    };
    exports.default = getBigIntHrtime;
  }
});

// node_modules/@wasmer/wasi/lib/bindings/browser.js
var require_browser5 = __commonJS({
  "node_modules/@wasmer/wasi/lib/bindings/browser.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var randomfill = require_browser4();
    var browser_hrtime_1 = require_browser_hrtime();
    var path2 = require_path_browserify();
    var index_1 = require_lib3();
    var hrtime_bigint_1 = require_hrtime_bigint();
    var bindings = {
      hrtime: hrtime_bigint_1.default(browser_hrtime_1.default),
      exit: (code) => {
        throw new index_1.WASIExitError(code);
      },
      kill: (signal) => {
        throw new index_1.WASIKillError(signal);
      },
      // @ts-ignore
      randomFillSync: randomfill.randomFillSync,
      isTTY: () => true,
      path: path2,
      // Let the user attach the fs at runtime
      fs: null
    };
    exports.default = bindings;
  }
});

// (disabled):crypto
var require_crypto = __commonJS({
  "(disabled):crypto"() {
    init_process_shim();
    init_buffer_shim();
  }
});

// (disabled):fs
var require_fs = __commonJS({
  "(disabled):fs"() {
    init_process_shim();
    init_buffer_shim();
  }
});

// (disabled):tty
var require_tty = __commonJS({
  "(disabled):tty"() {
    init_process_shim();
    init_buffer_shim();
  }
});

// node_modules/@wasmer/wasi/lib/bindings/node.js
var require_node2 = __commonJS({
  "node_modules/@wasmer/wasi/lib/bindings/node.js"(exports) {
    "use strict";
    init_process_shim();
    init_buffer_shim();
    Object.defineProperty(exports, "__esModule", { value: true });
    var crypto = require_crypto();
    var fs2 = require_fs();
    var { isatty: isTTY } = require_tty();
    var path2 = require_path_browserify();
    var hrtime_bigint_1 = require_hrtime_bigint();
    var bigIntHrtime = hrtime_bigint_1.default(process.hrtime);
    if (process.hrtime && process.hrtime.bigint) {
      bigIntHrtime = process.hrtime.bigint;
    }
    var bindings = {
      hrtime: bigIntHrtime,
      exit: (code) => {
        process.exit(code);
      },
      kill: (signal) => {
        process.kill(process.pid, signal);
      },
      randomFillSync: crypto.randomFillSync,
      isTTY,
      fs: fs2,
      path: path2
    };
    exports.default = bindings;
  }
});

// node_modules/wasi-kernel/src/kernel/exec.ts
function memoize(cache, k, f) {
  let v = cache.get(k);
  if (!v) {
    v = f(k);
    cache.set(k, v);
  }
  return v;
}
function memoizeMaybe(cache, k, f) {
  return cache ? memoize(cache, k, f) : f(k);
}
var import_events5, import_assert2, import_memfs, import_lib, import_lib2, ExecCore, defaults, nop, WASIExitError;
var init_exec = __esm({
  "node_modules/wasi-kernel/src/kernel/exec.ts"() {
    init_process_shim();
    init_buffer_shim();
    import_events5 = __toESM(require_events());
    import_assert2 = __toESM(require_assert());
    import_memfs = __toESM(require_lib2());
    import_lib = __toESM(require_lib3());
    import_lib2 = __toESM(require_lib4());
    init_streams();
    init_tty();
    init_proc();
    init_stubs();
    init_utf8();
    init_arch();
    import_lib.WASI.defaultBindings = isBrowser ? require_browser5().default : require_node2().default;
    ExecCore = class extends import_events5.EventEmitter {
      opts;
      stdin;
      wasmFs;
      env;
      argv;
      wasi;
      wasm;
      stdioFds;
      tty;
      proc;
      exited;
      cached;
      /* cached binaries */
      debug = nop;
      trace = { user: nop, syscalls: nop };
      constructor(opts = {}) {
        super();
        this.opts = opts = Object.assign({}, defaults, opts);
        this.stdin = opts.stdin ? new SimplexStream() : null;
        this.wasmFs = new import_lib2.WasmFs();
        this.populateRootFs();
        this.proc = new Proc(this, opts.proc);
        this.tty = opts.tty ? new Tty(this) : null;
        this.cached = opts.cacheBins !== false ? /* @__PURE__ */ new Map() : null;
        this.init();
      }
      initTraces() {
        if (this.opts.debug) {
          this.debug = this._debugPrint();
          this.trace.user = this._tracePrint();
        }
        if (this.opts.trace?.syscalls) {
          this.trace.syscalls = this._tracePrintAny();
        }
        if (this.tty)
          this.tty.debug = (...a) => this.debug(...a);
        this.proc.debug = (...a) => this.debug(...a);
        stubs_default.debug = this.debug;
      }
      init() {
        this.argv = ["."];
        this.env = this.initialEnv();
        this.wasi = new import_lib.WASI({
          args: this.argv,
          env: this.env,
          bindings: {
            ...import_lib.WASI.defaultBindings,
            exit: (code) => {
              throw new WASIExitError(code);
            },
            fs: this.wasmFs.fs,
            path: this.proc.path
          },
          preopens: { "/": "/" },
          ...this.extraWASIConfig()
        });
        this.exited = false;
        this.registerStdio();
        this.proc.init();
        let tty = this.opts.tty;
        if (tty) {
          var fds = typeof tty == "number" ? [tty] : typeof tty == "boolean" ? [0, 1, 2] : tty;
          this.tty.fds = fds;
          for (let fd2 of fds)
            this.tty.makeTty(fd2);
        }
      }
      configure(opts) {
        Object.assign(this.opts, opts);
      }
      reset() {
        if (this.stdin)
          this.stdin.reset();
        this.init();
      }
      async start(wasmUri, argv, env2) {
        if (this.exited)
          this.reset();
        if (argv)
          this.argv.splice(0, Infinity, ...argv);
        if (env2)
          Object.assign(this.env, env2);
        this.proc.opts = this.opts.proc || {};
        this.initTraces();
        var wamodule = await this.fetchCompile(wasmUri), wainstance = await WebAssembly.instantiate(
          wamodule,
          this.getImports(wamodule)
        );
        this.wasm = { module: wamodule, instance: wainstance };
        try {
          this.wasi.start(this.wasm.instance);
          return 0;
        } catch (e) {
          if (e instanceof WASIExitError)
            return e.code;
          else
            throw e;
        } finally {
          this.exited = true;
        }
      }
      get fs() {
        return this.wasmFs.fs;
      }
      async fetch(uri) {
        if (typeof fetch !== "undefined") {
          const response = await fetch(uri);
          return new Uint8Array(await response.arrayBuffer());
        } else {
          const fs2 = require_fs();
          return (0, fs2.readFileSync)(uri);
        }
      }
      async fetchCompile(uri) {
        return memoizeMaybe(this.cached, uri, async (uri2) => {
          var bytes = await this.fetch(uri2);
          return WebAssembly.compile(bytes);
        });
      }
      /**
       * @todo warn about unresolved symbols such as `__SIG_IGN` that stem
       *    from not linking some wasi-sdk emulation lib (`-lwasi-emulated-signal`).
       */
      getImports(wamodule) {
        return {
          ...this.wasi.getImports(wamodule),
          wasik_ext: { ...this.proc.extlib, ...this.tty?.extlib },
          env: { ...this.proc.import, ...this.tty?.import }
        };
      }
      /**
       * Returns an object that can be shared with a parent thread
       * (via e.g. `Worker.postMessage`) to communicate with this core.
       */
      share() {
        return {
          stdin: this.stdin.to(),
          tty: this.tty.to(),
          sigvec: this.proc.sigvec.to(),
          childq: this.proc.childq.to()
        };
      }
      emitWrite(fd2, buffer2) {
        this.emit("stream:out", { fd: fd2, data: buffer2 });
        return buffer2.length;
      }
      /**
       * Initial environment variables
       */
      initialEnv() {
        return this.opts.env ? Object.assign({}, this.opts.env) : this.defaultEnv();
      }
      defaultEnv() {
        return { PATH: "/bin", PWD: "/home" };
      }
      extraWASIConfig() {
        let o = this.opts;
        return { traceSyscalls: o.trace && o.trace.syscalls };
      }
      registerStdio() {
        var volume = this.wasmFs.volume;
        if (!(volume.fds[0] && volume.fds[1] && volume.fds[2])) {
          volume.releasedFds = [0, 1, 2];
          const fdErr = volume.openSync("/dev/stderr", "w"), fdOut = volume.openSync("/dev/stdout", "w"), fdIn = volume.openSync("/dev/stdin", "r");
          (0, import_assert2.default)(fdIn == 0 && fdOut == 1 && fdErr == 2);
        }
        if (this.stdin)
          volume.fds[0].read = this.stdin.read.bind(this.stdin);
        volume.fds[1].write = (d) => this.emitWrite(1, d);
        volume.fds[2].write = (d) => this.emitWrite(2, d);
      }
      mountFs(volume) {
        volume.fromJSON(this.wasmFs.volume.toJSON());
        this.wasmFs.volume = volume;
        this.wasmFs.fs = (0, import_memfs.createFsFromVolume)(volume);
        this.init();
      }
      /**
       * Bootstrapping filesystem contents
       */
      populateRootFs() {
        this.wasmFs.fs.mkdirSync("/home");
        this.wasmFs.fs.mkdirSync("/bin");
      }
      _debugPrint() {
        return self.process ? (
          /* console is funky in Node worker threads */
          (...args) => this.emitWrite(2, utf8encode(args.join(" ") + "\n"))
        ) : console.log;
      }
      _tracePrint() {
        return self.process ? (
          /* console is funky in Node worker threads */
          (ui8a) => this.emitWrite(2, ui8a)
        ) : (ui8a) => console.warn("[trace]", utf8decode(ui8a), ui8a);
      }
      _tracePrintAny() {
        return self.process ? (
          /* console is funky in Node worker threads */
          (...args) => this.emitWrite(2, utf8encode(args.toString()))
        ) : (...args) => console.warn("[trace]", ...args);
      }
    };
    defaults = { stdin: true };
    nop = () => {
    };
    WASIExitError = class {
      code;
      constructor(code) {
        this.code = code;
      }
    };
  }
});

// backend/wasm/wacoq_worker.ts
init_process_shim();
init_buffer_shim();

// backend/wasm/core.ts
init_process_shim();
init_buffer_shim();
var import_events6 = __toESM(require_events(), 1);

// node_modules/fflate/esm/browser.js
init_process_shim();
init_buffer_shim();
var u8 = Uint8Array;
var u16 = Uint16Array;
var u32 = Uint32Array;
var fleb = new u8([
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  1,
  1,
  1,
  1,
  2,
  2,
  2,
  2,
  3,
  3,
  3,
  3,
  4,
  4,
  4,
  4,
  5,
  5,
  5,
  5,
  0,
  /* unused */
  0,
  0,
  /* impossible */
  0
]);
var fdeb = new u8([
  0,
  0,
  0,
  0,
  1,
  1,
  2,
  2,
  3,
  3,
  4,
  4,
  5,
  5,
  6,
  6,
  7,
  7,
  8,
  8,
  9,
  9,
  10,
  10,
  11,
  11,
  12,
  12,
  13,
  13,
  /* unused */
  0,
  0
]);
var clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);
var freb = function(eb, start) {
  var b = new u16(31);
  for (var i = 0; i < 31; ++i) {
    b[i] = start += 1 << eb[i - 1];
  }
  var r = new u32(b[30]);
  for (var i = 1; i < 30; ++i) {
    for (var j = b[i]; j < b[i + 1]; ++j) {
      r[j] = j - b[i] << 5 | i;
    }
  }
  return [b, r];
};
var _a = freb(fleb, 2);
var fl = _a[0];
var revfl = _a[1];
fl[28] = 258, revfl[258] = 28;
var _b = freb(fdeb, 0);
var fd = _b[0];
var revfd = _b[1];
var rev = new u16(32768);
for (i = 0; i < 32768; ++i) {
  x = (i & 43690) >>> 1 | (i & 21845) << 1;
  x = (x & 52428) >>> 2 | (x & 13107) << 2;
  x = (x & 61680) >>> 4 | (x & 3855) << 4;
  rev[i] = ((x & 65280) >>> 8 | (x & 255) << 8) >>> 1;
}
var x;
var i;
var hMap = function(cd, mb, r) {
  var s = cd.length;
  var i = 0;
  var l = new u16(mb);
  for (; i < s; ++i)
    ++l[cd[i] - 1];
  var le = new u16(mb);
  for (i = 0; i < mb; ++i) {
    le[i] = le[i - 1] + l[i - 1] << 1;
  }
  var co;
  if (r) {
    co = new u16(1 << mb);
    var rvb = 15 - mb;
    for (i = 0; i < s; ++i) {
      if (cd[i]) {
        var sv = i << 4 | cd[i];
        var r_1 = mb - cd[i];
        var v = le[cd[i] - 1]++ << r_1;
        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {
          co[rev[v] >>> rvb] = sv;
        }
      }
    }
  } else {
    co = new u16(s);
    for (i = 0; i < s; ++i) {
      if (cd[i]) {
        co[i] = rev[le[cd[i] - 1]++] >>> 15 - cd[i];
      }
    }
  }
  return co;
};
var flt = new u8(288);
for (i = 0; i < 144; ++i)
  flt[i] = 8;
var i;
for (i = 144; i < 256; ++i)
  flt[i] = 9;
var i;
for (i = 256; i < 280; ++i)
  flt[i] = 7;
var i;
for (i = 280; i < 288; ++i)
  flt[i] = 8;
var i;
var fdt = new u8(32);
for (i = 0; i < 32; ++i)
  fdt[i] = 5;
var i;
var flrm = /* @__PURE__ */ hMap(flt, 9, 1);
var fdrm = /* @__PURE__ */ hMap(fdt, 5, 1);
var max = function(a) {
  var m = a[0];
  for (var i = 1; i < a.length; ++i) {
    if (a[i] > m)
      m = a[i];
  }
  return m;
};
var bits = function(d, p, m) {
  var o = p / 8 | 0;
  return (d[o] | d[o + 1] << 8) >> (p & 7) & m;
};
var bits16 = function(d, p) {
  var o = p / 8 | 0;
  return (d[o] | d[o + 1] << 8 | d[o + 2] << 16) >> (p & 7);
};
var shft = function(p) {
  return (p + 7) / 8 | 0;
};
var slc = function(v, s, e) {
  if (s == null || s < 0)
    s = 0;
  if (e == null || e > v.length)
    e = v.length;
  var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);
  n.set(v.subarray(s, e));
  return n;
};
var ec = [
  "unexpected EOF",
  "invalid block type",
  "invalid length/literal",
  "invalid distance",
  "stream finished",
  "no stream handler",
  ,
  "no callback",
  "invalid UTF-8 data",
  "extra field too long",
  "date not in range 1980-2099",
  "filename too long",
  "stream finishing",
  "invalid zip data"
  // determined by unknown compression method
];
var err = function(ind, msg, nt) {
  var e = new Error(msg || ec[ind]);
  e.code = ind;
  if (Error.captureStackTrace)
    Error.captureStackTrace(e, err);
  if (!nt)
    throw e;
  return e;
};
var inflt = function(dat, buf, st) {
  var sl = dat.length;
  if (!sl || st && st.f && !st.l)
    return buf || new u8(0);
  var noBuf = !buf || st;
  var noSt = !st || st.i;
  if (!st)
    st = {};
  if (!buf)
    buf = new u8(sl * 3);
  var cbuf = function(l2) {
    var bl = buf.length;
    if (l2 > bl) {
      var nbuf = new u8(Math.max(bl * 2, l2));
      nbuf.set(buf);
      buf = nbuf;
    }
  };
  var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;
  var tbts = sl * 8;
  do {
    if (!lm) {
      final = bits(dat, pos, 1);
      var type = bits(dat, pos + 1, 3);
      pos += 3;
      if (!type) {
        var s = shft(pos) + 4, l = dat[s - 4] | dat[s - 3] << 8, t = s + l;
        if (t > sl) {
          if (noSt)
            err(0);
          break;
        }
        if (noBuf)
          cbuf(bt + l);
        buf.set(dat.subarray(s, t), bt);
        st.b = bt += l, st.p = pos = t * 8, st.f = final;
        continue;
      } else if (type == 1)
        lm = flrm, dm = fdrm, lbt = 9, dbt = 5;
      else if (type == 2) {
        var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;
        var tl = hLit + bits(dat, pos + 5, 31) + 1;
        pos += 14;
        var ldt = new u8(tl);
        var clt = new u8(19);
        for (var i = 0; i < hcLen; ++i) {
          clt[clim[i]] = bits(dat, pos + i * 3, 7);
        }
        pos += hcLen * 3;
        var clb = max(clt), clbmsk = (1 << clb) - 1;
        var clm = hMap(clt, clb, 1);
        for (var i = 0; i < tl; ) {
          var r = clm[bits(dat, pos, clbmsk)];
          pos += r & 15;
          var s = r >>> 4;
          if (s < 16) {
            ldt[i++] = s;
          } else {
            var c = 0, n = 0;
            if (s == 16)
              n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];
            else if (s == 17)
              n = 3 + bits(dat, pos, 7), pos += 3;
            else if (s == 18)
              n = 11 + bits(dat, pos, 127), pos += 7;
            while (n--)
              ldt[i++] = c;
          }
        }
        var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);
        lbt = max(lt);
        dbt = max(dt);
        lm = hMap(lt, lbt, 1);
        dm = hMap(dt, dbt, 1);
      } else
        err(1);
      if (pos > tbts) {
        if (noSt)
          err(0);
        break;
      }
    }
    if (noBuf)
      cbuf(bt + 131072);
    var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;
    var lpos = pos;
    for (; ; lpos = pos) {
      var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;
      pos += c & 15;
      if (pos > tbts) {
        if (noSt)
          err(0);
        break;
      }
      if (!c)
        err(2);
      if (sym < 256)
        buf[bt++] = sym;
      else if (sym == 256) {
        lpos = pos, lm = null;
        break;
      } else {
        var add = sym - 254;
        if (sym > 264) {
          var i = sym - 257, b = fleb[i];
          add = bits(dat, pos, (1 << b) - 1) + fl[i];
          pos += b;
        }
        var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;
        if (!d)
          err(3);
        pos += d & 15;
        var dt = fd[dsym];
        if (dsym > 3) {
          var b = fdeb[dsym];
          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;
        }
        if (pos > tbts) {
          if (noSt)
            err(0);
          break;
        }
        if (noBuf)
          cbuf(bt + 131072);
        var end = bt + add;
        for (; bt < end; bt += 4) {
          buf[bt] = buf[bt - dt];
          buf[bt + 1] = buf[bt + 1 - dt];
          buf[bt + 2] = buf[bt + 2 - dt];
          buf[bt + 3] = buf[bt + 3 - dt];
        }
        bt = end;
      }
    }
    st.l = lm, st.p = lpos, st.b = bt, st.f = final;
    if (lm)
      final = 1, st.m = lbt, st.d = dm, st.n = dbt;
  } while (!final);
  return bt == buf.length ? buf : slc(buf, 0, bt);
};
var et = /* @__PURE__ */ new u8(0);
var b2 = function(d, b) {
  return d[b] | d[b + 1] << 8;
};
var b4 = function(d, b) {
  return (d[b] | d[b + 1] << 8 | d[b + 2] << 16 | d[b + 3] << 24) >>> 0;
};
var b8 = function(d, b) {
  return b4(d, b) + b4(d, b + 4) * 4294967296;
};
function inflateSync(data, out) {
  return inflt(data, out);
}
var td = typeof TextDecoder != "undefined" && /* @__PURE__ */ new TextDecoder();
var tds = 0;
try {
  td.decode(et, { stream: true });
  tds = 1;
} catch (e) {
}
var dutf8 = function(d) {
  for (var r = "", i = 0; ; ) {
    var c = d[i++];
    var eb = (c > 127) + (c > 223) + (c > 239);
    if (i + eb > d.length)
      return [r, slc(d, i - 1)];
    if (!eb)
      r += String.fromCharCode(c);
    else if (eb == 3) {
      c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | d[i++] & 63) - 65536, r += String.fromCharCode(55296 | c >> 10, 56320 | c & 1023);
    } else if (eb & 1)
      r += String.fromCharCode((c & 31) << 6 | d[i++] & 63);
    else
      r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | d[i++] & 63);
  }
};
function strFromU8(dat, latin1) {
  if (latin1) {
    var r = "";
    for (var i = 0; i < dat.length; i += 16384)
      r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));
    return r;
  } else if (td)
    return td.decode(dat);
  else {
    var _a2 = dutf8(dat), out = _a2[0], ext = _a2[1];
    if (ext.length)
      err(8);
    return out;
  }
}
var slzh = function(d, b) {
  return b + 30 + b2(d, b + 26) + b2(d, b + 28);
};
var zh = function(d, b, z) {
  var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);
  var _a2 = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a2[0], su = _a2[1], off = _a2[2];
  return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];
};
var z64e = function(d, b) {
  for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))
    ;
  return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];
};
function unzipSync(data, opts) {
  var files = {};
  var e = data.length - 22;
  for (; b4(data, e) != 101010256; --e) {
    if (!e || data.length - e > 65558)
      err(13);
  }
  ;
  var c = b2(data, e + 8);
  if (!c)
    return {};
  var o = b4(data, e + 16);
  var z = o == 4294967295;
  if (z) {
    e = b4(data, e - 12);
    if (b4(data, e) != 101075792)
      err(13);
    c = b4(data, e + 32);
    o = b4(data, e + 48);
  }
  var fltr = opts && opts.filter;
  for (var i = 0; i < c; ++i) {
    var _a2 = zh(data, o, z), c_2 = _a2[0], sc = _a2[1], su = _a2[2], fn = _a2[3], no = _a2[4], off = _a2[5], b = slzh(data, off);
    o = no;
    if (!fltr || fltr({
      name: fn,
      size: sc,
      originalSize: su,
      compression: c_2
    })) {
      if (!c_2)
        files[fn] = slc(data, b, b + sc);
      else if (c_2 == 8)
        files[fn] = inflateSync(data.subarray(b, b + sc), new u8(su));
      else
        err(14, "unknown compression type " + c_2);
    }
  }
  return files;
}

// backend/wasm/core.ts
var import_browser_or_node = __toESM(require_lib(), 1);

// backend/wasm/ocaml_exec.ts
init_process_shim();
init_buffer_shim();

// node_modules/wasi-kernel/src/kernel/index.ts
init_process_shim();
init_buffer_shim();

// node_modules/wasi-kernel/src/kernel/process.ts
init_process_shim();
init_buffer_shim();
var import_events3 = __toESM(require_events());
init_streams();
init_proc();

// node_modules/wasi-kernel/src/kernel/bindings/workers.ts
init_process_shim();
init_buffer_shim();
init_arch();
var WorkerImpl;
var postMessage2;
var onMessage;
if (isBrowser) {
  WorkerImpl = self.Worker;
  postMessage2 = self.postMessage;
  onMessage = (handler) => addEventListener("message", handler);
} else if (isNode) {
  const workerThreads = __require("worker_threads");
  class WorkerAdapter {
    thread;
    constructor(stringUrl) {
      this.thread = new workerThreads.Worker(stringUrl);
    }
    addEventListener(eventName, handler) {
      this.thread.on(eventName, (ev) => {
        handler({ data: ev });
      });
    }
    postMessage(msg) {
      this.thread.postMessage(msg);
    }
    static onMessage(handler) {
      workerThreads.parentPort.on("message", (ev) => {
        handler({ data: ev });
      });
    }
    static postMessage(msg) {
      workerThreads.parentPort.postMessage(msg);
    }
  }
  WorkerImpl = WorkerAdapter;
  onMessage = WorkerAdapter.onMessage;
  postMessage2 = WorkerAdapter.postMessage;
}

// node_modules/wasi-kernel/src/kernel/process.ts
init_queue();

// node_modules/wasi-kernel/src/kernel/index.ts
init_exec();

// node_modules/wasi-kernel/src/kernel/services/shared-fs.ts
init_process_shim();
init_buffer_shim();
var import_memfs2 = __toESM(require_lib2());
var import_volume = __toESM(require_volume());
var import_node = __toESM(require_node());
var import_assert3 = __toESM(require_assert());
var ProxyHandlers;
((ProxyHandlers2) => {
  class LinkHandler {
    get(link, name) {
      if (name === "children" && link.vol.dev && !link._dirty) {
        link.pull();
      }
      return link[name];
    }
  }
  ProxyHandlers2.LinkHandler = LinkHandler;
  class LinkChildren {
    link;
    constructor(link) {
      this.link = link;
    }
    getOwnPropertyDescriptor(children, name) {
      this.link.pull();
      return children.hasOwnProperty(name) ? { configurable: true, enumerable: true } : void 0;
    }
    get(children, name) {
      this.link.pull();
      return children[name];
    }
    set(children, name, value) {
      children[name] = value;
      return true;
    }
  }
  ProxyHandlers2.LinkChildren = LinkChildren;
})(ProxyHandlers || (ProxyHandlers = {}));

// backend/wasm/ocaml_exec.ts
var OCamlCAPI;
((OCamlCAPI2) => {
  function Val_int(v) {
    return v << 2 | 1;
  }
  OCamlCAPI2.Val_int = Val_int;
  function Val_bool(b) {
    return Val_int(+b);
  }
  OCamlCAPI2.Val_bool = Val_bool;
  function Int_val(v) {
    return v >> 1;
  }
  OCamlCAPI2.Int_val = Int_val;
  function Bool_val(v) {
    return !!Int_val(v);
  }
  OCamlCAPI2.Bool_val = Bool_val;
  OCamlCAPI2.Val_unit = Val_int(0);
  OCamlCAPI2.Val_false = Val_int(0);
  OCamlCAPI2.Val_true = Val_int(1);
})(OCamlCAPI || (OCamlCAPI = {}));
var OCamlExecutable = class extends ExecCore {
  api;
  callbacks;
  constructor(opts) {
    super(opts);
  }
  initialEnv() {
    return {
      ...super.initialEnv(),
      "OCAMLFIND_CONF": "/lib/findlib.conf",
      "COQLIB": "/lib"
    };
  }
  async run(bytecodeFile, args, callbacks = []) {
    var bin = this.opts.binDir || "../bin";
    for (let p of this.preloads())
      await this.proc.dyld.preload(p.name, p.uri, p.reloc);
    await this.start(
      `${bin}/ocamlrun.wasm`,
      ["ocamlrun", bytecodeFile, ...args],
      this.env
    );
    this.api = this.wasm.instance.exports;
    this.callbacks = this._getCallbacks(callbacks);
  }
  preloads() {
    var bin = this.opts.binDir || "../bin";
    return ["dllcamlstr", "dllunix", "dllthreads"].map((b) => ({
      name: `${b}.so`,
      uri: `${bin}/${b}.wasm`,
      reloc: STDLIB_STUBS[b]
    }));
  }
  to_caml_string(s) {
    var bytes = new TextEncoder().encode(s), a = this.api.caml_alloc_string(bytes.length);
    this.proc.membuf.set(bytes, a);
    return a;
  }
  _getCallbacks(names2) {
    var callbacks = {}, x = this.api.malloc(Math.max(...names2.map((s) => s.length)) + 1);
    ;
    for (let name of names2) {
      this.proc.membuf.write(name + "\0", x);
      let closure_f = this.api.caml_named_value(x);
      if (closure_f) {
        callbacks[name] = (arg) => this.api.caml_callback(this.proc.mem.getUint32(closure_f, true), arg);
      }
    }
    this.api.free(x);
    return callbacks;
  }
};
var UNIX_STUBBED = [
  "fstat",
  "fsync",
  "strchr",
  "fcntl",
  "ftruncate",
  "getgrnam",
  "gmtime",
  "localtime",
  "mktime",
  "lockf",
  "pwrite",
  "sysconf",
  "mmap",
  "munmap",
  "putenv",
  "rewinddir",
  "select",
  "nanosleep",
  "tcgetattr",
  "tcsetattr",
  "time",
  "truncate"
];
var STDLIB_STUBS = {
  "dllunix": {
    js: mapAllTo(UNIX_STUBBED, () => 0)
  }
};
function mapAllTo(keys, value) {
  return Object.fromEntries(keys.map((nm) => [nm, value]));
}

// backend/wasm/interrupt.ts
init_process_shim();
init_buffer_shim();
var WorkerInterrupts = class {
  vec;
  checkpoint = 0;
  setup(vec) {
    this.vec = vec;
  }
  pending() {
    if (this.vec && typeof Atomics !== "undefined") {
      var ld = Atomics.load(this.vec, 0);
      if (ld > this.checkpoint) {
        this.checkpoint = ld;
        return true;
      }
    }
    return false;
  }
};

// backend/wasm/core.ts
var IcoqPod = class extends import_events6.EventEmitter {
  core;
  intr;
  binDir;
  nmDir;
  io;
  constructor(binDir, nmDir, fetchMode = DEFAULT_FETCH_MODE) {
    super();
    binDir = binDir || (fetchMode === "fs" ? "./bin" : "../bin");
    this.binDir = binDir;
    this.nmDir = nmDir ?? "../node_modules";
    this.core = new OCamlExecutable({ stdin: false, tty: false, binDir: `${nmDir}/ocaml-wasm/bin` });
    var utf8 = new TextDecoder();
    this.core.on("stream:out", (ev) => console.log(utf8.decode(ev.data)));
    this.io = new IO(fetchMode);
    this.intr = new WorkerInterrupts();
  }
  async findlibStartup() {
    this.putFile("/lib/findlib.conf", `path="/lib/ocaml"`);
  }
  get fs() {
    return this.core.fs;
  }
  async boot() {
    await this.upload(`../backend/wasm/wacoq_worker.bc`, "/lib/icoq.bc");
    await this.findlibStartup();
    this._preloadStub();
    await this.core.run("/lib/icoq.bc", [], ["wacoq_post"]);
  }
  async upload(fromUri, toPath) {
    var content = await this.io._fetch(fromUri);
    this.putFile(toPath, content);
  }
  loadPackage(uri, refresh = true) {
    return this.loadPackages([uri], refresh);
  }
  async loadPackages(uris, refresh = true) {
    if (typeof uris == "string")
      uris = [uris];
    await Promise.all(uris.map(async (uri) => {
      try {
        await this.unzip(uri, "/lib");
        this.answer([["LibLoaded", uri]]);
      } catch (e) {
        this.answer([["LibError", uri, e.toString()]]);
        throw e;
      }
    }));
    this.answer([["LoadedPkg", uris]]);
  }
  async loadSources(uri, dirpath) {
    var subdir = dirpath.replace(/[.]|([^/])$/g, "$1/");
    this.unzip(uri, `/src/${subdir}`);
  }
  unzip(uri, dir) {
    return this.io.unzip(
      this._pkgUri(uri),
      (fn, ui8a) => this.putFile(`${dir}/${fn}`, ui8a),
      (p) => this._progress(uri, p)
    );
  }
  _pkgUri(uri) {
    return uri[0] == "+" ? `${this.binDir}/coq/${uri.substring(1)}.coq-pkg` : uri;
  }
  _progress(uri, download) {
    this.emit("progress", { uri, download });
  }
  putFile(filename, content) {
    if (!filename.startsWith("/"))
      filename = `/lib/${filename}`;
    this.fs.mkdirpSync(filename.replace(/[/][^/]+$/, ""));
    this.fs.writeFileSync(filename, content);
  }
  getFile(filename) {
    if (!filename.startsWith("/"))
      filename = `/lib/${filename}`;
    var buf = null;
    try {
      buf = this.fs.readFileSync(filename);
    } catch {
    }
    this.answer([["Got", filename, buf]]);
  }
  command(cmd) {
    switch (cmd[0]) {
      case "LoadPkg":
        this.loadPackages(cmd[1]);
        return;
      case "Put":
        this.putFile(cmd[1], cmd[2]);
        return;
      case "Get":
        this.getFile(cmd[1]);
        return;
      case "InterruptSetup":
        this.intr.setup(cmd[1]);
        return;
    }
    const wacoq_post = this.core.callbacks && this.core.callbacks.wacoq_post;
    if (!wacoq_post)
      return;
    var json = typeof cmd === "string" ? cmd : JSON.stringify(cmd), answer = wacoq_post(this.core.to_caml_string(json));
    this._answer(answer);
  }
  answer(msgs) {
    for (let msg of msgs)
      this.emit("message", msg);
  }
  _answer(ptr) {
    var cstr = this.core.proc.userGetCString(ptr);
    this.answer(JSON.parse(cstr));
  }
  _interrupt_pending() {
    return OCamlCAPI.Val_bool(this.intr.pending());
  }
  /**
   * (internal) Initializes the dllcoqrun_stub shared library.
   */
  _preloadStub() {
    this.core.proc.dyld.preload(
      "dllzarith.so",
      `${this.nmDir}/@ocaml-wasm/4.12--zarith/bin/dllzarith.wasm`
    );
    this.core.proc.dyld.preload(
      "dllbase_stubs.so",
      `${this.nmDir}/@ocaml-wasm/4.12--janestreet-base/bin/dllbase_stubs.wasm`
    );
    this.core.proc.dyld.preload(
      "dllbase_internalhash_types_stubs.so",
      `${this.nmDir}/@ocaml-wasm/4.12--janestreet-base/bin/dllbase_internalhash_types_stubs.wasm`
    );
    this.core.proc.dyld.preload(
      "dllcoqrun_stubs.so",
      `${this.binDir}/dllcoqrun_stubs.wasm`
    );
    this.core.proc.dyld.preload(
      "dllbigstringaf_stubs.so",
      `${this.binDir}/dlllib_stubs.wasm`,
      {
        js: {
          bigstringaf_blit_to_bytes: (vsrc, vsrc_off, vdst, vdst_off, vlen) => {
          },
          bigstringaf_blit_to_bigstring: (vsrc, vsrc_off, vdst, vdst_off, vlen) => {
          },
          bigstringaf_blit_from_bytes: (vsrc, vsrc_off, vdst, vdst_off, vlen) => {
          },
          bigstringaf_memcmp_bigstring: (vba1, vba1_off, vba2, vba2_off, vlen) => {
          },
          bigstringaf_memcmp_string: (vba, vba_off, vstr, vstr_off, vlen) => {
          },
          bigstringaf_memchr: (vba, vba_off, vchr, vlen) => {
          }
        }
      }
    );
    this.core.proc.dyld.preload(
      "dlllib_stubs.so",
      `${this.binDir}/dlllib_stubs.wasm`,
      {
        js: {
          wacoq_emit: (s) => this._answer(s),
          interrupt_pending: (_) => this._interrupt_pending(),
          coq_vm_trap: (u) => console.warn("coq vm trap!")
        }
      }
    );
  }
};
var IO = class {
  constructor(fetchMode) {
    this.fetchMode = fetchMode;
  }
  pending = /* @__PURE__ */ new Set();
  async unzip(uri, put, progress) {
    var zip = unzipSync(await this._fetch(uri, progress));
    for (let [filename, data] of Object.entries(zip)) {
      if (data.length > 0)
        put(filename, data);
    }
  }
  async _fetch(uri, progress) {
    if (progress && this.fetchMode === "browser") {
      return this._toU8A(this._fetchWithProgress(uri, progress));
    } else
      return this._fetchSimple(uri);
  }
  async _toU8A(blob) {
    return new Uint8Array(await (await blob).arrayBuffer());
  }
  async _fetchSimple(uri) {
    switch (this.fetchMode) {
      case "browser":
        return new Uint8Array(await (await fetch(uri)).arrayBuffer());
      case "fs":
        const fs2 = require_fs();
        return (0, fs2.readFileSync)(uri);
    }
  }
  // boilerplate
  async _fetchWithProgress(uri, progress) {
    var response = await fetch(uri), total = +response.headers.get("Content-Length") || 1e3, r = response.body.getReader(), chunks = [], downloaded = 0;
    this.pending.add(r);
    try {
      for (; ; ) {
        var { value, done } = await r.read();
        if (done)
          break;
        chunks.push(value);
        downloaded += value.length;
        progress({ total, downloaded });
      }
      return new Blob(chunks);
    } finally {
      this.pending.delete(r);
    }
  }
};
var DEFAULT_FETCH_MODE = import_browser_or_node.isBrowser || import_browser_or_node.isWebWorker ? "browser" : "fs";

// backend/wasm/wacoq_worker.ts
function postMessage3(msg) {
  self.postMessage(msg);
}
async function main() {
  var icoq = new IcoqPod("../backend/wasm", "../../../node_modules");
  postMessage3(["Starting"]);
  icoq.on("message", postMessage3);
  icoq.on("progress", (ev) => postMessage3(["LibProgress", ev]));
  addEventListener("message", (msg) => {
    icoq.command(msg.data);
  });
  await icoq.boot();
  postMessage3(["Boot"]);
  Object.assign(self, { icoq });
}
main();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <http://feross.org>
   * @license  MIT
   *)

assert/build/internal/util/comparisons.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vYmFja2VuZC93YXNtL3NoaW1zL3Byb2Nlc3Mtc2hpbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCAiLi4vYmFja2VuZC93YXNtL3NoaW1zL2J1ZmZlci1zaGltLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLW9yLW5vZGUvbGliL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy93YXNpLWtlcm5lbC9zcmMva2VybmVsL2JpdHMvcXVldWUudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvc3RyZWFtcy50cyIsICIuLi9ub2RlX21vZHVsZXMvaGFzLXN5bWJvbHMvc2hhbXMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2hhcy1zeW1ib2xzL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2ltcGxlbWVudGF0aW9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9oYXMvc3JjL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9nZXQtaW50cmluc2ljL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9jYWxsLWJpbmQvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2NhbGwtYmluZC9jYWxsQm91bmQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2lzLWFyZ3VtZW50cy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvaXMtZ2VuZXJhdG9yLWZ1bmN0aW9uL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9mb3JlYWNoL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hcnJheS1maWx0ZXIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F2YWlsYWJsZS10eXBlZC1hcnJheXMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2VzLWFic3RyYWN0L2hlbHBlcnMvZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pcy10eXBlZC1hcnJheS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvd2hpY2gtdHlwZWQtYXJyYXkvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC90eXBlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hc3NlcnQvYnVpbGQvaW50ZXJuYWwvZXJyb3JzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hc3NlcnQvYnVpbGQvaW50ZXJuYWwvYXNzZXJ0L2Fzc2VydGlvbl9lcnJvci5qcyIsICIuLi9ub2RlX21vZHVsZXMvZXM2LW9iamVjdC1hc3NpZ24vaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL29iamVjdC1rZXlzL2lzQXJndW1lbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9vYmplY3Qta2V5cy9pbXBsZW1lbnRhdGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvb2JqZWN0LWtleXMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2RlZmluZS1wcm9wZXJ0aWVzL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9vYmplY3QtaXMvaW1wbGVtZW50YXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL29iamVjdC1pcy9wb2x5ZmlsbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvb2JqZWN0LWlzL3NoaW0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL29iamVjdC1pcy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvaXMtbmFuL2ltcGxlbWVudGF0aW9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pcy1uYW4vcG9seWZpbGwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2lzLW5hbi9zaGltLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9pcy1uYW4vaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2Fzc2VydC9idWlsZC9pbnRlcm5hbC91dGlsL2NvbXBhcmlzb25zLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hc3NlcnQvYnVpbGQvYXNzZXJ0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wYXRoLWJyb3dzZXJpZnkvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B3YXNtZXIvd2FzaS9saWIvcG9seWZpbGxzL2JpZ2ludC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHdhc21lci93YXNpL2xpYi9jb25zdGFudHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvYml0cy9zdHVicy50cyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9iaXRzL2F1dG9nZW4vZGVsZWdhdGlvbi50cyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9iaXRzL2R5bGQudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvYml0cy9mcy50cyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9iaW5kaW5ncy91dGY4LnRzIiwgIi4uL25vZGVfbW9kdWxlcy93YXNpLWtlcm5lbC9zcmMva2VybmVsL2JpdHMvcHJvYy50cyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2luZnJhL2FyY2gudHMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9jb25zdGFudHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9nZXRCaWdJbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9TdGF0cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWVtZnMvbGliL2ludGVybmFsL2J1ZmZlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWVtZnMvbGliL2ludGVybmFsL2Vycm9ycy5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWVtZnMvbGliL2VuY29kaW5nLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tZW1mcy9saWIvRGlyZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9zZXRJbW1lZGlhdGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9wcm9jZXNzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tZW1mcy9saWIvbm9kZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWVtZnMvbGliL3NldFRpbWVvdXRVbnJlZi5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL3N0cmVhbS1icm93c2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvYnVmZmVyX2xpc3QuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vZXJyb3JzLWJyb3dzZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9zdGF0ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvdXRpbC1kZXByZWNhdGUvYnJvd3Nlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fZHVwbGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9zYWZlLWJ1ZmZlci9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvc3RyaW5nX2RlY29kZXIvbGliL3N0cmluZ19kZWNvZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvZW5kLW9mLXN0cmVhbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL2FzeW5jX2l0ZXJhdG9yLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXMvZnJvbS1icm93c2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcmVhZGFibGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV90cmFuc2Zvcm0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9pbnRlcm5hbC9zdHJlYW1zL3BpcGVsaW5lLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9zdHJlYW0tYnJvd3NlcmlmeS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZmFzdC1leHRlbmQvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL21lbWZzL2xpYi9wcm9taXNlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvZnMtbW9ua2V5L2xpYi9jb3JyZWN0UGF0aC5qcyIsICIuLi9ub2RlX21vZHVsZXMvbWVtZnMvbGliL3ZvbHVtZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvZnMtbW9ua2V5L2xpYi91dGlsL2xpc3RzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9tZW1mcy9saWIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B3YXNtZXIvd2FzaS9saWIvcG9seWZpbGxzL2RhdGF2aWV3LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9Ad2FzbWVyL3dhc2kvbGliL3BvbHlmaWxscy9idWZmZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B3YXNtZXIvd2FzaS9saWIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B3YXNtZXIvd2FzbWZzL2xpYi9ub2RlX3N5bmNfZW1pdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHdhc21lci93YXNtZnMvbGliL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy93YXNpLWtlcm5lbC9zcmMva2VybmVsL2JpdHMvdHR5LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9yYW5kb21ieXRlcy9icm93c2VyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9yYW5kb21maWxsL2Jyb3dzZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B3YXNtZXIvd2FzaS9saWIvcG9seWZpbGxzL2Jyb3dzZXItaHJ0aW1lLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9Ad2FzbWVyL3dhc2kvbGliL3BvbHlmaWxscy9ocnRpbWUuYmlnaW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9Ad2FzbWVyL3dhc2kvbGliL2JpbmRpbmdzL2Jyb3dzZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0B3YXNtZXIvd2FzaS9saWIvYmluZGluZ3Mvbm9kZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9leGVjLnRzIiwgIi4uL2JhY2tlbmQvd2FzbS93YWNvcV93b3JrZXIudHMiLCAiLi4vYmFja2VuZC93YXNtL2NvcmUudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2ZmbGF0ZS9lc20vYnJvd3Nlci5qcyIsICIuLi9iYWNrZW5kL3dhc20vb2NhbWxfZXhlYy50cyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9pbmRleC50cyIsICIuLi9ub2RlX21vZHVsZXMvd2FzaS1rZXJuZWwvc3JjL2tlcm5lbC9wcm9jZXNzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy93YXNpLWtlcm5lbC9zcmMva2VybmVsL2JpbmRpbmdzL3dvcmtlcnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3dhc2kta2VybmVsL3NyYy9rZXJuZWwvc2VydmljZXMvc2hhcmVkLWZzLnRzIiwgIi4uL2JhY2tlbmQvd2FzbS9pbnRlcnJ1cHQudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IGJyb3dzZXIgPSB0cnVlXG5jb25zdCBlbnYgPSB7fVxuY29uc3QgY3dkID0gKCkgPT4gXCIvXCI7XG5cbmV4cG9ydCB7IGJyb3dzZXIgYXMgJ3Byb2Nlc3MuYnJvd3NlcicsIGVudiBhcyAncHJvY2Vzcy5lbnYnLCBjd2QgYXMgJ3Byb2Nlc3MuY3dkJyB9XG4iLCAiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aCkpKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCAiLyohIGllZWU3NTQuIEJTRC0zLUNsYXVzZSBMaWNlbnNlLiBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwczovL2Zlcm9zcy5vcmcvb3BlbnNvdXJjZT4gKi9cbmV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsICJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsICIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIiwgImltcG9ydCBidWZmZXIsIHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcbmV4cG9ydCB7IGJ1ZmZlciBhcyAnYnVmZmVyJywgQnVmZmVyIGFzICdCdWZmZXInIH1cbiIsICIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG5cbnZhciBpc05vZGUgPSB0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLnZlcnNpb25zICE9IG51bGwgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlICE9IG51bGw7XG5cbnZhciBpc1dlYldvcmtlciA9ICh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHNlbGYpKSA9PT0gXCJvYmplY3RcIiAmJiBzZWxmLmNvbnN0cnVjdG9yICYmIHNlbGYuY29uc3RydWN0b3IubmFtZSA9PT0gXCJEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZVwiO1xuXG4vKipcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pzZG9tL2pzZG9tL3JlbGVhc2VzL3RhZy8xMi4wLjBcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2pzZG9tL2pzZG9tL2lzc3Vlcy8xNTM3XG4gKi9cbnZhciBpc0pzRG9tID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubmFtZSA9PT0gXCJub2RlanNcIiB8fCB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIChuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTm9kZS5qc1wiKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwianNkb21cIikpO1xuXG52YXIgaXNEZW5vID0gdHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIERlbm8udmVyc2lvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgRGVuby52ZXJzaW9uLmRlbm8gIT09IFwidW5kZWZpbmVkXCI7XG5cbmV4cG9ydHMuaXNCcm93c2VyID0gaXNCcm93c2VyO1xuZXhwb3J0cy5pc1dlYldvcmtlciA9IGlzV2ViV29ya2VyO1xuZXhwb3J0cy5pc05vZGUgPSBpc05vZGU7XG5leHBvcnRzLmlzSnNEb20gPSBpc0pzRG9tO1xuZXhwb3J0cy5pc0Rlbm8gPSBpc0Rlbm87IiwgIlxudHlwZSBJbnRBcnJheSA9IEludDhBcnJheSB8IFVpbnQ4QXJyYXkgfCBJbnQxNkFycmF5IHwgVWludDE2QXJyYXkgfCBJbnQzMkFycmF5IHwgVWludDMyQXJyYXk7XG5cblxuY2xhc3MgU2hhcmVkUXVldWU8QSBleHRlbmRzIEludEFycmF5PiB7XG5cbiAgICBfZGF0YTogQTtcbiAgICBfd2FpdDogSW50MzJBcnJheTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBTaGFyZWRRdWV1ZVByb3BzPEE+KSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSBwcm9wcy5kYXRhO1xuICAgICAgICB0aGlzLl93YWl0ID0gcHJvcHMud2FpdCB8fCBuZXcgSW50MzJBcnJheShuZXcgTWF5YmVTaGFyZWRBcnJheUJ1ZmZlcig0ICogMikpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tPEEgZXh0ZW5kcyBJbnRBcnJheT4ocHJvcHM6IFNoYXJlZFF1ZXVlUHJvcHM8QT4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFyZWRRdWV1ZTxBPihwcm9wcyk7XG4gICAgfVxuXG4gICAgdG8oKTogU2hhcmVkUXVldWVQcm9wczxBPiB7XG4gICAgICAgIHJldHVybiB7ZGF0YTogdGhpcy5fZGF0YSwgd2FpdDogdGhpcy5fd2FpdH07XG4gICAgfVxuXG4gICAgZW5xdWV1ZSh2OiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGhlYWQgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMCksIHRhaWwgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMSk7XG5cbiAgICAgICAgaGVhZCA/IGhlYWQtLSA6IChoZWFkID0gdGhpcy5fZGF0YS5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChoZWFkICE9IHRhaWwpIHtcbiAgICAgICAgICAgIEF0b21pY3Muc3RvcmUodGhpcy5fZGF0YSwgdGFpbCsrLCB2KTtcbiAgICAgICAgICAgIEF0b21pY3Muc3RvcmUodGhpcy5fd2FpdCwgMSwgdGFpbCk7XG4gICAgICAgICAgICBBdG9taWNzLm5vdGlmeSh0aGlzLl93YWl0LCAxLCAxKTtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgZW5xdWV1ZUFsbCh2czogSW50QXJyYXkpIHtcbiAgICAgICAgbGV0IGhlYWQgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMCksIHRhaWwgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMSk7XG5cbiAgICAgICAgaGVhZCA/IGhlYWQtLSA6IChoZWFkID0gdGhpcy5fZGF0YS5sZW5ndGgpO1xuXG4gICAgICAgIHZhciBpOiBudW1iZXI7XG4gICAgICAgIGZvciAoaSA9IDA7IGhlYWQgIT0gdGFpbCAmJiBpIDwgdnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIEF0b21pY3Muc3RvcmUodGhpcy5fZGF0YSwgdGFpbCsrLCB2c1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIEF0b21pY3Muc3RvcmUodGhpcy5fd2FpdCwgMSwgdGFpbCk7XG4gICAgICAgICAgICBBdG9taWNzLm5vdGlmeSh0aGlzLl93YWl0LCAxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG5cbiAgICB3YWl0KCkge1xuICAgICAgICBsZXQgaGVhZCA9IEF0b21pY3MubG9hZCh0aGlzLl93YWl0LCAwKSwgdGFpbCA9IEF0b21pY3MubG9hZCh0aGlzLl93YWl0LCAxKTtcblxuICAgICAgICB3aGlsZSAoaGVhZCA9PSB0YWlsKSB7XG4gICAgICAgICAgICBBdG9taWNzLndhaXQodGhpcy5fd2FpdCwgMSwgdGFpbCk7XG4gICAgICAgICAgICB0YWlsID0gQXRvbWljcy5sb2FkKHRoaXMuX3dhaXQsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVxdWV1ZSgpIHtcbiAgICAgICAgdGhpcy53YWl0KCk7XG5cbiAgICAgICAgbGV0IGhlYWQgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMCksXG4gICAgICAgICAgICB0b3AgPSBBdG9taWNzLmxvYWQodGhpcy5fZGF0YSwgaGVhZCsrKVxuXG4gICAgICAgIEF0b21pY3Muc3RvcmUodGhpcy5fd2FpdCwgMCwgaGVhZCk7XG4gICAgICAgIEF0b21pY3Mubm90aWZ5KHRoaXMuX3dhaXQsIDAsIDEpO1xuICAgICAgICByZXR1cm4gdG9wO1xuICAgIH1cblxuICAgIGRlcXVldWVTb21lKGNvdW50OiBudW1iZXIsIG91dDogQSwgb2Zmc2V0OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBpZiAoY291bnQgPT0gMCkgcmV0dXJuIDA7XG5cbiAgICAgICAgdGhpcy53YWl0KCk7XG5cbiAgICAgICAgbGV0IGhlYWQgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMCksIHRhaWwgPSBBdG9taWNzLmxvYWQodGhpcy5fd2FpdCwgMSk7XG5cbiAgICAgICAgdmFyIGk6IG51bWJlcjtcbiAgICAgICAgZm9yIChpID0gMDsgaGVhZCAhPSB0YWlsICYmIG9mZnNldCA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtvZmZzZXQrK10gPSBBdG9taWNzLmxvYWQodGhpcy5fZGF0YSwgaGVhZCsrKTtcbiAgICAgICAgICAgIGlmICh0YWlsID49IHRoaXMuX2RhdGEubGVuZ3RoKSB0YWlsID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIEF0b21pY3Muc3RvcmUodGhpcy5fd2FpdCwgMCwgaGVhZCk7XG4gICAgICAgIEF0b21pY3Mubm90aWZ5KHRoaXMuX3dhaXQsIDAsIDEpO1xuICAgICAgICByZXR1cm4gaTsgICAgICAgIFxuICAgIH1cblxuICAgIGlzRW1wdHkoKSB7IFxuICAgICAgICBsZXQgaGVhZCA9IEF0b21pY3MubG9hZCh0aGlzLl93YWl0LCAwKSwgdGFpbCA9IEF0b21pY3MubG9hZCh0aGlzLl93YWl0LCAxKTtcbiAgICAgICAgcmV0dXJuIGhlYWQgPT0gdGFpbDtcbiAgICB9XG59XG5cbnR5cGUgU2hhcmVkUXVldWVQcm9wczxBPiA9IHsgZGF0YTogQSwgd2FpdD86IEludDMyQXJyYXkgfTtcblxuY29uc3QgTWF5YmVTaGFyZWRBcnJheUJ1ZmZlciA9IHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPSAndW5kZWZpbmVkJ1xuICAgID8gU2hhcmVkQXJyYXlCdWZmZXIgOiBBcnJheUJ1ZmZlcjtcblxuXG5cbmV4cG9ydCB7IFNoYXJlZFF1ZXVlLCBTaGFyZWRRdWV1ZVByb3BzIH0iLCAiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IFNoYXJlZFF1ZXVlLCBTaGFyZWRRdWV1ZVByb3BzIH0gZnJvbSAnLi9iaXRzL3F1ZXVlJztcblxuXG5cbmNsYXNzIFNpbXBsZXhTdHJlYW0gZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXG4gICAgcXVldWU6IFNoYXJlZFF1ZXVlPFVpbnQ4QXJyYXk+XG4gICAgbWV0YTogSW50MzJBcnJheVxuXG4gICAgcG9zOiBudW1iZXJcbiAgICBibG9ja2luZzogYm9vbGVhblxuXG4gICAgY29uc3RydWN0b3IoX2Zyb206IFNpbXBsZXhTdHJlYW1Qcm9wcyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucXVldWUgPSBTaGFyZWRRdWV1ZS5mcm9tKF9mcm9tLnF1ZXVlIHx8XG4gICAgICAgICAgICB7ZGF0YTogbmV3IFVpbnQ4QXJyYXkobmV3IE1heWJlU2hhcmVkQXJyYXlCdWZmZXIoMTAyNCkpfSk7XG4gICAgICAgIHRoaXMubWV0YSA9IF9mcm9tLm1ldGEgfHwgbmV3IEludDMyQXJyYXkobmV3IE1heWJlU2hhcmVkQXJyYXlCdWZmZXIoNCkpO1xuICAgICAgICBpZiAoIV9mcm9tLm1ldGEpIHRoaXMubGVuZ3RoID0gLTE7XG4gICAgICAgIC8qIGxvY2FsIHN0YXRlICovXG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy5ibG9ja2luZyA9IHRydWU7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb20ocHJvcHM6IFNpbXBsZXhTdHJlYW1Qcm9wcykgeyByZXR1cm4gbmV3IFNpbXBsZXhTdHJlYW0ocHJvcHMpOyB9XG5cbiAgICB0bygpOiBTaW1wbGV4U3RyZWFtUHJvcHMgeyByZXR1cm4ge3F1ZXVlOiB0aGlzLnF1ZXVlLnRvKCksIG1ldGE6IHRoaXMubWV0YX07IH1cblxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiBBdG9taWNzLmxvYWQodGhpcy5tZXRhLCAwKTtcbiAgICB9XG5cbiAgICBzZXQgbGVuZ3RoKGw6IG51bWJlcikge1xuICAgICAgICBBdG9taWNzLnN0b3JlKHRoaXMubWV0YSwgMCwgbCk7XG4gICAgfVxuXG4gICAgcmVhZChyZWFkQnVmZmVyOiBVaW50OEFycmF5LCBvZmZzZXQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIsIHBvc2l0aW9uKSB7XG4gICAgICAgIFxuICAgICAgICBpZiAobGVuZ3RoID4gcmVhZEJ1ZmZlci5sZW5ndGgpIGxlbmd0aCA9IHJlYWRCdWZmZXIubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgaWYgKG9mZnNldCA+IDApIHJldHVybiAwO1xuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuYmxvY2tpbmcpIHRocm93IHtlcnJubzogMzUsIGNvZGU6ICdFQUdBSU4nfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA+PSAwICYmIHRoaXMucG9zID49IHRoaXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgdmFyIHJlYWRjID0gdGhpcy5xdWV1ZS5kZXF1ZXVlU29tZShsZW5ndGgsIHJlYWRCdWZmZXIsIG9mZnNldCk7XG4gICAgICAgIGlmIChyZWFkYyA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlbmd0aCA+PSAwKVxuICAgICAgICAgICAgICAgIHJlYWRjID0gTWF0aC5taW4odGhpcy5sZW5ndGggLSB0aGlzLnBvcywgcmVhZGMpO1xuICAgICAgICAgICAgdGhpcy5wb3MgKz0gcmVhZGM7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2RhdGEnLCByZWFkQnVmZmVyLnNsaWNlKG9mZnNldCwgcmVhZGMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVhZGM7XG4gICAgfVxuXG4gICAgd3JpdGUod3JpdGVCdWZmZXI6IFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgbGV0IHdyaXRlYyA9IHRoaXMucXVldWUuZW5xdWV1ZUFsbCh3cml0ZUJ1ZmZlcik7XG4gICAgICAgIHRoaXMucG9zICs9IHdyaXRlYztcbiAgICAgICAgcmV0dXJuIHdyaXRlYztcbiAgICB9XG5cbiAgICBlbmQoKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5wb3M7XG4gICAgICAgIHRoaXMucXVldWUuZW5xdWV1ZSgwKTsgIC8vIGdvdCB0byBlbnF1ZXVlIHNvbWV0aGluZyB0byBub3RpZnlcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAtMTtcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLmJsb2NraW5nID0gdHJ1ZTtcbiAgICB9XG59XG5cblxudHlwZSBTaW1wbGV4U3RyZWFtUHJvcHMgPSB7XG4gICAgcXVldWU/IDogU2hhcmVkUXVldWVQcm9wczxVaW50OEFycmF5PjtcbiAgICBtZXRhPyA6IEludDMyQXJyYXk7XG59O1xuXG5cbmNsYXNzIFRyYW5zZm9ybVN0cmVhbUR1cGxleDxJLCBPPiBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG5cbiAgICB0czogVHJhbnNmb3JtU3RyZWFtPEksIE8+XG4gICAgd3JpdGVyOiBXcml0YWJsZVN0cmVhbURlZmF1bHRXcml0ZXI8ST5cbiAgICByZWFkZXI6IFJlYWRhYmxlU3RyZWFtUmVhZGVyPE8+XG5cbiAgICBjb25zdHJ1Y3Rvcih0czogVHJhbnNmb3JtU3RyZWFtPEksIE8+KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudHMgPSB0cztcbiAgICAgICAgdGhpcy53cml0ZXIgPSB0aGlzLnRzLndyaXRhYmxlLmdldFdyaXRlcigpO1xuICAgICAgICB0aGlzLnJlYWRlciA9IHRoaXMudHMucmVhZGFibGUuZ2V0UmVhZGVyKCk7XG5cbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCB0aGlzLnJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB0aGlzLmVtaXQoJ2RhdGEnLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHsgdGhpcy5lbWl0KCdlbmQnKTsgYnJlYWs7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICB3cml0ZShkYXRhOiBJKSB7XG4gICAgICAgIHRoaXMud3JpdGVyLndyaXRlKGRhdGEpO1xuICAgIH1cblxuICAgIGVuZCgpIHtcbiAgICAgICAgdGhpcy53cml0ZXIuY2xvc2UoKTtcbiAgICB9XG5cbn1cblxuXG5jb25zdCBNYXliZVNoYXJlZEFycmF5QnVmZmVyID0gdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyICE9ICd1bmRlZmluZWQnXG4gICAgPyBTaGFyZWRBcnJheUJ1ZmZlciA6IEFycmF5QnVmZmVyO1xuXG5cblxuZXhwb3J0IHtTaW1wbGV4U3RyZWFtLCBUcmFuc2Zvcm1TdHJlYW1EdXBsZXh9XG5cbiIsICIndXNlIHN0cmljdCc7XG5cbi8qIGVzbGludCBjb21wbGV4aXR5OiBbMiwgMThdLCBtYXgtc3RhdGVtZW50czogWzIsIDMzXSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBoYXNTeW1ib2xzKCkge1xuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnKSB7IHJldHVybiB0cnVlOyB9XG5cblx0dmFyIG9iaiA9IHt9O1xuXHR2YXIgc3ltID0gU3ltYm9sKCd0ZXN0Jyk7XG5cdHZhciBzeW1PYmogPSBPYmplY3Qoc3ltKTtcblx0aWYgKHR5cGVvZiBzeW0gPT09ICdzdHJpbmcnKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltT2JqKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gdGVtcCBkaXNhYmxlZCBwZXIgaHR0cHM6Ly9naXRodWIuY29tL2xqaGFyYi9vYmplY3QuYXNzaWduL2lzc3Vlcy8xN1xuXHQvLyBpZiAoc3ltIGluc3RhbmNlb2YgU3ltYm9sKSB7IHJldHVybiBmYWxzZTsgfVxuXHQvLyB0ZW1wIGRpc2FibGVkIHBlciBodHRwczovL2dpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi9nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMvaXNzdWVzLzRcblx0Ly8gaWYgKCEoc3ltT2JqIGluc3RhbmNlb2YgU3ltYm9sKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHQvLyBpZiAodHlwZW9mIFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdC8vIGlmIChTdHJpbmcoc3ltKSAhPT0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0dmFyIHN5bVZhbCA9IDQyO1xuXHRvYmpbc3ltXSA9IHN5bVZhbDtcblx0Zm9yIChzeW0gaW4gb2JqKSB7IHJldHVybiBmYWxzZTsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4LCBuby11bnJlYWNoYWJsZS1sb29wXG5cdGlmICh0eXBlb2YgT2JqZWN0LmtleXMgPT09ICdmdW5jdGlvbicgJiYgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggIT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyA9PT0gJ2Z1bmN0aW9uJyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCAhPT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHR2YXIgc3ltcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqKTtcblx0aWYgKHN5bXMubGVuZ3RoICE9PSAxIHx8IHN5bXNbMF0gIT09IHN5bSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgc3ltKTtcblx0XHRpZiAoZGVzY3JpcHRvci52YWx1ZSAhPT0gc3ltVmFsIHx8IGRlc2NyaXB0b3IuZW51bWVyYWJsZSAhPT0gdHJ1ZSkgeyByZXR1cm4gZmFsc2U7IH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBvcmlnU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sO1xudmFyIGhhc1N5bWJvbFNoYW0gPSByZXF1aXJlKCcuL3NoYW1zJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaGFzTmF0aXZlU3ltYm9scygpIHtcblx0aWYgKHR5cGVvZiBvcmlnU3ltYm9sICE9PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBvcmlnU3ltYm9sKCdmb28nKSAhPT0gJ3N5bWJvbCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2YgU3ltYm9sKCdiYXInKSAhPT0gJ3N5bWJvbCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0cmV0dXJuIGhhc1N5bWJvbFNoYW0oKTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiBlc2xpbnQgbm8taW52YWxpZC10aGlzOiAxICovXG5cbnZhciBFUlJPUl9NRVNTQUdFID0gJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgJztcbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgZnVuY1R5cGUgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQodGhhdCkge1xuICAgIHZhciB0YXJnZXQgPSB0aGlzO1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ICE9PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmNhbGwodGFyZ2V0KSAhPT0gZnVuY1R5cGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJPUl9NRVNTQUdFICsgdGFyZ2V0KTtcbiAgICB9XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICB2YXIgYm91bmQ7XG4gICAgdmFyIGJpbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBib3VuZExlbmd0aCA9IE1hdGgubWF4KDAsIHRhcmdldC5sZW5ndGggLSBhcmdzLmxlbmd0aCk7XG4gICAgdmFyIGJvdW5kQXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRMZW5ndGg7IGkrKykge1xuICAgICAgICBib3VuZEFyZ3MucHVzaCgnJCcgKyBpKTtcbiAgICB9XG5cbiAgICBib3VuZCA9IEZ1bmN0aW9uKCdiaW5kZXInLCAncmV0dXJuIGZ1bmN0aW9uICgnICsgYm91bmRBcmdzLmpvaW4oJywnKSArICcpeyByZXR1cm4gYmluZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsgfScpKGJpbmRlcik7XG5cbiAgICBpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xuICAgICAgICB2YXIgRW1wdHkgPSBmdW5jdGlvbiBFbXB0eSgpIHt9O1xuICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBib3VuZC5wcm90b3R5cGUgPSBuZXcgRW1wdHkoKTtcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gYm91bmQ7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGltcGxlbWVudGF0aW9uO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHVuZGVmaW5lZDtcblxudmFyICRTeW50YXhFcnJvciA9IFN5bnRheEVycm9yO1xudmFyICRGdW5jdGlvbiA9IEZ1bmN0aW9uO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxudmFyIGdldEV2YWxsZWRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChleHByZXNzaW9uU3ludGF4KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuICRGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7IHJldHVybiAoJyArIGV4cHJlc3Npb25TeW50YXggKyAnKS5jb25zdHJ1Y3RvcjsnKSgpO1xuXHR9IGNhdGNoIChlKSB7fVxufTtcblxudmFyICRnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbmlmICgkZ09QRCkge1xuXHR0cnkge1xuXHRcdCRnT1BEKHt9LCAnJyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQkZ09QRCA9IG51bGw7IC8vIHRoaXMgaXMgSUUgOCwgd2hpY2ggaGFzIGEgYnJva2VuIGdPUERcblx0fVxufVxuXG52YXIgdGhyb3dUeXBlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdHRocm93IG5ldyAkVHlwZUVycm9yKCk7XG59O1xudmFyIFRocm93VHlwZUVycm9yID0gJGdPUERcblx0PyAoZnVuY3Rpb24gKCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zLCBuby1jYWxsZXIsIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuXHRcdFx0YXJndW1lbnRzLmNhbGxlZTsgLy8gSUUgOCBkb2VzIG5vdCB0aHJvdyBoZXJlXG5cdFx0XHRyZXR1cm4gdGhyb3dUeXBlRXJyb3I7XG5cdFx0fSBjYXRjaCAoY2FsbGVlVGhyb3dzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBJRSA4IHRocm93cyBvbiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFyZ3VtZW50cywgJycpXG5cdFx0XHRcdHJldHVybiAkZ09QRChhcmd1bWVudHMsICdjYWxsZWUnKS5nZXQ7XG5cdFx0XHR9IGNhdGNoIChnT1BEdGhyb3dzKSB7XG5cdFx0XHRcdHJldHVybiB0aHJvd1R5cGVFcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH0oKSlcblx0OiB0aHJvd1R5cGVFcnJvcjtcblxudmFyIGhhc1N5bWJvbHMgPSByZXF1aXJlKCdoYXMtc3ltYm9scycpKCk7XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5fX3Byb3RvX187IH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG9cblxudmFyIG5lZWRzRXZhbCA9IHt9O1xuXG52YXIgVHlwZWRBcnJheSA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IGdldFByb3RvKFVpbnQ4QXJyYXkpO1xuXG52YXIgSU5UUklOU0lDUyA9IHtcblx0JyVBZ2dyZWdhdGVFcnJvciUnOiB0eXBlb2YgQWdncmVnYXRlRXJyb3IgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQWdncmVnYXRlRXJyb3IsXG5cdCclQXJyYXklJzogQXJyYXksXG5cdCclQXJyYXlCdWZmZXIlJzogdHlwZW9mIEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEFycmF5QnVmZmVyLFxuXHQnJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlJzogaGFzU3ltYm9scyA/IGdldFByb3RvKFtdW1N5bWJvbC5pdGVyYXRvcl0oKSkgOiB1bmRlZmluZWQsXG5cdCclQXN5bmNGcm9tU3luY0l0ZXJhdG9yUHJvdG90eXBlJSc6IHVuZGVmaW5lZCxcblx0JyVBc3luY0Z1bmN0aW9uJSc6IG5lZWRzRXZhbCxcblx0JyVBc3luY0dlbmVyYXRvciUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnOiBuZWVkc0V2YWwsXG5cdCclQXRvbWljcyUnOiB0eXBlb2YgQXRvbWljcyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBdG9taWNzLFxuXHQnJUJpZ0ludCUnOiB0eXBlb2YgQmlnSW50ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEJpZ0ludCxcblx0JyVCb29sZWFuJSc6IEJvb2xlYW4sXG5cdCclRGF0YVZpZXclJzogdHlwZW9mIERhdGFWaWV3ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IERhdGFWaWV3LFxuXHQnJURhdGUlJzogRGF0ZSxcblx0JyVkZWNvZGVVUkklJzogZGVjb2RlVVJJLFxuXHQnJWRlY29kZVVSSUNvbXBvbmVudCUnOiBkZWNvZGVVUklDb21wb25lbnQsXG5cdCclZW5jb2RlVVJJJSc6IGVuY29kZVVSSSxcblx0JyVlbmNvZGVVUklDb21wb25lbnQlJzogZW5jb2RlVVJJQ29tcG9uZW50LFxuXHQnJUVycm9yJSc6IEVycm9yLFxuXHQnJWV2YWwlJzogZXZhbCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsXG5cdCclRXZhbEVycm9yJSc6IEV2YWxFcnJvcixcblx0JyVGbG9hdDMyQXJyYXklJzogdHlwZW9mIEZsb2F0MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDMyQXJyYXksXG5cdCclRmxvYXQ2NEFycmF5JSc6IHR5cGVvZiBGbG9hdDY0QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRmxvYXQ2NEFycmF5LFxuXHQnJUZpbmFsaXphdGlvblJlZ2lzdHJ5JSc6IHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGaW5hbGl6YXRpb25SZWdpc3RyeSxcblx0JyVGdW5jdGlvbiUnOiAkRnVuY3Rpb24sXG5cdCclR2VuZXJhdG9yRnVuY3Rpb24lJzogbmVlZHNFdmFsLFxuXHQnJUludDhBcnJheSUnOiB0eXBlb2YgSW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDhBcnJheSxcblx0JyVJbnQxNkFycmF5JSc6IHR5cGVvZiBJbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEludDE2QXJyYXksXG5cdCclSW50MzJBcnJheSUnOiB0eXBlb2YgSW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQzMkFycmF5LFxuXHQnJWlzRmluaXRlJSc6IGlzRmluaXRlLFxuXHQnJWlzTmFOJSc6IGlzTmFOLFxuXHQnJUl0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgPyBnZXRQcm90byhnZXRQcm90byhbXVtTeW1ib2wuaXRlcmF0b3JdKCkpKSA6IHVuZGVmaW5lZCxcblx0JyVKU09OJSc6IHR5cGVvZiBKU09OID09PSAnb2JqZWN0JyA/IEpTT04gOiB1bmRlZmluZWQsXG5cdCclTWFwJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogTWFwLFxuXHQnJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8obmV3IE1hcCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksXG5cdCclTWF0aCUnOiBNYXRoLFxuXHQnJU51bWJlciUnOiBOdW1iZXIsXG5cdCclT2JqZWN0JSc6IE9iamVjdCxcblx0JyVwYXJzZUZsb2F0JSc6IHBhcnNlRmxvYXQsXG5cdCclcGFyc2VJbnQlJzogcGFyc2VJbnQsXG5cdCclUHJvbWlzZSUnOiB0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBQcm9taXNlLFxuXHQnJVByb3h5JSc6IHR5cGVvZiBQcm94eSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBQcm94eSxcblx0JyVSYW5nZUVycm9yJSc6IFJhbmdlRXJyb3IsXG5cdCclUmVmZXJlbmNlRXJyb3IlJzogUmVmZXJlbmNlRXJyb3IsXG5cdCclUmVmbGVjdCUnOiB0eXBlb2YgUmVmbGVjdCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBSZWZsZWN0LFxuXHQnJVJlZ0V4cCUnOiBSZWdFeHAsXG5cdCclU2V0JSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2V0LFxuXHQnJVNldEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8obmV3IFNldCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksXG5cdCclU2hhcmVkQXJyYXlCdWZmZXIlJzogdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFNoYXJlZEFycmF5QnVmZmVyLFxuXHQnJVN0cmluZyUnOiBTdHJpbmcsXG5cdCclU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlJzogaGFzU3ltYm9scyA/IGdldFByb3RvKCcnW1N5bWJvbC5pdGVyYXRvcl0oKSkgOiB1bmRlZmluZWQsXG5cdCclU3ltYm9sJSc6IGhhc1N5bWJvbHMgPyBTeW1ib2wgOiB1bmRlZmluZWQsXG5cdCclU3ludGF4RXJyb3IlJzogJFN5bnRheEVycm9yLFxuXHQnJVRocm93VHlwZUVycm9yJSc6IFRocm93VHlwZUVycm9yLFxuXHQnJVR5cGVkQXJyYXklJzogVHlwZWRBcnJheSxcblx0JyVUeXBlRXJyb3IlJzogJFR5cGVFcnJvcixcblx0JyVVaW50OEFycmF5JSc6IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQ4QXJyYXksXG5cdCclVWludDhDbGFtcGVkQXJyYXklJzogdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQ4Q2xhbXBlZEFycmF5LFxuXHQnJVVpbnQxNkFycmF5JSc6IHR5cGVvZiBVaW50MTZBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50MTZBcnJheSxcblx0JyVVaW50MzJBcnJheSUnOiB0eXBlb2YgVWludDMyQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDMyQXJyYXksXG5cdCclVVJJRXJyb3IlJzogVVJJRXJyb3IsXG5cdCclV2Vha01hcCUnOiB0eXBlb2YgV2Vha01hcCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBXZWFrTWFwLFxuXHQnJVdlYWtSZWYlJzogdHlwZW9mIFdlYWtSZWYgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha1JlZixcblx0JyVXZWFrU2V0JSc6IHR5cGVvZiBXZWFrU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtTZXRcbn07XG5cbnZhciBkb0V2YWwgPSBmdW5jdGlvbiBkb0V2YWwobmFtZSkge1xuXHR2YXIgdmFsdWU7XG5cdGlmIChuYW1lID09PSAnJUFzeW5jRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiAoKSB7fScpO1xuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lJykge1xuXHRcdHZhbHVlID0gZ2V0RXZhbGxlZENvbnN0cnVjdG9yKCdhc3luYyBmdW5jdGlvbiogKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jR2VuZXJhdG9yJScpIHtcblx0XHR2YXIgZm4gPSBkb0V2YWwoJyVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJScpO1xuXHRcdGlmIChmbikge1xuXHRcdFx0dmFsdWUgPSBmbi5wcm90b3R5cGU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICclQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnKSB7XG5cdFx0dmFyIGdlbiA9IGRvRXZhbCgnJUFzeW5jR2VuZXJhdG9yJScpO1xuXHRcdGlmIChnZW4pIHtcblx0XHRcdHZhbHVlID0gZ2V0UHJvdG8oZ2VuLnByb3RvdHlwZSk7XG5cdFx0fVxuXHR9XG5cblx0SU5UUklOU0lDU1tuYW1lXSA9IHZhbHVlO1xuXG5cdHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBMRUdBQ1lfQUxJQVNFUyA9IHtcblx0JyVBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiBbJ0FycmF5QnVmZmVyJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFycmF5UHJvdG90eXBlJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclQXJyYXlQcm90b19lbnRyaWVzJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ2VudHJpZXMnXSxcblx0JyVBcnJheVByb3RvX2ZvckVhY2glJzogWydBcnJheScsICdwcm90b3R5cGUnLCAnZm9yRWFjaCddLFxuXHQnJUFycmF5UHJvdG9fa2V5cyUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICdrZXlzJ10sXG5cdCclQXJyYXlQcm90b192YWx1ZXMlJzogWydBcnJheScsICdwcm90b3R5cGUnLCAndmFsdWVzJ10sXG5cdCclQXN5bmNGdW5jdGlvblByb3RvdHlwZSUnOiBbJ0FzeW5jRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclQXN5bmNHZW5lcmF0b3IlJzogWydBc3luY0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFzeW5jR2VuZXJhdG9yUHJvdG90eXBlJSc6IFsnQXN5bmNHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnLCAncHJvdG90eXBlJ10sXG5cdCclQm9vbGVhblByb3RvdHlwZSUnOiBbJ0Jvb2xlYW4nLCAncHJvdG90eXBlJ10sXG5cdCclRGF0YVZpZXdQcm90b3R5cGUlJzogWydEYXRhVmlldycsICdwcm90b3R5cGUnXSxcblx0JyVEYXRlUHJvdG90eXBlJSc6IFsnRGF0ZScsICdwcm90b3R5cGUnXSxcblx0JyVFcnJvclByb3RvdHlwZSUnOiBbJ0Vycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJUV2YWxFcnJvclByb3RvdHlwZSUnOiBbJ0V2YWxFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVGbG9hdDMyQXJyYXlQcm90b3R5cGUlJzogWydGbG9hdDMyQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclRmxvYXQ2NEFycmF5UHJvdG90eXBlJSc6IFsnRmxvYXQ2NEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUZ1bmN0aW9uUHJvdG90eXBlJSc6IFsnRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclR2VuZXJhdG9yJSc6IFsnR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJ10sXG5cdCclR2VuZXJhdG9yUHJvdG90eXBlJSc6IFsnR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJywgJ3Byb3RvdHlwZSddLFxuXHQnJUludDhBcnJheVByb3RvdHlwZSUnOiBbJ0ludDhBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQxNkFycmF5UHJvdG90eXBlJSc6IFsnSW50MTZBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQzMkFycmF5UHJvdG90eXBlJSc6IFsnSW50MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVKU09OUGFyc2UlJzogWydKU09OJywgJ3BhcnNlJ10sXG5cdCclSlNPTlN0cmluZ2lmeSUnOiBbJ0pTT04nLCAnc3RyaW5naWZ5J10sXG5cdCclTWFwUHJvdG90eXBlJSc6IFsnTWFwJywgJ3Byb3RvdHlwZSddLFxuXHQnJU51bWJlclByb3RvdHlwZSUnOiBbJ051bWJlcicsICdwcm90b3R5cGUnXSxcblx0JyVPYmplY3RQcm90b3R5cGUlJzogWydPYmplY3QnLCAncHJvdG90eXBlJ10sXG5cdCclT2JqUHJvdG9fdG9TdHJpbmclJzogWydPYmplY3QnLCAncHJvdG90eXBlJywgJ3RvU3RyaW5nJ10sXG5cdCclT2JqUHJvdG9fdmFsdWVPZiUnOiBbJ09iamVjdCcsICdwcm90b3R5cGUnLCAndmFsdWVPZiddLFxuXHQnJVByb21pc2VQcm90b3R5cGUlJzogWydQcm9taXNlJywgJ3Byb3RvdHlwZSddLFxuXHQnJVByb21pc2VQcm90b190aGVuJSc6IFsnUHJvbWlzZScsICdwcm90b3R5cGUnLCAndGhlbiddLFxuXHQnJVByb21pc2VfYWxsJSc6IFsnUHJvbWlzZScsICdhbGwnXSxcblx0JyVQcm9taXNlX3JlamVjdCUnOiBbJ1Byb21pc2UnLCAncmVqZWN0J10sXG5cdCclUHJvbWlzZV9yZXNvbHZlJSc6IFsnUHJvbWlzZScsICdyZXNvbHZlJ10sXG5cdCclUmFuZ2VFcnJvclByb3RvdHlwZSUnOiBbJ1JhbmdlRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUlJzogWydSZWZlcmVuY2VFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVSZWdFeHBQcm90b3R5cGUlJzogWydSZWdFeHAnLCAncHJvdG90eXBlJ10sXG5cdCclU2V0UHJvdG90eXBlJSc6IFsnU2V0JywgJ3Byb3RvdHlwZSddLFxuXHQnJVNoYXJlZEFycmF5QnVmZmVyUHJvdG90eXBlJSc6IFsnU2hhcmVkQXJyYXlCdWZmZXInLCAncHJvdG90eXBlJ10sXG5cdCclU3RyaW5nUHJvdG90eXBlJSc6IFsnU3RyaW5nJywgJ3Byb3RvdHlwZSddLFxuXHQnJVN5bWJvbFByb3RvdHlwZSUnOiBbJ1N5bWJvbCcsICdwcm90b3R5cGUnXSxcblx0JyVTeW50YXhFcnJvclByb3RvdHlwZSUnOiBbJ1N5bnRheEVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVR5cGVkQXJyYXlQcm90b3R5cGUlJzogWydUeXBlZEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVR5cGVFcnJvclByb3RvdHlwZSUnOiBbJ1R5cGVFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVVaW50OEFycmF5UHJvdG90eXBlJSc6IFsnVWludDhBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVaW50OENsYW1wZWRBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQxNkFycmF5UHJvdG90eXBlJSc6IFsnVWludDE2QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVWludDMyQXJyYXlQcm90b3R5cGUlJzogWydVaW50MzJBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVUklFcnJvclByb3RvdHlwZSUnOiBbJ1VSSUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVdlYWtNYXBQcm90b3R5cGUlJzogWydXZWFrTWFwJywgJ3Byb3RvdHlwZSddLFxuXHQnJVdlYWtTZXRQcm90b3R5cGUlJzogWydXZWFrU2V0JywgJ3Byb3RvdHlwZSddXG59O1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBoYXNPd24gPSByZXF1aXJlKCdoYXMnKTtcbnZhciAkY29uY2F0ID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIEFycmF5LnByb3RvdHlwZS5jb25jYXQpO1xudmFyICRzcGxpY2VBcHBseSA9IGJpbmQuY2FsbChGdW5jdGlvbi5hcHBseSwgQXJyYXkucHJvdG90eXBlLnNwbGljZSk7XG52YXIgJHJlcGxhY2UgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlKTtcbnZhciAkc3RyU2xpY2UgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgU3RyaW5nLnByb3RvdHlwZS5zbGljZSk7XG5cbi8qIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iLzQuMTcuMTUvZGlzdC9sb2Rhc2guanMjTDY3MzUtTDY3NDQgKi9cbnZhciByZVByb3BOYW1lID0gL1teJS5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwlJCkpL2c7XG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7IC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IGZ1bmN0aW9uIHN0cmluZ1RvUGF0aChzdHJpbmcpIHtcblx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHN0cmluZywgMCwgMSk7XG5cdHZhciBsYXN0ID0gJHN0clNsaWNlKHN0cmluZywgLTEpO1xuXHRpZiAoZmlyc3QgPT09ICclJyAmJiBsYXN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIGNsb3NpbmcgYCVgJyk7XG5cdH0gZWxzZSBpZiAobGFzdCA9PT0gJyUnICYmIGZpcnN0ICE9PSAnJScpIHtcblx0XHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnZhbGlkIGludHJpbnNpYyBzeW50YXgsIGV4cGVjdGVkIG9wZW5pbmcgYCVgJyk7XG5cdH1cblx0dmFyIHJlc3VsdCA9IFtdO1xuXHQkcmVwbGFjZShzdHJpbmcsIHJlUHJvcE5hbWUsIGZ1bmN0aW9uIChtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG5cdFx0cmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gcXVvdGUgPyAkcmVwbGFjZShzdWJTdHJpbmcsIHJlRXNjYXBlQ2hhciwgJyQxJykgOiBudW1iZXIgfHwgbWF0Y2g7XG5cdH0pO1xuXHRyZXR1cm4gcmVzdWx0O1xufTtcbi8qIGVuZCBhZGFwdGF0aW9uICovXG5cbnZhciBnZXRCYXNlSW50cmluc2ljID0gZnVuY3Rpb24gZ2V0QmFzZUludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpY05hbWUgPSBuYW1lO1xuXHR2YXIgYWxpYXM7XG5cdGlmIChoYXNPd24oTEVHQUNZX0FMSUFTRVMsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0YWxpYXMgPSBMRUdBQ1lfQUxJQVNFU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpbnRyaW5zaWNOYW1lID0gJyUnICsgYWxpYXNbMF0gKyAnJSc7XG5cdH1cblxuXHRpZiAoaGFzT3duKElOVFJJTlNJQ1MsIGludHJpbnNpY05hbWUpKSB7XG5cdFx0dmFyIHZhbHVlID0gSU5UUklOU0lDU1tpbnRyaW5zaWNOYW1lXTtcblx0XHRpZiAodmFsdWUgPT09IG5lZWRzRXZhbCkge1xuXHRcdFx0dmFsdWUgPSBkb0V2YWwoaW50cmluc2ljTmFtZSk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnICYmICFhbGxvd01pc3NpbmcpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIScpO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRhbGlhczogYWxpYXMsXG5cdFx0XHRuYW1lOiBpbnRyaW5zaWNOYW1lLFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fTtcblx0fVxuXG5cdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ2ludHJpbnNpYyAnICsgbmFtZSArICcgZG9lcyBub3QgZXhpc3QhJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEdldEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCBuYW1lLmxlbmd0aCA9PT0gMCkge1xuXHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdpbnRyaW5zaWMgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuXHR9XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYWxsb3dNaXNzaW5nICE9PSAnYm9vbGVhbicpIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignXCJhbGxvd01pc3NpbmdcIiBhcmd1bWVudCBtdXN0IGJlIGEgYm9vbGVhbicpO1xuXHR9XG5cblx0dmFyIHBhcnRzID0gc3RyaW5nVG9QYXRoKG5hbWUpO1xuXHR2YXIgaW50cmluc2ljQmFzZU5hbWUgPSBwYXJ0cy5sZW5ndGggPiAwID8gcGFydHNbMF0gOiAnJztcblxuXHR2YXIgaW50cmluc2ljID0gZ2V0QmFzZUludHJpbnNpYygnJScgKyBpbnRyaW5zaWNCYXNlTmFtZSArICclJywgYWxsb3dNaXNzaW5nKTtcblx0dmFyIGludHJpbnNpY1JlYWxOYW1lID0gaW50cmluc2ljLm5hbWU7XG5cdHZhciB2YWx1ZSA9IGludHJpbnNpYy52YWx1ZTtcblx0dmFyIHNraXBGdXJ0aGVyQ2FjaGluZyA9IGZhbHNlO1xuXG5cdHZhciBhbGlhcyA9IGludHJpbnNpYy5hbGlhcztcblx0aWYgKGFsaWFzKSB7XG5cdFx0aW50cmluc2ljQmFzZU5hbWUgPSBhbGlhc1swXTtcblx0XHQkc3BsaWNlQXBwbHkocGFydHMsICRjb25jYXQoWzAsIDFdLCBhbGlhcykpO1xuXHR9XG5cblx0Zm9yICh2YXIgaSA9IDEsIGlzT3duID0gdHJ1ZTsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0dmFyIHBhcnQgPSBwYXJ0c1tpXTtcblx0XHR2YXIgZmlyc3QgPSAkc3RyU2xpY2UocGFydCwgMCwgMSk7XG5cdFx0dmFyIGxhc3QgPSAkc3RyU2xpY2UocGFydCwgLTEpO1xuXHRcdGlmIChcblx0XHRcdChcblx0XHRcdFx0KGZpcnN0ID09PSAnXCInIHx8IGZpcnN0ID09PSBcIidcIiB8fCBmaXJzdCA9PT0gJ2AnKVxuXHRcdFx0XHR8fCAobGFzdCA9PT0gJ1wiJyB8fCBsYXN0ID09PSBcIidcIiB8fCBsYXN0ID09PSAnYCcpXG5cdFx0XHQpXG5cdFx0XHQmJiBmaXJzdCAhPT0gbGFzdFxuXHRcdCkge1xuXHRcdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcigncHJvcGVydHkgbmFtZXMgd2l0aCBxdW90ZXMgbXVzdCBoYXZlIG1hdGNoaW5nIHF1b3RlcycpO1xuXHRcdH1cblx0XHRpZiAocGFydCA9PT0gJ2NvbnN0cnVjdG9yJyB8fCAhaXNPd24pIHtcblx0XHRcdHNraXBGdXJ0aGVyQ2FjaGluZyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0aW50cmluc2ljQmFzZU5hbWUgKz0gJy4nICsgcGFydDtcblx0XHRpbnRyaW5zaWNSZWFsTmFtZSA9ICclJyArIGludHJpbnNpY0Jhc2VOYW1lICsgJyUnO1xuXG5cdFx0aWYgKGhhc093bihJTlRSSU5TSUNTLCBpbnRyaW5zaWNSZWFsTmFtZSkpIHtcblx0XHRcdHZhbHVlID0gSU5UUklOU0lDU1tpbnRyaW5zaWNSZWFsTmFtZV07XG5cdFx0fSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG5cdFx0XHRpZiAoIShwYXJ0IGluIHZhbHVlKSkge1xuXHRcdFx0XHRpZiAoIWFsbG93TWlzc2luZykge1xuXHRcdFx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdiYXNlIGludHJpbnNpYyBmb3IgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IHRoZSBwcm9wZXJ0eSBpcyBub3QgYXZhaWxhYmxlLicpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2b2lkIHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHRcdGlmICgkZ09QRCAmJiAoaSArIDEpID49IHBhcnRzLmxlbmd0aCkge1xuXHRcdFx0XHR2YXIgZGVzYyA9ICRnT1BEKHZhbHVlLCBwYXJ0KTtcblx0XHRcdFx0aXNPd24gPSAhIWRlc2M7XG5cblx0XHRcdFx0Ly8gQnkgY29udmVudGlvbiwgd2hlbiBhIGRhdGEgcHJvcGVydHkgaXMgY29udmVydGVkIHRvIGFuIGFjY2Vzc29yXG5cdFx0XHRcdC8vIHByb3BlcnR5IHRvIGVtdWxhdGUgYSBkYXRhIHByb3BlcnR5IHRoYXQgZG9lcyBub3Qgc3VmZmVyIGZyb21cblx0XHRcdFx0Ly8gdGhlIG92ZXJyaWRlIG1pc3Rha2UsIHRoYXQgYWNjZXNzb3IncyBnZXR0ZXIgaXMgbWFya2VkIHdpdGhcblx0XHRcdFx0Ly8gYW4gYG9yaWdpbmFsVmFsdWVgIHByb3BlcnR5LiBIZXJlLCB3aGVuIHdlIGRldGVjdCB0aGlzLCB3ZVxuXHRcdFx0XHQvLyB1cGhvbGQgdGhlIGlsbHVzaW9uIGJ5IHByZXRlbmRpbmcgdG8gc2VlIHRoYXQgb3JpZ2luYWwgZGF0YVxuXHRcdFx0XHQvLyBwcm9wZXJ0eSwgaS5lLiwgcmV0dXJuaW5nIHRoZSB2YWx1ZSByYXRoZXIgdGhhbiB0aGUgZ2V0dGVyXG5cdFx0XHRcdC8vIGl0c2VsZi5cblx0XHRcdFx0aWYgKGlzT3duICYmICdnZXQnIGluIGRlc2MgJiYgISgnb3JpZ2luYWxWYWx1ZScgaW4gZGVzYy5nZXQpKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBkZXNjLmdldDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlW3BhcnRdO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpc093biA9IGhhc093bih2YWx1ZSwgcGFydCk7XG5cdFx0XHRcdHZhbHVlID0gdmFsdWVbcGFydF07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc093biAmJiAhc2tpcEZ1cnRoZXJDYWNoaW5nKSB7XG5cdFx0XHRcdElOVFJJTlNJQ1NbaW50cmluc2ljUmVhbE5hbWVdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiB2YWx1ZTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciAkYXBwbHkgPSBHZXRJbnRyaW5zaWMoJyVGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHklJyk7XG52YXIgJGNhbGwgPSBHZXRJbnRyaW5zaWMoJyVGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCUnKTtcbnZhciAkcmVmbGVjdEFwcGx5ID0gR2V0SW50cmluc2ljKCclUmVmbGVjdC5hcHBseSUnLCB0cnVlKSB8fCBiaW5kLmNhbGwoJGNhbGwsICRhcHBseSk7XG5cbnZhciAkZ09QRCA9IEdldEludHJpbnNpYygnJU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IlJywgdHJ1ZSk7XG52YXIgJGRlZmluZVByb3BlcnR5ID0gR2V0SW50cmluc2ljKCclT2JqZWN0LmRlZmluZVByb3BlcnR5JScsIHRydWUpO1xudmFyICRtYXggPSBHZXRJbnRyaW5zaWMoJyVNYXRoLm1heCUnKTtcblxuaWYgKCRkZWZpbmVQcm9wZXJ0eSkge1xuXHR0cnkge1xuXHRcdCRkZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IHZhbHVlOiAxIH0pO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gSUUgOCBoYXMgYSBicm9rZW4gZGVmaW5lUHJvcGVydHlcblx0XHQkZGVmaW5lUHJvcGVydHkgPSBudWxsO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2FsbEJpbmQob3JpZ2luYWxGdW5jdGlvbikge1xuXHR2YXIgZnVuYyA9ICRyZWZsZWN0QXBwbHkoYmluZCwgJGNhbGwsIGFyZ3VtZW50cyk7XG5cdGlmICgkZ09QRCAmJiAkZGVmaW5lUHJvcGVydHkpIHtcblx0XHR2YXIgZGVzYyA9ICRnT1BEKGZ1bmMsICdsZW5ndGgnKTtcblx0XHRpZiAoZGVzYy5jb25maWd1cmFibGUpIHtcblx0XHRcdC8vIG9yaWdpbmFsIGxlbmd0aCwgcGx1cyB0aGUgcmVjZWl2ZXIsIG1pbnVzIGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyAoYWZ0ZXIgdGhlIHJlY2VpdmVyKVxuXHRcdFx0JGRlZmluZVByb3BlcnR5KFxuXHRcdFx0XHRmdW5jLFxuXHRcdFx0XHQnbGVuZ3RoJyxcblx0XHRcdFx0eyB2YWx1ZTogMSArICRtYXgoMCwgb3JpZ2luYWxGdW5jdGlvbi5sZW5ndGggLSAoYXJndW1lbnRzLmxlbmd0aCAtIDEpKSB9XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZnVuYztcbn07XG5cbnZhciBhcHBseUJpbmQgPSBmdW5jdGlvbiBhcHBseUJpbmQoKSB7XG5cdHJldHVybiAkcmVmbGVjdEFwcGx5KGJpbmQsICRhcHBseSwgYXJndW1lbnRzKTtcbn07XG5cbmlmICgkZGVmaW5lUHJvcGVydHkpIHtcblx0JGRlZmluZVByb3BlcnR5KG1vZHVsZS5leHBvcnRzLCAnYXBwbHknLCB7IHZhbHVlOiBhcHBseUJpbmQgfSk7XG59IGVsc2Uge1xuXHRtb2R1bGUuZXhwb3J0cy5hcHBseSA9IGFwcGx5QmluZDtcbn1cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBHZXRJbnRyaW5zaWMgPSByZXF1aXJlKCdnZXQtaW50cmluc2ljJyk7XG5cbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJy4vJyk7XG5cbnZhciAkaW5kZXhPZiA9IGNhbGxCaW5kKEdldEludHJpbnNpYygnU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mJykpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCb3VuZEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpYyA9IEdldEludHJpbnNpYyhuYW1lLCAhIWFsbG93TWlzc2luZyk7XG5cdGlmICh0eXBlb2YgaW50cmluc2ljID09PSAnZnVuY3Rpb24nICYmICRpbmRleE9mKG5hbWUsICcucHJvdG90eXBlLicpID4gLTEpIHtcblx0XHRyZXR1cm4gY2FsbEJpbmQoaW50cmluc2ljKTtcblx0fVxuXHRyZXR1cm4gaW50cmluc2ljO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCc7XG52YXIgY2FsbEJvdW5kID0gcmVxdWlyZSgnY2FsbC1iaW5kL2NhbGxCb3VuZCcpO1xuXG52YXIgJHRvU3RyaW5nID0gY2FsbEJvdW5kKCdPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nJyk7XG5cbnZhciBpc1N0YW5kYXJkQXJndW1lbnRzID0gZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcblx0aWYgKGhhc1RvU3RyaW5nVGFnICYmIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnIGluIHZhbHVlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiAkdG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBBcmd1bWVudHNdJztcbn07XG5cbnZhciBpc0xlZ2FjeUFyZ3VtZW50cyA9IGZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7XG5cdGlmIChpc1N0YW5kYXJkQXJndW1lbnRzKHZhbHVlKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJlxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHR0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJyAmJlxuXHRcdHZhbHVlLmxlbmd0aCA+PSAwICYmXG5cdFx0JHRvU3RyaW5nKHZhbHVlKSAhPT0gJ1tvYmplY3QgQXJyYXldJyAmJlxuXHRcdCR0b1N0cmluZyh2YWx1ZS5jYWxsZWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxudmFyIHN1cHBvcnRzU3RhbmRhcmRBcmd1bWVudHMgPSAoZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gaXNTdGFuZGFyZEFyZ3VtZW50cyhhcmd1bWVudHMpO1xufSgpKTtcblxuaXNTdGFuZGFyZEFyZ3VtZW50cy5pc0xlZ2FjeUFyZ3VtZW50cyA9IGlzTGVnYWN5QXJndW1lbnRzOyAvLyBmb3IgdGVzdHNcblxubW9kdWxlLmV4cG9ydHMgPSBzdXBwb3J0c1N0YW5kYXJkQXJndW1lbnRzID8gaXNTdGFuZGFyZEFyZ3VtZW50cyA6IGlzTGVnYWN5QXJndW1lbnRzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBmblRvU3RyID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGlzRm5SZWdleCA9IC9eXFxzKig/OmZ1bmN0aW9uKT9cXCovO1xudmFyIGhhc1RvU3RyaW5nVGFnID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJztcbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBnZXRHZW5lcmF0b3JGdW5jID0gZnVuY3Rpb24gKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5cdGlmICghaGFzVG9TdHJpbmdUYWcpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0dHJ5IHtcblx0XHRyZXR1cm4gRnVuY3Rpb24oJ3JldHVybiBmdW5jdGlvbiooKSB7fScpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0fVxufTtcbnZhciBnZW5lcmF0b3JGdW5jID0gZ2V0R2VuZXJhdG9yRnVuYygpO1xudmFyIEdlbmVyYXRvckZ1bmN0aW9uID0gZ2V0UHJvdG8gJiYgZ2VuZXJhdG9yRnVuYyA/IGdldFByb3RvKGdlbmVyYXRvckZ1bmMpIDogZmFsc2U7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNHZW5lcmF0b3JGdW5jdGlvbihmbikge1xuXHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGlmIChpc0ZuUmVnZXgudGVzdChmblRvU3RyLmNhbGwoZm4pKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdGlmICghaGFzVG9TdHJpbmdUYWcpIHtcblx0XHR2YXIgc3RyID0gdG9TdHIuY2FsbChmbik7XG5cdFx0cmV0dXJuIHN0ciA9PT0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJztcblx0fVxuXHRyZXR1cm4gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZm4pID09PSBHZW5lcmF0b3JGdW5jdGlvbjtcbn07XG4iLCAiXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZm9yRWFjaCAob2JqLCBmbiwgY3R4KSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwoZm4pICE9PSAnW29iamVjdCBGdW5jdGlvbl0nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2l0ZXJhdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cbiAgICB2YXIgbCA9IG9iai5sZW5ndGg7XG4gICAgaWYgKGwgPT09ICtsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBmbi5jYWxsKGN0eCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChvYmosIGspKSB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbChjdHgsIG9ialtrXSwgaywgb2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbiIsICJcbi8qKlxuICogQXJyYXkjZmlsdGVyLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gc2VsZlxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAdGhyb3cgVHlwZUVycm9yXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJyLCBmbiwgc2VsZikge1xuICBpZiAoYXJyLmZpbHRlcikgcmV0dXJuIGFyci5maWx0ZXIoZm4sIHNlbGYpO1xuICBpZiAodm9pZCAwID09PSBhcnIgfHwgbnVsbCA9PT0gYXJyKSB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICBpZiAoJ2Z1bmN0aW9uJyAhPSB0eXBlb2YgZm4pIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gIHZhciByZXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093bi5jYWxsKGFyciwgaSkpIGNvbnRpbnVlO1xuICAgIHZhciB2YWwgPSBhcnJbaV07XG4gICAgaWYgKGZuLmNhbGwoc2VsZiwgdmFsLCBpLCBhcnIpKSByZXQucHVzaCh2YWwpO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBmaWx0ZXIgPSByZXF1aXJlKCdhcnJheS1maWx0ZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhdmFpbGFibGVUeXBlZEFycmF5cygpIHtcblx0cmV0dXJuIGZpbHRlcihbXG5cdFx0J0JpZ0ludDY0QXJyYXknLFxuXHRcdCdCaWdVaW50NjRBcnJheScsXG5cdFx0J0Zsb2F0MzJBcnJheScsXG5cdFx0J0Zsb2F0NjRBcnJheScsXG5cdFx0J0ludDE2QXJyYXknLFxuXHRcdCdJbnQzMkFycmF5Jyxcblx0XHQnSW50OEFycmF5Jyxcblx0XHQnVWludDE2QXJyYXknLFxuXHRcdCdVaW50MzJBcnJheScsXG5cdFx0J1VpbnQ4QXJyYXknLFxuXHRcdCdVaW50OENsYW1wZWRBcnJheSdcblx0XSwgZnVuY3Rpb24gKHR5cGVkQXJyYXkpIHtcblx0XHRyZXR1cm4gdHlwZW9mIGdsb2JhbFt0eXBlZEFycmF5XSA9PT0gJ2Z1bmN0aW9uJztcblx0fSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIEdldEludHJpbnNpYyA9IHJlcXVpcmUoJ2dldC1pbnRyaW5zaWMnKTtcblxudmFyICRnT1BEID0gR2V0SW50cmluc2ljKCclT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciUnKTtcbmlmICgkZ09QRCkge1xuXHR0cnkge1xuXHRcdCRnT1BEKFtdLCAnbGVuZ3RoJyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBJRSA4IGhhcyBhIGJyb2tlbiBnT1BEXG5cdFx0JGdPUEQgPSBudWxsO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gJGdPUEQ7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZm9yRWFjaCA9IHJlcXVpcmUoJ2ZvcmVhY2gnKTtcbnZhciBhdmFpbGFibGVUeXBlZEFycmF5cyA9IHJlcXVpcmUoJ2F2YWlsYWJsZS10eXBlZC1hcnJheXMnKTtcbnZhciBjYWxsQm91bmQgPSByZXF1aXJlKCdjYWxsLWJpbmQvY2FsbEJvdW5kJyk7XG5cbnZhciAkdG9TdHJpbmcgPSBjYWxsQm91bmQoJ09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcnKTtcbnZhciBoYXNTeW1ib2xzID0gcmVxdWlyZSgnaGFzLXN5bWJvbHMnKSgpO1xudmFyIGhhc1RvU3RyaW5nVGFnID0gaGFzU3ltYm9scyAmJiB0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJztcblxudmFyIHR5cGVkQXJyYXlzID0gYXZhaWxhYmxlVHlwZWRBcnJheXMoKTtcblxudmFyICRpbmRleE9mID0gY2FsbEJvdW5kKCdBcnJheS5wcm90b3R5cGUuaW5kZXhPZicsIHRydWUpIHx8IGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRpZiAoYXJyYXlbaV0gPT09IHZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIC0xO1xufTtcbnZhciAkc2xpY2UgPSBjYWxsQm91bmQoJ1N0cmluZy5wcm90b3R5cGUuc2xpY2UnKTtcbnZhciB0b1N0clRhZ3MgPSB7fTtcbnZhciBnT1BEID0gcmVxdWlyZSgnZXMtYWJzdHJhY3QvaGVscGVycy9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjsgLy8gcmVxdWlyZSgnZ2V0cHJvdG90eXBlb2YnKTtcbmlmIChoYXNUb1N0cmluZ1RhZyAmJiBnT1BEICYmIGdldFByb3RvdHlwZU9mKSB7XG5cdGZvckVhY2godHlwZWRBcnJheXMsIGZ1bmN0aW9uICh0eXBlZEFycmF5KSB7XG5cdFx0dmFyIGFyciA9IG5ldyBnbG9iYWxbdHlwZWRBcnJheV0oKTtcblx0XHRpZiAoIShTeW1ib2wudG9TdHJpbmdUYWcgaW4gYXJyKSkge1xuXHRcdFx0dGhyb3cgbmV3IEV2YWxFcnJvcigndGhpcyBlbmdpbmUgaGFzIHN1cHBvcnQgZm9yIFN5bWJvbC50b1N0cmluZ1RhZywgYnV0ICcgKyB0eXBlZEFycmF5ICsgJyBkb2VzIG5vdCBoYXZlIHRoZSBwcm9wZXJ0eSEgUGxlYXNlIHJlcG9ydCB0aGlzLicpO1xuXHRcdH1cblx0XHR2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGVPZihhcnIpO1xuXHRcdHZhciBkZXNjcmlwdG9yID0gZ09QRChwcm90bywgU3ltYm9sLnRvU3RyaW5nVGFnKTtcblx0XHRpZiAoIWRlc2NyaXB0b3IpIHtcblx0XHRcdHZhciBzdXBlclByb3RvID0gZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuXHRcdFx0ZGVzY3JpcHRvciA9IGdPUEQoc3VwZXJQcm90bywgU3ltYm9sLnRvU3RyaW5nVGFnKTtcblx0XHR9XG5cdFx0dG9TdHJUYWdzW3R5cGVkQXJyYXldID0gZGVzY3JpcHRvci5nZXQ7XG5cdH0pO1xufVxuXG52YXIgdHJ5VHlwZWRBcnJheXMgPSBmdW5jdGlvbiB0cnlBbGxUeXBlZEFycmF5cyh2YWx1ZSkge1xuXHR2YXIgYW55VHJ1ZSA9IGZhbHNlO1xuXHRmb3JFYWNoKHRvU3RyVGFncywgZnVuY3Rpb24gKGdldHRlciwgdHlwZWRBcnJheSkge1xuXHRcdGlmICghYW55VHJ1ZSkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YW55VHJ1ZSA9IGdldHRlci5jYWxsKHZhbHVlKSA9PT0gdHlwZWRBcnJheTtcblx0XHRcdH0gY2F0Y2ggKGUpIHsgLyoqLyB9XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGFueVRydWU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzVHlwZWRBcnJheSh2YWx1ZSkge1xuXHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICghaGFzVG9TdHJpbmdUYWcpIHtcblx0XHR2YXIgdGFnID0gJHNsaWNlKCR0b1N0cmluZyh2YWx1ZSksIDgsIC0xKTtcblx0XHRyZXR1cm4gJGluZGV4T2YodHlwZWRBcnJheXMsIHRhZykgPiAtMTtcblx0fVxuXHRpZiAoIWdPUEQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiB0cnlUeXBlZEFycmF5cyh2YWx1ZSk7XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGZvckVhY2ggPSByZXF1aXJlKCdmb3JlYWNoJyk7XG52YXIgYXZhaWxhYmxlVHlwZWRBcnJheXMgPSByZXF1aXJlKCdhdmFpbGFibGUtdHlwZWQtYXJyYXlzJyk7XG52YXIgY2FsbEJvdW5kID0gcmVxdWlyZSgnY2FsbC1iaW5kL2NhbGxCb3VuZCcpO1xuXG52YXIgJHRvU3RyaW5nID0gY2FsbEJvdW5kKCdPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nJyk7XG52YXIgaGFzU3ltYm9scyA9IHJlcXVpcmUoJ2hhcy1zeW1ib2xzJykoKTtcbnZhciBoYXNUb1N0cmluZ1RhZyA9IGhhc1N5bWJvbHMgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCc7XG5cbnZhciB0eXBlZEFycmF5cyA9IGF2YWlsYWJsZVR5cGVkQXJyYXlzKCk7XG5cbnZhciAkc2xpY2UgPSBjYWxsQm91bmQoJ1N0cmluZy5wcm90b3R5cGUuc2xpY2UnKTtcbnZhciB0b1N0clRhZ3MgPSB7fTtcbnZhciBnT1BEID0gcmVxdWlyZSgnZXMtYWJzdHJhY3QvaGVscGVycy9nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3InKTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjsgLy8gcmVxdWlyZSgnZ2V0cHJvdG90eXBlb2YnKTtcbmlmIChoYXNUb1N0cmluZ1RhZyAmJiBnT1BEICYmIGdldFByb3RvdHlwZU9mKSB7XG5cdGZvckVhY2godHlwZWRBcnJheXMsIGZ1bmN0aW9uICh0eXBlZEFycmF5KSB7XG5cdFx0aWYgKHR5cGVvZiBnbG9iYWxbdHlwZWRBcnJheV0gPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHZhciBhcnIgPSBuZXcgZ2xvYmFsW3R5cGVkQXJyYXldKCk7XG5cdFx0XHRpZiAoIShTeW1ib2wudG9TdHJpbmdUYWcgaW4gYXJyKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXZhbEVycm9yKCd0aGlzIGVuZ2luZSBoYXMgc3VwcG9ydCBmb3IgU3ltYm9sLnRvU3RyaW5nVGFnLCBidXQgJyArIHR5cGVkQXJyYXkgKyAnIGRvZXMgbm90IGhhdmUgdGhlIHByb3BlcnR5ISBQbGVhc2UgcmVwb3J0IHRoaXMuJyk7XG5cdFx0XHR9XG5cdFx0XHR2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGVPZihhcnIpO1xuXHRcdFx0dmFyIGRlc2NyaXB0b3IgPSBnT1BEKHByb3RvLCBTeW1ib2wudG9TdHJpbmdUYWcpO1xuXHRcdFx0aWYgKCFkZXNjcmlwdG9yKSB7XG5cdFx0XHRcdHZhciBzdXBlclByb3RvID0gZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuXHRcdFx0XHRkZXNjcmlwdG9yID0gZ09QRChzdXBlclByb3RvLCBTeW1ib2wudG9TdHJpbmdUYWcpO1xuXHRcdFx0fVxuXHRcdFx0dG9TdHJUYWdzW3R5cGVkQXJyYXldID0gZGVzY3JpcHRvci5nZXQ7XG5cdFx0fVxuXHR9KTtcbn1cblxudmFyIHRyeVR5cGVkQXJyYXlzID0gZnVuY3Rpb24gdHJ5QWxsVHlwZWRBcnJheXModmFsdWUpIHtcblx0dmFyIGZvdW5kTmFtZSA9IGZhbHNlO1xuXHRmb3JFYWNoKHRvU3RyVGFncywgZnVuY3Rpb24gKGdldHRlciwgdHlwZWRBcnJheSkge1xuXHRcdGlmICghZm91bmROYW1lKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgbmFtZSA9IGdldHRlci5jYWxsKHZhbHVlKTtcblx0XHRcdFx0aWYgKG5hbWUgPT09IHR5cGVkQXJyYXkpIHtcblx0XHRcdFx0XHRmb3VuZE5hbWUgPSBuYW1lO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdH1cblx0fSk7XG5cdHJldHVybiBmb3VuZE5hbWU7XG59O1xuXG52YXIgaXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnaXMtdHlwZWQtYXJyYXknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGljaFR5cGVkQXJyYXkodmFsdWUpIHtcblx0aWYgKCFpc1R5cGVkQXJyYXkodmFsdWUpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAoIWhhc1RvU3RyaW5nVGFnKSB7IHJldHVybiAkc2xpY2UoJHRvU3RyaW5nKHZhbHVlKSwgOCwgLTEpOyB9XG5cdHJldHVybiB0cnlUeXBlZEFycmF5cyh2YWx1ZSk7XG59O1xuIiwgIi8vIEN1cnJlbnRseSBpbiBzeW5jIHdpdGggTm9kZS5qcyBsaWIvaW50ZXJuYWwvdXRpbC90eXBlcy5qc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2NvbW1pdC8xMTJjYzdjMjc1NTEyNTRhYTJiMTcwOThmYjc3NDg2N2YwNWVkMGQ5XG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGlzQXJndW1lbnRzT2JqZWN0ID0gcmVxdWlyZSgnaXMtYXJndW1lbnRzJyk7XG52YXIgaXNHZW5lcmF0b3JGdW5jdGlvbiA9IHJlcXVpcmUoJ2lzLWdlbmVyYXRvci1mdW5jdGlvbicpO1xudmFyIHdoaWNoVHlwZWRBcnJheSA9IHJlcXVpcmUoJ3doaWNoLXR5cGVkLWFycmF5Jyk7XG52YXIgaXNUeXBlZEFycmF5ID0gcmVxdWlyZSgnaXMtdHlwZWQtYXJyYXknKTtcblxuZnVuY3Rpb24gdW5jdXJyeVRoaXMoZikge1xuICByZXR1cm4gZi5jYWxsLmJpbmQoZik7XG59XG5cbnZhciBCaWdJbnRTdXBwb3J0ZWQgPSB0eXBlb2YgQmlnSW50ICE9PSAndW5kZWZpbmVkJztcbnZhciBTeW1ib2xTdXBwb3J0ZWQgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJztcblxudmFyIE9iamVjdFRvU3RyaW5nID0gdW5jdXJyeVRoaXMoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyk7XG5cbnZhciBudW1iZXJWYWx1ZSA9IHVuY3VycnlUaGlzKE51bWJlci5wcm90b3R5cGUudmFsdWVPZik7XG52YXIgc3RyaW5nVmFsdWUgPSB1bmN1cnJ5VGhpcyhTdHJpbmcucHJvdG90eXBlLnZhbHVlT2YpO1xudmFyIGJvb2xlYW5WYWx1ZSA9IHVuY3VycnlUaGlzKEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YpO1xuXG5pZiAoQmlnSW50U3VwcG9ydGVkKSB7XG4gIHZhciBiaWdJbnRWYWx1ZSA9IHVuY3VycnlUaGlzKEJpZ0ludC5wcm90b3R5cGUudmFsdWVPZik7XG59XG5cbmlmIChTeW1ib2xTdXBwb3J0ZWQpIHtcbiAgdmFyIHN5bWJvbFZhbHVlID0gdW5jdXJyeVRoaXMoU3ltYm9sLnByb3RvdHlwZS52YWx1ZU9mKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tCb3hlZFByaW1pdGl2ZSh2YWx1ZSwgcHJvdG90eXBlVmFsdWVPZikge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB0cnkge1xuICAgIHByb3RvdHlwZVZhbHVlT2YodmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0cy5pc0FyZ3VtZW50c09iamVjdCA9IGlzQXJndW1lbnRzT2JqZWN0O1xuZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gaXNHZW5lcmF0b3JGdW5jdGlvbjtcbmV4cG9ydHMuaXNUeXBlZEFycmF5ID0gaXNUeXBlZEFycmF5O1xuXG4vLyBUYWtlbiBmcm9tIGhlcmUgYW5kIG1vZGlmaWVkIGZvciBiZXR0ZXIgYnJvd3NlciBzdXBwb3J0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3AtaXMtcHJvbWlzZS9ibG9iL2NkYTM1YTUxM2JkYTAzZjk3N2FkNWNkZTNhMDc5ZDIzN2U4MmQ3ZWYvaW5kZXguanNcbmZ1bmN0aW9uIGlzUHJvbWlzZShpbnB1dCkge1xuXHRyZXR1cm4gKFxuXHRcdChcblx0XHRcdHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJyAmJlxuXHRcdFx0aW5wdXQgaW5zdGFuY2VvZiBQcm9taXNlXG5cdFx0KSB8fFxuXHRcdChcblx0XHRcdGlucHV0ICE9PSBudWxsICYmXG5cdFx0XHR0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnICYmXG5cdFx0XHR0eXBlb2YgaW5wdXQudGhlbiA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdFx0dHlwZW9mIGlucHV0LmNhdGNoID09PSAnZnVuY3Rpb24nXG5cdFx0KVxuXHQpO1xufVxuZXhwb3J0cy5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIEFycmF5QnVmZmVyLmlzVmlldykge1xuICAgIHJldHVybiBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICBpc1R5cGVkQXJyYXkodmFsdWUpIHx8XG4gICAgaXNEYXRhVmlldyh2YWx1ZSlcbiAgKTtcbn1cbmV4cG9ydHMuaXNBcnJheUJ1ZmZlclZpZXcgPSBpc0FycmF5QnVmZmVyVmlldztcblxuXG5mdW5jdGlvbiBpc1VpbnQ4QXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHdoaWNoVHlwZWRBcnJheSh2YWx1ZSkgPT09ICdVaW50OEFycmF5Jztcbn1cbmV4cG9ydHMuaXNVaW50OEFycmF5ID0gaXNVaW50OEFycmF5O1xuXG5mdW5jdGlvbiBpc1VpbnQ4Q2xhbXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiB3aGljaFR5cGVkQXJyYXkodmFsdWUpID09PSAnVWludDhDbGFtcGVkQXJyYXknO1xufVxuZXhwb3J0cy5pc1VpbnQ4Q2xhbXBlZEFycmF5ID0gaXNVaW50OENsYW1wZWRBcnJheTtcblxuZnVuY3Rpb24gaXNVaW50MTZBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gd2hpY2hUeXBlZEFycmF5KHZhbHVlKSA9PT0gJ1VpbnQxNkFycmF5Jztcbn1cbmV4cG9ydHMuaXNVaW50MTZBcnJheSA9IGlzVWludDE2QXJyYXk7XG5cbmZ1bmN0aW9uIGlzVWludDMyQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHdoaWNoVHlwZWRBcnJheSh2YWx1ZSkgPT09ICdVaW50MzJBcnJheSc7XG59XG5leHBvcnRzLmlzVWludDMyQXJyYXkgPSBpc1VpbnQzMkFycmF5O1xuXG5mdW5jdGlvbiBpc0ludDhBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gd2hpY2hUeXBlZEFycmF5KHZhbHVlKSA9PT0gJ0ludDhBcnJheSc7XG59XG5leHBvcnRzLmlzSW50OEFycmF5ID0gaXNJbnQ4QXJyYXk7XG5cbmZ1bmN0aW9uIGlzSW50MTZBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gd2hpY2hUeXBlZEFycmF5KHZhbHVlKSA9PT0gJ0ludDE2QXJyYXknO1xufVxuZXhwb3J0cy5pc0ludDE2QXJyYXkgPSBpc0ludDE2QXJyYXk7XG5cbmZ1bmN0aW9uIGlzSW50MzJBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gd2hpY2hUeXBlZEFycmF5KHZhbHVlKSA9PT0gJ0ludDMyQXJyYXknO1xufVxuZXhwb3J0cy5pc0ludDMyQXJyYXkgPSBpc0ludDMyQXJyYXk7XG5cbmZ1bmN0aW9uIGlzRmxvYXQzMkFycmF5KHZhbHVlKSB7XG4gIHJldHVybiB3aGljaFR5cGVkQXJyYXkodmFsdWUpID09PSAnRmxvYXQzMkFycmF5Jztcbn1cbmV4cG9ydHMuaXNGbG9hdDMyQXJyYXkgPSBpc0Zsb2F0MzJBcnJheTtcblxuZnVuY3Rpb24gaXNGbG9hdDY0QXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHdoaWNoVHlwZWRBcnJheSh2YWx1ZSkgPT09ICdGbG9hdDY0QXJyYXknO1xufVxuZXhwb3J0cy5pc0Zsb2F0NjRBcnJheSA9IGlzRmxvYXQ2NEFycmF5O1xuXG5mdW5jdGlvbiBpc0JpZ0ludDY0QXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHdoaWNoVHlwZWRBcnJheSh2YWx1ZSkgPT09ICdCaWdJbnQ2NEFycmF5Jztcbn1cbmV4cG9ydHMuaXNCaWdJbnQ2NEFycmF5ID0gaXNCaWdJbnQ2NEFycmF5O1xuXG5mdW5jdGlvbiBpc0JpZ1VpbnQ2NEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiB3aGljaFR5cGVkQXJyYXkodmFsdWUpID09PSAnQmlnVWludDY0QXJyYXknO1xufVxuZXhwb3J0cy5pc0JpZ1VpbnQ2NEFycmF5ID0gaXNCaWdVaW50NjRBcnJheTtcblxuZnVuY3Rpb24gaXNNYXBUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBNYXBdJztcbn1cbmlzTWFwVG9TdHJpbmcud29ya2luZyA9IChcbiAgdHlwZW9mIE1hcCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgaXNNYXBUb1N0cmluZyhuZXcgTWFwKCkpXG4pO1xuXG5mdW5jdGlvbiBpc01hcCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXNNYXBUb1N0cmluZy53b3JraW5nXG4gICAgPyBpc01hcFRvU3RyaW5nKHZhbHVlKVxuICAgIDogdmFsdWUgaW5zdGFuY2VvZiBNYXA7XG59XG5leHBvcnRzLmlzTWFwID0gaXNNYXA7XG5cbmZ1bmN0aW9uIGlzU2V0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgU2V0XSc7XG59XG5pc1NldFRvU3RyaW5nLndvcmtpbmcgPSAoXG4gIHR5cGVvZiBTZXQgIT09ICd1bmRlZmluZWQnICYmXG4gIGlzU2V0VG9TdHJpbmcobmV3IFNldCgpKVxuKTtcbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc1NldFRvU3RyaW5nLndvcmtpbmdcbiAgICA/IGlzU2V0VG9TdHJpbmcodmFsdWUpXG4gICAgOiB2YWx1ZSBpbnN0YW5jZW9mIFNldDtcbn1cbmV4cG9ydHMuaXNTZXQgPSBpc1NldDtcblxuZnVuY3Rpb24gaXNXZWFrTWFwVG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgV2Vha01hcF0nO1xufVxuaXNXZWFrTWFwVG9TdHJpbmcud29ya2luZyA9IChcbiAgdHlwZW9mIFdlYWtNYXAgIT09ICd1bmRlZmluZWQnICYmXG4gIGlzV2Vha01hcFRvU3RyaW5nKG5ldyBXZWFrTWFwKCkpXG4pO1xuZnVuY3Rpb24gaXNXZWFrTWFwKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgV2Vha01hcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXNXZWFrTWFwVG9TdHJpbmcud29ya2luZ1xuICAgID8gaXNXZWFrTWFwVG9TdHJpbmcodmFsdWUpXG4gICAgOiB2YWx1ZSBpbnN0YW5jZW9mIFdlYWtNYXA7XG59XG5leHBvcnRzLmlzV2Vha01hcCA9IGlzV2Vha01hcDtcblxuZnVuY3Rpb24gaXNXZWFrU2V0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgV2Vha1NldF0nO1xufVxuaXNXZWFrU2V0VG9TdHJpbmcud29ya2luZyA9IChcbiAgdHlwZW9mIFdlYWtTZXQgIT09ICd1bmRlZmluZWQnICYmXG4gIGlzV2Vha1NldFRvU3RyaW5nKG5ldyBXZWFrU2V0KCkpXG4pO1xuZnVuY3Rpb24gaXNXZWFrU2V0KHZhbHVlKSB7XG4gIHJldHVybiBpc1dlYWtTZXRUb1N0cmluZyh2YWx1ZSk7XG59XG5leHBvcnRzLmlzV2Vha1NldCA9IGlzV2Vha1NldDtcblxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBPYmplY3RUb1N0cmluZyh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5pc0FycmF5QnVmZmVyVG9TdHJpbmcud29ya2luZyA9IChcbiAgdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICBpc0FycmF5QnVmZmVyVG9TdHJpbmcobmV3IEFycmF5QnVmZmVyKCkpXG4pO1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc0FycmF5QnVmZmVyVG9TdHJpbmcud29ya2luZ1xuICAgID8gaXNBcnJheUJ1ZmZlclRvU3RyaW5nKHZhbHVlKVxuICAgIDogdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn1cbmV4cG9ydHMuaXNBcnJheUJ1ZmZlciA9IGlzQXJyYXlCdWZmZXI7XG5cbmZ1bmN0aW9uIGlzRGF0YVZpZXdUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBEYXRhVmlld10nO1xufVxuaXNEYXRhVmlld1RvU3RyaW5nLndvcmtpbmcgPSAoXG4gIHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgdHlwZW9mIERhdGFWaWV3ICE9PSAndW5kZWZpbmVkJyAmJlxuICBpc0RhdGFWaWV3VG9TdHJpbmcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSwgMCwgMSkpXG4pO1xuZnVuY3Rpb24gaXNEYXRhVmlldyh2YWx1ZSkge1xuICBpZiAodHlwZW9mIERhdGFWaWV3ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc0RhdGFWaWV3VG9TdHJpbmcud29ya2luZ1xuICAgID8gaXNEYXRhVmlld1RvU3RyaW5nKHZhbHVlKVxuICAgIDogdmFsdWUgaW5zdGFuY2VvZiBEYXRhVmlldztcbn1cbmV4cG9ydHMuaXNEYXRhVmlldyA9IGlzRGF0YVZpZXc7XG5cbi8vIFN0b3JlIGEgY29weSBvZiBTaGFyZWRBcnJheUJ1ZmZlciBpbiBjYXNlIGl0J3MgZGVsZXRlZCBlbHNld2hlcmVcbnZhciBTaGFyZWRBcnJheUJ1ZmZlckNvcHkgPSB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnID8gU2hhcmVkQXJyYXlCdWZmZXIgOiB1bmRlZmluZWQ7XG5mdW5jdGlvbiBpc1NoYXJlZEFycmF5QnVmZmVyVG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgU2hhcmVkQXJyYXlCdWZmZXJdJztcbn1cbmZ1bmN0aW9uIGlzU2hhcmVkQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlckNvcHkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBpc1NoYXJlZEFycmF5QnVmZmVyVG9TdHJpbmcud29ya2luZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpc1NoYXJlZEFycmF5QnVmZmVyVG9TdHJpbmcud29ya2luZyA9IGlzU2hhcmVkQXJyYXlCdWZmZXJUb1N0cmluZyhuZXcgU2hhcmVkQXJyYXlCdWZmZXJDb3B5KCkpO1xuICB9XG5cbiAgcmV0dXJuIGlzU2hhcmVkQXJyYXlCdWZmZXJUb1N0cmluZy53b3JraW5nXG4gICAgPyBpc1NoYXJlZEFycmF5QnVmZmVyVG9TdHJpbmcodmFsdWUpXG4gICAgOiB2YWx1ZSBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyQ29weTtcbn1cbmV4cG9ydHMuaXNTaGFyZWRBcnJheUJ1ZmZlciA9IGlzU2hhcmVkQXJyYXlCdWZmZXI7XG5cbmZ1bmN0aW9uIGlzQXN5bmNGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXSc7XG59XG5leHBvcnRzLmlzQXN5bmNGdW5jdGlvbiA9IGlzQXN5bmNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNNYXBJdGVyYXRvcih2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBNYXAgSXRlcmF0b3JdJztcbn1cbmV4cG9ydHMuaXNNYXBJdGVyYXRvciA9IGlzTWFwSXRlcmF0b3I7XG5cbmZ1bmN0aW9uIGlzU2V0SXRlcmF0b3IodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdFRvU3RyaW5nKHZhbHVlKSA9PT0gJ1tvYmplY3QgU2V0IEl0ZXJhdG9yXSc7XG59XG5leHBvcnRzLmlzU2V0SXRlcmF0b3IgPSBpc1NldEl0ZXJhdG9yO1xuXG5mdW5jdGlvbiBpc0dlbmVyYXRvck9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0VG9TdHJpbmcodmFsdWUpID09PSAnW29iamVjdCBHZW5lcmF0b3JdJztcbn1cbmV4cG9ydHMuaXNHZW5lcmF0b3JPYmplY3QgPSBpc0dlbmVyYXRvck9iamVjdDtcblxuZnVuY3Rpb24gaXNXZWJBc3NlbWJseUNvbXBpbGVkTW9kdWxlKHZhbHVlKSB7XG4gIHJldHVybiBPYmplY3RUb1N0cmluZyh2YWx1ZSkgPT09ICdbb2JqZWN0IFdlYkFzc2VtYmx5Lk1vZHVsZV0nO1xufVxuZXhwb3J0cy5pc1dlYkFzc2VtYmx5Q29tcGlsZWRNb2R1bGUgPSBpc1dlYkFzc2VtYmx5Q29tcGlsZWRNb2R1bGU7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBjaGVja0JveGVkUHJpbWl0aXZlKHZhbHVlLCBudW1iZXJWYWx1ZSk7XG59XG5leHBvcnRzLmlzTnVtYmVyT2JqZWN0ID0gaXNOdW1iZXJPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBjaGVja0JveGVkUHJpbWl0aXZlKHZhbHVlLCBzdHJpbmdWYWx1ZSk7XG59XG5leHBvcnRzLmlzU3RyaW5nT2JqZWN0ID0gaXNTdHJpbmdPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gY2hlY2tCb3hlZFByaW1pdGl2ZSh2YWx1ZSwgYm9vbGVhblZhbHVlKTtcbn1cbmV4cG9ydHMuaXNCb29sZWFuT2JqZWN0ID0gaXNCb29sZWFuT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0JpZ0ludE9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gQmlnSW50U3VwcG9ydGVkICYmIGNoZWNrQm94ZWRQcmltaXRpdmUodmFsdWUsIGJpZ0ludFZhbHVlKTtcbn1cbmV4cG9ydHMuaXNCaWdJbnRPYmplY3QgPSBpc0JpZ0ludE9iamVjdDtcblxuZnVuY3Rpb24gaXNTeW1ib2xPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIFN5bWJvbFN1cHBvcnRlZCAmJiBjaGVja0JveGVkUHJpbWl0aXZlKHZhbHVlLCBzeW1ib2xWYWx1ZSk7XG59XG5leHBvcnRzLmlzU3ltYm9sT2JqZWN0ID0gaXNTeW1ib2xPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzQm94ZWRQcmltaXRpdmUodmFsdWUpIHtcbiAgcmV0dXJuIChcbiAgICBpc051bWJlck9iamVjdCh2YWx1ZSkgfHxcbiAgICBpc1N0cmluZ09iamVjdCh2YWx1ZSkgfHxcbiAgICBpc0Jvb2xlYW5PYmplY3QodmFsdWUpIHx8XG4gICAgaXNCaWdJbnRPYmplY3QodmFsdWUpIHx8XG4gICAgaXNTeW1ib2xPYmplY3QodmFsdWUpXG4gICk7XG59XG5leHBvcnRzLmlzQm94ZWRQcmltaXRpdmUgPSBpc0JveGVkUHJpbWl0aXZlO1xuXG5mdW5jdGlvbiBpc0FueUFycmF5QnVmZmVyKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgKFxuICAgIGlzQXJyYXlCdWZmZXIodmFsdWUpIHx8XG4gICAgaXNTaGFyZWRBcnJheUJ1ZmZlcih2YWx1ZSlcbiAgKTtcbn1cbmV4cG9ydHMuaXNBbnlBcnJheUJ1ZmZlciA9IGlzQW55QXJyYXlCdWZmZXI7XG5cblsnaXNQcm94eScsICdpc0V4dGVybmFsJywgJ2lzTW9kdWxlTmFtZXNwYWNlT2JqZWN0J10uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG1ldGhvZCwge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXRob2QgKyAnIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdXNlcmxhbmQnKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCAibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufSIsICJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gICAgfVxuICB9XG59XG4iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgfHxcbiAgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgdmFyIGRlc2NyaXB0b3JzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZXNjcmlwdG9yc1trZXlzW2ldXSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXlzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2NyaXB0b3JzO1xuICB9O1xuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59O1xuXG5cbnZhciBkZWJ1Z3MgPSB7fTtcbnZhciBkZWJ1Z0VudlJlZ2V4ID0gL14kLztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfREVCVUcpIHtcbiAgdmFyIGRlYnVnRW52ID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRztcbiAgZGVidWdFbnYgPSBkZWJ1Z0Vudi5yZXBsYWNlKC9bfFxcXFx7fSgpW1xcXV4kKz8uXS9nLCAnXFxcXCQmJylcbiAgICAucmVwbGFjZSgvXFwqL2csICcuKicpXG4gICAgLnJlcGxhY2UoLywvZywgJyR8XicpXG4gICAgLnRvVXBwZXJDYXNlKCk7XG4gIGRlYnVnRW52UmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIGRlYnVnRW52ICsgJyQnLCAnaScpO1xufVxuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChkZWJ1Z0VudlJlZ2V4LnRlc3Qoc2V0KSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5leHBvcnRzLnR5cGVzID0gcmVxdWlyZSgnLi9zdXBwb3J0L3R5cGVzJyk7XG5cbmZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpO1xufVxuZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblxuZnVuY3Rpb24gaXNCb29sZWFuKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xufVxuZXhwb3J0cy5pc0Jvb2xlYW4gPSBpc0Jvb2xlYW47XG5cbmZ1bmN0aW9uIGlzTnVsbChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsO1xuXG5mdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuZXhwb3J0cy5pc051bWJlciA9IGlzTnVtYmVyO1xuXG5mdW5jdGlvbiBpc1N0cmluZyhhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuXG5mdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnO1xufVxuZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuZXhwb3J0cy5pc1VuZGVmaW5lZCA9IGlzVW5kZWZpbmVkO1xuXG5mdW5jdGlvbiBpc1JlZ0V4cChyZSkge1xuICByZXR1cm4gaXNPYmplY3QocmUpICYmIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5leHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5leHBvcnRzLnR5cGVzLmlzUmVnRXhwID0gaXNSZWdFeHA7XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXG5mdW5jdGlvbiBpc0RhdGUoZCkge1xuICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcbn1cbmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlO1xuZXhwb3J0cy50eXBlcy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcbmV4cG9ydHMudHlwZXMuaXNOYXRpdmVFcnJvciA9IGlzRXJyb3I7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcblxuZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGwgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG59XG5leHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7XG5cbmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufVxuXG5cbmZ1bmN0aW9uIHBhZChuKSB7XG4gIHJldHVybiBuIDwgMTAgPyAnMCcgKyBuLnRvU3RyaW5nKDEwKSA6IG4udG9TdHJpbmcoMTApO1xufVxuXG5cbnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcbiAgICAgICAgICAgICAgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5cbi8vIDI2IEZlYiAxNjoxOTozNFxuZnVuY3Rpb24gdGltZXN0YW1wKCkge1xuICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRNaW51dGVzKCkpLFxuICAgICAgICAgICAgICBwYWQoZC5nZXRTZWNvbmRzKCkpXS5qb2luKCc6Jyk7XG4gIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG59XG5cblxuLy8gbG9nIGlzIGp1c3QgYSB0aGluIHdyYXBwZXIgdG8gY29uc29sZS5sb2cgdGhhdCBwcmVwZW5kcyBhIHRpbWVzdGFtcFxuZXhwb3J0cy5sb2cgPSBmdW5jdGlvbigpIHtcbiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG59O1xuXG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyLlxuICpcbiAqIFRoZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMgZnJvbSBsYW5nLmpzIHJld3JpdHRlbiBhcyBhIHN0YW5kYWxvbmVcbiAqIGZ1bmN0aW9uIChub3Qgb24gRnVuY3Rpb24ucHJvdG90eXBlKS4gTk9URTogSWYgdGhpcyBmaWxlIGlzIHRvIGJlIGxvYWRlZFxuICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcbiAqIGZ1bmN0aW9ucyBhcyBwcm90b3R5cGUgc2V0dXAgdXNpbmcgbm9ybWFsIEphdmFTY3JpcHQgZG9lcyBub3Qgd29yayBhc1xuICogZXhwZWN0ZWQgZHVyaW5nIGJvb3RzdHJhcHBpbmcgKHNlZSBtaXJyb3IuanMgaW4gcjExNDkwMykuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB3aGljaCBuZWVkcyB0byBpbmhlcml0IHRoZVxuICogICAgIHByb3RvdHlwZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuICovXG5leHBvcnRzLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuZXhwb3J0cy5fZXh0ZW5kID0gZnVuY3Rpb24ob3JpZ2luLCBhZGQpIHtcbiAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjtcblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG4gIHZhciBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG4gIH1cbiAgcmV0dXJuIG9yaWdpbjtcbn07XG5cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbnZhciBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbCgndXRpbC5wcm9taXNpZnkuY3VzdG9tJykgOiB1bmRlZmluZWQ7XG5cbmV4cG9ydHMucHJvbWlzaWZ5ID0gZnVuY3Rpb24gcHJvbWlzaWZ5KG9yaWdpbmFsKSB7XG4gIGlmICh0eXBlb2Ygb3JpZ2luYWwgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwib3JpZ2luYWxcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcblxuICBpZiAoa0N1c3RvbVByb21pc2lmaWVkU3ltYm9sICYmIG9yaWdpbmFsW2tDdXN0b21Qcm9taXNpZmllZFN5bWJvbF0pIHtcbiAgICB2YXIgZm4gPSBvcmlnaW5hbFtrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xdO1xuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInV0aWwucHJvbWlzaWZ5LmN1c3RvbVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCwge1xuICAgICAgdmFsdWU6IGZuLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICBmdW5jdGlvbiBmbigpIHtcbiAgICB2YXIgcHJvbWlzZVJlc29sdmUsIHByb21pc2VSZWplY3Q7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBwcm9taXNlUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICBwcm9taXNlUmVqZWN0ID0gcmVqZWN0O1xuICAgIH0pO1xuXG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuICAgIGFyZ3MucHVzaChmdW5jdGlvbiAoZXJyLCB2YWx1ZSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcm9taXNlUmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9taXNlUmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0cnkge1xuICAgICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBwcm9taXNlUmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZm4sIE9iamVjdC5nZXRQcm90b3R5cGVPZihvcmlnaW5hbCkpO1xuXG4gIGlmIChrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sLCB7XG4gICAgdmFsdWU6IGZuLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhcbiAgICBmbixcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKVxuICApO1xufVxuXG5leHBvcnRzLnByb21pc2lmeS5jdXN0b20gPSBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xcblxuZnVuY3Rpb24gY2FsbGJhY2tpZnlPblJlamVjdGVkKHJlYXNvbiwgY2IpIHtcbiAgLy8gYCFyZWFzb25gIGd1YXJkIGluc3BpcmVkIGJ5IGJsdWViaXJkIChSZWY6IGh0dHBzOi8vZ29vLmdsL3Q1SVM2TSkuXG4gIC8vIEJlY2F1c2UgYG51bGxgIGlzIGEgc3BlY2lhbCBlcnJvciB2YWx1ZSBpbiBjYWxsYmFja3Mgd2hpY2ggbWVhbnMgXCJubyBlcnJvclxuICAvLyBvY2N1cnJlZFwiLCB3ZSBlcnJvci13cmFwIHNvIHRoZSBjYWxsYmFjayBjb25zdW1lciBjYW4gZGlzdGluZ3Vpc2ggYmV0d2VlblxuICAvLyBcInRoZSBwcm9taXNlIHJlamVjdGVkIHdpdGggbnVsbFwiIG9yIFwidGhlIHByb21pc2UgZnVsZmlsbGVkIHdpdGggdW5kZWZpbmVkXCIuXG4gIGlmICghcmVhc29uKSB7XG4gICAgdmFyIG5ld1JlYXNvbiA9IG5ldyBFcnJvcignUHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBhIGZhbHN5IHZhbHVlJyk7XG4gICAgbmV3UmVhc29uLnJlYXNvbiA9IHJlYXNvbjtcbiAgICByZWFzb24gPSBuZXdSZWFzb247XG4gIH1cbiAgcmV0dXJuIGNiKHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5KG9yaWdpbmFsKSB7XG4gIGlmICh0eXBlb2Ygb3JpZ2luYWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJvcmlnaW5hbFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICB9XG5cbiAgLy8gV2UgRE8gTk9UIHJldHVybiB0aGUgcHJvbWlzZSBhcyBpdCBnaXZlcyB0aGUgdXNlciBhIGZhbHNlIHNlbnNlIHRoYXRcbiAgLy8gdGhlIHByb21pc2UgaXMgYWN0dWFsbHkgc29tZWhvdyByZWxhdGVkIHRvIHRoZSBjYWxsYmFjaydzIGV4ZWN1dGlvblxuICAvLyBhbmQgdGhhdCB0aGUgY2FsbGJhY2sgdGhyb3dpbmcgd2lsbCByZWplY3QgdGhlIHByb21pc2UuXG4gIGZ1bmN0aW9uIGNhbGxiYWNraWZpZWQoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuXG4gICAgdmFyIG1heWJlQ2IgPSBhcmdzLnBvcCgpO1xuICAgIGlmICh0eXBlb2YgbWF5YmVDYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxhc3QgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgY2IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBtYXliZUNiLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICAvLyBJbiB0cnVlIG5vZGUgc3R5bGUgd2UgcHJvY2VzcyB0aGUgY2FsbGJhY2sgb24gYG5leHRUaWNrYCB3aXRoIGFsbCB0aGVcbiAgICAvLyBpbXBsaWNhdGlvbnMgKHN0YWNrLCBgdW5jYXVnaHRFeGNlcHRpb25gLCBgYXN5bmNfaG9va3NgKVxuICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAudGhlbihmdW5jdGlvbihyZXQpIHsgcHJvY2Vzcy5uZXh0VGljayhjYi5iaW5kKG51bGwsIG51bGwsIHJldCkpIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZWopIHsgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFja2lmeU9uUmVqZWN0ZWQuYmluZChudWxsLCByZWosIGNiKSkgfSk7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoY2FsbGJhY2tpZmllZCwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNhbGxiYWNraWZpZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpKTtcbiAgcmV0dXJuIGNhbGxiYWNraWZpZWQ7XG59XG5leHBvcnRzLmNhbGxiYWNraWZ5ID0gY2FsbGJhY2tpZnk7XG4iLCAiLy8gQ3VycmVudGx5IGluIHN5bmMgd2l0aCBOb2RlLmpzIGxpYi9pbnRlcm5hbC9lcnJvcnMuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9jb21taXQvM2IwNDQ5NjJjNDhmZTMxMzkwNTg3N2E5NmI1ZDA4OTRhNTQwNGY2ZlxuXG4vKiBlc2xpbnQgbm9kZS1jb3JlL2RvY3VtZW50ZWQtZXJyb3JzOiBcImVycm9yXCIgKi9cblxuLyogZXNsaW50IG5vZGUtY29yZS9hbHBoYWJldGl6ZS1lcnJvcnM6IFwiZXJyb3JcIiAqL1xuXG4vKiBlc2xpbnQgbm9kZS1jb3JlL3ByZWZlci11dGlsLWZvcm1hdC1lcnJvcnM6IFwiZXJyb3JcIiAqL1xuJ3VzZSBzdHJpY3QnOyAvLyBUaGUgd2hvbGUgcG9pbnQgYmVoaW5kIHRoaXMgaW50ZXJuYWwgbW9kdWxlIGlzIHRvIGFsbG93IE5vZGUuanMgdG8gbm9cbi8vIGxvbmdlciBiZSBmb3JjZWQgdG8gdHJlYXQgZXZlcnkgZXJyb3IgbWVzc2FnZSBjaGFuZ2UgYXMgYSBzZW12ZXItbWFqb3Jcbi8vIGNoYW5nZS4gVGhlIE5vZGVFcnJvciBjbGFzc2VzIGhlcmUgYWxsIGV4cG9zZSBhIGBjb2RlYCBwcm9wZXJ0eSB3aG9zZVxuLy8gdmFsdWUgc3RhdGljYWxseSBhbmQgcGVybWFuZW50bHkgaWRlbnRpZmllcyB0aGUgZXJyb3IuIFdoaWxlIHRoZSBlcnJvclxuLy8gbWVzc2FnZSBtYXkgY2hhbmdlLCB0aGUgY29kZSBzaG91bGQgbm90LlxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbnZhciBjb2RlcyA9IHt9OyAvLyBMYXp5IGxvYWRlZFxuXG52YXIgYXNzZXJ0O1xudmFyIHV0aWw7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yVHlwZShjb2RlLCBtZXNzYWdlLCBCYXNlKSB7XG4gIGlmICghQmFzZSkge1xuICAgIEJhc2UgPSBFcnJvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1lc3NhZ2UoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWVzc2FnZShhcmcxLCBhcmcyLCBhcmczKTtcbiAgICB9XG4gIH1cblxuICB2YXIgTm9kZUVycm9yID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0Jhc2UpIHtcbiAgICBfaW5oZXJpdHMoTm9kZUVycm9yLCBfQmFzZSk7XG5cbiAgICBmdW5jdGlvbiBOb2RlRXJyb3IoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9kZUVycm9yKTtcblxuICAgICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoTm9kZUVycm9yKS5jYWxsKHRoaXMsIGdldE1lc3NhZ2UoYXJnMSwgYXJnMiwgYXJnMykpKTtcbiAgICAgIF90aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBOb2RlRXJyb3I7XG4gIH0oQmFzZSk7XG5cbiAgY29kZXNbY29kZV0gPSBOb2RlRXJyb3I7XG59IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iL3YxMC44LjAvbGliL2ludGVybmFsL2Vycm9ycy5qc1xuXG5cbmZ1bmN0aW9uIG9uZU9mKGV4cGVjdGVkLCB0aGluZykge1xuICBpZiAoQXJyYXkuaXNBcnJheShleHBlY3RlZCkpIHtcbiAgICB2YXIgbGVuID0gZXhwZWN0ZWQubGVuZ3RoO1xuICAgIGV4cGVjdGVkID0gZXhwZWN0ZWQubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKGkpO1xuICAgIH0pO1xuXG4gICAgaWYgKGxlbiA+IDIpIHtcbiAgICAgIHJldHVybiBcIm9uZSBvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWQuc2xpY2UoMCwgbGVuIC0gMSkuam9pbignLCAnKSwgXCIsIG9yIFwiKSArIGV4cGVjdGVkW2xlbiAtIDFdO1xuICAgIH0gZWxzZSBpZiAobGVuID09PSAyKSB7XG4gICAgICByZXR1cm4gXCJvbmUgb2YgXCIuY29uY2F0KHRoaW5nLCBcIiBcIikuY29uY2F0KGV4cGVjdGVkWzBdLCBcIiBvciBcIikuY29uY2F0KGV4cGVjdGVkWzFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwib2YgXCIuY29uY2F0KHRoaW5nLCBcIiBcIikuY29uY2F0KGV4cGVjdGVkWzBdKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwib2YgXCIuY29uY2F0KHRoaW5nLCBcIiBcIikuY29uY2F0KFN0cmluZyhleHBlY3RlZCkpO1xuICB9XG59IC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9zdGFydHNXaXRoXG5cblxuZnVuY3Rpb24gc3RhcnRzV2l0aChzdHIsIHNlYXJjaCwgcG9zKSB7XG4gIHJldHVybiBzdHIuc3Vic3RyKCFwb3MgfHwgcG9zIDwgMCA/IDAgOiArcG9zLCBzZWFyY2gubGVuZ3RoKSA9PT0gc2VhcmNoO1xufSAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvZW5kc1dpdGhcblxuXG5mdW5jdGlvbiBlbmRzV2l0aChzdHIsIHNlYXJjaCwgdGhpc19sZW4pIHtcbiAgaWYgKHRoaXNfbGVuID09PSB1bmRlZmluZWQgfHwgdGhpc19sZW4gPiBzdHIubGVuZ3RoKSB7XG4gICAgdGhpc19sZW4gPSBzdHIubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIHN0ci5zdWJzdHJpbmcodGhpc19sZW4gLSBzZWFyY2gubGVuZ3RoLCB0aGlzX2xlbikgPT09IHNlYXJjaDtcbn0gLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL2luY2x1ZGVzXG5cblxuZnVuY3Rpb24gaW5jbHVkZXMoc3RyLCBzZWFyY2gsIHN0YXJ0KSB7XG4gIGlmICh0eXBlb2Ygc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgc3RhcnQgPSAwO1xuICB9XG5cbiAgaWYgKHN0YXJ0ICsgc2VhcmNoLmxlbmd0aCA+IHN0ci5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKHNlYXJjaCwgc3RhcnQpICE9PSAtMTtcbiAgfVxufVxuXG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9BTUJJR1VPVVNfQVJHVU1FTlQnLCAnVGhlIFwiJXNcIiBhcmd1bWVudCBpcyBhbWJpZ3VvdXMuICVzJywgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX0lOVkFMSURfQVJHX1RZUEUnLCBmdW5jdGlvbiAobmFtZSwgZXhwZWN0ZWQsIGFjdHVhbCkge1xuICBpZiAoYXNzZXJ0ID09PSB1bmRlZmluZWQpIGFzc2VydCA9IHJlcXVpcmUoJy4uL2Fzc2VydCcpO1xuICBhc3NlcnQodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnLCBcIiduYW1lJyBtdXN0IGJlIGEgc3RyaW5nXCIpOyAvLyBkZXRlcm1pbmVyOiAnbXVzdCBiZScgb3IgJ211c3Qgbm90IGJlJ1xuXG4gIHZhciBkZXRlcm1pbmVyO1xuXG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnICYmIHN0YXJ0c1dpdGgoZXhwZWN0ZWQsICdub3QgJykpIHtcbiAgICBkZXRlcm1pbmVyID0gJ211c3Qgbm90IGJlJztcbiAgICBleHBlY3RlZCA9IGV4cGVjdGVkLnJlcGxhY2UoL15ub3QgLywgJycpO1xuICB9IGVsc2Uge1xuICAgIGRldGVybWluZXIgPSAnbXVzdCBiZSc7XG4gIH1cblxuICB2YXIgbXNnO1xuXG4gIGlmIChlbmRzV2l0aChuYW1lLCAnIGFyZ3VtZW50JykpIHtcbiAgICAvLyBGb3IgY2FzZXMgbGlrZSAnZmlyc3QgYXJndW1lbnQnXG4gICAgbXNnID0gXCJUaGUgXCIuY29uY2F0KG5hbWUsIFwiIFwiKS5jb25jYXQoZGV0ZXJtaW5lciwgXCIgXCIpLmNvbmNhdChvbmVPZihleHBlY3RlZCwgJ3R5cGUnKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHR5cGUgPSBpbmNsdWRlcyhuYW1lLCAnLicpID8gJ3Byb3BlcnR5JyA6ICdhcmd1bWVudCc7XG4gICAgbXNnID0gXCJUaGUgXFxcIlwiLmNvbmNhdChuYW1lLCBcIlxcXCIgXCIpLmNvbmNhdCh0eXBlLCBcIiBcIikuY29uY2F0KGRldGVybWluZXIsIFwiIFwiKS5jb25jYXQob25lT2YoZXhwZWN0ZWQsICd0eXBlJykpO1xuICB9IC8vIFRPRE8oQnJpZGdlQVIpOiBJbXByb3ZlIHRoZSBvdXRwdXQgYnkgc2hvd2luZyBgbnVsbGAgYW5kIHNpbWlsYXIuXG5cblxuICBtc2cgKz0gXCIuIFJlY2VpdmVkIHR5cGUgXCIuY29uY2F0KF90eXBlb2YoYWN0dWFsKSk7XG4gIHJldHVybiBtc2c7XG59LCBUeXBlRXJyb3IpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfSU5WQUxJRF9BUkdfVkFMVUUnLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgdmFyIHJlYXNvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2lzIGludmFsaWQnO1xuICBpZiAodXRpbCA9PT0gdW5kZWZpbmVkKSB1dGlsID0gcmVxdWlyZSgndXRpbC8nKTtcbiAgdmFyIGluc3BlY3RlZCA9IHV0aWwuaW5zcGVjdCh2YWx1ZSk7XG5cbiAgaWYgKGluc3BlY3RlZC5sZW5ndGggPiAxMjgpIHtcbiAgICBpbnNwZWN0ZWQgPSBcIlwiLmNvbmNhdChpbnNwZWN0ZWQuc2xpY2UoMCwgMTI4KSwgXCIuLi5cIik7XG4gIH1cblxuICByZXR1cm4gXCJUaGUgYXJndW1lbnQgJ1wiLmNvbmNhdChuYW1lLCBcIicgXCIpLmNvbmNhdChyZWFzb24sIFwiLiBSZWNlaXZlZCBcIikuY29uY2F0KGluc3BlY3RlZCk7XG59LCBUeXBlRXJyb3IsIFJhbmdlRXJyb3IpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUUnLCBmdW5jdGlvbiAoaW5wdXQsIG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0eXBlO1xuXG4gIGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgdHlwZSA9IFwiaW5zdGFuY2Ugb2YgXCIuY29uY2F0KHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHR5cGUgPSBcInR5cGUgXCIuY29uY2F0KF90eXBlb2YodmFsdWUpKTtcbiAgfVxuXG4gIHJldHVybiBcIkV4cGVjdGVkIFwiLmNvbmNhdChpbnB1dCwgXCIgdG8gYmUgcmV0dXJuZWQgZnJvbSB0aGUgXFxcIlwiKS5jb25jYXQobmFtZSwgXCJcXFwiXCIpICsgXCIgZnVuY3Rpb24gYnV0IGdvdCBcIi5jb25jYXQodHlwZSwgXCIuXCIpO1xufSwgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX01JU1NJTkdfQVJHUycsIGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChhc3NlcnQgPT09IHVuZGVmaW5lZCkgYXNzZXJ0ID0gcmVxdWlyZSgnLi4vYXNzZXJ0Jyk7XG4gIGFzc2VydChhcmdzLmxlbmd0aCA+IDAsICdBdCBsZWFzdCBvbmUgYXJnIG5lZWRzIHRvIGJlIHNwZWNpZmllZCcpO1xuICB2YXIgbXNnID0gJ1RoZSAnO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIGFyZ3MgPSBhcmdzLm1hcChmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQoYSwgXCJcXFwiXCIpO1xuICB9KTtcblxuICBzd2l0Y2ggKGxlbikge1xuICAgIGNhc2UgMTpcbiAgICAgIG1zZyArPSBcIlwiLmNvbmNhdChhcmdzWzBdLCBcIiBhcmd1bWVudFwiKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAyOlxuICAgICAgbXNnICs9IFwiXCIuY29uY2F0KGFyZ3NbMF0sIFwiIGFuZCBcIikuY29uY2F0KGFyZ3NbMV0sIFwiIGFyZ3VtZW50c1wiKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIG1zZyArPSBhcmdzLnNsaWNlKDAsIGxlbiAtIDEpLmpvaW4oJywgJyk7XG4gICAgICBtc2cgKz0gXCIsIGFuZCBcIi5jb25jYXQoYXJnc1tsZW4gLSAxXSwgXCIgYXJndW1lbnRzXCIpO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gXCJcIi5jb25jYXQobXNnLCBcIiBtdXN0IGJlIHNwZWNpZmllZFwiKTtcbn0sIFR5cGVFcnJvcik7XG5tb2R1bGUuZXhwb3J0cy5jb2RlcyA9IGNvZGVzOyIsICIvLyBDdXJyZW50bHkgaW4gc3luYyB3aXRoIE5vZGUuanMgbGliL2ludGVybmFsL2Fzc2VydC9hc3NlcnRpb25fZXJyb3IuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9jb21taXQvMDgxNzg0MGY3NzUwMzIxNjlkZGQ3MGM4NWFjMDU5ZjE4ZmZjYzgxY1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHsgb3duS2V5cyA9IG93bktleXMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSkuZW51bWVyYWJsZTsgfSkpOyB9IG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cblxuZnVuY3Rpb24gaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykgeyBpZiAoaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0OyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikgeyByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgndXRpbC8nKSxcbiAgICBpbnNwZWN0ID0gX3JlcXVpcmUuaW5zcGVjdDtcblxudmFyIF9yZXF1aXJlMiA9IHJlcXVpcmUoJy4uL2Vycm9ycycpLFxuICAgIEVSUl9JTlZBTElEX0FSR19UWVBFID0gX3JlcXVpcmUyLmNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFOyAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvZW5kc1dpdGhcblxuXG5mdW5jdGlvbiBlbmRzV2l0aChzdHIsIHNlYXJjaCwgdGhpc19sZW4pIHtcbiAgaWYgKHRoaXNfbGVuID09PSB1bmRlZmluZWQgfHwgdGhpc19sZW4gPiBzdHIubGVuZ3RoKSB7XG4gICAgdGhpc19sZW4gPSBzdHIubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIHN0ci5zdWJzdHJpbmcodGhpc19sZW4gLSBzZWFyY2gubGVuZ3RoLCB0aGlzX2xlbikgPT09IHNlYXJjaDtcbn0gLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3JlcGVhdFxuXG5cbmZ1bmN0aW9uIHJlcGVhdChzdHIsIGNvdW50KSB7XG4gIGNvdW50ID0gTWF0aC5mbG9vcihjb3VudCk7XG4gIGlmIChzdHIubGVuZ3RoID09IDAgfHwgY291bnQgPT0gMCkgcmV0dXJuICcnO1xuICB2YXIgbWF4Q291bnQgPSBzdHIubGVuZ3RoICogY291bnQ7XG4gIGNvdW50ID0gTWF0aC5mbG9vcihNYXRoLmxvZyhjb3VudCkgLyBNYXRoLmxvZygyKSk7XG5cbiAgd2hpbGUgKGNvdW50KSB7XG4gICAgc3RyICs9IHN0cjtcbiAgICBjb3VudC0tO1xuICB9XG5cbiAgc3RyICs9IHN0ci5zdWJzdHJpbmcoMCwgbWF4Q291bnQgLSBzdHIubGVuZ3RoKTtcbiAgcmV0dXJuIHN0cjtcbn1cblxudmFyIGJsdWUgPSAnJztcbnZhciBncmVlbiA9ICcnO1xudmFyIHJlZCA9ICcnO1xudmFyIHdoaXRlID0gJyc7XG52YXIga1JlYWRhYmxlT3BlcmF0b3IgPSB7XG4gIGRlZXBTdHJpY3RFcXVhbDogJ0V4cGVjdGVkIHZhbHVlcyB0byBiZSBzdHJpY3RseSBkZWVwLWVxdWFsOicsXG4gIHN0cmljdEVxdWFsOiAnRXhwZWN0ZWQgdmFsdWVzIHRvIGJlIHN0cmljdGx5IGVxdWFsOicsXG4gIHN0cmljdEVxdWFsT2JqZWN0OiAnRXhwZWN0ZWQgXCJhY3R1YWxcIiB0byBiZSByZWZlcmVuY2UtZXF1YWwgdG8gXCJleHBlY3RlZFwiOicsXG4gIGRlZXBFcXVhbDogJ0V4cGVjdGVkIHZhbHVlcyB0byBiZSBsb29zZWx5IGRlZXAtZXF1YWw6JyxcbiAgZXF1YWw6ICdFeHBlY3RlZCB2YWx1ZXMgdG8gYmUgbG9vc2VseSBlcXVhbDonLFxuICBub3REZWVwU3RyaWN0RXF1YWw6ICdFeHBlY3RlZCBcImFjdHVhbFwiIG5vdCB0byBiZSBzdHJpY3RseSBkZWVwLWVxdWFsIHRvOicsXG4gIG5vdFN0cmljdEVxdWFsOiAnRXhwZWN0ZWQgXCJhY3R1YWxcIiB0byBiZSBzdHJpY3RseSB1bmVxdWFsIHRvOicsXG4gIG5vdFN0cmljdEVxdWFsT2JqZWN0OiAnRXhwZWN0ZWQgXCJhY3R1YWxcIiBub3QgdG8gYmUgcmVmZXJlbmNlLWVxdWFsIHRvIFwiZXhwZWN0ZWRcIjonLFxuICBub3REZWVwRXF1YWw6ICdFeHBlY3RlZCBcImFjdHVhbFwiIG5vdCB0byBiZSBsb29zZWx5IGRlZXAtZXF1YWwgdG86JyxcbiAgbm90RXF1YWw6ICdFeHBlY3RlZCBcImFjdHVhbFwiIHRvIGJlIGxvb3NlbHkgdW5lcXVhbCB0bzonLFxuICBub3RJZGVudGljYWw6ICdWYWx1ZXMgaWRlbnRpY2FsIGJ1dCBub3QgcmVmZXJlbmNlLWVxdWFsOidcbn07IC8vIENvbXBhcmluZyBzaG9ydCBwcmltaXRpdmVzIHNob3VsZCBqdXN0IHNob3cgPT09IC8gIT09IGluc3RlYWQgb2YgdXNpbmcgdGhlXG4vLyBkaWZmLlxuXG52YXIga01heFNob3J0TGVuZ3RoID0gMTA7XG5cbmZ1bmN0aW9uIGNvcHlFcnJvcihzb3VyY2UpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIgdGFyZ2V0ID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2Yoc291cmNlKSk7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsICdtZXNzYWdlJywge1xuICAgIHZhbHVlOiBzb3VyY2UubWVzc2FnZVxuICB9KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gaW5zcGVjdFZhbHVlKHZhbCkge1xuICAvLyBUaGUgdXRpbC5pbnNwZWN0IGRlZmF1bHQgdmFsdWVzIGNvdWxkIGJlIGNoYW5nZWQuIFRoaXMgbWFrZXMgc3VyZSB0aGVcbiAgLy8gZXJyb3IgbWVzc2FnZXMgY29udGFpbiB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIG5ldmVydGhlbGVzcy5cbiAgcmV0dXJuIGluc3BlY3QodmFsLCB7XG4gICAgY29tcGFjdDogZmFsc2UsXG4gICAgY3VzdG9tSW5zcGVjdDogZmFsc2UsXG4gICAgZGVwdGg6IDEwMDAsXG4gICAgbWF4QXJyYXlMZW5ndGg6IEluZmluaXR5LFxuICAgIC8vIEFzc2VydCBjb21wYXJlcyBvbmx5IGVudW1lcmFibGUgcHJvcGVydGllcyAod2l0aCBhIGZldyBleGNlcHRpb25zKS5cbiAgICBzaG93SGlkZGVuOiBmYWxzZSxcbiAgICAvLyBIYXZpbmcgYSBsb25nIGxpbmUgYXMgZXJyb3IgaXMgYmV0dGVyIHRoYW4gd3JhcHBpbmcgdGhlIGxpbmUgZm9yXG4gICAgLy8gY29tcGFyaXNvbiBmb3Igbm93LlxuICAgIC8vIFRPRE8oQnJpZGdlQVIpOiBgYnJlYWtMZW5ndGhgIHNob3VsZCBiZSBsaW1pdGVkIGFzIHNvb24gYXMgc29vbiBhcyB3ZVxuICAgIC8vIGhhdmUgbWV0YSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaW5zcGVjdGVkIHByb3BlcnRpZXMgKGkuZS4sIGtub3cgd2hlcmVcbiAgICAvLyBpbiB3aGF0IGxpbmUgdGhlIHByb3BlcnR5IHN0YXJ0cyBhbmQgZW5kcykuXG4gICAgYnJlYWtMZW5ndGg6IEluZmluaXR5LFxuICAgIC8vIEFzc2VydCBkb2VzIG5vdCBkZXRlY3QgcHJveGllcyBjdXJyZW50bHkuXG4gICAgc2hvd1Byb3h5OiBmYWxzZSxcbiAgICBzb3J0ZWQ6IHRydWUsXG4gICAgLy8gSW5zcGVjdCBnZXR0ZXJzIGFzIHdlIGFsc28gY2hlY2sgdGhlbSB3aGVuIGNvbXBhcmluZyBlbnRyaWVzLlxuICAgIGdldHRlcnM6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVyckRpZmYoYWN0dWFsLCBleHBlY3RlZCwgb3BlcmF0b3IpIHtcbiAgdmFyIG90aGVyID0gJyc7XG4gIHZhciByZXMgPSAnJztcbiAgdmFyIGxhc3RQb3MgPSAwO1xuICB2YXIgZW5kID0gJyc7XG4gIHZhciBza2lwcGVkID0gZmFsc2U7XG4gIHZhciBhY3R1YWxJbnNwZWN0ZWQgPSBpbnNwZWN0VmFsdWUoYWN0dWFsKTtcbiAgdmFyIGFjdHVhbExpbmVzID0gYWN0dWFsSW5zcGVjdGVkLnNwbGl0KCdcXG4nKTtcbiAgdmFyIGV4cGVjdGVkTGluZXMgPSBpbnNwZWN0VmFsdWUoZXhwZWN0ZWQpLnNwbGl0KCdcXG4nKTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgaW5kaWNhdG9yID0gJyc7IC8vIEluIGNhc2UgYm90aCB2YWx1ZXMgYXJlIG9iamVjdHMgZXhwbGljaXRseSBtYXJrIHRoZW0gYXMgbm90IHJlZmVyZW5jZSBlcXVhbFxuICAvLyBmb3IgdGhlIGBzdHJpY3RFcXVhbGAgb3BlcmF0b3IuXG5cbiAgaWYgKG9wZXJhdG9yID09PSAnc3RyaWN0RXF1YWwnICYmIF90eXBlb2YoYWN0dWFsKSA9PT0gJ29iamVjdCcgJiYgX3R5cGVvZihleHBlY3RlZCkgPT09ICdvYmplY3QnICYmIGFjdHVhbCAhPT0gbnVsbCAmJiBleHBlY3RlZCAhPT0gbnVsbCkge1xuICAgIG9wZXJhdG9yID0gJ3N0cmljdEVxdWFsT2JqZWN0JztcbiAgfSAvLyBJZiBcImFjdHVhbFwiIGFuZCBcImV4cGVjdGVkXCIgZml0IG9uIGEgc2luZ2xlIGxpbmUgYW5kIHRoZXkgYXJlIG5vdCBzdHJpY3RseVxuICAvLyBlcXVhbCwgY2hlY2sgZnVydGhlciBzcGVjaWFsIGhhbmRsaW5nLlxuXG5cbiAgaWYgKGFjdHVhbExpbmVzLmxlbmd0aCA9PT0gMSAmJiBleHBlY3RlZExpbmVzLmxlbmd0aCA9PT0gMSAmJiBhY3R1YWxMaW5lc1swXSAhPT0gZXhwZWN0ZWRMaW5lc1swXSkge1xuICAgIHZhciBpbnB1dExlbmd0aCA9IGFjdHVhbExpbmVzWzBdLmxlbmd0aCArIGV4cGVjdGVkTGluZXNbMF0ubGVuZ3RoOyAvLyBJZiB0aGUgY2hhcmFjdGVyIGxlbmd0aCBvZiBcImFjdHVhbFwiIGFuZCBcImV4cGVjdGVkXCIgdG9nZXRoZXIgaXMgbGVzcyB0aGFuXG4gICAgLy8ga01heFNob3J0TGVuZ3RoIGFuZCBpZiBuZWl0aGVyIGlzIGFuIG9iamVjdCBhbmQgYXQgbGVhc3Qgb25lIG9mIHRoZW0gaXNcbiAgICAvLyBub3QgYHplcm9gLCB1c2UgdGhlIHN0cmljdCBlcXVhbCBjb21wYXJpc29uIHRvIHZpc3VhbGl6ZSB0aGUgb3V0cHV0LlxuXG4gICAgaWYgKGlucHV0TGVuZ3RoIDw9IGtNYXhTaG9ydExlbmd0aCkge1xuICAgICAgaWYgKChfdHlwZW9mKGFjdHVhbCkgIT09ICdvYmplY3QnIHx8IGFjdHVhbCA9PT0gbnVsbCkgJiYgKF90eXBlb2YoZXhwZWN0ZWQpICE9PSAnb2JqZWN0JyB8fCBleHBlY3RlZCA9PT0gbnVsbCkgJiYgKGFjdHVhbCAhPT0gMCB8fCBleHBlY3RlZCAhPT0gMCkpIHtcbiAgICAgICAgLy8gLTAgPT09ICswXG4gICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChrUmVhZGFibGVPcGVyYXRvcltvcGVyYXRvcl0sIFwiXFxuXFxuXCIpICsgXCJcIi5jb25jYXQoYWN0dWFsTGluZXNbMF0sIFwiICE9PSBcIikuY29uY2F0KGV4cGVjdGVkTGluZXNbMF0sIFwiXFxuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgIT09ICdzdHJpY3RFcXVhbE9iamVjdCcpIHtcbiAgICAgIC8vIElmIHRoZSBzdGRlcnIgaXMgYSB0dHkgYW5kIHRoZSBpbnB1dCBsZW5ndGggaXMgbG93ZXIgdGhhbiB0aGUgY3VycmVudFxuICAgICAgLy8gY29sdW1ucyBwZXIgbGluZSwgYWRkIGEgbWlzbWF0Y2ggaW5kaWNhdG9yIGJlbG93IHRoZSBvdXRwdXQuIElmIGl0IGlzXG4gICAgICAvLyBub3QgYSB0dHksIHVzZSBhIGRlZmF1bHQgdmFsdWUgb2YgODAgY2hhcmFjdGVycy5cbiAgICAgIHZhciBtYXhMZW5ndGggPSBwcm9jZXNzLnN0ZGVyciAmJiBwcm9jZXNzLnN0ZGVyci5pc1RUWSA/IHByb2Nlc3Muc3RkZXJyLmNvbHVtbnMgOiA4MDtcblxuICAgICAgaWYgKGlucHV0TGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHdoaWxlIChhY3R1YWxMaW5lc1swXVtpXSA9PT0gZXhwZWN0ZWRMaW5lc1swXVtpXSkge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfSAvLyBJZ25vcmUgdGhlIGZpcnN0IGNoYXJhY3RlcnMuXG5cblxuICAgICAgICBpZiAoaSA+IDIpIHtcbiAgICAgICAgICAvLyBBZGQgcG9zaXRpb24gaW5kaWNhdG9yIGZvciB0aGUgZmlyc3QgbWlzbWF0Y2ggaW4gY2FzZSBpdCBpcyBhXG4gICAgICAgICAgLy8gc2luZ2xlIGxpbmUgYW5kIHRoZSBpbnB1dCBsZW5ndGggaXMgbGVzcyB0aGFuIHRoZSBjb2x1bW4gbGVuZ3RoLlxuICAgICAgICAgIGluZGljYXRvciA9IFwiXFxuICBcIi5jb25jYXQocmVwZWF0KCcgJywgaSksIFwiXlwiKTtcbiAgICAgICAgICBpID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSAvLyBSZW1vdmUgYWxsIGVuZGluZyBsaW5lcyB0aGF0IG1hdGNoICh0aGlzIG9wdGltaXplcyB0aGUgb3V0cHV0IGZvclxuICAvLyByZWFkYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgbnVtYmVyIG9mIHRvdGFsIGNoYW5nZWQgbGluZXMpLlxuXG5cbiAgdmFyIGEgPSBhY3R1YWxMaW5lc1thY3R1YWxMaW5lcy5sZW5ndGggLSAxXTtcbiAgdmFyIGIgPSBleHBlY3RlZExpbmVzW2V4cGVjdGVkTGluZXMubGVuZ3RoIC0gMV07XG5cbiAgd2hpbGUgKGEgPT09IGIpIHtcbiAgICBpZiAoaSsrIDwgMikge1xuICAgICAgZW5kID0gXCJcXG4gIFwiLmNvbmNhdChhKS5jb25jYXQoZW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3RoZXIgPSBhO1xuICAgIH1cblxuICAgIGFjdHVhbExpbmVzLnBvcCgpO1xuICAgIGV4cGVjdGVkTGluZXMucG9wKCk7XG4gICAgaWYgKGFjdHVhbExpbmVzLmxlbmd0aCA9PT0gMCB8fCBleHBlY3RlZExpbmVzLmxlbmd0aCA9PT0gMCkgYnJlYWs7XG4gICAgYSA9IGFjdHVhbExpbmVzW2FjdHVhbExpbmVzLmxlbmd0aCAtIDFdO1xuICAgIGIgPSBleHBlY3RlZExpbmVzW2V4cGVjdGVkTGluZXMubGVuZ3RoIC0gMV07XG4gIH1cblxuICB2YXIgbWF4TGluZXMgPSBNYXRoLm1heChhY3R1YWxMaW5lcy5sZW5ndGgsIGV4cGVjdGVkTGluZXMubGVuZ3RoKTsgLy8gU3RyaWN0IGVxdWFsIHdpdGggaWRlbnRpY2FsIG9iamVjdHMgdGhhdCBhcmUgbm90IGlkZW50aWNhbCBieSByZWZlcmVuY2UuXG4gIC8vIEUuZy4sIGFzc2VydC5kZWVwU3RyaWN0RXF1YWwoeyBhOiBTeW1ib2woKSB9LCB7IGE6IFN5bWJvbCgpIH0pXG5cbiAgaWYgKG1heExpbmVzID09PSAwKSB7XG4gICAgLy8gV2UgaGF2ZSB0byBnZXQgdGhlIHJlc3VsdCBhZ2Fpbi4gVGhlIGxpbmVzIHdlcmUgYWxsIHJlbW92ZWQgYmVmb3JlLlxuICAgIHZhciBfYWN0dWFsTGluZXMgPSBhY3R1YWxJbnNwZWN0ZWQuc3BsaXQoJ1xcbicpOyAvLyBPbmx5IHJlbW92ZSBsaW5lcyBpbiBjYXNlIGl0IG1ha2VzIHNlbnNlIHRvIGNvbGxhcHNlIHRob3NlLlxuICAgIC8vIFRPRE86IEFjY2VwdCBlbnYgdG8gYWx3YXlzIHNob3cgdGhlIGZ1bGwgZXJyb3IuXG5cblxuICAgIGlmIChfYWN0dWFsTGluZXMubGVuZ3RoID4gMzApIHtcbiAgICAgIF9hY3R1YWxMaW5lc1syNl0gPSBcIlwiLmNvbmNhdChibHVlLCBcIi4uLlwiKS5jb25jYXQod2hpdGUpO1xuXG4gICAgICB3aGlsZSAoX2FjdHVhbExpbmVzLmxlbmd0aCA+IDI3KSB7XG4gICAgICAgIF9hY3R1YWxMaW5lcy5wb3AoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIi5jb25jYXQoa1JlYWRhYmxlT3BlcmF0b3Iubm90SWRlbnRpY2FsLCBcIlxcblxcblwiKS5jb25jYXQoX2FjdHVhbExpbmVzLmpvaW4oJ1xcbicpLCBcIlxcblwiKTtcbiAgfVxuXG4gIGlmIChpID4gMykge1xuICAgIGVuZCA9IFwiXFxuXCIuY29uY2F0KGJsdWUsIFwiLi4uXCIpLmNvbmNhdCh3aGl0ZSkuY29uY2F0KGVuZCk7XG4gICAgc2tpcHBlZCA9IHRydWU7XG4gIH1cblxuICBpZiAob3RoZXIgIT09ICcnKSB7XG4gICAgZW5kID0gXCJcXG4gIFwiLmNvbmNhdChvdGhlcikuY29uY2F0KGVuZCk7XG4gICAgb3RoZXIgPSAnJztcbiAgfVxuXG4gIHZhciBwcmludGVkTGluZXMgPSAwO1xuICB2YXIgbXNnID0ga1JlYWRhYmxlT3BlcmF0b3Jbb3BlcmF0b3JdICsgXCJcXG5cIi5jb25jYXQoZ3JlZW4sIFwiKyBhY3R1YWxcIikuY29uY2F0KHdoaXRlLCBcIiBcIikuY29uY2F0KHJlZCwgXCItIGV4cGVjdGVkXCIpLmNvbmNhdCh3aGl0ZSk7XG4gIHZhciBza2lwcGVkTXNnID0gXCIgXCIuY29uY2F0KGJsdWUsIFwiLi4uXCIpLmNvbmNhdCh3aGl0ZSwgXCIgTGluZXMgc2tpcHBlZFwiKTtcblxuICBmb3IgKGkgPSAwOyBpIDwgbWF4TGluZXM7IGkrKykge1xuICAgIC8vIE9ubHkgZXh0cmEgZXhwZWN0ZWQgbGluZXMgZXhpc3RcbiAgICB2YXIgY3VyID0gaSAtIGxhc3RQb3M7XG5cbiAgICBpZiAoYWN0dWFsTGluZXMubGVuZ3RoIDwgaSArIDEpIHtcbiAgICAgIC8vIElmIHRoZSBsYXN0IGRpdmVyZ2luZyBsaW5lIGlzIG1vcmUgdGhhbiBvbmUgbGluZSBhYm92ZSBhbmQgdGhlXG4gICAgICAvLyBjdXJyZW50IGxpbmUgaXMgYXQgbGVhc3QgbGluZSB0aHJlZSwgYWRkIHNvbWUgb2YgdGhlIGZvcm1lciBsaW5lcyBhbmRcbiAgICAgIC8vIGFsc28gYWRkIGRvdHMgdG8gaW5kaWNhdGUgc2tpcHBlZCBlbnRyaWVzLlxuICAgICAgaWYgKGN1ciA+IDEgJiYgaSA+IDIpIHtcbiAgICAgICAgaWYgKGN1ciA+IDQpIHtcbiAgICAgICAgICByZXMgKz0gXCJcXG5cIi5jb25jYXQoYmx1ZSwgXCIuLi5cIikuY29uY2F0KHdoaXRlKTtcbiAgICAgICAgICBza2lwcGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXIgPiAzKSB7XG4gICAgICAgICAgcmVzICs9IFwiXFxuICBcIi5jb25jYXQoZXhwZWN0ZWRMaW5lc1tpIC0gMl0pO1xuICAgICAgICAgIHByaW50ZWRMaW5lcysrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzICs9IFwiXFxuICBcIi5jb25jYXQoZXhwZWN0ZWRMaW5lc1tpIC0gMV0pO1xuICAgICAgICBwcmludGVkTGluZXMrKztcbiAgICAgIH0gLy8gTWFyayB0aGUgY3VycmVudCBsaW5lIGFzIHRoZSBsYXN0IGRpdmVyZ2luZyBvbmUuXG5cblxuICAgICAgbGFzdFBvcyA9IGk7IC8vIEFkZCB0aGUgZXhwZWN0ZWQgbGluZSB0byB0aGUgY2FjaGUuXG5cbiAgICAgIG90aGVyICs9IFwiXFxuXCIuY29uY2F0KHJlZCwgXCItXCIpLmNvbmNhdCh3aGl0ZSwgXCIgXCIpLmNvbmNhdChleHBlY3RlZExpbmVzW2ldKTtcbiAgICAgIHByaW50ZWRMaW5lcysrOyAvLyBPbmx5IGV4dHJhIGFjdHVhbCBsaW5lcyBleGlzdFxuICAgIH0gZWxzZSBpZiAoZXhwZWN0ZWRMaW5lcy5sZW5ndGggPCBpICsgMSkge1xuICAgICAgLy8gSWYgdGhlIGxhc3QgZGl2ZXJnaW5nIGxpbmUgaXMgbW9yZSB0aGFuIG9uZSBsaW5lIGFib3ZlIGFuZCB0aGVcbiAgICAgIC8vIGN1cnJlbnQgbGluZSBpcyBhdCBsZWFzdCBsaW5lIHRocmVlLCBhZGQgc29tZSBvZiB0aGUgZm9ybWVyIGxpbmVzIGFuZFxuICAgICAgLy8gYWxzbyBhZGQgZG90cyB0byBpbmRpY2F0ZSBza2lwcGVkIGVudHJpZXMuXG4gICAgICBpZiAoY3VyID4gMSAmJiBpID4gMikge1xuICAgICAgICBpZiAoY3VyID4gNCkge1xuICAgICAgICAgIHJlcyArPSBcIlxcblwiLmNvbmNhdChibHVlLCBcIi4uLlwiKS5jb25jYXQod2hpdGUpO1xuICAgICAgICAgIHNraXBwZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGN1ciA+IDMpIHtcbiAgICAgICAgICByZXMgKz0gXCJcXG4gIFwiLmNvbmNhdChhY3R1YWxMaW5lc1tpIC0gMl0pO1xuICAgICAgICAgIHByaW50ZWRMaW5lcysrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzICs9IFwiXFxuICBcIi5jb25jYXQoYWN0dWFsTGluZXNbaSAtIDFdKTtcbiAgICAgICAgcHJpbnRlZExpbmVzKys7XG4gICAgICB9IC8vIE1hcmsgdGhlIGN1cnJlbnQgbGluZSBhcyB0aGUgbGFzdCBkaXZlcmdpbmcgb25lLlxuXG5cbiAgICAgIGxhc3RQb3MgPSBpOyAvLyBBZGQgdGhlIGFjdHVhbCBsaW5lIHRvIHRoZSByZXN1bHQuXG5cbiAgICAgIHJlcyArPSBcIlxcblwiLmNvbmNhdChncmVlbiwgXCIrXCIpLmNvbmNhdCh3aGl0ZSwgXCIgXCIpLmNvbmNhdChhY3R1YWxMaW5lc1tpXSk7XG4gICAgICBwcmludGVkTGluZXMrKzsgLy8gTGluZXMgZGl2ZXJnZVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZXhwZWN0ZWRMaW5lID0gZXhwZWN0ZWRMaW5lc1tpXTtcbiAgICAgIHZhciBhY3R1YWxMaW5lID0gYWN0dWFsTGluZXNbaV07IC8vIElmIHRoZSBsaW5lcyBkaXZlcmdlLCBzcGVjaWZpY2FsbHkgY2hlY2sgZm9yIGxpbmVzIHRoYXQgb25seSBkaXZlcmdlIGJ5XG4gICAgICAvLyBhIHRyYWlsaW5nIGNvbW1hLiBJbiB0aGF0IGNhc2UgaXQgaXMgYWN0dWFsbHkgaWRlbnRpY2FsIGFuZCB3ZSBzaG91bGRcbiAgICAgIC8vIG1hcmsgaXQgYXMgc3VjaC5cblxuICAgICAgdmFyIGRpdmVyZ2luZ0xpbmVzID0gYWN0dWFsTGluZSAhPT0gZXhwZWN0ZWRMaW5lICYmICghZW5kc1dpdGgoYWN0dWFsTGluZSwgJywnKSB8fCBhY3R1YWxMaW5lLnNsaWNlKDAsIC0xKSAhPT0gZXhwZWN0ZWRMaW5lKTsgLy8gSWYgdGhlIGV4cGVjdGVkIGxpbmUgaGFzIGEgdHJhaWxpbmcgY29tbWEgYnV0IGlzIG90aGVyd2lzZSBpZGVudGljYWwsXG4gICAgICAvLyBhZGQgYSBjb21tYSBhdCB0aGUgZW5kIG9mIHRoZSBhY3R1YWwgbGluZS4gT3RoZXJ3aXNlIHRoZSBvdXRwdXQgY291bGRcbiAgICAgIC8vIGxvb2sgd2VpcmQgYXMgaW46XG4gICAgICAvL1xuICAgICAgLy8gICBbXG4gICAgICAvLyAgICAgMSAgICAgICAgIC8vIE5vIGNvbW1hIGF0IHRoZSBlbmQhXG4gICAgICAvLyArICAgMlxuICAgICAgLy8gICBdXG4gICAgICAvL1xuXG4gICAgICBpZiAoZGl2ZXJnaW5nTGluZXMgJiYgZW5kc1dpdGgoZXhwZWN0ZWRMaW5lLCAnLCcpICYmIGV4cGVjdGVkTGluZS5zbGljZSgwLCAtMSkgPT09IGFjdHVhbExpbmUpIHtcbiAgICAgICAgZGl2ZXJnaW5nTGluZXMgPSBmYWxzZTtcbiAgICAgICAgYWN0dWFsTGluZSArPSAnLCc7XG4gICAgICB9XG5cbiAgICAgIGlmIChkaXZlcmdpbmdMaW5lcykge1xuICAgICAgICAvLyBJZiB0aGUgbGFzdCBkaXZlcmdpbmcgbGluZSBpcyBtb3JlIHRoYW4gb25lIGxpbmUgYWJvdmUgYW5kIHRoZVxuICAgICAgICAvLyBjdXJyZW50IGxpbmUgaXMgYXQgbGVhc3QgbGluZSB0aHJlZSwgYWRkIHNvbWUgb2YgdGhlIGZvcm1lciBsaW5lcyBhbmRcbiAgICAgICAgLy8gYWxzbyBhZGQgZG90cyB0byBpbmRpY2F0ZSBza2lwcGVkIGVudHJpZXMuXG4gICAgICAgIGlmIChjdXIgPiAxICYmIGkgPiAyKSB7XG4gICAgICAgICAgaWYgKGN1ciA+IDQpIHtcbiAgICAgICAgICAgIHJlcyArPSBcIlxcblwiLmNvbmNhdChibHVlLCBcIi4uLlwiKS5jb25jYXQod2hpdGUpO1xuICAgICAgICAgICAgc2tpcHBlZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChjdXIgPiAzKSB7XG4gICAgICAgICAgICByZXMgKz0gXCJcXG4gIFwiLmNvbmNhdChhY3R1YWxMaW5lc1tpIC0gMl0pO1xuICAgICAgICAgICAgcHJpbnRlZExpbmVzKys7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzICs9IFwiXFxuICBcIi5jb25jYXQoYWN0dWFsTGluZXNbaSAtIDFdKTtcbiAgICAgICAgICBwcmludGVkTGluZXMrKztcbiAgICAgICAgfSAvLyBNYXJrIHRoZSBjdXJyZW50IGxpbmUgYXMgdGhlIGxhc3QgZGl2ZXJnaW5nIG9uZS5cblxuXG4gICAgICAgIGxhc3RQb3MgPSBpOyAvLyBBZGQgdGhlIGFjdHVhbCBsaW5lIHRvIHRoZSByZXN1bHQgYW5kIGNhY2hlIHRoZSBleHBlY3RlZCBkaXZlcmdpbmdcbiAgICAgICAgLy8gbGluZSBzbyBjb25zZWN1dGl2ZSBkaXZlcmdpbmcgbGluZXMgc2hvdyB1cCBhcyArKystLS0gYW5kIG5vdCArLSstKy0uXG5cbiAgICAgICAgcmVzICs9IFwiXFxuXCIuY29uY2F0KGdyZWVuLCBcIitcIikuY29uY2F0KHdoaXRlLCBcIiBcIikuY29uY2F0KGFjdHVhbExpbmUpO1xuICAgICAgICBvdGhlciArPSBcIlxcblwiLmNvbmNhdChyZWQsIFwiLVwiKS5jb25jYXQod2hpdGUsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRMaW5lKTtcbiAgICAgICAgcHJpbnRlZExpbmVzICs9IDI7IC8vIExpbmVzIGFyZSBpZGVudGljYWxcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFkZCBhbGwgY2FjaGVkIGluZm9ybWF0aW9uIHRvIHRoZSByZXN1bHQgYmVmb3JlIGFkZGluZyBvdGhlciB0aGluZ3NcbiAgICAgICAgLy8gYW5kIHJlc2V0IHRoZSBjYWNoZS5cbiAgICAgICAgcmVzICs9IG90aGVyO1xuICAgICAgICBvdGhlciA9ICcnOyAvLyBJZiB0aGUgbGFzdCBkaXZlcmdpbmcgbGluZSBpcyBleGFjdGx5IG9uZSBsaW5lIGFib3ZlIG9yIGlmIGl0IGlzIHRoZVxuICAgICAgICAvLyB2ZXJ5IGZpcnN0IGxpbmUsIGFkZCB0aGUgbGluZSB0byB0aGUgcmVzdWx0LlxuXG4gICAgICAgIGlmIChjdXIgPT09IDEgfHwgaSA9PT0gMCkge1xuICAgICAgICAgIHJlcyArPSBcIlxcbiAgXCIuY29uY2F0KGFjdHVhbExpbmUpO1xuICAgICAgICAgIHByaW50ZWRMaW5lcysrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSAvLyBJbnNwZWN0ZWQgb2JqZWN0IHRvIGJpZyAoU2hvdyB+MjAgcm93cyBtYXgpXG5cblxuICAgIGlmIChwcmludGVkTGluZXMgPiAyMCAmJiBpIDwgbWF4TGluZXMgLSAyKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQobXNnKS5jb25jYXQoc2tpcHBlZE1zZywgXCJcXG5cIikuY29uY2F0KHJlcywgXCJcXG5cIikuY29uY2F0KGJsdWUsIFwiLi4uXCIpLmNvbmNhdCh3aGl0ZSkuY29uY2F0KG90aGVyLCBcIlxcblwiKSArIFwiXCIuY29uY2F0KGJsdWUsIFwiLi4uXCIpLmNvbmNhdCh3aGl0ZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFwiXCIuY29uY2F0KG1zZykuY29uY2F0KHNraXBwZWQgPyBza2lwcGVkTXNnIDogJycsIFwiXFxuXCIpLmNvbmNhdChyZXMpLmNvbmNhdChvdGhlcikuY29uY2F0KGVuZCkuY29uY2F0KGluZGljYXRvcik7XG59XG5cbnZhciBBc3NlcnRpb25FcnJvciA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0Vycm9yKSB7XG4gIF9pbmhlcml0cyhBc3NlcnRpb25FcnJvciwgX0Vycm9yKTtcblxuICBmdW5jdGlvbiBBc3NlcnRpb25FcnJvcihvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFzc2VydGlvbkVycm9yKTtcblxuICAgIGlmIChfdHlwZW9mKG9wdGlvbnMpICE9PSAnb2JqZWN0JyB8fCBvcHRpb25zID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfQVJHX1RZUEUoJ29wdGlvbnMnLCAnT2JqZWN0Jywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgdmFyIG1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2UsXG4gICAgICAgIG9wZXJhdG9yID0gb3B0aW9ucy5vcGVyYXRvcixcbiAgICAgICAgc3RhY2tTdGFydEZuID0gb3B0aW9ucy5zdGFja1N0YXJ0Rm47XG4gICAgdmFyIGFjdHVhbCA9IG9wdGlvbnMuYWN0dWFsLFxuICAgICAgICBleHBlY3RlZCA9IG9wdGlvbnMuZXhwZWN0ZWQ7XG4gICAgdmFyIGxpbWl0ID0gRXJyb3Iuc3RhY2tUcmFjZUxpbWl0O1xuICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IDA7XG5cbiAgICBpZiAobWVzc2FnZSAhPSBudWxsKSB7XG4gICAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihBc3NlcnRpb25FcnJvcikuY2FsbCh0aGlzLCBTdHJpbmcobWVzc2FnZSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByb2Nlc3Muc3RkZXJyICYmIHByb2Nlc3Muc3RkZXJyLmlzVFRZKSB7XG4gICAgICAgIC8vIFJlc2V0IG9uIGVhY2ggY2FsbCB0byBtYWtlIHN1cmUgd2UgaGFuZGxlIGR5bmFtaWNhbGx5IHNldCBlbnZpcm9ubWVudFxuICAgICAgICAvLyB2YXJpYWJsZXMgY29ycmVjdC5cbiAgICAgICAgaWYgKHByb2Nlc3Muc3RkZXJyICYmIHByb2Nlc3Muc3RkZXJyLmdldENvbG9yRGVwdGggJiYgcHJvY2Vzcy5zdGRlcnIuZ2V0Q29sb3JEZXB0aCgpICE9PSAxKSB7XG4gICAgICAgICAgYmx1ZSA9IFwiXFx4MUJbMzRtXCI7XG4gICAgICAgICAgZ3JlZW4gPSBcIlxceDFCWzMybVwiO1xuICAgICAgICAgIHdoaXRlID0gXCJcXHgxQlszOW1cIjtcbiAgICAgICAgICByZWQgPSBcIlxceDFCWzMxbVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJsdWUgPSAnJztcbiAgICAgICAgICBncmVlbiA9ICcnO1xuICAgICAgICAgIHdoaXRlID0gJyc7XG4gICAgICAgICAgcmVkID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gUHJldmVudCB0aGUgZXJyb3Igc3RhY2sgZnJvbSBiZWluZyB2aXNpYmxlIGJ5IGR1cGxpY2F0aW5nIHRoZSBlcnJvclxuICAgICAgLy8gaW4gYSB2ZXJ5IGNsb3NlIHdheSB0byB0aGUgb3JpZ2luYWwgaW4gY2FzZSBib3RoIHNpZGVzIGFyZSBhY3R1YWxseVxuICAgICAgLy8gaW5zdGFuY2VzIG9mIEVycm9yLlxuXG5cbiAgICAgIGlmIChfdHlwZW9mKGFjdHVhbCkgPT09ICdvYmplY3QnICYmIGFjdHVhbCAhPT0gbnVsbCAmJiBfdHlwZW9mKGV4cGVjdGVkKSA9PT0gJ29iamVjdCcgJiYgZXhwZWN0ZWQgIT09IG51bGwgJiYgJ3N0YWNrJyBpbiBhY3R1YWwgJiYgYWN0dWFsIGluc3RhbmNlb2YgRXJyb3IgJiYgJ3N0YWNrJyBpbiBleHBlY3RlZCAmJiBleHBlY3RlZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGFjdHVhbCA9IGNvcHlFcnJvcihhY3R1YWwpO1xuICAgICAgICBleHBlY3RlZCA9IGNvcHlFcnJvcihleHBlY3RlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcGVyYXRvciA9PT0gJ2RlZXBTdHJpY3RFcXVhbCcgfHwgb3BlcmF0b3IgPT09ICdzdHJpY3RFcXVhbCcpIHtcbiAgICAgICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQXNzZXJ0aW9uRXJyb3IpLmNhbGwodGhpcywgY3JlYXRlRXJyRGlmZihhY3R1YWwsIGV4cGVjdGVkLCBvcGVyYXRvcikpKTtcbiAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICdub3REZWVwU3RyaWN0RXF1YWwnIHx8IG9wZXJhdG9yID09PSAnbm90U3RyaWN0RXF1YWwnKSB7XG4gICAgICAgIC8vIEluIGNhc2UgdGhlIG9iamVjdHMgYXJlIGVxdWFsIGJ1dCB0aGUgb3BlcmF0b3IgcmVxdWlyZXMgdW5lcXVhbCwgc2hvd1xuICAgICAgICAvLyB0aGUgZmlyc3Qgb2JqZWN0IGFuZCBzYXkgQSBlcXVhbHMgQlxuICAgICAgICB2YXIgYmFzZSA9IGtSZWFkYWJsZU9wZXJhdG9yW29wZXJhdG9yXTtcbiAgICAgICAgdmFyIHJlcyA9IGluc3BlY3RWYWx1ZShhY3R1YWwpLnNwbGl0KCdcXG4nKTsgLy8gSW4gY2FzZSBcImFjdHVhbFwiIGlzIGFuIG9iamVjdCwgaXQgc2hvdWxkIG5vdCBiZSByZWZlcmVuY2UgZXF1YWwuXG5cbiAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnbm90U3RyaWN0RXF1YWwnICYmIF90eXBlb2YoYWN0dWFsKSA9PT0gJ29iamVjdCcgJiYgYWN0dWFsICE9PSBudWxsKSB7XG4gICAgICAgICAgYmFzZSA9IGtSZWFkYWJsZU9wZXJhdG9yLm5vdFN0cmljdEVxdWFsT2JqZWN0O1xuICAgICAgICB9IC8vIE9ubHkgcmVtb3ZlIGxpbmVzIGluIGNhc2UgaXQgbWFrZXMgc2Vuc2UgdG8gY29sbGFwc2UgdGhvc2UuXG4gICAgICAgIC8vIFRPRE86IEFjY2VwdCBlbnYgdG8gYWx3YXlzIHNob3cgdGhlIGZ1bGwgZXJyb3IuXG5cblxuICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDMwKSB7XG4gICAgICAgICAgcmVzWzI2XSA9IFwiXCIuY29uY2F0KGJsdWUsIFwiLi4uXCIpLmNvbmNhdCh3aGl0ZSk7XG5cbiAgICAgICAgICB3aGlsZSAocmVzLmxlbmd0aCA+IDI3KSB7XG4gICAgICAgICAgICByZXMucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIE9ubHkgcHJpbnQgYSBzaW5nbGUgaW5wdXQuXG5cblxuICAgICAgICBpZiAocmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEFzc2VydGlvbkVycm9yKS5jYWxsKHRoaXMsIFwiXCIuY29uY2F0KGJhc2UsIFwiIFwiKS5jb25jYXQocmVzWzBdKSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKEFzc2VydGlvbkVycm9yKS5jYWxsKHRoaXMsIFwiXCIuY29uY2F0KGJhc2UsIFwiXFxuXFxuXCIpLmNvbmNhdChyZXMuam9pbignXFxuJyksIFwiXFxuXCIpKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfcmVzID0gaW5zcGVjdFZhbHVlKGFjdHVhbCk7XG5cbiAgICAgICAgdmFyIG90aGVyID0gJyc7XG4gICAgICAgIHZhciBrbm93bk9wZXJhdG9ycyA9IGtSZWFkYWJsZU9wZXJhdG9yW29wZXJhdG9yXTtcblxuICAgICAgICBpZiAob3BlcmF0b3IgPT09ICdub3REZWVwRXF1YWwnIHx8IG9wZXJhdG9yID09PSAnbm90RXF1YWwnKSB7XG4gICAgICAgICAgX3JlcyA9IFwiXCIuY29uY2F0KGtSZWFkYWJsZU9wZXJhdG9yW29wZXJhdG9yXSwgXCJcXG5cXG5cIikuY29uY2F0KF9yZXMpO1xuXG4gICAgICAgICAgaWYgKF9yZXMubGVuZ3RoID4gMTAyNCkge1xuICAgICAgICAgICAgX3JlcyA9IFwiXCIuY29uY2F0KF9yZXMuc2xpY2UoMCwgMTAyMSksIFwiLi4uXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdGhlciA9IFwiXCIuY29uY2F0KGluc3BlY3RWYWx1ZShleHBlY3RlZCkpO1xuXG4gICAgICAgICAgaWYgKF9yZXMubGVuZ3RoID4gNTEyKSB7XG4gICAgICAgICAgICBfcmVzID0gXCJcIi5jb25jYXQoX3Jlcy5zbGljZSgwLCA1MDkpLCBcIi4uLlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3RoZXIubGVuZ3RoID4gNTEyKSB7XG4gICAgICAgICAgICBvdGhlciA9IFwiXCIuY29uY2F0KG90aGVyLnNsaWNlKDAsIDUwOSksIFwiLi4uXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gJ2RlZXBFcXVhbCcgfHwgb3BlcmF0b3IgPT09ICdlcXVhbCcpIHtcbiAgICAgICAgICAgIF9yZXMgPSBcIlwiLmNvbmNhdChrbm93bk9wZXJhdG9ycywgXCJcXG5cXG5cIikuY29uY2F0KF9yZXMsIFwiXFxuXFxuc2hvdWxkIGVxdWFsXFxuXFxuXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdGhlciA9IFwiIFwiLmNvbmNhdChvcGVyYXRvciwgXCIgXCIpLmNvbmNhdChvdGhlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQXNzZXJ0aW9uRXJyb3IpLmNhbGwodGhpcywgXCJcIi5jb25jYXQoX3JlcykuY29uY2F0KG90aGVyKSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IGxpbWl0O1xuICAgIF90aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSAhbWVzc2FnZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksICduYW1lJywge1xuICAgICAgdmFsdWU6ICdBc3NlcnRpb25FcnJvciBbRVJSX0FTU0VSVElPTl0nLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIF90aGlzLmNvZGUgPSAnRVJSX0FTU0VSVElPTic7XG4gICAgX3RoaXMuYWN0dWFsID0gYWN0dWFsO1xuICAgIF90aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gICAgX3RoaXMub3BlcmF0b3IgPSBvcGVyYXRvcjtcblxuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgc3RhY2tTdGFydEZuKTtcbiAgICB9IC8vIENyZWF0ZSBlcnJvciBtZXNzYWdlIGluY2x1ZGluZyB0aGUgZXJyb3IgY29kZSBpbiB0aGUgbmFtZS5cblxuXG4gICAgX3RoaXMuc3RhY2s7IC8vIFJlc2V0IHRoZSBuYW1lLlxuXG4gICAgX3RoaXMubmFtZSA9ICdBc3NlcnRpb25FcnJvcic7XG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBc3NlcnRpb25FcnJvciwgW3tcbiAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGhpcy5uYW1lLCBcIiBbXCIpLmNvbmNhdCh0aGlzLmNvZGUsIFwiXTogXCIpLmNvbmNhdCh0aGlzLm1lc3NhZ2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogaW5zcGVjdC5jdXN0b20sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHJlY3Vyc2VUaW1lcywgY3R4KSB7XG4gICAgICAvLyBUaGlzIGxpbWl0cyB0aGUgYGFjdHVhbGAgYW5kIGBleHBlY3RlZGAgcHJvcGVydHkgZGVmYXVsdCBpbnNwZWN0aW9uIHRvXG4gICAgICAvLyB0aGUgbWluaW11bSBkZXB0aC4gT3RoZXJ3aXNlIHRob3NlIHZhbHVlcyB3b3VsZCBiZSB0b28gdmVyYm9zZSBjb21wYXJlZFxuICAgICAgLy8gdG8gdGhlIGFjdHVhbCBlcnJvciBtZXNzYWdlIHdoaWNoIGNvbnRhaW5zIGEgY29tYmluZWQgdmlldyBvZiB0aGVzZSB0d29cbiAgICAgIC8vIGlucHV0IHZhbHVlcy5cbiAgICAgIHJldHVybiBpbnNwZWN0KHRoaXMsIF9vYmplY3RTcHJlYWQoe30sIGN0eCwge1xuICAgICAgICBjdXN0b21JbnNwZWN0OiBmYWxzZSxcbiAgICAgICAgZGVwdGg6IDBcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXNzZXJ0aW9uRXJyb3I7XG59KF93cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBc3NlcnRpb25FcnJvcjsiLCAiLyoqXG4gKiBDb2RlIHJlZmFjdG9yZWQgZnJvbSBNb3ppbGxhIERldmVsb3BlciBOZXR3b3JrOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgZmlyc3RTb3VyY2UpIHtcbiAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGZpcnN0IGFyZ3VtZW50IHRvIG9iamVjdCcpO1xuICB9XG5cbiAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgaWYgKG5leHRTb3VyY2UgPT09IHVuZGVmaW5lZCB8fCBuZXh0U291cmNlID09PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIga2V5c0FycmF5ID0gT2JqZWN0LmtleXMoT2JqZWN0KG5leHRTb3VyY2UpKTtcbiAgICBmb3IgKHZhciBuZXh0SW5kZXggPSAwLCBsZW4gPSBrZXlzQXJyYXkubGVuZ3RoOyBuZXh0SW5kZXggPCBsZW47IG5leHRJbmRleCsrKSB7XG4gICAgICB2YXIgbmV4dEtleSA9IGtleXNBcnJheVtuZXh0SW5kZXhdO1xuICAgICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG5leHRTb3VyY2UsIG5leHRLZXkpO1xuICAgICAgaWYgKGRlc2MgIT09IHVuZGVmaW5lZCAmJiBkZXNjLmVudW1lcmFibGUpIHtcbiAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdG87XG59XG5cbmZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICBpZiAoIU9iamVjdC5hc3NpZ24pIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LCAnYXNzaWduJywge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBhc3NpZ25cbiAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXNzaWduOiBhc3NpZ24sXG4gIHBvbHlmaWxsOiBwb2x5ZmlsbFxufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcblx0dmFyIHN0ciA9IHRvU3RyLmNhbGwodmFsdWUpO1xuXHR2YXIgaXNBcmdzID0gc3RyID09PSAnW29iamVjdCBBcmd1bWVudHNdJztcblx0aWYgKCFpc0FyZ3MpIHtcblx0XHRpc0FyZ3MgPSBzdHIgIT09ICdbb2JqZWN0IEFycmF5XScgJiZcblx0XHRcdHZhbHVlICE9PSBudWxsICYmXG5cdFx0XHR0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG5cdFx0XHR0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJyAmJlxuXHRcdFx0dmFsdWUubGVuZ3RoID49IDAgJiZcblx0XHRcdHRvU3RyLmNhbGwodmFsdWUuY2FsbGVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0fVxuXHRyZXR1cm4gaXNBcmdzO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBrZXlzU2hpbTtcbmlmICghT2JqZWN0LmtleXMpIHtcblx0Ly8gbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZXMtc2hpbXMvZXM1LXNoaW1cblx0dmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdHZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cdHZhciBpc0FyZ3MgPSByZXF1aXJlKCcuL2lzQXJndW1lbnRzJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2xvYmFsLXJlcXVpcmVcblx0dmFyIGlzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cdHZhciBoYXNEb250RW51bUJ1ZyA9ICFpc0VudW1lcmFibGUuY2FsbCh7IHRvU3RyaW5nOiBudWxsIH0sICd0b1N0cmluZycpO1xuXHR2YXIgaGFzUHJvdG9FbnVtQnVnID0gaXNFbnVtZXJhYmxlLmNhbGwoZnVuY3Rpb24gKCkge30sICdwcm90b3R5cGUnKTtcblx0dmFyIGRvbnRFbnVtcyA9IFtcblx0XHQndG9TdHJpbmcnLFxuXHRcdCd0b0xvY2FsZVN0cmluZycsXG5cdFx0J3ZhbHVlT2YnLFxuXHRcdCdoYXNPd25Qcm9wZXJ0eScsXG5cdFx0J2lzUHJvdG90eXBlT2YnLFxuXHRcdCdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG5cdFx0J2NvbnN0cnVjdG9yJ1xuXHRdO1xuXHR2YXIgZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUgPSBmdW5jdGlvbiAobykge1xuXHRcdHZhciBjdG9yID0gby5jb25zdHJ1Y3Rvcjtcblx0XHRyZXR1cm4gY3RvciAmJiBjdG9yLnByb3RvdHlwZSA9PT0gbztcblx0fTtcblx0dmFyIGV4Y2x1ZGVkS2V5cyA9IHtcblx0XHQkYXBwbGljYXRpb25DYWNoZTogdHJ1ZSxcblx0XHQkY29uc29sZTogdHJ1ZSxcblx0XHQkZXh0ZXJuYWw6IHRydWUsXG5cdFx0JGZyYW1lOiB0cnVlLFxuXHRcdCRmcmFtZUVsZW1lbnQ6IHRydWUsXG5cdFx0JGZyYW1lczogdHJ1ZSxcblx0XHQkaW5uZXJIZWlnaHQ6IHRydWUsXG5cdFx0JGlubmVyV2lkdGg6IHRydWUsXG5cdFx0JG9ubW96ZnVsbHNjcmVlbmNoYW5nZTogdHJ1ZSxcblx0XHQkb25tb3pmdWxsc2NyZWVuZXJyb3I6IHRydWUsXG5cdFx0JG91dGVySGVpZ2h0OiB0cnVlLFxuXHRcdCRvdXRlcldpZHRoOiB0cnVlLFxuXHRcdCRwYWdlWE9mZnNldDogdHJ1ZSxcblx0XHQkcGFnZVlPZmZzZXQ6IHRydWUsXG5cdFx0JHBhcmVudDogdHJ1ZSxcblx0XHQkc2Nyb2xsTGVmdDogdHJ1ZSxcblx0XHQkc2Nyb2xsVG9wOiB0cnVlLFxuXHRcdCRzY3JvbGxYOiB0cnVlLFxuXHRcdCRzY3JvbGxZOiB0cnVlLFxuXHRcdCRzZWxmOiB0cnVlLFxuXHRcdCR3ZWJraXRJbmRleGVkREI6IHRydWUsXG5cdFx0JHdlYmtpdFN0b3JhZ2VJbmZvOiB0cnVlLFxuXHRcdCR3aW5kb3c6IHRydWVcblx0fTtcblx0dmFyIGhhc0F1dG9tYXRpb25FcXVhbGl0eUJ1ZyA9IChmdW5jdGlvbiAoKSB7XG5cdFx0LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRmb3IgKHZhciBrIGluIHdpbmRvdykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKCFleGNsdWRlZEtleXNbJyQnICsga10gJiYgaGFzLmNhbGwod2luZG93LCBrKSAmJiB3aW5kb3dba10gIT09IG51bGwgJiYgdHlwZW9mIHdpbmRvd1trXSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0ZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUod2luZG93W2tdKTtcblx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fSgpKTtcblx0dmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlSWZOb3RCdWdneSA9IGZ1bmN0aW9uIChvKSB7XG5cdFx0LyogZ2xvYmFsIHdpbmRvdyAqL1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhaGFzQXV0b21hdGlvbkVxdWFsaXR5QnVnKSB7XG5cdFx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdFx0fVxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fTtcblxuXHRrZXlzU2hpbSA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG5cdFx0dmFyIGlzT2JqZWN0ID0gb2JqZWN0ICE9PSBudWxsICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnO1xuXHRcdHZhciBpc0Z1bmN0aW9uID0gdG9TdHIuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHRcdHZhciBpc0FyZ3VtZW50cyA9IGlzQXJncyhvYmplY3QpO1xuXHRcdHZhciBpc1N0cmluZyA9IGlzT2JqZWN0ICYmIHRvU3RyLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cdFx0dmFyIHRoZUtleXMgPSBbXTtcblxuXHRcdGlmICghaXNPYmplY3QgJiYgIWlzRnVuY3Rpb24gJiYgIWlzQXJndW1lbnRzKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3Qua2V5cyBjYWxsZWQgb24gYSBub24tb2JqZWN0Jyk7XG5cdFx0fVxuXG5cdFx0dmFyIHNraXBQcm90byA9IGhhc1Byb3RvRW51bUJ1ZyAmJiBpc0Z1bmN0aW9uO1xuXHRcdGlmIChpc1N0cmluZyAmJiBvYmplY3QubGVuZ3RoID4gMCAmJiAhaGFzLmNhbGwob2JqZWN0LCAwKSkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0dGhlS2V5cy5wdXNoKFN0cmluZyhpKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGlzQXJndW1lbnRzICYmIG9iamVjdC5sZW5ndGggPiAwKSB7XG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IG9iamVjdC5sZW5ndGg7ICsraikge1xuXHRcdFx0XHR0aGVLZXlzLnB1c2goU3RyaW5nKGopKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICh2YXIgbmFtZSBpbiBvYmplY3QpIHtcblx0XHRcdFx0aWYgKCEoc2tpcFByb3RvICYmIG5hbWUgPT09ICdwcm90b3R5cGUnKSAmJiBoYXMuY2FsbChvYmplY3QsIG5hbWUpKSB7XG5cdFx0XHRcdFx0dGhlS2V5cy5wdXNoKFN0cmluZyhuYW1lKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoaGFzRG9udEVudW1CdWcpIHtcblx0XHRcdHZhciBza2lwQ29uc3RydWN0b3IgPSBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZUlmTm90QnVnZ3kob2JqZWN0KTtcblxuXHRcdFx0Zm9yICh2YXIgayA9IDA7IGsgPCBkb250RW51bXMubGVuZ3RoOyArK2spIHtcblx0XHRcdFx0aWYgKCEoc2tpcENvbnN0cnVjdG9yICYmIGRvbnRFbnVtc1trXSA9PT0gJ2NvbnN0cnVjdG9yJykgJiYgaGFzLmNhbGwob2JqZWN0LCBkb250RW51bXNba10pKSB7XG5cdFx0XHRcdFx0dGhlS2V5cy5wdXNoKGRvbnRFbnVtc1trXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoZUtleXM7XG5cdH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGtleXNTaGltO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xudmFyIGlzQXJncyA9IHJlcXVpcmUoJy4vaXNBcmd1bWVudHMnKTtcblxudmFyIG9yaWdLZXlzID0gT2JqZWN0LmtleXM7XG52YXIga2V5c1NoaW0gPSBvcmlnS2V5cyA/IGZ1bmN0aW9uIGtleXMobykgeyByZXR1cm4gb3JpZ0tleXMobyk7IH0gOiByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG5cbnZhciBvcmlnaW5hbEtleXMgPSBPYmplY3Qua2V5cztcblxua2V5c1NoaW0uc2hpbSA9IGZ1bmN0aW9uIHNoaW1PYmplY3RLZXlzKCkge1xuXHRpZiAoT2JqZWN0LmtleXMpIHtcblx0XHR2YXIga2V5c1dvcmtzV2l0aEFyZ3VtZW50cyA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBTYWZhcmkgNS4wIGJ1Z1xuXHRcdFx0dmFyIGFyZ3MgPSBPYmplY3Qua2V5cyhhcmd1bWVudHMpO1xuXHRcdFx0cmV0dXJuIGFyZ3MgJiYgYXJncy5sZW5ndGggPT09IGFyZ3VtZW50cy5sZW5ndGg7XG5cdFx0fSgxLCAyKSk7XG5cdFx0aWYgKCFrZXlzV29ya3NXaXRoQXJndW1lbnRzKSB7XG5cdFx0XHRPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG5cdFx0XHRcdGlmIChpc0FyZ3Mob2JqZWN0KSkge1xuXHRcdFx0XHRcdHJldHVybiBvcmlnaW5hbEtleXMoc2xpY2UuY2FsbChvYmplY3QpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gb3JpZ2luYWxLZXlzKG9iamVjdCk7XG5cdFx0XHR9O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRPYmplY3Qua2V5cyA9IGtleXNTaGltO1xuXHR9XG5cdHJldHVybiBPYmplY3Qua2V5cyB8fCBrZXlzU2hpbTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ga2V5c1NoaW07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5cyA9IHJlcXVpcmUoJ29iamVjdC1rZXlzJyk7XG52YXIgaGFzU3ltYm9scyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbCgnZm9vJykgPT09ICdzeW1ib2wnO1xuXG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGNvbmNhdCA9IEFycmF5LnByb3RvdHlwZS5jb25jYXQ7XG52YXIgb3JpZ0RlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChmbikge1xuXHRyZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIHRvU3RyLmNhbGwoZm4pID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufTtcblxudmFyIGFyZVByb3BlcnR5RGVzY3JpcHRvcnNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdHZhciBvYmogPSB7fTtcblx0dHJ5IHtcblx0XHRvcmlnRGVmaW5lUHJvcGVydHkob2JqLCAneCcsIHsgZW51bWVyYWJsZTogZmFsc2UsIHZhbHVlOiBvYmogfSk7XG5cdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzLCBuby1yZXN0cmljdGVkLXN5bnRheFxuXHRcdGZvciAodmFyIF8gaW4gb2JqKSB7IC8vIGpzY3M6aWdub3JlIGRpc2FsbG93VW51c2VkVmFyaWFibGVzXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiBvYmoueCA9PT0gb2JqO1xuXHR9IGNhdGNoIChlKSB7IC8qIHRoaXMgaXMgSUUgOC4gKi9cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG52YXIgc3VwcG9ydHNEZXNjcmlwdG9ycyA9IG9yaWdEZWZpbmVQcm9wZXJ0eSAmJiBhcmVQcm9wZXJ0eURlc2NyaXB0b3JzU3VwcG9ydGVkKCk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHZhbHVlLCBwcmVkaWNhdGUpIHtcblx0aWYgKG5hbWUgaW4gb2JqZWN0ICYmICghaXNGdW5jdGlvbihwcmVkaWNhdGUpIHx8ICFwcmVkaWNhdGUoKSkpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0aWYgKHN1cHBvcnRzRGVzY3JpcHRvcnMpIHtcblx0XHRvcmlnRGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCB7XG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0b2JqZWN0W25hbWVdID0gdmFsdWU7XG5cdH1cbn07XG5cbnZhciBkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG9iamVjdCwgbWFwKSB7XG5cdHZhciBwcmVkaWNhdGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB7fTtcblx0dmFyIHByb3BzID0ga2V5cyhtYXApO1xuXHRpZiAoaGFzU3ltYm9scykge1xuXHRcdHByb3BzID0gY29uY2F0LmNhbGwocHJvcHMsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobWFwKSk7XG5cdH1cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcHNbaV0sIG1hcFtwcm9wc1tpXV0sIHByZWRpY2F0ZXNbcHJvcHNbaV1dKTtcblx0fVxufTtcblxuZGVmaW5lUHJvcGVydGllcy5zdXBwb3J0c0Rlc2NyaXB0b3JzID0gISFzdXBwb3J0c0Rlc2NyaXB0b3JzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZVByb3BlcnRpZXM7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbnVtYmVySXNOYU4gPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXMoYSwgYikge1xuXHRpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG5cdFx0cmV0dXJuIDEgLyBhID09PSAxIC8gYjtcblx0fVxuXHRpZiAoYSA9PT0gYikge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdGlmIChudW1iZXJJc05hTihhKSAmJiBudW1iZXJJc05hTihiKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn07XG5cbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBpbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRQb2x5ZmlsbCgpIHtcblx0cmV0dXJuIHR5cGVvZiBPYmplY3QuaXMgPT09ICdmdW5jdGlvbicgPyBPYmplY3QuaXMgOiBpbXBsZW1lbnRhdGlvbjtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgZGVmaW5lID0gcmVxdWlyZSgnZGVmaW5lLXByb3BlcnRpZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaGltT2JqZWN0SXMoKSB7XG5cdHZhciBwb2x5ZmlsbCA9IGdldFBvbHlmaWxsKCk7XG5cdGRlZmluZShPYmplY3QsIHsgaXM6IHBvbHlmaWxsIH0sIHtcblx0XHRpczogZnVuY3Rpb24gdGVzdE9iamVjdElzKCkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5pcyAhPT0gcG9seWZpbGw7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIHBvbHlmaWxsO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZpbmUgPSByZXF1aXJlKCdkZWZpbmUtcHJvcGVydGllcycpO1xudmFyIGNhbGxCaW5kID0gcmVxdWlyZSgnY2FsbC1iaW5kJyk7XG5cbnZhciBpbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcbnZhciBnZXRQb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcbnZhciBzaGltID0gcmVxdWlyZSgnLi9zaGltJyk7XG5cbnZhciBwb2x5ZmlsbCA9IGNhbGxCaW5kKGdldFBvbHlmaWxsKCksIE9iamVjdCk7XG5cbmRlZmluZShwb2x5ZmlsbCwge1xuXHRnZXRQb2x5ZmlsbDogZ2V0UG9seWZpbGwsXG5cdGltcGxlbWVudGF0aW9uOiBpbXBsZW1lbnRhdGlvbixcblx0c2hpbTogc2hpbVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcG9seWZpbGw7XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG4vKiBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtbnVtYmVyLmlzbmFuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNOYU4odmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn07XG4iLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0UG9seWZpbGwoKSB7XG5cdGlmIChOdW1iZXIuaXNOYU4gJiYgTnVtYmVyLmlzTmFOKE5hTikgJiYgIU51bWJlci5pc05hTignYScpKSB7XG5cdFx0cmV0dXJuIE51bWJlci5pc05hTjtcblx0fVxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG59O1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG5cbi8qIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1udW1iZXIuaXNuYW4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaGltTnVtYmVySXNOYU4oKSB7XG5cdHZhciBwb2x5ZmlsbCA9IGdldFBvbHlmaWxsKCk7XG5cdGRlZmluZShOdW1iZXIsIHsgaXNOYU46IHBvbHlmaWxsIH0sIHtcblx0XHRpc05hTjogZnVuY3Rpb24gdGVzdElzTmFOKCkge1xuXHRcdFx0cmV0dXJuIE51bWJlci5pc05hTiAhPT0gcG9seWZpbGw7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIHBvbHlmaWxsO1xufTtcbiIsICIndXNlIHN0cmljdCc7XG5cbnZhciBjYWxsQmluZCA9IHJlcXVpcmUoJ2NhbGwtYmluZCcpO1xudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG5cbnZhciBpbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcbnZhciBnZXRQb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcbnZhciBzaGltID0gcmVxdWlyZSgnLi9zaGltJyk7XG5cbnZhciBwb2x5ZmlsbCA9IGNhbGxCaW5kKGdldFBvbHlmaWxsKCksIE51bWJlcik7XG5cbi8qIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1udW1iZXIuaXNuYW4gKi9cblxuZGVmaW5lKHBvbHlmaWxsLCB7XG5cdGdldFBvbHlmaWxsOiBnZXRQb2x5ZmlsbCxcblx0aW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uLFxuXHRzaGltOiBzaGltXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwb2x5ZmlsbDtcbiIsICIvLyBDdXJyZW50bHkgaW4gc3luYyB3aXRoIE5vZGUuanMgbGliL2ludGVybmFsL3V0aWwvY29tcGFyaXNvbnMuanNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9jb21taXQvMTEyY2M3YzI3NTUxMjU0YWEyYjE3MDk4ZmI3NzQ4NjdmMDVlZDBkOVxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxudmFyIHJlZ2V4RmxhZ3NTdXBwb3J0ZWQgPSAvYS9nLmZsYWdzICE9PSB1bmRlZmluZWQ7XG5cbnZhciBhcnJheUZyb21TZXQgPSBmdW5jdGlvbiBhcnJheUZyb21TZXQoc2V0KSB7XG4gIHZhciBhcnJheSA9IFtdO1xuICBzZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gYXJyYXkucHVzaCh2YWx1ZSk7XG4gIH0pO1xuICByZXR1cm4gYXJyYXk7XG59O1xuXG52YXIgYXJyYXlGcm9tTWFwID0gZnVuY3Rpb24gYXJyYXlGcm9tTWFwKG1hcCkge1xuICB2YXIgYXJyYXkgPSBbXTtcbiAgbWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICByZXR1cm4gYXJyYXkucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9KTtcbiAgcmV0dXJuIGFycmF5O1xufTtcblxudmFyIG9iamVjdElzID0gT2JqZWN0LmlzID8gT2JqZWN0LmlzIDogcmVxdWlyZSgnb2JqZWN0LWlzJyk7XG52YXIgb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgOiBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBbXTtcbn07XG52YXIgbnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gPyBOdW1iZXIuaXNOYU4gOiByZXF1aXJlKCdpcy1uYW4nKTtcblxuZnVuY3Rpb24gdW5jdXJyeVRoaXMoZikge1xuICByZXR1cm4gZi5jYWxsLmJpbmQoZik7XG59XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IHVuY3VycnlUaGlzKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gdW5jdXJyeVRoaXMoT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSk7XG52YXIgb2JqZWN0VG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtcblxudmFyIF9yZXF1aXJlJHR5cGVzID0gcmVxdWlyZSgndXRpbC8nKS50eXBlcyxcbiAgICBpc0FueUFycmF5QnVmZmVyID0gX3JlcXVpcmUkdHlwZXMuaXNBbnlBcnJheUJ1ZmZlcixcbiAgICBpc0FycmF5QnVmZmVyVmlldyA9IF9yZXF1aXJlJHR5cGVzLmlzQXJyYXlCdWZmZXJWaWV3LFxuICAgIGlzRGF0ZSA9IF9yZXF1aXJlJHR5cGVzLmlzRGF0ZSxcbiAgICBpc01hcCA9IF9yZXF1aXJlJHR5cGVzLmlzTWFwLFxuICAgIGlzUmVnRXhwID0gX3JlcXVpcmUkdHlwZXMuaXNSZWdFeHAsXG4gICAgaXNTZXQgPSBfcmVxdWlyZSR0eXBlcy5pc1NldCxcbiAgICBpc05hdGl2ZUVycm9yID0gX3JlcXVpcmUkdHlwZXMuaXNOYXRpdmVFcnJvcixcbiAgICBpc0JveGVkUHJpbWl0aXZlID0gX3JlcXVpcmUkdHlwZXMuaXNCb3hlZFByaW1pdGl2ZSxcbiAgICBpc051bWJlck9iamVjdCA9IF9yZXF1aXJlJHR5cGVzLmlzTnVtYmVyT2JqZWN0LFxuICAgIGlzU3RyaW5nT2JqZWN0ID0gX3JlcXVpcmUkdHlwZXMuaXNTdHJpbmdPYmplY3QsXG4gICAgaXNCb29sZWFuT2JqZWN0ID0gX3JlcXVpcmUkdHlwZXMuaXNCb29sZWFuT2JqZWN0LFxuICAgIGlzQmlnSW50T2JqZWN0ID0gX3JlcXVpcmUkdHlwZXMuaXNCaWdJbnRPYmplY3QsXG4gICAgaXNTeW1ib2xPYmplY3QgPSBfcmVxdWlyZSR0eXBlcy5pc1N5bWJvbE9iamVjdCxcbiAgICBpc0Zsb2F0MzJBcnJheSA9IF9yZXF1aXJlJHR5cGVzLmlzRmxvYXQzMkFycmF5LFxuICAgIGlzRmxvYXQ2NEFycmF5ID0gX3JlcXVpcmUkdHlwZXMuaXNGbG9hdDY0QXJyYXk7XG5cbmZ1bmN0aW9uIGlzTm9uSW5kZXgoa2V5KSB7XG4gIGlmIChrZXkubGVuZ3RoID09PSAwIHx8IGtleS5sZW5ndGggPiAxMCkgcmV0dXJuIHRydWU7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY29kZSA9IGtleS5jaGFyQ29kZUF0KGkpO1xuICAgIGlmIChjb2RlIDwgNDggfHwgY29kZSA+IDU3KSByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBUaGUgbWF4aW11bSBzaXplIGZvciBhbiBhcnJheSBpcyAyICoqIDMyIC0xLlxuXG5cbiAgcmV0dXJuIGtleS5sZW5ndGggPT09IDEwICYmIGtleSA+PSBNYXRoLnBvdygyLCAzMik7XG59XG5cbmZ1bmN0aW9uIGdldE93bk5vbkluZGV4UHJvcGVydGllcyh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLmZpbHRlcihpc05vbkluZGV4KS5jb25jYXQob2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbHVlKS5maWx0ZXIoT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5iaW5kKHZhbHVlKSkpO1xufSAvLyBUYWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL2Jsb2IvNjgwZTllNWU0ODhmMjJhYWMyNzU5OWE1N2RjODQ0YTYzMTU5MjhkZC9pbmRleC5qc1xuLy8gb3JpZ2luYWwgbm90aWNlOlxuXG4vKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cblxuZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YXIgeCA9IGEubGVuZ3RoO1xuICB2YXIgeSA9IGIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldO1xuICAgICAgeSA9IGJbaV07XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBpZiAoeSA8IHgpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG52YXIgT05MWV9FTlVNRVJBQkxFID0gdW5kZWZpbmVkO1xudmFyIGtTdHJpY3QgPSB0cnVlO1xudmFyIGtMb29zZSA9IGZhbHNlO1xudmFyIGtOb0l0ZXJhdG9yID0gMDtcbnZhciBrSXNBcnJheSA9IDE7XG52YXIga0lzU2V0ID0gMjtcbnZhciBrSXNNYXAgPSAzOyAvLyBDaGVjayBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgc291cmNlIGFuZCBmbGFnc1xuXG5mdW5jdGlvbiBhcmVTaW1pbGFyUmVnRXhwcyhhLCBiKSB7XG4gIHJldHVybiByZWdleEZsYWdzU3VwcG9ydGVkID8gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3MgOiBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkgPT09IFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKTtcbn1cblxuZnVuY3Rpb24gYXJlU2ltaWxhckZsb2F0QXJyYXlzKGEsIGIpIHtcbiAgaWYgKGEuYnl0ZUxlbmd0aCAhPT0gYi5ieXRlTGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgYS5ieXRlTGVuZ3RoOyBvZmZzZXQrKykge1xuICAgIGlmIChhW29mZnNldF0gIT09IGJbb2Zmc2V0XSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBhcmVTaW1pbGFyVHlwZWRBcnJheXMoYSwgYikge1xuICBpZiAoYS5ieXRlTGVuZ3RoICE9PSBiLmJ5dGVMZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gY29tcGFyZShuZXcgVWludDhBcnJheShhLmJ1ZmZlciwgYS5ieXRlT2Zmc2V0LCBhLmJ5dGVMZW5ndGgpLCBuZXcgVWludDhBcnJheShiLmJ1ZmZlciwgYi5ieXRlT2Zmc2V0LCBiLmJ5dGVMZW5ndGgpKSA9PT0gMDtcbn1cblxuZnVuY3Rpb24gYXJlRXF1YWxBcnJheUJ1ZmZlcnMoYnVmMSwgYnVmMikge1xuICByZXR1cm4gYnVmMS5ieXRlTGVuZ3RoID09PSBidWYyLmJ5dGVMZW5ndGggJiYgY29tcGFyZShuZXcgVWludDhBcnJheShidWYxKSwgbmV3IFVpbnQ4QXJyYXkoYnVmMikpID09PSAwO1xufVxuXG5mdW5jdGlvbiBpc0VxdWFsQm94ZWRQcmltaXRpdmUodmFsMSwgdmFsMikge1xuICBpZiAoaXNOdW1iZXJPYmplY3QodmFsMSkpIHtcbiAgICByZXR1cm4gaXNOdW1iZXJPYmplY3QodmFsMikgJiYgb2JqZWN0SXMoTnVtYmVyLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwodmFsMSksIE51bWJlci5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHZhbDIpKTtcbiAgfVxuXG4gIGlmIChpc1N0cmluZ09iamVjdCh2YWwxKSkge1xuICAgIHJldHVybiBpc1N0cmluZ09iamVjdCh2YWwyKSAmJiBTdHJpbmcucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh2YWwxKSA9PT0gU3RyaW5nLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwodmFsMik7XG4gIH1cblxuICBpZiAoaXNCb29sZWFuT2JqZWN0KHZhbDEpKSB7XG4gICAgcmV0dXJuIGlzQm9vbGVhbk9iamVjdCh2YWwyKSAmJiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwodmFsMSkgPT09IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh2YWwyKTtcbiAgfVxuXG4gIGlmIChpc0JpZ0ludE9iamVjdCh2YWwxKSkge1xuICAgIHJldHVybiBpc0JpZ0ludE9iamVjdCh2YWwyKSAmJiBCaWdJbnQucHJvdG90eXBlLnZhbHVlT2YuY2FsbCh2YWwxKSA9PT0gQmlnSW50LnByb3RvdHlwZS52YWx1ZU9mLmNhbGwodmFsMik7XG4gIH1cblxuICByZXR1cm4gaXNTeW1ib2xPYmplY3QodmFsMikgJiYgU3ltYm9sLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwodmFsMSkgPT09IFN5bWJvbC5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHZhbDIpO1xufSAvLyBOb3RlczogVHlwZSB0YWdzIGFyZSBoaXN0b3JpY2FsIFtbQ2xhc3NdXSBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHNldCBieVxuLy8gRnVuY3Rpb25UZW1wbGF0ZTo6U2V0Q2xhc3NOYW1lKCkgaW4gQysrIG9yIFN5bWJvbC50b1N0cmluZ1RhZyBpbiBKU1xuLy8gYW5kIHJldHJpZXZlZCB1c2luZyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSBpbiBKU1xuLy8gU2VlIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmdcbi8vIGZvciBhIGxpc3Qgb2YgdGFncyBwcmUtZGVmaW5lZCBpbiB0aGUgc3BlYy5cbi8vIFRoZXJlIGFyZSBzb21lIHVuc3BlY2lmaWVkIHRhZ3MgaW4gdGhlIHdpbGQgdG9vIChlLmcuIHR5cGVkIGFycmF5IHRhZ3MpLlxuLy8gU2luY2UgdGFncyBjYW4gYmUgYWx0ZXJlZCwgdGhleSBvbmx5IHNlcnZlIGZhc3QgZmFpbHVyZXNcbi8vXG4vLyBUeXBlZCBhcnJheXMgYW5kIGJ1ZmZlcnMgYXJlIGNoZWNrZWQgYnkgY29tcGFyaW5nIHRoZSBjb250ZW50IGluIHRoZWlyXG4vLyB1bmRlcmx5aW5nIEFycmF5QnVmZmVyLiBUaGlzIG9wdGltaXphdGlvbiByZXF1aXJlcyB0aGF0IGl0J3Ncbi8vIHJlYXNvbmFibGUgdG8gaW50ZXJwcmV0IHRoZWlyIHVuZGVybHlpbmcgbWVtb3J5IGluIHRoZSBzYW1lIHdheSxcbi8vIHdoaWNoIGlzIGNoZWNrZWQgYnkgY29tcGFyaW5nIHRoZWlyIHR5cGUgdGFncy5cbi8vIChlLmcuIGEgVWludDhBcnJheSBhbmQgYSBVaW50MTZBcnJheSB3aXRoIHRoZSBzYW1lIG1lbW9yeSBjb250ZW50XG4vLyBjb3VsZCBzdGlsbCBiZSBkaWZmZXJlbnQgYmVjYXVzZSB0aGV5IHdpbGwgYmUgaW50ZXJwcmV0ZWQgZGlmZmVyZW50bHkpLlxuLy9cbi8vIEZvciBzdHJpY3QgY29tcGFyaXNvbiwgb2JqZWN0cyBzaG91bGQgaGF2ZVxuLy8gYSkgVGhlIHNhbWUgYnVpbHQtaW4gdHlwZSB0YWdzXG4vLyBiKSBUaGUgc2FtZSBwcm90b3R5cGVzLlxuXG5cbmZ1bmN0aW9uIGlubmVyRGVlcEVxdWFsKHZhbDEsIHZhbDIsIHN0cmljdCwgbWVtb3MpIHtcbiAgLy8gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuICBpZiAodmFsMSA9PT0gdmFsMikge1xuICAgIGlmICh2YWwxICE9PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gc3RyaWN0ID8gb2JqZWN0SXModmFsMSwgdmFsMikgOiB0cnVlO1xuICB9IC8vIENoZWNrIG1vcmUgY2xvc2VseSBpZiB2YWwxIGFuZCB2YWwyIGFyZSBlcXVhbC5cblxuXG4gIGlmIChzdHJpY3QpIHtcbiAgICBpZiAoX3R5cGVvZih2YWwxKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsMSA9PT0gJ251bWJlcicgJiYgbnVtYmVySXNOYU4odmFsMSkgJiYgbnVtYmVySXNOYU4odmFsMik7XG4gICAgfVxuXG4gICAgaWYgKF90eXBlb2YodmFsMikgIT09ICdvYmplY3QnIHx8IHZhbDEgPT09IG51bGwgfHwgdmFsMiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsMSkgIT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWwyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsMSA9PT0gbnVsbCB8fCBfdHlwZW9mKHZhbDEpICE9PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHZhbDIgPT09IG51bGwgfHwgX3R5cGVvZih2YWwyKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICByZXR1cm4gdmFsMSA9PSB2YWwyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHZhbDIgPT09IG51bGwgfHwgX3R5cGVvZih2YWwyKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB2YXIgdmFsMVRhZyA9IG9iamVjdFRvU3RyaW5nKHZhbDEpO1xuICB2YXIgdmFsMlRhZyA9IG9iamVjdFRvU3RyaW5nKHZhbDIpO1xuXG4gIGlmICh2YWwxVGFnICE9PSB2YWwyVGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsMSkpIHtcbiAgICAvLyBDaGVjayBmb3Igc3BhcnNlIGFycmF5cyBhbmQgZ2VuZXJhbCBmYXN0IHBhdGhcbiAgICBpZiAodmFsMS5sZW5ndGggIT09IHZhbDIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGtleXMxID0gZ2V0T3duTm9uSW5kZXhQcm9wZXJ0aWVzKHZhbDEsIE9OTFlfRU5VTUVSQUJMRSk7XG4gICAgdmFyIGtleXMyID0gZ2V0T3duTm9uSW5kZXhQcm9wZXJ0aWVzKHZhbDIsIE9OTFlfRU5VTUVSQUJMRSk7XG5cbiAgICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5Q2hlY2sodmFsMSwgdmFsMiwgc3RyaWN0LCBtZW1vcywga0lzQXJyYXksIGtleXMxKTtcbiAgfSAvLyBbYnJvd3NlcmlmeV0gVGhpcyB0cmlnZ2VycyBvbiBjZXJ0YWluIHR5cGVzIGluIElFIChNYXAvU2V0KSBzbyB3ZSBkb24ndFxuICAvLyB3YW4ndCB0byBlYXJseSByZXR1cm4gb3V0IG9mIHRoZSByZXN0IG9mIHRoZSBjaGVja3MuIEhvd2V2ZXIgd2UgY2FuIGNoZWNrXG4gIC8vIGlmIHRoZSBzZWNvbmQgdmFsdWUgaXMgb25lIG9mIHRoZXNlIHZhbHVlcyBhbmQgdGhlIGZpcnN0IGlzbid0LlxuXG5cbiAgaWYgKHZhbDFUYWcgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgLy8gcmV0dXJuIGtleUNoZWNrKHZhbDEsIHZhbDIsIHN0cmljdCwgbWVtb3MsIGtOb0l0ZXJhdG9yKTtcbiAgICBpZiAoIWlzTWFwKHZhbDEpICYmIGlzTWFwKHZhbDIpIHx8ICFpc1NldCh2YWwxKSAmJiBpc1NldCh2YWwyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0RhdGUodmFsMSkpIHtcbiAgICBpZiAoIWlzRGF0ZSh2YWwyKSB8fCBEYXRlLnByb3RvdHlwZS5nZXRUaW1lLmNhbGwodmFsMSkgIT09IERhdGUucHJvdG90eXBlLmdldFRpbWUuY2FsbCh2YWwyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc1JlZ0V4cCh2YWwxKSkge1xuICAgIGlmICghaXNSZWdFeHAodmFsMikgfHwgIWFyZVNpbWlsYXJSZWdFeHBzKHZhbDEsIHZhbDIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzTmF0aXZlRXJyb3IodmFsMSkgfHwgdmFsMSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgLy8gRG8gbm90IGNvbXBhcmUgdGhlIHN0YWNrIGFzIGl0IG1pZ2h0IGRpZmZlciBldmVuIHRob3VnaCB0aGUgZXJyb3IgaXRzZWxmXG4gICAgLy8gaXMgb3RoZXJ3aXNlIGlkZW50aWNhbC5cbiAgICBpZiAodmFsMS5tZXNzYWdlICE9PSB2YWwyLm1lc3NhZ2UgfHwgdmFsMS5uYW1lICE9PSB2YWwyLm5hbWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNBcnJheUJ1ZmZlclZpZXcodmFsMSkpIHtcbiAgICBpZiAoIXN0cmljdCAmJiAoaXNGbG9hdDMyQXJyYXkodmFsMSkgfHwgaXNGbG9hdDY0QXJyYXkodmFsMSkpKSB7XG4gICAgICBpZiAoIWFyZVNpbWlsYXJGbG9hdEFycmF5cyh2YWwxLCB2YWwyKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghYXJlU2ltaWxhclR5cGVkQXJyYXlzKHZhbDEsIHZhbDIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSAvLyBCdWZmZXIuY29tcGFyZSByZXR1cm5zIHRydWUsIHNvIHZhbDEubGVuZ3RoID09PSB2YWwyLmxlbmd0aC4gSWYgdGhleSBib3RoXG4gICAgLy8gb25seSBjb250YWluIG51bWVyaWMga2V5cywgd2UgZG9uJ3QgbmVlZCB0byBleGFtIGZ1cnRoZXIgdGhhbiBjaGVja2luZ1xuICAgIC8vIHRoZSBzeW1ib2xzLlxuXG5cbiAgICB2YXIgX2tleXMgPSBnZXRPd25Ob25JbmRleFByb3BlcnRpZXModmFsMSwgT05MWV9FTlVNRVJBQkxFKTtcblxuICAgIHZhciBfa2V5czIgPSBnZXRPd25Ob25JbmRleFByb3BlcnRpZXModmFsMiwgT05MWV9FTlVNRVJBQkxFKTtcblxuICAgIGlmIChfa2V5cy5sZW5ndGggIT09IF9rZXlzMi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5Q2hlY2sodmFsMSwgdmFsMiwgc3RyaWN0LCBtZW1vcywga05vSXRlcmF0b3IsIF9rZXlzKTtcbiAgfSBlbHNlIGlmIChpc1NldCh2YWwxKSkge1xuICAgIGlmICghaXNTZXQodmFsMikgfHwgdmFsMS5zaXplICE9PSB2YWwyLnNpemUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5Q2hlY2sodmFsMSwgdmFsMiwgc3RyaWN0LCBtZW1vcywga0lzU2V0KTtcbiAgfSBlbHNlIGlmIChpc01hcCh2YWwxKSkge1xuICAgIGlmICghaXNNYXAodmFsMikgfHwgdmFsMS5zaXplICE9PSB2YWwyLnNpemUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5Q2hlY2sodmFsMSwgdmFsMiwgc3RyaWN0LCBtZW1vcywga0lzTWFwKTtcbiAgfSBlbHNlIGlmIChpc0FueUFycmF5QnVmZmVyKHZhbDEpKSB7XG4gICAgaWYgKCFhcmVFcXVhbEFycmF5QnVmZmVycyh2YWwxLCB2YWwyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc0JveGVkUHJpbWl0aXZlKHZhbDEpICYmICFpc0VxdWFsQm94ZWRQcmltaXRpdmUodmFsMSwgdmFsMikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4ga2V5Q2hlY2sodmFsMSwgdmFsMiwgc3RyaWN0LCBtZW1vcywga05vSXRlcmF0b3IpO1xufVxuXG5mdW5jdGlvbiBnZXRFbnVtZXJhYmxlcyh2YWwsIGtleXMpIHtcbiAgcmV0dXJuIGtleXMuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlKHZhbCwgayk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBrZXlDaGVjayh2YWwxLCB2YWwyLCBzdHJpY3QsIG1lbW9zLCBpdGVyYXRpb25UeXBlLCBhS2V5cykge1xuICAvLyBGb3IgYWxsIHJlbWFpbmluZyBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSwgb2JqZWN0cyBhbmQgTWFwcyxcbiAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSBoYXZpbmc6XG4gIC8vIGEpIFRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBlbnVtZXJhYmxlIHByb3BlcnRpZXNcbiAgLy8gYikgVGhlIHNhbWUgc2V0IG9mIGtleXMvaW5kZXhlcyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKVxuICAvLyBjKSBFcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXkvaW5kZXhcbiAgLy8gZCkgRm9yIFNldHMgYW5kIE1hcHMsIGVxdWFsIGNvbnRlbnRzXG4gIC8vIE5vdGU6IHRoaXMgYWNjb3VudHMgZm9yIGJvdGggbmFtZWQgYW5kIGluZGV4ZWQgcHJvcGVydGllcyBvbiBBcnJheXMuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSA1KSB7XG4gICAgYUtleXMgPSBPYmplY3Qua2V5cyh2YWwxKTtcbiAgICB2YXIgYktleXMgPSBPYmplY3Qua2V5cyh2YWwyKTsgLy8gVGhlIHBhaXIgbXVzdCBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzLlxuXG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IC8vIENoZWFwIGtleSB0ZXN0XG5cblxuICB2YXIgaSA9IDA7XG5cbiAgZm9yICg7IGkgPCBhS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghaGFzT3duUHJvcGVydHkodmFsMiwgYUtleXNbaV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKHN0cmljdCAmJiBhcmd1bWVudHMubGVuZ3RoID09PSA1KSB7XG4gICAgdmFyIHN5bWJvbEtleXNBID0gb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbDEpO1xuXG4gICAgaWYgKHN5bWJvbEtleXNBLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdmFyIGNvdW50ID0gMDtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHN5bWJvbEtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBzeW1ib2xLZXlzQVtpXTtcblxuICAgICAgICBpZiAocHJvcGVydHlJc0VudW1lcmFibGUodmFsMSwga2V5KSkge1xuICAgICAgICAgIGlmICghcHJvcGVydHlJc0VudW1lcmFibGUodmFsMiwga2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnR5SXNFbnVtZXJhYmxlKHZhbDIsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHN5bWJvbEtleXNCID0gb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbDIpO1xuXG4gICAgICBpZiAoc3ltYm9sS2V5c0EubGVuZ3RoICE9PSBzeW1ib2xLZXlzQi5sZW5ndGggJiYgZ2V0RW51bWVyYWJsZXModmFsMiwgc3ltYm9sS2V5c0IpLmxlbmd0aCAhPT0gY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgX3N5bWJvbEtleXNCID0gb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbDIpO1xuXG4gICAgICBpZiAoX3N5bWJvbEtleXNCLmxlbmd0aCAhPT0gMCAmJiBnZXRFbnVtZXJhYmxlcyh2YWwyLCBfc3ltYm9sS2V5c0IpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGFLZXlzLmxlbmd0aCA9PT0gMCAmJiAoaXRlcmF0aW9uVHlwZSA9PT0ga05vSXRlcmF0b3IgfHwgaXRlcmF0aW9uVHlwZSA9PT0ga0lzQXJyYXkgJiYgdmFsMS5sZW5ndGggPT09IDAgfHwgdmFsMS5zaXplID09PSAwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIFVzZSBtZW1vcyB0byBoYW5kbGUgY3ljbGVzLlxuXG5cbiAgaWYgKG1lbW9zID09PSB1bmRlZmluZWQpIHtcbiAgICBtZW1vcyA9IHtcbiAgICAgIHZhbDE6IG5ldyBNYXAoKSxcbiAgICAgIHZhbDI6IG5ldyBNYXAoKSxcbiAgICAgIHBvc2l0aW9uOiAwXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBXZSBwcmV2ZW50IHVwIHRvIHR3byBtYXAuaGFzKHgpIGNhbGxzIGJ5IGRpcmVjdGx5IHJldHJpZXZpbmcgdGhlIHZhbHVlXG4gICAgLy8gYW5kIGNoZWNraW5nIGZvciB1bmRlZmluZWQuIFRoZSBtYXAgY2FuIG9ubHkgY29udGFpbiBudW1iZXJzLCBzbyBpdCBpc1xuICAgIC8vIHNhZmUgdG8gY2hlY2sgZm9yIHVuZGVmaW5lZCBvbmx5LlxuICAgIHZhciB2YWwyTWVtb0EgPSBtZW1vcy52YWwxLmdldCh2YWwxKTtcblxuICAgIGlmICh2YWwyTWVtb0EgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHZhbDJNZW1vQiA9IG1lbW9zLnZhbDIuZ2V0KHZhbDIpO1xuXG4gICAgICBpZiAodmFsMk1lbW9CICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHZhbDJNZW1vQSA9PT0gdmFsMk1lbW9CO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9zLnBvc2l0aW9uKys7XG4gIH1cblxuICBtZW1vcy52YWwxLnNldCh2YWwxLCBtZW1vcy5wb3NpdGlvbik7XG4gIG1lbW9zLnZhbDIuc2V0KHZhbDIsIG1lbW9zLnBvc2l0aW9uKTtcbiAgdmFyIGFyZUVxID0gb2JqRXF1aXYodmFsMSwgdmFsMiwgc3RyaWN0LCBhS2V5cywgbWVtb3MsIGl0ZXJhdGlvblR5cGUpO1xuICBtZW1vcy52YWwxLmRlbGV0ZSh2YWwxKTtcbiAgbWVtb3MudmFsMi5kZWxldGUodmFsMik7XG4gIHJldHVybiBhcmVFcTtcbn1cblxuZnVuY3Rpb24gc2V0SGFzRXF1YWxFbGVtZW50KHNldCwgdmFsMSwgc3RyaWN0LCBtZW1vKSB7XG4gIC8vIEdvIGxvb2tpbmcuXG4gIHZhciBzZXRWYWx1ZXMgPSBhcnJheUZyb21TZXQoc2V0KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNldFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YWwyID0gc2V0VmFsdWVzW2ldO1xuXG4gICAgaWYgKGlubmVyRGVlcEVxdWFsKHZhbDEsIHZhbDIsIHN0cmljdCwgbWVtbykpIHtcbiAgICAgIC8vIFJlbW92ZSB0aGUgbWF0Y2hpbmcgZWxlbWVudCB0byBtYWtlIHN1cmUgd2UgZG8gbm90IGNoZWNrIHRoYXQgYWdhaW4uXG4gICAgICBzZXQuZGVsZXRlKHZhbDIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufSAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9FcXVhbGl0eV9jb21wYXJpc29uc19hbmRfc2FtZW5lc3MjTG9vc2VfZXF1YWxpdHlfdXNpbmdcbi8vIFNhZGx5IGl0IGlzIG5vdCBwb3NzaWJsZSB0byBkZXRlY3QgY29ycmVzcG9uZGluZyB2YWx1ZXMgcHJvcGVybHkgaW4gY2FzZSB0aGVcbi8vIHR5cGUgaXMgYSBzdHJpbmcsIG51bWJlciwgYmlnaW50IG9yIGJvb2xlYW4uIFRoZSByZWFzb24gaXMgdGhhdCB0aG9zZSB2YWx1ZXNcbi8vIGNhbiBtYXRjaCBsb3RzIG9mIGRpZmZlcmVudCBzdHJpbmcgdmFsdWVzIChlLmcuLCAxbiA9PSAnKzAwMDAxJykuXG5cblxuZnVuY3Rpb24gZmluZExvb3NlTWF0Y2hpbmdQcmltaXRpdmVzKHByaW0pIHtcbiAgc3dpdGNoIChfdHlwZW9mKHByaW0pKSB7XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiBudWxsO1xuXG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIC8vIE9ubHkgcGFzcyBpbiBudWxsIGFzIG9iamVjdCFcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICBjYXNlICdzeW1ib2wnOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHByaW0gPSArcHJpbTtcbiAgICAvLyBMb29zZSBlcXVhbCBlbnRyaWVzIGV4aXN0IG9ubHkgaWYgdGhlIHN0cmluZyBpcyBwb3NzaWJsZSB0byBjb252ZXJ0IHRvXG4gICAgLy8gYSByZWd1bGFyIG51bWJlciBhbmQgbm90IE5hTi5cbiAgICAvLyBGYWxsIHRocm91Z2hcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAobnVtYmVySXNOYU4ocHJpbSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc2V0TWlnaHRIYXZlTG9vc2VQcmltKGEsIGIsIHByaW0pIHtcbiAgdmFyIGFsdFZhbHVlID0gZmluZExvb3NlTWF0Y2hpbmdQcmltaXRpdmVzKHByaW0pO1xuICBpZiAoYWx0VmFsdWUgIT0gbnVsbCkgcmV0dXJuIGFsdFZhbHVlO1xuICByZXR1cm4gYi5oYXMoYWx0VmFsdWUpICYmICFhLmhhcyhhbHRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIG1hcE1pZ2h0SGF2ZUxvb3NlUHJpbShhLCBiLCBwcmltLCBpdGVtLCBtZW1vKSB7XG4gIHZhciBhbHRWYWx1ZSA9IGZpbmRMb29zZU1hdGNoaW5nUHJpbWl0aXZlcyhwcmltKTtcblxuICBpZiAoYWx0VmFsdWUgIT0gbnVsbCkge1xuICAgIHJldHVybiBhbHRWYWx1ZTtcbiAgfVxuXG4gIHZhciBjdXJCID0gYi5nZXQoYWx0VmFsdWUpO1xuXG4gIGlmIChjdXJCID09PSB1bmRlZmluZWQgJiYgIWIuaGFzKGFsdFZhbHVlKSB8fCAhaW5uZXJEZWVwRXF1YWwoaXRlbSwgY3VyQiwgZmFsc2UsIG1lbW8pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuICFhLmhhcyhhbHRWYWx1ZSkgJiYgaW5uZXJEZWVwRXF1YWwoaXRlbSwgY3VyQiwgZmFsc2UsIG1lbW8pO1xufVxuXG5mdW5jdGlvbiBzZXRFcXVpdihhLCBiLCBzdHJpY3QsIG1lbW8pIHtcbiAgLy8gVGhpcyBpcyBhIGxhemlseSBpbml0aWF0ZWQgU2V0IG9mIGVudHJpZXMgd2hpY2ggaGF2ZSB0byBiZSBjb21wYXJlZFxuICAvLyBwYWlyd2lzZS5cbiAgdmFyIHNldCA9IG51bGw7XG4gIHZhciBhVmFsdWVzID0gYXJyYXlGcm9tU2V0KGEpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYVZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB2YWwgPSBhVmFsdWVzW2ldOyAvLyBOb3RlOiBDaGVja2luZyBmb3IgdGhlIG9iamVjdHMgZmlyc3QgaW1wcm92ZXMgdGhlIHBlcmZvcm1hbmNlIGZvciBvYmplY3RcbiAgICAvLyBoZWF2eSBzZXRzIGJ1dCBpdCBpcyBhIG1pbm9yIHNsb3cgZG93biBmb3IgcHJpbWl0aXZlcy4gQXMgdGhleSBhcmUgZmFzdFxuICAgIC8vIHRvIGNoZWNrIHRoaXMgaW1wcm92ZXMgdGhlIHdvcnN0IGNhc2Ugc2NlbmFyaW8gaW5zdGVhZC5cblxuICAgIGlmIChfdHlwZW9mKHZhbCkgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCkge1xuICAgICAgaWYgKHNldCA9PT0gbnVsbCkge1xuICAgICAgICBzZXQgPSBuZXcgU2V0KCk7XG4gICAgICB9IC8vIElmIHRoZSBzcGVjaWZpZWQgdmFsdWUgZG9lc24ndCBleGlzdCBpbiB0aGUgc2Vjb25kIHNldCBpdHMgYW4gbm90IG51bGxcbiAgICAgIC8vIG9iamVjdCAob3Igbm9uIHN0cmljdCBvbmx5OiBhIG5vdCBtYXRjaGluZyBwcmltaXRpdmUpIHdlJ2xsIG5lZWQgdG8gZ29cbiAgICAgIC8vIGh1bnRpbmcgZm9yIHNvbWV0aGluZyB0aGF0cyBkZWVwLShzdHJpY3QtKWVxdWFsIHRvIGl0LiBUbyBtYWtlIHRoaXNcbiAgICAgIC8vIE8obiBsb2cgbikgY29tcGxleGl0eSB3ZSBoYXZlIHRvIGNvcHkgdGhlc2UgdmFsdWVzIGluIGEgbmV3IHNldCBmaXJzdC5cblxuXG4gICAgICBzZXQuYWRkKHZhbCk7XG4gICAgfSBlbHNlIGlmICghYi5oYXModmFsKSkge1xuICAgICAgaWYgKHN0cmljdCkgcmV0dXJuIGZhbHNlOyAvLyBGYXN0IHBhdGggdG8gZGV0ZWN0IG1pc3Npbmcgc3RyaW5nLCBzeW1ib2wsIHVuZGVmaW5lZCBhbmQgbnVsbCB2YWx1ZXMuXG5cbiAgICAgIGlmICghc2V0TWlnaHRIYXZlTG9vc2VQcmltKGEsIGIsIHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2V0ID09PSBudWxsKSB7XG4gICAgICAgIHNldCA9IG5ldyBTZXQoKTtcbiAgICAgIH1cblxuICAgICAgc2V0LmFkZCh2YWwpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzZXQgIT09IG51bGwpIHtcbiAgICB2YXIgYlZhbHVlcyA9IGFycmF5RnJvbVNldChiKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBiVmFsdWVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF92YWwgPSBiVmFsdWVzW19pXTsgLy8gV2UgaGF2ZSB0byBjaGVjayBpZiBhIHByaW1pdGl2ZSB2YWx1ZSBpcyBhbHJlYWR5XG4gICAgICAvLyBtYXRjaGluZyBhbmQgb25seSBpZiBpdCdzIG5vdCwgZ28gaHVudGluZyBmb3IgaXQuXG5cbiAgICAgIGlmIChfdHlwZW9mKF92YWwpID09PSAnb2JqZWN0JyAmJiBfdmFsICE9PSBudWxsKSB7XG4gICAgICAgIGlmICghc2V0SGFzRXF1YWxFbGVtZW50KHNldCwgX3ZhbCwgc3RyaWN0LCBtZW1vKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmICFhLmhhcyhfdmFsKSAmJiAhc2V0SGFzRXF1YWxFbGVtZW50KHNldCwgX3ZhbCwgc3RyaWN0LCBtZW1vKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNldC5zaXplID09PSAwO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIG1hcEhhc0VxdWFsRW50cnkoc2V0LCBtYXAsIGtleTEsIGl0ZW0xLCBzdHJpY3QsIG1lbW8pIHtcbiAgLy8gVG8gYmUgYWJsZSB0byBoYW5kbGUgY2FzZXMgbGlrZTpcbiAgLy8gICBNYXAoW1t7fSwgJ2EnXSwgW3t9LCAnYiddXSkgdnMgTWFwKFtbe30sICdiJ10sIFt7fSwgJ2EnXV0pXG4gIC8vIC4uLiB3ZSBuZWVkIHRvIGNvbnNpZGVyICphbGwqIG1hdGNoaW5nIGtleXMsIG5vdCBqdXN0IHRoZSBmaXJzdCB3ZSBmaW5kLlxuICB2YXIgc2V0VmFsdWVzID0gYXJyYXlGcm9tU2V0KHNldCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5MiA9IHNldFZhbHVlc1tpXTtcblxuICAgIGlmIChpbm5lckRlZXBFcXVhbChrZXkxLCBrZXkyLCBzdHJpY3QsIG1lbW8pICYmIGlubmVyRGVlcEVxdWFsKGl0ZW0xLCBtYXAuZ2V0KGtleTIpLCBzdHJpY3QsIG1lbW8pKSB7XG4gICAgICBzZXQuZGVsZXRlKGtleTIpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBtYXBFcXVpdihhLCBiLCBzdHJpY3QsIG1lbW8pIHtcbiAgdmFyIHNldCA9IG51bGw7XG4gIHZhciBhRW50cmllcyA9IGFycmF5RnJvbU1hcChhKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFFbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIF9hRW50cmllcyRpID0gX3NsaWNlZFRvQXJyYXkoYUVudHJpZXNbaV0sIDIpLFxuICAgICAgICBrZXkgPSBfYUVudHJpZXMkaVswXSxcbiAgICAgICAgaXRlbTEgPSBfYUVudHJpZXMkaVsxXTtcblxuICAgIGlmIChfdHlwZW9mKGtleSkgPT09ICdvYmplY3QnICYmIGtleSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHNldCA9PT0gbnVsbCkge1xuICAgICAgICBzZXQgPSBuZXcgU2V0KCk7XG4gICAgICB9XG5cbiAgICAgIHNldC5hZGQoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQnkgZGlyZWN0bHkgcmV0cmlldmluZyB0aGUgdmFsdWUgd2UgcHJldmVudCBhbm90aGVyIGIuaGFzKGtleSkgY2hlY2sgaW5cbiAgICAgIC8vIGFsbW9zdCBhbGwgcG9zc2libGUgY2FzZXMuXG4gICAgICB2YXIgaXRlbTIgPSBiLmdldChrZXkpO1xuXG4gICAgICBpZiAoaXRlbTIgPT09IHVuZGVmaW5lZCAmJiAhYi5oYXMoa2V5KSB8fCAhaW5uZXJEZWVwRXF1YWwoaXRlbTEsIGl0ZW0yLCBzdHJpY3QsIG1lbW8pKSB7XG4gICAgICAgIGlmIChzdHJpY3QpIHJldHVybiBmYWxzZTsgLy8gRmFzdCBwYXRoIHRvIGRldGVjdCBtaXNzaW5nIHN0cmluZywgc3ltYm9sLCB1bmRlZmluZWQgYW5kIG51bGxcbiAgICAgICAgLy8ga2V5cy5cblxuICAgICAgICBpZiAoIW1hcE1pZ2h0SGF2ZUxvb3NlUHJpbShhLCBiLCBrZXksIGl0ZW0xLCBtZW1vKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChzZXQgPT09IG51bGwpIHtcbiAgICAgICAgICBzZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXQuYWRkKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHNldCAhPT0gbnVsbCkge1xuICAgIHZhciBiRW50cmllcyA9IGFycmF5RnJvbU1hcChiKTtcblxuICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGJFbnRyaWVzLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgIHZhciBfYkVudHJpZXMkX2kgPSBfc2xpY2VkVG9BcnJheShiRW50cmllc1tfaTJdLCAyKSxcbiAgICAgICAgICBrZXkgPSBfYkVudHJpZXMkX2lbMF0sXG4gICAgICAgICAgaXRlbSA9IF9iRW50cmllcyRfaVsxXTtcblxuICAgICAgaWYgKF90eXBlb2Yoa2V5KSA9PT0gJ29iamVjdCcgJiYga2V5ICE9PSBudWxsKSB7XG4gICAgICAgIGlmICghbWFwSGFzRXF1YWxFbnRyeShzZXQsIGEsIGtleSwgaXRlbSwgc3RyaWN0LCBtZW1vKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmICghYS5oYXMoa2V5KSB8fCAhaW5uZXJEZWVwRXF1YWwoYS5nZXQoa2V5KSwgaXRlbSwgZmFsc2UsIG1lbW8pKSAmJiAhbWFwSGFzRXF1YWxFbnRyeShzZXQsIGEsIGtleSwgaXRlbSwgZmFsc2UsIG1lbW8pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2V0LnNpemUgPT09IDA7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gb2JqRXF1aXYoYSwgYiwgc3RyaWN0LCBrZXlzLCBtZW1vcywgaXRlcmF0aW9uVHlwZSkge1xuICAvLyBTZXRzIGFuZCBtYXBzIGRvbid0IGhhdmUgdGhlaXIgZW50cmllcyBhY2Nlc3NpYmxlIHZpYSBub3JtYWwgb2JqZWN0XG4gIC8vIHByb3BlcnRpZXMuXG4gIHZhciBpID0gMDtcblxuICBpZiAoaXRlcmF0aW9uVHlwZSA9PT0ga0lzU2V0KSB7XG4gICAgaWYgKCFzZXRFcXVpdihhLCBiLCBzdHJpY3QsIG1lbW9zKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpdGVyYXRpb25UeXBlID09PSBrSXNNYXApIHtcbiAgICBpZiAoIW1hcEVxdWl2KGEsIGIsIHN0cmljdCwgbWVtb3MpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2UgaWYgKGl0ZXJhdGlvblR5cGUgPT09IGtJc0FycmF5KSB7XG4gICAgZm9yICg7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkoYSwgaSkpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShiLCBpKSB8fCAhaW5uZXJEZWVwRXF1YWwoYVtpXSwgYltpXSwgc3RyaWN0LCBtZW1vcykpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkoYiwgaSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXJyYXkgaXMgc3BhcnNlLlxuICAgICAgICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhhKTtcblxuICAgICAgICBmb3IgKDsgaSA8IGtleXNBLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGtleXNBW2ldO1xuXG4gICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShiLCBrZXkpIHx8ICFpbm5lckRlZXBFcXVhbChhW2tleV0sIGJba2V5XSwgc3RyaWN0LCBtZW1vcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoa2V5c0EubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gVGhlIHBhaXIgbXVzdCBoYXZlIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeSBjb3JyZXNwb25kaW5nIGtleS5cbiAgLy8gUG9zc2libHkgZXhwZW5zaXZlIGRlZXAgdGVzdDpcblxuXG4gIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIF9rZXkgPSBrZXlzW2ldO1xuXG4gICAgaWYgKCFpbm5lckRlZXBFcXVhbChhW19rZXldLCBiW19rZXldLCBzdHJpY3QsIG1lbW9zKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc0RlZXBFcXVhbCh2YWwxLCB2YWwyKSB7XG4gIHJldHVybiBpbm5lckRlZXBFcXVhbCh2YWwxLCB2YWwyLCBrTG9vc2UpO1xufVxuXG5mdW5jdGlvbiBpc0RlZXBTdHJpY3RFcXVhbCh2YWwxLCB2YWwyKSB7XG4gIHJldHVybiBpbm5lckRlZXBFcXVhbCh2YWwxLCB2YWwyLCBrU3RyaWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzRGVlcEVxdWFsOiBpc0RlZXBFcXVhbCxcbiAgaXNEZWVwU3RyaWN0RXF1YWw6IGlzRGVlcFN0cmljdEVxdWFsXG59OyIsICIvLyBDdXJyZW50bHkgaW4gc3luYyB3aXRoIE5vZGUuanMgbGliL2Fzc2VydC5qc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2NvbW1pdC8yYTUxYWU0MjRhNTEzZWM5YTZhYTM0NjZiYWEwY2MxZDU1ZGQ0ZjNiXG4vLyBPcmlnaW5hbGx5IGZyb20gbmFyd2hhbC5qcyAoaHR0cDovL25hcndoYWxqcy5vcmcpXG4vLyBDb3B5cmlnaHQgKGMpIDIwMDkgVGhvbWFzIFJvYmluc29uIDwyODBub3J0aC5jb20+XG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgJ1NvZnR3YXJlJyksIHRvXG4vLyBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZVxuLy8gcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yXG4vLyBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICdBUyBJUycsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTlxuLy8gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuLy8gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvZXJyb3JzJyksXG4gICAgX3JlcXVpcmUkY29kZXMgPSBfcmVxdWlyZS5jb2RlcyxcbiAgICBFUlJfQU1CSUdVT1VTX0FSR1VNRU5UID0gX3JlcXVpcmUkY29kZXMuRVJSX0FNQklHVU9VU19BUkdVTUVOVCxcbiAgICBFUlJfSU5WQUxJRF9BUkdfVFlQRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFLFxuICAgIEVSUl9JTlZBTElEX0FSR19WQUxVRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9JTlZBTElEX0FSR19WQUxVRSxcbiAgICBFUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUUgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfSU5WQUxJRF9SRVRVUk5fVkFMVUUsXG4gICAgRVJSX01JU1NJTkdfQVJHUyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9NSVNTSU5HX0FSR1M7XG5cbnZhciBBc3NlcnRpb25FcnJvciA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvYXNzZXJ0L2Fzc2VydGlvbl9lcnJvcicpO1xuXG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgndXRpbC8nKSxcbiAgICBpbnNwZWN0ID0gX3JlcXVpcmUyLmluc3BlY3Q7XG5cbnZhciBfcmVxdWlyZSR0eXBlcyA9IHJlcXVpcmUoJ3V0aWwvJykudHlwZXMsXG4gICAgaXNQcm9taXNlID0gX3JlcXVpcmUkdHlwZXMuaXNQcm9taXNlLFxuICAgIGlzUmVnRXhwID0gX3JlcXVpcmUkdHlwZXMuaXNSZWdFeHA7XG5cbnZhciBvYmplY3RBc3NpZ24gPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbiA6IHJlcXVpcmUoJ2VzNi1vYmplY3QtYXNzaWduJykuYXNzaWduO1xudmFyIG9iamVjdElzID0gT2JqZWN0LmlzID8gT2JqZWN0LmlzIDogcmVxdWlyZSgnb2JqZWN0LWlzJyk7XG52YXIgZXJyb3JDYWNoZSA9IG5ldyBNYXAoKTtcbnZhciBpc0RlZXBFcXVhbDtcbnZhciBpc0RlZXBTdHJpY3RFcXVhbDtcbnZhciBwYXJzZUV4cHJlc3Npb25BdDtcbnZhciBmaW5kTm9kZUFyb3VuZDtcbnZhciBkZWNvZGVyO1xuXG5mdW5jdGlvbiBsYXp5TG9hZENvbXBhcmlzb24oKSB7XG4gIHZhciBjb21wYXJpc29uID0gcmVxdWlyZSgnLi9pbnRlcm5hbC91dGlsL2NvbXBhcmlzb25zJyk7XG5cbiAgaXNEZWVwRXF1YWwgPSBjb21wYXJpc29uLmlzRGVlcEVxdWFsO1xuICBpc0RlZXBTdHJpY3RFcXVhbCA9IGNvbXBhcmlzb24uaXNEZWVwU3RyaWN0RXF1YWw7XG59IC8vIEVzY2FwZSBjb250cm9sIGNoYXJhY3RlcnMgYnV0IG5vdCBcXG4gYW5kIFxcdCB0byBrZWVwIHRoZSBsaW5lIGJyZWFrcyBhbmRcbi8vIGluZGVudGF0aW9uIGludGFjdC5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250cm9sLXJlZ2V4XG5cblxudmFyIGVzY2FwZVNlcXVlbmNlc1JlZ0V4cCA9IC9bXFx4MDAtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZdL2c7XG52YXIgbWV0YSA9IFtcIlxcXFx1MDAwMFwiLCBcIlxcXFx1MDAwMVwiLCBcIlxcXFx1MDAwMlwiLCBcIlxcXFx1MDAwM1wiLCBcIlxcXFx1MDAwNFwiLCBcIlxcXFx1MDAwNVwiLCBcIlxcXFx1MDAwNlwiLCBcIlxcXFx1MDAwN1wiLCAnXFxcXGInLCAnJywgJycsIFwiXFxcXHUwMDBiXCIsICdcXFxcZicsICcnLCBcIlxcXFx1MDAwZVwiLCBcIlxcXFx1MDAwZlwiLCBcIlxcXFx1MDAxMFwiLCBcIlxcXFx1MDAxMVwiLCBcIlxcXFx1MDAxMlwiLCBcIlxcXFx1MDAxM1wiLCBcIlxcXFx1MDAxNFwiLCBcIlxcXFx1MDAxNVwiLCBcIlxcXFx1MDAxNlwiLCBcIlxcXFx1MDAxN1wiLCBcIlxcXFx1MDAxOFwiLCBcIlxcXFx1MDAxOVwiLCBcIlxcXFx1MDAxYVwiLCBcIlxcXFx1MDAxYlwiLCBcIlxcXFx1MDAxY1wiLCBcIlxcXFx1MDAxZFwiLCBcIlxcXFx1MDAxZVwiLCBcIlxcXFx1MDAxZlwiXTtcblxudmFyIGVzY2FwZUZuID0gZnVuY3Rpb24gZXNjYXBlRm4oc3RyKSB7XG4gIHJldHVybiBtZXRhW3N0ci5jaGFyQ29kZUF0KDApXTtcbn07XG5cbnZhciB3YXJuZWQgPSBmYWxzZTsgLy8gVGhlIGFzc2VydCBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25zIHRoYXQgdGhyb3dcbi8vIEFzc2VydGlvbkVycm9yJ3Mgd2hlbiBwYXJ0aWN1bGFyIGNvbmRpdGlvbnMgYXJlIG5vdCBtZXQuIFRoZVxuLy8gYXNzZXJ0IG1vZHVsZSBtdXN0IGNvbmZvcm0gdG8gdGhlIGZvbGxvd2luZyBpbnRlcmZhY2UuXG5cbnZhciBhc3NlcnQgPSBtb2R1bGUuZXhwb3J0cyA9IG9rO1xudmFyIE5PX0VYQ0VQVElPTl9TRU5USU5FTCA9IHt9OyAvLyBBbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgbXVzdCB0aHJvdyBhbiBBc3NlcnRpb25FcnJvclxuLy8gd2hlbiBhIGNvcnJlc3BvbmRpbmcgY29uZGl0aW9uIGlzIG5vdCBtZXQsIHdpdGggYSBtZXNzYWdlIHRoYXRcbi8vIG1heSBiZSB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLiBBbGwgYXNzZXJ0aW9uIG1ldGhvZHMgcHJvdmlkZVxuLy8gYm90aCB0aGUgYWN0dWFsIGFuZCBleHBlY3RlZCB2YWx1ZXMgdG8gdGhlIGFzc2VydGlvbiBlcnJvciBmb3Jcbi8vIGRpc3BsYXkgcHVycG9zZXMuXG5cbmZ1bmN0aW9uIGlubmVyRmFpbChvYmopIHtcbiAgaWYgKG9iai5tZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHRocm93IG9iai5tZXNzYWdlO1xuICB0aHJvdyBuZXcgQXNzZXJ0aW9uRXJyb3Iob2JqKTtcbn1cblxuZnVuY3Rpb24gZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCBvcGVyYXRvciwgc3RhY2tTdGFydEZuKSB7XG4gIHZhciBhcmdzTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgdmFyIGludGVybmFsTWVzc2FnZTtcblxuICBpZiAoYXJnc0xlbiA9PT0gMCkge1xuICAgIGludGVybmFsTWVzc2FnZSA9ICdGYWlsZWQnO1xuICB9IGVsc2UgaWYgKGFyZ3NMZW4gPT09IDEpIHtcbiAgICBtZXNzYWdlID0gYWN0dWFsO1xuICAgIGFjdHVhbCA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICBpZiAod2FybmVkID09PSBmYWxzZSkge1xuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICAgIHZhciB3YXJuID0gcHJvY2Vzcy5lbWl0V2FybmluZyA/IHByb2Nlc3MuZW1pdFdhcm5pbmcgOiBjb25zb2xlLndhcm4uYmluZChjb25zb2xlKTtcbiAgICAgIHdhcm4oJ2Fzc2VydC5mYWlsKCkgd2l0aCBtb3JlIHRoYW4gb25lIGFyZ3VtZW50IGlzIGRlcHJlY2F0ZWQuICcgKyAnUGxlYXNlIHVzZSBhc3NlcnQuc3RyaWN0RXF1YWwoKSBpbnN0ZWFkIG9yIG9ubHkgcGFzcyBhIG1lc3NhZ2UuJywgJ0RlcHJlY2F0aW9uV2FybmluZycsICdERVAwMDk0Jyk7XG4gICAgfVxuXG4gICAgaWYgKGFyZ3NMZW4gPT09IDIpIG9wZXJhdG9yID0gJyE9JztcbiAgfVxuXG4gIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHRocm93IG1lc3NhZ2U7XG4gIHZhciBlcnJBcmdzID0ge1xuICAgIGFjdHVhbDogYWN0dWFsLFxuICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICBvcGVyYXRvcjogb3BlcmF0b3IgPT09IHVuZGVmaW5lZCA/ICdmYWlsJyA6IG9wZXJhdG9yLFxuICAgIHN0YWNrU3RhcnRGbjogc3RhY2tTdGFydEZuIHx8IGZhaWxcbiAgfTtcblxuICBpZiAobWVzc2FnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZXJyQXJncy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgfVxuXG4gIHZhciBlcnIgPSBuZXcgQXNzZXJ0aW9uRXJyb3IoZXJyQXJncyk7XG5cbiAgaWYgKGludGVybmFsTWVzc2FnZSkge1xuICAgIGVyci5tZXNzYWdlID0gaW50ZXJuYWxNZXNzYWdlO1xuICAgIGVyci5nZW5lcmF0ZWRNZXNzYWdlID0gdHJ1ZTtcbiAgfVxuXG4gIHRocm93IGVycjtcbn1cblxuYXNzZXJ0LmZhaWwgPSBmYWlsOyAvLyBUaGUgQXNzZXJ0aW9uRXJyb3IgaXMgZGVmaW5lZCBpbiBpbnRlcm5hbC9lcnJvci5cblxuYXNzZXJ0LkFzc2VydGlvbkVycm9yID0gQXNzZXJ0aW9uRXJyb3I7XG5cbmZ1bmN0aW9uIGlubmVyT2soZm4sIGFyZ0xlbiwgdmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHZhciBnZW5lcmF0ZWRNZXNzYWdlID0gZmFsc2U7XG5cbiAgICBpZiAoYXJnTGVuID09PSAwKSB7XG4gICAgICBnZW5lcmF0ZWRNZXNzYWdlID0gdHJ1ZTtcbiAgICAgIG1lc3NhZ2UgPSAnTm8gdmFsdWUgYXJndW1lbnQgcGFzc2VkIHRvIGBhc3NlcnQub2soKWAnO1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICB0aHJvdyBtZXNzYWdlO1xuICAgIH1cblxuICAgIHZhciBlcnIgPSBuZXcgQXNzZXJ0aW9uRXJyb3Ioe1xuICAgICAgYWN0dWFsOiB2YWx1ZSxcbiAgICAgIGV4cGVjdGVkOiB0cnVlLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIG9wZXJhdG9yOiAnPT0nLFxuICAgICAgc3RhY2tTdGFydEZuOiBmblxuICAgIH0pO1xuICAgIGVyci5nZW5lcmF0ZWRNZXNzYWdlID0gZ2VuZXJhdGVkTWVzc2FnZTtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn0gLy8gUHVyZSBhc3NlcnRpb24gdGVzdHMgd2hldGhlciBhIHZhbHVlIGlzIHRydXRoeSwgYXMgZGV0ZXJtaW5lZFxuLy8gYnkgISF2YWx1ZS5cblxuXG5mdW5jdGlvbiBvaygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlubmVyT2suYXBwbHkodm9pZCAwLCBbb2ssIGFyZ3MubGVuZ3RoXS5jb25jYXQoYXJncykpO1xufVxuXG5hc3NlcnQub2sgPSBvazsgLy8gVGhlIGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzaGFsbG93LCBjb2VyY2l2ZSBlcXVhbGl0eSB3aXRoID09LlxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLXByb3BlcnRpZXMgKi9cblxuYXNzZXJ0LmVxdWFsID0gZnVuY3Rpb24gZXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRVJSX01JU1NJTkdfQVJHUygnYWN0dWFsJywgJ2V4cGVjdGVkJyk7XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuXG5cbiAgaWYgKGFjdHVhbCAhPSBleHBlY3RlZCkge1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogJz09JyxcbiAgICAgIHN0YWNrU3RhcnRGbjogZXF1YWxcbiAgICB9KTtcbiAgfVxufTsgLy8gVGhlIG5vbi1lcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgZm9yIHdoZXRoZXIgdHdvIG9iamVjdHMgYXJlIG5vdFxuLy8gZXF1YWwgd2l0aCAhPS5cblxuXG5hc3NlcnQubm90RXF1YWwgPSBmdW5jdGlvbiBub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBFUlJfTUlTU0lOR19BUkdTKCdhY3R1YWwnLCAnZXhwZWN0ZWQnKTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG5cblxuICBpZiAoYWN0dWFsID09IGV4cGVjdGVkKSB7XG4gICAgaW5uZXJGYWlsKHtcbiAgICAgIGFjdHVhbDogYWN0dWFsLFxuICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIG9wZXJhdG9yOiAnIT0nLFxuICAgICAgc3RhY2tTdGFydEZuOiBub3RFcXVhbFxuICAgIH0pO1xuICB9XG59OyAvLyBUaGUgZXF1aXZhbGVuY2UgYXNzZXJ0aW9uIHRlc3RzIGEgZGVlcCBlcXVhbGl0eSByZWxhdGlvbi5cblxuXG5hc3NlcnQuZGVlcEVxdWFsID0gZnVuY3Rpb24gZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoJ2FjdHVhbCcsICdleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKGlzRGVlcEVxdWFsID09PSB1bmRlZmluZWQpIGxhenlMb2FkQ29tcGFyaXNvbigpO1xuXG4gIGlmICghaXNEZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBpbm5lckZhaWwoe1xuICAgICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgb3BlcmF0b3I6ICdkZWVwRXF1YWwnLFxuICAgICAgc3RhY2tTdGFydEZuOiBkZWVwRXF1YWxcbiAgICB9KTtcbiAgfVxufTsgLy8gVGhlIG5vbi1lcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgZm9yIGFueSBkZWVwIGluZXF1YWxpdHkuXG5cblxuYXNzZXJ0Lm5vdERlZXBFcXVhbCA9IGZ1bmN0aW9uIG5vdERlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBFUlJfTUlTU0lOR19BUkdTKCdhY3R1YWwnLCAnZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGlmIChpc0RlZXBFcXVhbCA9PT0gdW5kZWZpbmVkKSBsYXp5TG9hZENvbXBhcmlzb24oKTtcblxuICBpZiAoaXNEZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBpbm5lckZhaWwoe1xuICAgICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgb3BlcmF0b3I6ICdub3REZWVwRXF1YWwnLFxuICAgICAgc3RhY2tTdGFydEZuOiBub3REZWVwRXF1YWxcbiAgICB9KTtcbiAgfVxufTtcbi8qIGVzbGludC1lbmFibGUgKi9cblxuXG5hc3NlcnQuZGVlcFN0cmljdEVxdWFsID0gZnVuY3Rpb24gZGVlcFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoJ2FjdHVhbCcsICdleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKGlzRGVlcEVxdWFsID09PSB1bmRlZmluZWQpIGxhenlMb2FkQ29tcGFyaXNvbigpO1xuXG4gIGlmICghaXNEZWVwU3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBpbm5lckZhaWwoe1xuICAgICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgb3BlcmF0b3I6ICdkZWVwU3RyaWN0RXF1YWwnLFxuICAgICAgc3RhY2tTdGFydEZuOiBkZWVwU3RyaWN0RXF1YWxcbiAgICB9KTtcbiAgfVxufTtcblxuYXNzZXJ0Lm5vdERlZXBTdHJpY3RFcXVhbCA9IG5vdERlZXBTdHJpY3RFcXVhbDtcblxuZnVuY3Rpb24gbm90RGVlcFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoJ2FjdHVhbCcsICdleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKGlzRGVlcEVxdWFsID09PSB1bmRlZmluZWQpIGxhenlMb2FkQ29tcGFyaXNvbigpO1xuXG4gIGlmIChpc0RlZXBTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkKSkge1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogJ25vdERlZXBTdHJpY3RFcXVhbCcsXG4gICAgICBzdGFja1N0YXJ0Rm46IG5vdERlZXBTdHJpY3RFcXVhbFxuICAgIH0pO1xuICB9XG59XG5cbmFzc2VydC5zdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIHN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9NSVNTSU5HX0FSR1MoJ2FjdHVhbCcsICdleHBlY3RlZCcpO1xuICB9XG5cbiAgaWYgKCFvYmplY3RJcyhhY3R1YWwsIGV4cGVjdGVkKSkge1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogJ3N0cmljdEVxdWFsJyxcbiAgICAgIHN0YWNrU3RhcnRGbjogc3RyaWN0RXF1YWxcbiAgICB9KTtcbiAgfVxufTtcblxuYXNzZXJ0Lm5vdFN0cmljdEVxdWFsID0gZnVuY3Rpb24gbm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB0aHJvdyBuZXcgRVJSX01JU1NJTkdfQVJHUygnYWN0dWFsJywgJ2V4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAob2JqZWN0SXMoYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBpbm5lckZhaWwoe1xuICAgICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgb3BlcmF0b3I6ICdub3RTdHJpY3RFcXVhbCcsXG4gICAgICBzdGFja1N0YXJ0Rm46IG5vdFN0cmljdEVxdWFsXG4gICAgfSk7XG4gIH1cbn07XG5cbnZhciBDb21wYXJpc29uID0gZnVuY3Rpb24gQ29tcGFyaXNvbihvYmosIGtleXMsIGFjdHVhbCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wYXJpc29uKTtcblxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoYWN0dWFsICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGFjdHVhbFtrZXldID09PSAnc3RyaW5nJyAmJiBpc1JlZ0V4cChvYmpba2V5XSkgJiYgb2JqW2tleV0udGVzdChhY3R1YWxba2V5XSkpIHtcbiAgICAgICAgX3RoaXNba2V5XSA9IGFjdHVhbFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXNba2V5XSA9IG9ialtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG5mdW5jdGlvbiBjb21wYXJlRXhjZXB0aW9uS2V5KGFjdHVhbCwgZXhwZWN0ZWQsIGtleSwgbWVzc2FnZSwga2V5cywgZm4pIHtcbiAgaWYgKCEoa2V5IGluIGFjdHVhbCkgfHwgIWlzRGVlcFN0cmljdEVxdWFsKGFjdHVhbFtrZXldLCBleHBlY3RlZFtrZXldKSkge1xuICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgLy8gQ3JlYXRlIHBsYWNlaG9sZGVyIG9iamVjdHMgdG8gY3JlYXRlIGEgbmljZSBvdXRwdXQuXG4gICAgICB2YXIgYSA9IG5ldyBDb21wYXJpc29uKGFjdHVhbCwga2V5cyk7XG4gICAgICB2YXIgYiA9IG5ldyBDb21wYXJpc29uKGV4cGVjdGVkLCBrZXlzLCBhY3R1YWwpO1xuICAgICAgdmFyIGVyciA9IG5ldyBBc3NlcnRpb25FcnJvcih7XG4gICAgICAgIGFjdHVhbDogYSxcbiAgICAgICAgZXhwZWN0ZWQ6IGIsXG4gICAgICAgIG9wZXJhdG9yOiAnZGVlcFN0cmljdEVxdWFsJyxcbiAgICAgICAgc3RhY2tTdGFydEZuOiBmblxuICAgICAgfSk7XG4gICAgICBlcnIuYWN0dWFsID0gYWN0dWFsO1xuICAgICAgZXJyLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gICAgICBlcnIub3BlcmF0b3IgPSBmbi5uYW1lO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cblxuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBvcGVyYXRvcjogZm4ubmFtZSxcbiAgICAgIHN0YWNrU3RhcnRGbjogZm5cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkLCBtc2csIGZuKSB7XG4gIGlmICh0eXBlb2YgZXhwZWN0ZWQgIT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoaXNSZWdFeHAoZXhwZWN0ZWQpKSByZXR1cm4gZXhwZWN0ZWQudGVzdChhY3R1YWwpOyAvLyBhc3NlcnQuZG9lc05vdFRocm93IGRvZXMgbm90IGFjY2VwdCBvYmplY3RzLlxuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFUlJfSU5WQUxJRF9BUkdfVFlQRSgnZXhwZWN0ZWQnLCBbJ0Z1bmN0aW9uJywgJ1JlZ0V4cCddLCBleHBlY3RlZCk7XG4gICAgfSAvLyBIYW5kbGUgcHJpbWl0aXZlcyBwcm9wZXJseS5cblxuXG4gICAgaWYgKF90eXBlb2YoYWN0dWFsKSAhPT0gJ29iamVjdCcgfHwgYWN0dWFsID09PSBudWxsKSB7XG4gICAgICB2YXIgZXJyID0gbmV3IEFzc2VydGlvbkVycm9yKHtcbiAgICAgICAgYWN0dWFsOiBhY3R1YWwsXG4gICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCxcbiAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICBvcGVyYXRvcjogJ2RlZXBTdHJpY3RFcXVhbCcsXG4gICAgICAgIHN0YWNrU3RhcnRGbjogZm5cbiAgICAgIH0pO1xuICAgICAgZXJyLm9wZXJhdG9yID0gZm4ubmFtZTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV4cGVjdGVkKTsgLy8gU3BlY2lhbCBoYW5kbGUgZXJyb3JzIHRvIG1ha2Ugc3VyZSB0aGUgbmFtZSBhbmQgdGhlIG1lc3NhZ2UgYXJlIGNvbXBhcmVkXG4gICAgLy8gYXMgd2VsbC5cblxuICAgIGlmIChleHBlY3RlZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBrZXlzLnB1c2goJ25hbWUnLCAnbWVzc2FnZScpO1xuICAgIH0gZWxzZSBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFUlJfSU5WQUxJRF9BUkdfVkFMVUUoJ2Vycm9yJywgZXhwZWN0ZWQsICdtYXkgbm90IGJlIGFuIGVtcHR5IG9iamVjdCcpO1xuICAgIH1cblxuICAgIGlmIChpc0RlZXBFcXVhbCA9PT0gdW5kZWZpbmVkKSBsYXp5TG9hZENvbXBhcmlzb24oKTtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKHR5cGVvZiBhY3R1YWxba2V5XSA9PT0gJ3N0cmluZycgJiYgaXNSZWdFeHAoZXhwZWN0ZWRba2V5XSkgJiYgZXhwZWN0ZWRba2V5XS50ZXN0KGFjdHVhbFtrZXldKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbXBhcmVFeGNlcHRpb25LZXkoYWN0dWFsLCBleHBlY3RlZCwga2V5LCBtc2csIGtleXMsIGZuKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBHdWFyZCBpbnN0YW5jZW9mIGFnYWluc3QgYXJyb3cgZnVuY3Rpb25zIGFzIHRoZXkgZG9uJ3QgaGF2ZSBhIHByb3RvdHlwZS5cblxuXG4gIGlmIChleHBlY3RlZC5wcm90b3R5cGUgIT09IHVuZGVmaW5lZCAmJiBhY3R1YWwgaW5zdGFuY2VvZiBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKEVycm9yLmlzUHJvdG90eXBlT2YoZXhwZWN0ZWQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGV4cGVjdGVkLmNhbGwoe30sIGFjdHVhbCkgPT09IHRydWU7XG59XG5cbmZ1bmN0aW9uIGdldEFjdHVhbChmbikge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdmbicsICdGdW5jdGlvbicsIGZuKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgZm4oKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgcmV0dXJuIE5PX0VYQ0VQVElPTl9TRU5USU5FTDtcbn1cblxuZnVuY3Rpb24gY2hlY2tJc1Byb21pc2Uob2JqKSB7XG4gIC8vIEFjY2VwdCBuYXRpdmUgRVM2IHByb21pc2VzIGFuZCBwcm9taXNlcyB0aGF0IGFyZSBpbXBsZW1lbnRlZCBpbiBhIHNpbWlsYXJcbiAgLy8gd2F5LiBEbyBub3QgYWNjZXB0IHRoZW5hYmxlcyB0aGF0IHVzZSBhIGZ1bmN0aW9uIGFzIGBvYmpgIGFuZCB0aGF0IGhhdmUgbm9cbiAgLy8gYGNhdGNoYCBoYW5kbGVyLlxuICAvLyBUT0RPOiB0aGVuYWJsZXMgYXJlIGNoZWNrZWQgdXAgdW50aWwgdGhleSBoYXZlIHRoZSBjb3JyZWN0IG1ldGhvZHMsXG4gIC8vIGJ1dCBhY2NvcmRpbmcgdG8gZG9jdW1lbnRhdGlvbiwgdGhlIGB0aGVuYCBtZXRob2Qgc2hvdWxkIHJlY2VpdmVcbiAgLy8gdGhlIGBmdWxmaWxsYCBhbmQgYHJlamVjdGAgYXJndW1lbnRzIGFzIHdlbGwgb3IgaXQgbWF5IGJlIG5ldmVyIHJlc29sdmVkLlxuICByZXR1cm4gaXNQcm9taXNlKG9iaikgfHwgb2JqICE9PSBudWxsICYmIF90eXBlb2Yob2JqKSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmouY2F0Y2ggPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIHdhaXRGb3JBY3R1YWwocHJvbWlzZUZuKSB7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0UHJvbWlzZTtcblxuICAgIGlmICh0eXBlb2YgcHJvbWlzZUZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBSZXR1cm4gYSByZWplY3RlZCBwcm9taXNlIGlmIGBwcm9taXNlRm5gIHRocm93cyBzeW5jaHJvbm91c2x5LlxuICAgICAgcmVzdWx0UHJvbWlzZSA9IHByb21pc2VGbigpOyAvLyBGYWlsIGluIGNhc2Ugbm8gcHJvbWlzZSBpcyByZXR1cm5lZC5cblxuICAgICAgaWYgKCFjaGVja0lzUHJvbWlzZShyZXN1bHRQcm9taXNlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfUkVUVVJOX1ZBTFVFKCdpbnN0YW5jZSBvZiBQcm9taXNlJywgJ3Byb21pc2VGbicsIHJlc3VsdFByb21pc2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hlY2tJc1Byb21pc2UocHJvbWlzZUZuKSkge1xuICAgICAgcmVzdWx0UHJvbWlzZSA9IHByb21pc2VGbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdwcm9taXNlRm4nLCBbJ0Z1bmN0aW9uJywgJ1Byb21pc2UnXSwgcHJvbWlzZUZuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzdWx0UHJvbWlzZTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBOT19FWENFUFRJT05fU0VOVElORUw7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZXhwZWN0c0Vycm9yKHN0YWNrU3RhcnRGbiwgYWN0dWFsLCBlcnJvciwgbWVzc2FnZSkge1xuICBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSA0KSB7XG4gICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfQVJHX1RZUEUoJ2Vycm9yJywgWydPYmplY3QnLCAnRXJyb3InLCAnRnVuY3Rpb24nLCAnUmVnRXhwJ10sIGVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAoX3R5cGVvZihhY3R1YWwpID09PSAnb2JqZWN0JyAmJiBhY3R1YWwgIT09IG51bGwpIHtcbiAgICAgIGlmIChhY3R1YWwubWVzc2FnZSA9PT0gZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVSUl9BTUJJR1VPVVNfQVJHVU1FTlQoJ2Vycm9yL21lc3NhZ2UnLCBcIlRoZSBlcnJvciBtZXNzYWdlIFxcXCJcIi5jb25jYXQoYWN0dWFsLm1lc3NhZ2UsIFwiXFxcIiBpcyBpZGVudGljYWwgdG8gdGhlIG1lc3NhZ2UuXCIpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdHVhbCA9PT0gZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFUlJfQU1CSUdVT1VTX0FSR1VNRU5UKCdlcnJvci9tZXNzYWdlJywgXCJUaGUgZXJyb3IgXFxcIlwiLmNvbmNhdChhY3R1YWwsIFwiXFxcIiBpcyBpZGVudGljYWwgdG8gdGhlIG1lc3NhZ2UuXCIpKTtcbiAgICB9XG5cbiAgICBtZXNzYWdlID0gZXJyb3I7XG4gICAgZXJyb3IgPSB1bmRlZmluZWQ7XG4gIH0gZWxzZSBpZiAoZXJyb3IgIT0gbnVsbCAmJiBfdHlwZW9mKGVycm9yKSAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIGVycm9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdlcnJvcicsIFsnT2JqZWN0JywgJ0Vycm9yJywgJ0Z1bmN0aW9uJywgJ1JlZ0V4cCddLCBlcnJvcik7XG4gIH1cblxuICBpZiAoYWN0dWFsID09PSBOT19FWENFUFRJT05fU0VOVElORUwpIHtcbiAgICB2YXIgZGV0YWlscyA9ICcnO1xuXG4gICAgaWYgKGVycm9yICYmIGVycm9yLm5hbWUpIHtcbiAgICAgIGRldGFpbHMgKz0gXCIgKFwiLmNvbmNhdChlcnJvci5uYW1lLCBcIilcIik7XG4gICAgfVxuXG4gICAgZGV0YWlscyArPSBtZXNzYWdlID8gXCI6IFwiLmNvbmNhdChtZXNzYWdlKSA6ICcuJztcbiAgICB2YXIgZm5UeXBlID0gc3RhY2tTdGFydEZuLm5hbWUgPT09ICdyZWplY3RzJyA/ICdyZWplY3Rpb24nIDogJ2V4Y2VwdGlvbic7XG4gICAgaW5uZXJGYWlsKHtcbiAgICAgIGFjdHVhbDogdW5kZWZpbmVkLFxuICAgICAgZXhwZWN0ZWQ6IGVycm9yLFxuICAgICAgb3BlcmF0b3I6IHN0YWNrU3RhcnRGbi5uYW1lLFxuICAgICAgbWVzc2FnZTogXCJNaXNzaW5nIGV4cGVjdGVkIFwiLmNvbmNhdChmblR5cGUpLmNvbmNhdChkZXRhaWxzKSxcbiAgICAgIHN0YWNrU3RhcnRGbjogc3RhY2tTdGFydEZuXG4gICAgfSk7XG4gIH1cblxuICBpZiAoZXJyb3IgJiYgIWV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXJyb3IsIG1lc3NhZ2UsIHN0YWNrU3RhcnRGbikpIHtcbiAgICB0aHJvdyBhY3R1YWw7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXhwZWN0c05vRXJyb3Ioc3RhY2tTdGFydEZuLCBhY3R1YWwsIGVycm9yLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgPT09IE5PX0VYQ0VQVElPTl9TRU5USU5FTCkgcmV0dXJuO1xuXG4gIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgbWVzc2FnZSA9IGVycm9yO1xuICAgIGVycm9yID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKCFlcnJvciB8fCBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGVycm9yKSkge1xuICAgIHZhciBkZXRhaWxzID0gbWVzc2FnZSA/IFwiOiBcIi5jb25jYXQobWVzc2FnZSkgOiAnLic7XG4gICAgdmFyIGZuVHlwZSA9IHN0YWNrU3RhcnRGbi5uYW1lID09PSAnZG9lc05vdFJlamVjdCcgPyAncmVqZWN0aW9uJyA6ICdleGNlcHRpb24nO1xuICAgIGlubmVyRmFpbCh7XG4gICAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICAgIGV4cGVjdGVkOiBlcnJvcixcbiAgICAgIG9wZXJhdG9yOiBzdGFja1N0YXJ0Rm4ubmFtZSxcbiAgICAgIG1lc3NhZ2U6IFwiR290IHVud2FudGVkIFwiLmNvbmNhdChmblR5cGUpLmNvbmNhdChkZXRhaWxzLCBcIlxcblwiKSArIFwiQWN0dWFsIG1lc3NhZ2U6IFxcXCJcIi5jb25jYXQoYWN0dWFsICYmIGFjdHVhbC5tZXNzYWdlLCBcIlxcXCJcIiksXG4gICAgICBzdGFja1N0YXJ0Rm46IHN0YWNrU3RhcnRGblxuICAgIH0pO1xuICB9XG5cbiAgdGhyb3cgYWN0dWFsO1xufVxuXG5hc3NlcnQudGhyb3dzID0gZnVuY3Rpb24gdGhyb3dzKHByb21pc2VGbikge1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICBleHBlY3RzRXJyb3IuYXBwbHkodm9pZCAwLCBbdGhyb3dzLCBnZXRBY3R1YWwocHJvbWlzZUZuKV0uY29uY2F0KGFyZ3MpKTtcbn07XG5cbmFzc2VydC5yZWplY3RzID0gZnVuY3Rpb24gcmVqZWN0cyhwcm9taXNlRm4pIHtcbiAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICBhcmdzW19rZXkzIC0gMV0gPSBhcmd1bWVudHNbX2tleTNdO1xuICB9XG5cbiAgcmV0dXJuIHdhaXRGb3JBY3R1YWwocHJvbWlzZUZuKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICByZXR1cm4gZXhwZWN0c0Vycm9yLmFwcGx5KHZvaWQgMCwgW3JlamVjdHMsIHJlc3VsdF0uY29uY2F0KGFyZ3MpKTtcbiAgfSk7XG59O1xuXG5hc3NlcnQuZG9lc05vdFRocm93ID0gZnVuY3Rpb24gZG9lc05vdFRocm93KGZuKSB7XG4gIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCA+IDEgPyBfbGVuNCAtIDEgOiAwKSwgX2tleTQgPSAxOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgYXJnc1tfa2V5NCAtIDFdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgfVxuXG4gIGV4cGVjdHNOb0Vycm9yLmFwcGx5KHZvaWQgMCwgW2RvZXNOb3RUaHJvdywgZ2V0QWN0dWFsKGZuKV0uY29uY2F0KGFyZ3MpKTtcbn07XG5cbmFzc2VydC5kb2VzTm90UmVqZWN0ID0gZnVuY3Rpb24gZG9lc05vdFJlamVjdChmbikge1xuICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjUgPiAxID8gX2xlbjUgLSAxIDogMCksIF9rZXk1ID0gMTsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgIGFyZ3NbX2tleTUgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gIH1cblxuICByZXR1cm4gd2FpdEZvckFjdHVhbChmbikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgcmV0dXJuIGV4cGVjdHNOb0Vycm9yLmFwcGx5KHZvaWQgMCwgW2RvZXNOb3RSZWplY3QsIHJlc3VsdF0uY29uY2F0KGFyZ3MpKTtcbiAgfSk7XG59O1xuXG5hc3NlcnQuaWZFcnJvciA9IGZ1bmN0aW9uIGlmRXJyb3IoZXJyKSB7XG4gIGlmIChlcnIgIT09IG51bGwgJiYgZXJyICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdpZkVycm9yIGdvdCB1bndhbnRlZCBleGNlcHRpb246ICc7XG5cbiAgICBpZiAoX3R5cGVvZihlcnIpID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgZXJyLm1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoZXJyLm1lc3NhZ2UubGVuZ3RoID09PSAwICYmIGVyci5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBtZXNzYWdlICs9IGVyci5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSArPSBlcnIubWVzc2FnZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZSArPSBpbnNwZWN0KGVycik7XG4gICAgfVxuXG4gICAgdmFyIG5ld0VyciA9IG5ldyBBc3NlcnRpb25FcnJvcih7XG4gICAgICBhY3R1YWw6IGVycixcbiAgICAgIGV4cGVjdGVkOiBudWxsLFxuICAgICAgb3BlcmF0b3I6ICdpZkVycm9yJyxcbiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICBzdGFja1N0YXJ0Rm46IGlmRXJyb3JcbiAgICB9KTsgLy8gTWFrZSBzdXJlIHdlIGFjdHVhbGx5IGhhdmUgYSBzdGFjayB0cmFjZSFcblxuICAgIHZhciBvcmlnU3RhY2sgPSBlcnIuc3RhY2s7XG5cbiAgICBpZiAodHlwZW9mIG9yaWdTdGFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFRoaXMgd2lsbCByZW1vdmUgYW55IGR1cGxpY2F0ZWQgZnJhbWVzIGZyb20gdGhlIGVycm9yIGZyYW1lcyB0YWtlblxuICAgICAgLy8gZnJvbSB3aXRoaW4gYGlmRXJyb3JgIGFuZCBhZGQgdGhlIG9yaWdpbmFsIGVycm9yIGZyYW1lcyB0byB0aGUgbmV3bHlcbiAgICAgIC8vIGNyZWF0ZWQgb25lcy5cbiAgICAgIHZhciB0bXAyID0gb3JpZ1N0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHRtcDIuc2hpZnQoKTsgLy8gRmlsdGVyIGFsbCBmcmFtZXMgZXhpc3RpbmcgaW4gZXJyLnN0YWNrLlxuXG4gICAgICB2YXIgdG1wMSA9IG5ld0Vyci5zdGFjay5zcGxpdCgnXFxuJyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG1wMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBGaW5kIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIHRoZSBmcmFtZS5cbiAgICAgICAgdmFyIHBvcyA9IHRtcDEuaW5kZXhPZih0bXAyW2ldKTtcblxuICAgICAgICBpZiAocG9zICE9PSAtMSkge1xuICAgICAgICAgIC8vIE9ubHkga2VlcCBuZXcgZnJhbWVzLlxuICAgICAgICAgIHRtcDEgPSB0bXAxLnNsaWNlKDAsIHBvcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbmV3RXJyLnN0YWNrID0gXCJcIi5jb25jYXQodG1wMS5qb2luKCdcXG4nKSwgXCJcXG5cIikuY29uY2F0KHRtcDIuam9pbignXFxuJykpO1xuICAgIH1cblxuICAgIHRocm93IG5ld0VycjtcbiAgfVxufTsgLy8gRXhwb3NlIGEgc3RyaWN0IG9ubHkgdmFyaWFudCBvZiBhc3NlcnRcblxuXG5mdW5jdGlvbiBzdHJpY3QoKSB7XG4gIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNiksIF9rZXk2ID0gMDsgX2tleTYgPCBfbGVuNjsgX2tleTYrKykge1xuICAgIGFyZ3NbX2tleTZdID0gYXJndW1lbnRzW19rZXk2XTtcbiAgfVxuXG4gIGlubmVyT2suYXBwbHkodm9pZCAwLCBbc3RyaWN0LCBhcmdzLmxlbmd0aF0uY29uY2F0KGFyZ3MpKTtcbn1cblxuYXNzZXJ0LnN0cmljdCA9IG9iamVjdEFzc2lnbihzdHJpY3QsIGFzc2VydCwge1xuICBlcXVhbDogYXNzZXJ0LnN0cmljdEVxdWFsLFxuICBkZWVwRXF1YWw6IGFzc2VydC5kZWVwU3RyaWN0RXF1YWwsXG4gIG5vdEVxdWFsOiBhc3NlcnQubm90U3RyaWN0RXF1YWwsXG4gIG5vdERlZXBFcXVhbDogYXNzZXJ0Lm5vdERlZXBTdHJpY3RFcXVhbFxufSk7XG5hc3NlcnQuc3RyaWN0LnN0cmljdCA9IGFzc2VydC5zdHJpY3Q7IiwgIi8vICdwYXRoJyBtb2R1bGUgZXh0cmFjdGVkIGZyb20gTm9kZS5qcyB2OC4xMS4xIChvbmx5IHRoZSBwb3NpeCBwYXJ0KVxuLy8gdHJhbnNwbGl0ZWQgd2l0aCBCYWJlbFxuXG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBhc3NlcnRQYXRoKHBhdGgpIHtcbiAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BhdGggbXVzdCBiZSBhIHN0cmluZy4gUmVjZWl2ZWQgJyArIEpTT04uc3RyaW5naWZ5KHBhdGgpKTtcbiAgfVxufVxuXG4vLyBSZXNvbHZlcyAuIGFuZCAuLiBlbGVtZW50cyBpbiBhIHBhdGggd2l0aCBkaXJlY3RvcnkgbmFtZXNcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHBhdGgsIGFsbG93QWJvdmVSb290KSB7XG4gIHZhciByZXMgPSAnJztcbiAgdmFyIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgdmFyIGxhc3RTbGFzaCA9IC0xO1xuICB2YXIgZG90cyA9IDA7XG4gIHZhciBjb2RlO1xuICBmb3IgKHZhciBpID0gMDsgaSA8PSBwYXRoLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGkgPCBwYXRoLmxlbmd0aClcbiAgICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgZWxzZSBpZiAoY29kZSA9PT0gNDcgLyovKi8pXG4gICAgICBicmVhaztcbiAgICBlbHNlXG4gICAgICBjb2RlID0gNDcgLyovKi87XG4gICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICBpZiAobGFzdFNsYXNoID09PSBpIC0gMSB8fCBkb3RzID09PSAxKSB7XG4gICAgICAgIC8vIE5PT1BcbiAgICAgIH0gZWxzZSBpZiAobGFzdFNsYXNoICE9PSBpIC0gMSAmJiBkb3RzID09PSAyKSB7XG4gICAgICAgIGlmIChyZXMubGVuZ3RoIDwgMiB8fCBsYXN0U2VnbWVudExlbmd0aCAhPT0gMiB8fCByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMSkgIT09IDQ2IC8qLiovIHx8IHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAyKSAhPT0gNDYgLyouKi8pIHtcbiAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIHZhciBsYXN0U2xhc2hJbmRleCA9IHJlcy5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ICE9PSByZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICBpZiAobGFzdFNsYXNoSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5zbGljZSgwLCBsYXN0U2xhc2hJbmRleCk7XG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSByZXMubGVuZ3RoIC0gMSAtIHJlcy5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxhc3RTbGFzaCA9IGk7XG4gICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5sZW5ndGggPT09IDIgfHwgcmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgcmVzICs9ICcvLi4nO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlcyA9ICcuLic7XG4gICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgcmVzICs9ICcvJyArIHBhdGguc2xpY2UobGFzdFNsYXNoICsgMSwgaSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXMgPSBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IGkgLSBsYXN0U2xhc2ggLSAxO1xuICAgICAgfVxuICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgIGRvdHMgPSAwO1xuICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gNDYgLyouKi8gJiYgZG90cyAhPT0gLTEpIHtcbiAgICAgICsrZG90cztcbiAgICB9IGVsc2Uge1xuICAgICAgZG90cyA9IC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBfZm9ybWF0KHNlcCwgcGF0aE9iamVjdCkge1xuICB2YXIgZGlyID0gcGF0aE9iamVjdC5kaXIgfHwgcGF0aE9iamVjdC5yb290O1xuICB2YXIgYmFzZSA9IHBhdGhPYmplY3QuYmFzZSB8fCAocGF0aE9iamVjdC5uYW1lIHx8ICcnKSArIChwYXRoT2JqZWN0LmV4dCB8fCAnJyk7XG4gIGlmICghZGlyKSB7XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cbiAgaWYgKGRpciA9PT0gcGF0aE9iamVjdC5yb290KSB7XG4gICAgcmV0dXJuIGRpciArIGJhc2U7XG4gIH1cbiAgcmV0dXJuIGRpciArIHNlcCArIGJhc2U7XG59XG5cbnZhciBwb3NpeCA9IHtcbiAgLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKCkge1xuICAgIHZhciByZXNvbHZlZFBhdGggPSAnJztcbiAgICB2YXIgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuICAgIHZhciBjd2Q7XG5cbiAgICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgICAgdmFyIHBhdGg7XG4gICAgICBpZiAoaSA+PSAwKVxuICAgICAgICBwYXRoID0gYXJndW1lbnRzW2ldO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChjd2QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICBjd2QgPSBwcm9jZXNzLmN3ZCgpO1xuICAgICAgICBwYXRoID0gY3dkO1xuICAgICAgfVxuXG4gICAgICBhc3NlcnRQYXRoKHBhdGgpO1xuXG4gICAgICAvLyBTa2lwIGVtcHR5IGVudHJpZXNcbiAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IDQ3IC8qLyovO1xuICAgIH1cblxuICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcblxuICAgIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICAgIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZVN0cmluZ1Bvc2l4KHJlc29sdmVkUGF0aCwgIXJlc29sdmVkQWJzb2x1dGUpO1xuXG4gICAgaWYgKHJlc29sdmVkQWJzb2x1dGUpIHtcbiAgICAgIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMClcbiAgICAgICAgcmV0dXJuICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICB9IGVsc2UgaWYgKHJlc29sdmVkUGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRQYXRoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJy4nO1xuICAgIH1cbiAgfSxcblxuICBub3JtYWxpemU6IGZ1bmN0aW9uIG5vcm1hbGl6ZShwYXRoKSB7XG4gICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcuJztcblxuICAgIHZhciBpc0Fic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKi8qLztcbiAgICB2YXIgdHJhaWxpbmdTZXBhcmF0b3IgPSBwYXRoLmNoYXJDb2RlQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gNDcgLyovKi87XG5cbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICBwYXRoID0gbm9ybWFsaXplU3RyaW5nUG9zaXgocGF0aCwgIWlzQWJzb2x1dGUpO1xuXG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwICYmICFpc0Fic29sdXRlKSBwYXRoID0gJy4nO1xuICAgIGlmIChwYXRoLmxlbmd0aCA+IDAgJiYgdHJhaWxpbmdTZXBhcmF0b3IpIHBhdGggKz0gJy8nO1xuXG4gICAgaWYgKGlzQWJzb2x1dGUpIHJldHVybiAnLycgKyBwYXRoO1xuICAgIHJldHVybiBwYXRoO1xuICB9LFxuXG4gIGlzQWJzb2x1dGU6IGZ1bmN0aW9uIGlzQWJzb2x1dGUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG4gICAgcmV0dXJuIHBhdGgubGVuZ3RoID4gMCAmJiBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IDQ3IC8qLyovO1xuICB9LFxuXG4gIGpvaW46IGZ1bmN0aW9uIGpvaW4oKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gJy4nO1xuICAgIHZhciBqb2luZWQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG4gICAgICBhc3NlcnRQYXRoKGFyZyk7XG4gICAgICBpZiAoYXJnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKGpvaW5lZCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgIGpvaW5lZCA9IGFyZztcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGpvaW5lZCArPSAnLycgKyBhcmc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZClcbiAgICAgIHJldHVybiAnLic7XG4gICAgcmV0dXJuIHBvc2l4Lm5vcm1hbGl6ZShqb2luZWQpO1xuICB9LFxuXG4gIHJlbGF0aXZlOiBmdW5jdGlvbiByZWxhdGl2ZShmcm9tLCB0bykge1xuICAgIGFzc2VydFBhdGgoZnJvbSk7XG4gICAgYXNzZXJ0UGF0aCh0byk7XG5cbiAgICBpZiAoZnJvbSA9PT0gdG8pIHJldHVybiAnJztcblxuICAgIGZyb20gPSBwb3NpeC5yZXNvbHZlKGZyb20pO1xuICAgIHRvID0gcG9zaXgucmVzb2x2ZSh0byk7XG5cbiAgICBpZiAoZnJvbSA9PT0gdG8pIHJldHVybiAnJztcblxuICAgIC8vIFRyaW0gYW55IGxlYWRpbmcgYmFja3NsYXNoZXNcbiAgICB2YXIgZnJvbVN0YXJ0ID0gMTtcbiAgICBmb3IgKDsgZnJvbVN0YXJ0IDwgZnJvbS5sZW5ndGg7ICsrZnJvbVN0YXJ0KSB7XG4gICAgICBpZiAoZnJvbS5jaGFyQ29kZUF0KGZyb21TdGFydCkgIT09IDQ3IC8qLyovKVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdmFyIGZyb21FbmQgPSBmcm9tLmxlbmd0aDtcbiAgICB2YXIgZnJvbUxlbiA9IGZyb21FbmQgLSBmcm9tU3RhcnQ7XG5cbiAgICAvLyBUcmltIGFueSBsZWFkaW5nIGJhY2tzbGFzaGVzXG4gICAgdmFyIHRvU3RhcnQgPSAxO1xuICAgIGZvciAoOyB0b1N0YXJ0IDwgdG8ubGVuZ3RoOyArK3RvU3RhcnQpIHtcbiAgICAgIGlmICh0by5jaGFyQ29kZUF0KHRvU3RhcnQpICE9PSA0NyAvKi8qLylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZhciB0b0VuZCA9IHRvLmxlbmd0aDtcbiAgICB2YXIgdG9MZW4gPSB0b0VuZCAtIHRvU3RhcnQ7XG5cbiAgICAvLyBDb21wYXJlIHBhdGhzIHRvIGZpbmQgdGhlIGxvbmdlc3QgY29tbW9uIHBhdGggZnJvbSByb290XG4gICAgdmFyIGxlbmd0aCA9IGZyb21MZW4gPCB0b0xlbiA/IGZyb21MZW4gOiB0b0xlbjtcbiAgICB2YXIgbGFzdENvbW1vblNlcCA9IC0xO1xuICAgIHZhciBpID0gMDtcbiAgICBmb3IgKDsgaSA8PSBsZW5ndGg7ICsraSkge1xuICAgICAgaWYgKGkgPT09IGxlbmd0aCkge1xuICAgICAgICBpZiAodG9MZW4gPiBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAodG8uY2hhckNvZGVBdCh0b1N0YXJ0ICsgaSkgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIGV4YWN0IGJhc2UgcGF0aCBmb3IgYHRvYC5cbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vL2Jhcic7IHRvPScvZm9vL2Jhci9iYXonXG4gICAgICAgICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCArIGkgKyAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGBmcm9tYCBpcyB0aGUgcm9vdFxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy8nOyB0bz0nL2ZvbydcbiAgICAgICAgICAgIHJldHVybiB0by5zbGljZSh0b1N0YXJ0ICsgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGZyb21MZW4gPiBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAoZnJvbS5jaGFyQ29kZUF0KGZyb21TdGFydCArIGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYHRvYCBpcyB0aGUgZXhhY3QgYmFzZSBwYXRoIGZvciBgZnJvbWAuXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nL2Zvby9iYXIvYmF6JzsgdG89Jy9mb28vYmFyJ1xuICAgICAgICAgICAgbGFzdENvbW1vblNlcCA9IGk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgdG9gIGlzIHRoZSByb290LlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy9mb28nOyB0bz0nLydcbiAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZhciBmcm9tQ29kZSA9IGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQgKyBpKTtcbiAgICAgIHZhciB0b0NvZGUgPSB0by5jaGFyQ29kZUF0KHRvU3RhcnQgKyBpKTtcbiAgICAgIGlmIChmcm9tQ29kZSAhPT0gdG9Db2RlKVxuICAgICAgICBicmVhaztcbiAgICAgIGVsc2UgaWYgKGZyb21Db2RlID09PSA0NyAvKi8qLylcbiAgICAgICAgbGFzdENvbW1vblNlcCA9IGk7XG4gICAgfVxuXG4gICAgdmFyIG91dCA9ICcnO1xuICAgIC8vIEdlbmVyYXRlIHRoZSByZWxhdGl2ZSBwYXRoIGJhc2VkIG9uIHRoZSBwYXRoIGRpZmZlcmVuY2UgYmV0d2VlbiBgdG9gXG4gICAgLy8gYW5kIGBmcm9tYFxuICAgIGZvciAoaSA9IGZyb21TdGFydCArIGxhc3RDb21tb25TZXAgKyAxOyBpIDw9IGZyb21FbmQ7ICsraSkge1xuICAgICAgaWYgKGkgPT09IGZyb21FbmQgfHwgZnJvbS5jaGFyQ29kZUF0KGkpID09PSA0NyAvKi8qLykge1xuICAgICAgICBpZiAob3V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICBvdXQgKz0gJy4uJztcbiAgICAgICAgZWxzZVxuICAgICAgICAgIG91dCArPSAnLy4uJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMYXN0bHksIGFwcGVuZCB0aGUgcmVzdCBvZiB0aGUgZGVzdGluYXRpb24gKGB0b2ApIHBhdGggdGhhdCBjb21lcyBhZnRlclxuICAgIC8vIHRoZSBjb21tb24gcGF0aCBwYXJ0c1xuICAgIGlmIChvdXQubGVuZ3RoID4gMClcbiAgICAgIHJldHVybiBvdXQgKyB0by5zbGljZSh0b1N0YXJ0ICsgbGFzdENvbW1vblNlcCk7XG4gICAgZWxzZSB7XG4gICAgICB0b1N0YXJ0ICs9IGxhc3RDb21tb25TZXA7XG4gICAgICBpZiAodG8uY2hhckNvZGVBdCh0b1N0YXJ0KSA9PT0gNDcgLyovKi8pXG4gICAgICAgICsrdG9TdGFydDtcbiAgICAgIHJldHVybiB0by5zbGljZSh0b1N0YXJ0KTtcbiAgICB9XG4gIH0sXG5cbiAgX21ha2VMb25nOiBmdW5jdGlvbiBfbWFrZUxvbmcocGF0aCkge1xuICAgIHJldHVybiBwYXRoO1xuICB9LFxuXG4gIGRpcm5hbWU6IGZ1bmN0aW9uIGRpcm5hbWUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSByZXR1cm4gJy4nO1xuICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICAgIHZhciBoYXNSb290ID0gY29kZSA9PT0gNDcgLyovKi87XG4gICAgdmFyIGVuZCA9IC0xO1xuICAgIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMTsgLS1pKSB7XG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yXG4gICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbmQgPT09IC0xKSByZXR1cm4gaGFzUm9vdCA/ICcvJyA6ICcuJztcbiAgICBpZiAoaGFzUm9vdCAmJiBlbmQgPT09IDEpIHJldHVybiAnLy8nO1xuICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIGVuZCk7XG4gIH0sXG5cbiAgYmFzZW5hbWU6IGZ1bmN0aW9uIGJhc2VuYW1lKHBhdGgsIGV4dCkge1xuICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZXh0ICE9PSAnc3RyaW5nJykgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJleHRcIiBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgYXNzZXJ0UGF0aChwYXRoKTtcblxuICAgIHZhciBzdGFydCA9IDA7XG4gICAgdmFyIGVuZCA9IC0xO1xuICAgIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKGV4dCAhPT0gdW5kZWZpbmVkICYmIGV4dC5sZW5ndGggPiAwICYmIGV4dC5sZW5ndGggPD0gcGF0aC5sZW5ndGgpIHtcbiAgICAgIGlmIChleHQubGVuZ3RoID09PSBwYXRoLmxlbmd0aCAmJiBleHQgPT09IHBhdGgpIHJldHVybiAnJztcbiAgICAgIHZhciBleHRJZHggPSBleHQubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBmaXJzdE5vblNsYXNoRW5kID0gLTE7XG4gICAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY29kZSA9PT0gNDcgLyovKi8pIHtcbiAgICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGZpcnN0Tm9uU2xhc2hFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgcmVtZW1iZXIgdGhpcyBpbmRleCBpbiBjYXNlXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIGl0IGlmIHRoZSBleHRlbnNpb24gZW5kcyB1cCBub3QgbWF0Y2hpbmdcbiAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgZmlyc3ROb25TbGFzaEVuZCA9IGkgKyAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXh0SWR4ID49IDApIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBtYXRjaCB0aGUgZXhwbGljaXQgZXh0ZW5zaW9uXG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gZXh0LmNoYXJDb2RlQXQoZXh0SWR4KSkge1xuICAgICAgICAgICAgICBpZiAoLS1leHRJZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCB0aGUgZXh0ZW5zaW9uLCBzbyBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXIgcGF0aFxuICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEV4dGVuc2lvbiBkb2VzIG5vdCBtYXRjaCwgc28gb3VyIHJlc3VsdCBpcyB0aGUgZW50aXJlIHBhdGhcbiAgICAgICAgICAgICAgLy8gY29tcG9uZW50XG4gICAgICAgICAgICAgIGV4dElkeCA9IC0xO1xuICAgICAgICAgICAgICBlbmQgPSBmaXJzdE5vblNsYXNoRW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3RhcnQgPT09IGVuZCkgZW5kID0gZmlyc3ROb25TbGFzaEVuZDtlbHNlIGlmIChlbmQgPT09IC0xKSBlbmQgPSBwYXRoLmxlbmd0aDtcbiAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGlmIChwYXRoLmNoYXJDb2RlQXQoaSkgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgICAgLy8gcGF0aCBjb21wb25lbnRcbiAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5kID09PSAtMSkgcmV0dXJuICcnO1xuICAgICAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuICB9LFxuXG4gIGV4dG5hbWU6IGZ1bmN0aW9uIGV4dG5hbWUocGF0aCkge1xuICAgIGFzc2VydFBhdGgocGF0aCk7XG4gICAgdmFyIHN0YXJ0RG90ID0gLTE7XG4gICAgdmFyIHN0YXJ0UGFydCA9IDA7XG4gICAgdmFyIGVuZCA9IC0xO1xuICAgIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcbiAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxuICAgIHZhciBwcmVEb3RTdGF0ZSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXJcbiAgICAgICAgLy8gZXh0ZW5zaW9uXG4gICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2RlID09PSA0NiAvKi4qLykge1xuICAgICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IGRvdCwgbWFyayBpdCBhcyB0aGUgc3RhcnQgb2Ygb3VyIGV4dGVuc2lvblxuICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpXG4gICAgICAgICAgICBzdGFydERvdCA9IGk7XG4gICAgICAgICAgZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpXG4gICAgICAgICAgICBwcmVEb3RTdGF0ZSA9IDE7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGFuZCBub24tcGF0aCBzZXBhcmF0b3IgYmVmb3JlIG91ciBkb3QsIHNvIHdlIHNob3VsZFxuICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxuICAgICAgICBwcmVEb3RTdGF0ZSA9IC0xO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fFxuICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGNoYXJhY3RlciBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGRvdFxuICAgICAgICBwcmVEb3RTdGF0ZSA9PT0gMCB8fFxuICAgICAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgICAgIHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICB9LFxuXG4gIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHBhdGhPYmplY3QpIHtcbiAgICBpZiAocGF0aE9iamVjdCA9PT0gbnVsbCB8fCB0eXBlb2YgcGF0aE9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInBhdGhPYmplY3RcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgT2JqZWN0LiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgcGF0aE9iamVjdCk7XG4gICAgfVxuICAgIHJldHVybiBfZm9ybWF0KCcvJywgcGF0aE9iamVjdCk7XG4gIH0sXG5cbiAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcbiAgICBhc3NlcnRQYXRoKHBhdGgpO1xuXG4gICAgdmFyIHJldCA9IHsgcm9vdDogJycsIGRpcjogJycsIGJhc2U6ICcnLCBleHQ6ICcnLCBuYW1lOiAnJyB9O1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJldDtcbiAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICB2YXIgaXNBYnNvbHV0ZSA9IGNvZGUgPT09IDQ3IC8qLyovO1xuICAgIHZhciBzdGFydDtcbiAgICBpZiAoaXNBYnNvbHV0ZSkge1xuICAgICAgcmV0LnJvb3QgPSAnLyc7XG4gICAgICBzdGFydCA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgdmFyIHN0YXJ0RG90ID0gLTE7XG4gICAgdmFyIHN0YXJ0UGFydCA9IDA7XG4gICAgdmFyIGVuZCA9IC0xO1xuICAgIHZhciBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIHZhciBpID0gcGF0aC5sZW5ndGggLSAxO1xuXG4gICAgLy8gVHJhY2sgdGhlIHN0YXRlIG9mIGNoYXJhY3RlcnMgKGlmIGFueSkgd2Ugc2VlIGJlZm9yZSBvdXIgZmlyc3QgZG90IGFuZFxuICAgIC8vIGFmdGVyIGFueSBwYXRoIHNlcGFyYXRvciB3ZSBmaW5kXG4gICAgdmFyIHByZURvdFN0YXRlID0gMDtcblxuICAgIC8vIEdldCBub24tZGlyIGluZm9cbiAgICBmb3IgKDsgaSA+PSBzdGFydDsgLS1pKSB7XG4gICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKGNvZGUgPT09IDQ3IC8qLyovKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXJcbiAgICAgICAgLy8gZXh0ZW5zaW9uXG4gICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2RlID09PSA0NiAvKi4qLykge1xuICAgICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IGRvdCwgbWFyayBpdCBhcyB0aGUgc3RhcnQgb2Ygb3VyIGV4dGVuc2lvblxuICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpIHN0YXJ0RG90ID0gaTtlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSkgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkge1xuICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGFuZCBub24tcGF0aCBzZXBhcmF0b3IgYmVmb3JlIG91ciBkb3QsIHNvIHdlIHNob3VsZFxuICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxuICAgICAgICBwcmVEb3RTdGF0ZSA9IC0xO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHwgZW5kID09PSAtMSB8fFxuICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgZG90XG4gICAgcHJlRG90U3RhdGUgPT09IDAgfHxcbiAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgcHJlRG90U3RhdGUgPT09IDEgJiYgc3RhcnREb3QgPT09IGVuZCAtIDEgJiYgc3RhcnREb3QgPT09IHN0YXJ0UGFydCArIDEpIHtcbiAgICAgIGlmIChlbmQgIT09IC0xKSB7XG4gICAgICAgIGlmIChzdGFydFBhcnQgPT09IDAgJiYgaXNBYnNvbHV0ZSkgcmV0LmJhc2UgPSByZXQubmFtZSA9IHBhdGguc2xpY2UoMSwgZW5kKTtlbHNlIHJldC5iYXNlID0gcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXJ0UGFydCA9PT0gMCAmJiBpc0Fic29sdXRlKSB7XG4gICAgICAgIHJldC5uYW1lID0gcGF0aC5zbGljZSgxLCBzdGFydERvdCk7XG4gICAgICAgIHJldC5iYXNlID0gcGF0aC5zbGljZSgxLCBlbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgc3RhcnREb3QpO1xuICAgICAgICByZXQuYmFzZSA9IHBhdGguc2xpY2Uoc3RhcnRQYXJ0LCBlbmQpO1xuICAgICAgfVxuICAgICAgcmV0LmV4dCA9IHBhdGguc2xpY2Uoc3RhcnREb3QsIGVuZCk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXJ0UGFydCA+IDApIHJldC5kaXIgPSBwYXRoLnNsaWNlKDAsIHN0YXJ0UGFydCAtIDEpO2Vsc2UgaWYgKGlzQWJzb2x1dGUpIHJldC5kaXIgPSAnLyc7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuXG4gIHNlcDogJy8nLFxuICBkZWxpbWl0ZXI6ICc6JyxcbiAgd2luMzI6IG51bGwsXG4gIHBvc2l4OiBudWxsXG59O1xuXG5wb3NpeC5wb3NpeCA9IHBvc2l4O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBvc2l4O1xuIiwgIlwidXNlIHN0cmljdFwiO1xuLy8gQSB2ZXJ5IHNpbXBsZSB3b3JrYXJvdW5kIGZvciBCaWcgaW50LiBXb3JrcyBpbiBjb25qdW5jdGlvbiB3aXRoIG91ciBjdXN0b21cbi8vIERhdGF2aWV3IHdvcmthcm91bmQgYXQgLi9kYXRhdmlldy50c1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZ2xvYmFsT2JqID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCJcbiAgICA/IGdsb2JhbFRoaXNcbiAgICA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgOiB7fTtcbmV4cG9ydHMuQmlnSW50UG9seWZpbGwgPSB0eXBlb2YgQmlnSW50ICE9PSBcInVuZGVmaW5lZFwiID8gQmlnSW50IDogZ2xvYmFsT2JqLkJpZ0ludCB8fCBOdW1iZXI7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuXG5UaGlzIHByb2plY3QgaXMgYmFzZWQgZnJvbSB0aGUgTm9kZSBpbXBsZW1lbnRhdGlvbiBtYWRlIGJ5IEd1cyBDYXBsYW5cbmh0dHBzOi8vZ2l0aHViLmNvbS9kZXZzbmVrL25vZGUtd2FzaVxuSG93ZXZlciwgSmF2YVNjcmlwdCBXQVNJIGlzIGZvY3VzZWQgb246XG4gKiBCcmluZ2luZyBXQVNJIHRvIHRoZSBCcm93c2Vyc1xuICogTWFrZSBlYXN5IHRvIHBsdWcgZGlmZmVyZW50IGZpbGVzeXN0ZW1zXG4gKiBQcm92aWRlIGEgdHlwZS1zYWZlIGFwaSB1c2luZyBUeXBlc2NyaXB0XG5cblxuQ29weXJpZ2h0IDIwMTkgR3VzIENhcGxhblxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0b1xuZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGVcbnJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vclxuc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG5GUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTXG5JTiBUSEUgU09GVFdBUkUuXG5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYmlnaW50XzEgPSByZXF1aXJlKFwiLi9wb2x5ZmlsbHMvYmlnaW50XCIpO1xuZXhwb3J0cy5XQVNJX0VTVUNDRVNTID0gMDtcbmV4cG9ydHMuV0FTSV9FMkJJRyA9IDE7XG5leHBvcnRzLldBU0lfRUFDQ0VTID0gMjtcbmV4cG9ydHMuV0FTSV9FQUREUklOVVNFID0gMztcbmV4cG9ydHMuV0FTSV9FQUREUk5PVEFWQUlMID0gNDtcbmV4cG9ydHMuV0FTSV9FQUZOT1NVUFBPUlQgPSA1O1xuZXhwb3J0cy5XQVNJX0VBR0FJTiA9IDY7XG5leHBvcnRzLldBU0lfRUFMUkVBRFkgPSA3O1xuZXhwb3J0cy5XQVNJX0VCQURGID0gODtcbmV4cG9ydHMuV0FTSV9FQkFETVNHID0gOTtcbmV4cG9ydHMuV0FTSV9FQlVTWSA9IDEwO1xuZXhwb3J0cy5XQVNJX0VDQU5DRUxFRCA9IDExO1xuZXhwb3J0cy5XQVNJX0VDSElMRCA9IDEyO1xuZXhwb3J0cy5XQVNJX0VDT05OQUJPUlRFRCA9IDEzO1xuZXhwb3J0cy5XQVNJX0VDT05OUkVGVVNFRCA9IDE0O1xuZXhwb3J0cy5XQVNJX0VDT05OUkVTRVQgPSAxNTtcbmV4cG9ydHMuV0FTSV9FREVBRExLID0gMTY7XG5leHBvcnRzLldBU0lfRURFU1RBRERSUkVRID0gMTc7XG5leHBvcnRzLldBU0lfRURPTSA9IDE4O1xuZXhwb3J0cy5XQVNJX0VEUVVPVCA9IDE5O1xuZXhwb3J0cy5XQVNJX0VFWElTVCA9IDIwO1xuZXhwb3J0cy5XQVNJX0VGQVVMVCA9IDIxO1xuZXhwb3J0cy5XQVNJX0VGQklHID0gMjI7XG5leHBvcnRzLldBU0lfRUhPU1RVTlJFQUNIID0gMjM7XG5leHBvcnRzLldBU0lfRUlEUk0gPSAyNDtcbmV4cG9ydHMuV0FTSV9FSUxTRVEgPSAyNTtcbmV4cG9ydHMuV0FTSV9FSU5QUk9HUkVTUyA9IDI2O1xuZXhwb3J0cy5XQVNJX0VJTlRSID0gMjc7XG5leHBvcnRzLldBU0lfRUlOVkFMID0gMjg7XG5leHBvcnRzLldBU0lfRUlPID0gMjk7XG5leHBvcnRzLldBU0lfRUlTQ09OTiA9IDMwO1xuZXhwb3J0cy5XQVNJX0VJU0RJUiA9IDMxO1xuZXhwb3J0cy5XQVNJX0VMT09QID0gMzI7XG5leHBvcnRzLldBU0lfRU1GSUxFID0gMzM7XG5leHBvcnRzLldBU0lfRU1MSU5LID0gMzQ7XG5leHBvcnRzLldBU0lfRU1TR1NJWkUgPSAzNTtcbmV4cG9ydHMuV0FTSV9FTVVMVElIT1AgPSAzNjtcbmV4cG9ydHMuV0FTSV9FTkFNRVRPT0xPTkcgPSAzNztcbmV4cG9ydHMuV0FTSV9FTkVURE9XTiA9IDM4O1xuZXhwb3J0cy5XQVNJX0VORVRSRVNFVCA9IDM5O1xuZXhwb3J0cy5XQVNJX0VORVRVTlJFQUNIID0gNDA7XG5leHBvcnRzLldBU0lfRU5GSUxFID0gNDE7XG5leHBvcnRzLldBU0lfRU5PQlVGUyA9IDQyO1xuZXhwb3J0cy5XQVNJX0VOT0RFViA9IDQzO1xuZXhwb3J0cy5XQVNJX0VOT0VOVCA9IDQ0O1xuZXhwb3J0cy5XQVNJX0VOT0VYRUMgPSA0NTtcbmV4cG9ydHMuV0FTSV9FTk9MQ0sgPSA0NjtcbmV4cG9ydHMuV0FTSV9FTk9MSU5LID0gNDc7XG5leHBvcnRzLldBU0lfRU5PTUVNID0gNDg7XG5leHBvcnRzLldBU0lfRU5PTVNHID0gNDk7XG5leHBvcnRzLldBU0lfRU5PUFJPVE9PUFQgPSA1MDtcbmV4cG9ydHMuV0FTSV9FTk9TUEMgPSA1MTtcbmV4cG9ydHMuV0FTSV9FTk9TWVMgPSA1MjtcbmV4cG9ydHMuV0FTSV9FTk9UQ09OTiA9IDUzO1xuZXhwb3J0cy5XQVNJX0VOT1RESVIgPSA1NDtcbmV4cG9ydHMuV0FTSV9FTk9URU1QVFkgPSA1NTtcbmV4cG9ydHMuV0FTSV9FTk9UUkVDT1ZFUkFCTEUgPSA1NjtcbmV4cG9ydHMuV0FTSV9FTk9UU09DSyA9IDU3O1xuZXhwb3J0cy5XQVNJX0VOT1RTVVAgPSA1ODtcbmV4cG9ydHMuV0FTSV9FTk9UVFkgPSA1OTtcbmV4cG9ydHMuV0FTSV9FTlhJTyA9IDYwO1xuZXhwb3J0cy5XQVNJX0VPVkVSRkxPVyA9IDYxO1xuZXhwb3J0cy5XQVNJX0VPV05FUkRFQUQgPSA2MjtcbmV4cG9ydHMuV0FTSV9FUEVSTSA9IDYzO1xuZXhwb3J0cy5XQVNJX0VQSVBFID0gNjQ7XG5leHBvcnRzLldBU0lfRVBST1RPID0gNjU7XG5leHBvcnRzLldBU0lfRVBST1RPTk9TVVBQT1JUID0gNjY7XG5leHBvcnRzLldBU0lfRVBST1RPVFlQRSA9IDY3O1xuZXhwb3J0cy5XQVNJX0VSQU5HRSA9IDY4O1xuZXhwb3J0cy5XQVNJX0VST0ZTID0gNjk7XG5leHBvcnRzLldBU0lfRVNQSVBFID0gNzA7XG5leHBvcnRzLldBU0lfRVNSQ0ggPSA3MTtcbmV4cG9ydHMuV0FTSV9FU1RBTEUgPSA3MjtcbmV4cG9ydHMuV0FTSV9FVElNRURPVVQgPSA3MztcbmV4cG9ydHMuV0FTSV9FVFhUQlNZID0gNzQ7XG5leHBvcnRzLldBU0lfRVhERVYgPSA3NTtcbmV4cG9ydHMuV0FTSV9FTk9UQ0FQQUJMRSA9IDc2O1xuZXhwb3J0cy5XQVNJX1NJR0FCUlQgPSAwO1xuZXhwb3J0cy5XQVNJX1NJR0FMUk0gPSAxO1xuZXhwb3J0cy5XQVNJX1NJR0JVUyA9IDI7XG5leHBvcnRzLldBU0lfU0lHQ0hMRCA9IDM7XG5leHBvcnRzLldBU0lfU0lHQ09OVCA9IDQ7XG5leHBvcnRzLldBU0lfU0lHRlBFID0gNTtcbmV4cG9ydHMuV0FTSV9TSUdIVVAgPSA2O1xuZXhwb3J0cy5XQVNJX1NJR0lMTCA9IDc7XG5leHBvcnRzLldBU0lfU0lHSU5UID0gODtcbmV4cG9ydHMuV0FTSV9TSUdLSUxMID0gOTtcbmV4cG9ydHMuV0FTSV9TSUdQSVBFID0gMTA7XG5leHBvcnRzLldBU0lfU0lHUVVJVCA9IDExO1xuZXhwb3J0cy5XQVNJX1NJR1NFR1YgPSAxMjtcbmV4cG9ydHMuV0FTSV9TSUdTVE9QID0gMTM7XG5leHBvcnRzLldBU0lfU0lHVEVSTSA9IDE0O1xuZXhwb3J0cy5XQVNJX1NJR1RSQVAgPSAxNTtcbmV4cG9ydHMuV0FTSV9TSUdUU1RQID0gMTY7XG5leHBvcnRzLldBU0lfU0lHVFRJTiA9IDE3O1xuZXhwb3J0cy5XQVNJX1NJR1RUT1UgPSAxODtcbmV4cG9ydHMuV0FTSV9TSUdVUkcgPSAxOTtcbmV4cG9ydHMuV0FTSV9TSUdVU1IxID0gMjA7XG5leHBvcnRzLldBU0lfU0lHVVNSMiA9IDIxO1xuZXhwb3J0cy5XQVNJX1NJR1ZUQUxSTSA9IDIyO1xuZXhwb3J0cy5XQVNJX1NJR1hDUFUgPSAyMztcbmV4cG9ydHMuV0FTSV9TSUdYRlNaID0gMjQ7XG5leHBvcnRzLldBU0lfRklMRVRZUEVfVU5LTk9XTiA9IDA7XG5leHBvcnRzLldBU0lfRklMRVRZUEVfQkxPQ0tfREVWSUNFID0gMTtcbmV4cG9ydHMuV0FTSV9GSUxFVFlQRV9DSEFSQUNURVJfREVWSUNFID0gMjtcbmV4cG9ydHMuV0FTSV9GSUxFVFlQRV9ESVJFQ1RPUlkgPSAzO1xuZXhwb3J0cy5XQVNJX0ZJTEVUWVBFX1JFR1VMQVJfRklMRSA9IDQ7XG5leHBvcnRzLldBU0lfRklMRVRZUEVfU09DS0VUX0RHUkFNID0gNTtcbmV4cG9ydHMuV0FTSV9GSUxFVFlQRV9TT0NLRVRfU1RSRUFNID0gNjtcbmV4cG9ydHMuV0FTSV9GSUxFVFlQRV9TWU1CT0xJQ19MSU5LID0gNztcbmV4cG9ydHMuV0FTSV9GREZMQUdfQVBQRU5EID0gMHgwMDAxO1xuZXhwb3J0cy5XQVNJX0ZERkxBR19EU1lOQyA9IDB4MDAwMjtcbmV4cG9ydHMuV0FTSV9GREZMQUdfTk9OQkxPQ0sgPSAweDAwMDQ7XG5leHBvcnRzLldBU0lfRkRGTEFHX1JTWU5DID0gMHgwMDA4O1xuZXhwb3J0cy5XQVNJX0ZERkxBR19TWU5DID0gMHgwMDEwO1xuZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0RBVEFTWU5DID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwMDAxKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9SRUFEID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwMDAyKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9TRUVLID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwMDA0KTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GRFNUQVRfU0VUX0ZMQUdTID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwMDA4KTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9TWU5DID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwMDEwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9URUxMID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwMDIwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9XUklURSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDA0MCk7XG5leHBvcnRzLldBU0lfUklHSFRfRkRfQURWSVNFID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwMDgwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9GRF9BTExPQ0FURSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAwMDEwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9DUkVBVEVfRElSRUNUT1JZID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwMjAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0NSRUFURV9GSUxFID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwNDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0xJTktfU09VUkNFID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAwODAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0xJTktfVEFSR0VUID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDAxMDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX09QRU4gPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAwMDIwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1JFQURESVIgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAwMDQwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfUkVBRExJTksgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAwMDgwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfUkVOQU1FX1NPVVJDRSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDAxMDAwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9SRU5BTUVfVEFSR0VUID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAwMDIwMDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0ZJTEVTVEFUX0dFVCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDA0MDAwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9TRVRfU0laRSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDA4MDAwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9TRVRfVElNRVMgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDAxMDAwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0ZJTEVTVEFUX0dFVCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDIwMDAwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfRkRfRklMRVNUQVRfU0VUX1NJWkUgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDA0MDAwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0ZJTEVTVEFUX1NFVF9USU1FUyA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDB4MDAwMDAwMDAwMDgwMDAwMCk7XG5leHBvcnRzLldBU0lfUklHSFRfUEFUSF9TWU1MSU5LID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDAxMDAwMDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1JFTU9WRV9ESVJFQ1RPUlkgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDIwMDAwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfVU5MSU5LX0ZJTEUgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgweDAwMDAwMDAwMDQwMDAwMDApO1xuZXhwb3J0cy5XQVNJX1JJR0hUX1BPTExfRkRfUkVBRFdSSVRFID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDA4MDAwMDAwKTtcbmV4cG9ydHMuV0FTSV9SSUdIVF9TT0NLX1NIVVRET1dOID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMHgwMDAwMDAwMDEwMDAwMDAwKTtcbmV4cG9ydHMuUklHSFRTX0FMTCA9IGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9EQVRBU1lOQyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1JFQUQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9TRUVLIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfRkRTVEFUX1NFVF9GTEFHUyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1NZTkMgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9URUxMIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfV1JJVEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9BRFZJU0UgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9BTExPQ0FURSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfQ1JFQVRFX0RJUkVDVE9SWSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfQ1JFQVRFX0ZJTEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0xJTktfU09VUkNFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9MSU5LX1RBUkdFVCB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfT1BFTiB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1JFQURESVIgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1JFQURMSU5LIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9SRU5BTUVfU09VUkNFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9SRU5BTUVfVEFSR0VUIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9HRVQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0ZJTEVTVEFUX1NFVF9TSVpFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9TRVRfVElNRVMgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9HRVQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9TRVRfVElNRVMgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9TRVRfU0laRSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfU1lNTElOSyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfVU5MSU5LX0ZJTEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1JFTU9WRV9ESVJFQ1RPUlkgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QT0xMX0ZEX1JFQURXUklURSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1NPQ0tfU0hVVERPV047XG5leHBvcnRzLlJJR0hUU19CTE9DS19ERVZJQ0VfQkFTRSA9IGV4cG9ydHMuUklHSFRTX0FMTDtcbmV4cG9ydHMuUklHSFRTX0JMT0NLX0RFVklDRV9JTkhFUklUSU5HID0gZXhwb3J0cy5SSUdIVFNfQUxMO1xuZXhwb3J0cy5SSUdIVFNfQ0hBUkFDVEVSX0RFVklDRV9CQVNFID0gZXhwb3J0cy5SSUdIVFNfQUxMO1xuZXhwb3J0cy5SSUdIVFNfQ0hBUkFDVEVSX0RFVklDRV9JTkhFUklUSU5HID0gZXhwb3J0cy5SSUdIVFNfQUxMO1xuZXhwb3J0cy5SSUdIVFNfUkVHVUxBUl9GSUxFX0JBU0UgPSBleHBvcnRzLldBU0lfUklHSFRfRkRfREFUQVNZTkMgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9SRUFEIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfU0VFSyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0ZEU1RBVF9TRVRfRkxBR1MgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9TWU5DIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfVEVMTCB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1dSSVRFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfQURWSVNFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfQUxMT0NBVEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9HRVQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9TRVRfU0laRSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0ZJTEVTVEFUX1NFVF9USU1FUyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BPTExfRkRfUkVBRFdSSVRFO1xuZXhwb3J0cy5SSUdIVFNfUkVHVUxBUl9GSUxFX0lOSEVSSVRJTkcgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKTtcbmV4cG9ydHMuUklHSFRTX0RJUkVDVE9SWV9CQVNFID0gZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0ZEU1RBVF9TRVRfRkxBR1MgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9TWU5DIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfQURWSVNFIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9DUkVBVEVfRElSRUNUT1JZIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9DUkVBVEVfRklMRSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfTElOS19TT1VSQ0UgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0xJTktfVEFSR0VUIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfUEFUSF9PUEVOIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfUkVBRERJUiB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfUkVBRExJTksgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1JFTkFNRV9TT1VSQ0UgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1JFTkFNRV9UQVJHRVQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0ZJTEVTVEFUX0dFVCB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfRklMRVNUQVRfU0VUX1NJWkUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX0ZJTEVTVEFUX1NFVF9USU1FUyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0ZJTEVTVEFUX0dFVCB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX0ZJTEVTVEFUX1NFVF9USU1FUyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfU1lNTElOSyB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1BBVEhfVU5MSU5LX0ZJTEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QQVRIX1JFTU9WRV9ESVJFQ1RPUlkgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QT0xMX0ZEX1JFQURXUklURTtcbmV4cG9ydHMuUklHSFRTX0RJUkVDVE9SWV9JTkhFUklUSU5HID0gZXhwb3J0cy5SSUdIVFNfRElSRUNUT1JZX0JBU0UgfCBleHBvcnRzLlJJR0hUU19SRUdVTEFSX0ZJTEVfQkFTRTtcbmV4cG9ydHMuUklHSFRTX1NPQ0tFVF9CQVNFID0gZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1JFQUQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GRFNUQVRfU0VUX0ZMQUdTIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfV1JJVEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9HRVQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QT0xMX0ZEX1JFQURXUklURSB8XG4gICAgZXhwb3J0cy5XQVNJX1JJR0hUX1NPQ0tfU0hVVERPV047XG5leHBvcnRzLlJJR0hUU19TT0NLRVRfSU5IRVJJVElORyA9IGV4cG9ydHMuUklHSFRTX0FMTDtcbmV4cG9ydHMuUklHSFRTX1RUWV9CQVNFID0gZXhwb3J0cy5XQVNJX1JJR0hUX0ZEX1JFQUQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GRFNUQVRfU0VUX0ZMQUdTIHxcbiAgICBleHBvcnRzLldBU0lfUklHSFRfRkRfV1JJVEUgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9HRVQgfFxuICAgIGV4cG9ydHMuV0FTSV9SSUdIVF9QT0xMX0ZEX1JFQURXUklURTtcbmV4cG9ydHMuUklHSFRTX1RUWV9JTkhFUklUSU5HID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCk7XG5leHBvcnRzLldBU0lfQ0xPQ0tfUkVBTFRJTUUgPSAwO1xuZXhwb3J0cy5XQVNJX0NMT0NLX01PTk9UT05JQyA9IDE7XG5leHBvcnRzLldBU0lfQ0xPQ0tfUFJPQ0VTU19DUFVUSU1FX0lEID0gMjtcbmV4cG9ydHMuV0FTSV9DTE9DS19USFJFQURfQ1BVVElNRV9JRCA9IDM7XG5leHBvcnRzLldBU0lfRVZFTlRUWVBFX0NMT0NLID0gMDtcbmV4cG9ydHMuV0FTSV9FVkVOVFRZUEVfRkRfUkVBRCA9IDE7XG5leHBvcnRzLldBU0lfRVZFTlRUWVBFX0ZEX1dSSVRFID0gMjtcbmV4cG9ydHMuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTSA9IDEgPDwgMDtcbmV4cG9ydHMuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTV9OT1cgPSAxIDw8IDE7XG5leHBvcnRzLldBU0lfRklMRVNUQVRfU0VUX01USU0gPSAxIDw8IDI7XG5leHBvcnRzLldBU0lfRklMRVNUQVRfU0VUX01USU1fTk9XID0gMSA8PCAzO1xuZXhwb3J0cy5XQVNJX09fQ1JFQVQgPSAxIDw8IDA7XG5leHBvcnRzLldBU0lfT19ESVJFQ1RPUlkgPSAxIDw8IDE7XG5leHBvcnRzLldBU0lfT19FWENMID0gMSA8PCAyO1xuZXhwb3J0cy5XQVNJX09fVFJVTkMgPSAxIDw8IDM7XG5leHBvcnRzLldBU0lfUFJFT1BFTlRZUEVfRElSID0gMDtcbmV4cG9ydHMuV0FTSV9ESVJDT09LSUVfU1RBUlQgPSAwO1xuZXhwb3J0cy5XQVNJX1NURElOX0ZJTEVOTyA9IDA7XG5leHBvcnRzLldBU0lfU1RET1VUX0ZJTEVOTyA9IDE7XG5leHBvcnRzLldBU0lfU1RERVJSX0ZJTEVOTyA9IDI7XG5leHBvcnRzLldBU0lfV0hFTkNFX1NFVCA9IDA7XG5leHBvcnRzLldBU0lfV0hFTkNFX0NVUiA9IDE7XG5leHBvcnRzLldBU0lfV0hFTkNFX0VORCA9IDI7XG4vLyBodHRwOi8vbWFuNy5vcmcvbGludXgvbWFuLXBhZ2VzL21hbjMvZXJybm8uMy5odG1sXG5leHBvcnRzLkVSUk9SX01BUCA9IHtcbiAgICBFMkJJRzogZXhwb3J0cy5XQVNJX0UyQklHLFxuICAgIEVBQ0NFUzogZXhwb3J0cy5XQVNJX0VBQ0NFUyxcbiAgICBFQUREUklOVVNFOiBleHBvcnRzLldBU0lfRUFERFJJTlVTRSxcbiAgICBFQUREUk5PVEFWQUlMOiBleHBvcnRzLldBU0lfRUFERFJOT1RBVkFJTCxcbiAgICBFQUZOT1NVUFBPUlQ6IGV4cG9ydHMuV0FTSV9FQUZOT1NVUFBPUlQsXG4gICAgRUFMUkVBRFk6IGV4cG9ydHMuV0FTSV9FQUxSRUFEWSxcbiAgICBFQUdBSU46IGV4cG9ydHMuV0FTSV9FQUdBSU4sXG4gICAgLy8gRUJBREU6IFdBU0lfRUJBREUsXG4gICAgRUJBREY6IGV4cG9ydHMuV0FTSV9FQkFERixcbiAgICAvLyBFQkFERkQ6IFdBU0lfRUJBREZELFxuICAgIEVCQURNU0c6IGV4cG9ydHMuV0FTSV9FQkFETVNHLFxuICAgIC8vIEVCQURSOiBXQVNJX0VCQURSLFxuICAgIC8vIEVCQURSUUM6IFdBU0lfRUJBRFJRQyxcbiAgICAvLyBFQkFEU0xUOiBXQVNJX0VCQURTTFQsXG4gICAgRUJVU1k6IGV4cG9ydHMuV0FTSV9FQlVTWSxcbiAgICBFQ0FOQ0VMRUQ6IGV4cG9ydHMuV0FTSV9FQ0FOQ0VMRUQsXG4gICAgRUNISUxEOiBleHBvcnRzLldBU0lfRUNISUxELFxuICAgIC8vIEVDSFJORzogV0FTSV9FQ0hSTkcsXG4gICAgLy8gRUNPTU06IFdBU0lfRUNPTU0sXG4gICAgRUNPTk5BQk9SVEVEOiBleHBvcnRzLldBU0lfRUNPTk5BQk9SVEVELFxuICAgIEVDT05OUkVGVVNFRDogZXhwb3J0cy5XQVNJX0VDT05OUkVGVVNFRCxcbiAgICBFQ09OTlJFU0VUOiBleHBvcnRzLldBU0lfRUNPTk5SRVNFVCxcbiAgICBFREVBRExPQ0s6IGV4cG9ydHMuV0FTSV9FREVBRExLLFxuICAgIEVERVNUQUREUlJFUTogZXhwb3J0cy5XQVNJX0VERVNUQUREUlJFUSxcbiAgICBFRE9NOiBleHBvcnRzLldBU0lfRURPTSxcbiAgICBFRFFVT1Q6IGV4cG9ydHMuV0FTSV9FRFFVT1QsXG4gICAgRUVYSVNUOiBleHBvcnRzLldBU0lfRUVYSVNULFxuICAgIEVGQVVMVDogZXhwb3J0cy5XQVNJX0VGQVVMVCxcbiAgICBFRkJJRzogZXhwb3J0cy5XQVNJX0VGQklHLFxuICAgIEVIT1NURE9XTjogZXhwb3J0cy5XQVNJX0VIT1NUVU5SRUFDSCxcbiAgICBFSE9TVFVOUkVBQ0g6IGV4cG9ydHMuV0FTSV9FSE9TVFVOUkVBQ0gsXG4gICAgLy8gRUhXUE9JU09OOiBXQVNJX0VIV1BPSVNPTixcbiAgICBFSURSTTogZXhwb3J0cy5XQVNJX0VJRFJNLFxuICAgIEVJTFNFUTogZXhwb3J0cy5XQVNJX0VJTFNFUSxcbiAgICBFSU5QUk9HUkVTUzogZXhwb3J0cy5XQVNJX0VJTlBST0dSRVNTLFxuICAgIEVJTlRSOiBleHBvcnRzLldBU0lfRUlOVFIsXG4gICAgRUlOVkFMOiBleHBvcnRzLldBU0lfRUlOVkFMLFxuICAgIEVJTzogZXhwb3J0cy5XQVNJX0VJTyxcbiAgICBFSVNDT05OOiBleHBvcnRzLldBU0lfRUlTQ09OTixcbiAgICBFSVNESVI6IGV4cG9ydHMuV0FTSV9FSVNESVIsXG4gICAgRUxPT1A6IGV4cG9ydHMuV0FTSV9FTE9PUCxcbiAgICBFTUZJTEU6IGV4cG9ydHMuV0FTSV9FTUZJTEUsXG4gICAgRU1MSU5LOiBleHBvcnRzLldBU0lfRU1MSU5LLFxuICAgIEVNU0dTSVpFOiBleHBvcnRzLldBU0lfRU1TR1NJWkUsXG4gICAgRU1VTFRJSE9QOiBleHBvcnRzLldBU0lfRU1VTFRJSE9QLFxuICAgIEVOQU1FVE9PTE9ORzogZXhwb3J0cy5XQVNJX0VOQU1FVE9PTE9ORyxcbiAgICBFTkVURE9XTjogZXhwb3J0cy5XQVNJX0VORVRET1dOLFxuICAgIEVORVRSRVNFVDogZXhwb3J0cy5XQVNJX0VORVRSRVNFVCxcbiAgICBFTkVUVU5SRUFDSDogZXhwb3J0cy5XQVNJX0VORVRVTlJFQUNILFxuICAgIEVORklMRTogZXhwb3J0cy5XQVNJX0VORklMRSxcbiAgICBFTk9CVUZTOiBleHBvcnRzLldBU0lfRU5PQlVGUyxcbiAgICBFTk9ERVY6IGV4cG9ydHMuV0FTSV9FTk9ERVYsXG4gICAgRU5PRU5UOiBleHBvcnRzLldBU0lfRU5PRU5ULFxuICAgIEVOT0VYRUM6IGV4cG9ydHMuV0FTSV9FTk9FWEVDLFxuICAgIEVOT0xDSzogZXhwb3J0cy5XQVNJX0VOT0xDSyxcbiAgICBFTk9MSU5LOiBleHBvcnRzLldBU0lfRU5PTElOSyxcbiAgICBFTk9NRU06IGV4cG9ydHMuV0FTSV9FTk9NRU0sXG4gICAgRU5PTVNHOiBleHBvcnRzLldBU0lfRU5PTVNHLFxuICAgIEVOT1BST1RPT1BUOiBleHBvcnRzLldBU0lfRU5PUFJPVE9PUFQsXG4gICAgRU5PU1BDOiBleHBvcnRzLldBU0lfRU5PU1BDLFxuICAgIEVOT1NZUzogZXhwb3J0cy5XQVNJX0VOT1NZUyxcbiAgICBFTk9UQ09OTjogZXhwb3J0cy5XQVNJX0VOT1RDT05OLFxuICAgIEVOT1RESVI6IGV4cG9ydHMuV0FTSV9FTk9URElSLFxuICAgIEVOT1RFTVBUWTogZXhwb3J0cy5XQVNJX0VOT1RFTVBUWSxcbiAgICBFTk9UUkVDT1ZFUkFCTEU6IGV4cG9ydHMuV0FTSV9FTk9UUkVDT1ZFUkFCTEUsXG4gICAgRU5PVFNPQ0s6IGV4cG9ydHMuV0FTSV9FTk9UU09DSyxcbiAgICBFTk9UVFk6IGV4cG9ydHMuV0FTSV9FTk9UVFksXG4gICAgRU5YSU86IGV4cG9ydHMuV0FTSV9FTlhJTyxcbiAgICBFT1ZFUkZMT1c6IGV4cG9ydHMuV0FTSV9FT1ZFUkZMT1csXG4gICAgRU9XTkVSREVBRDogZXhwb3J0cy5XQVNJX0VPV05FUkRFQUQsXG4gICAgRVBFUk06IGV4cG9ydHMuV0FTSV9FUEVSTSxcbiAgICBFUElQRTogZXhwb3J0cy5XQVNJX0VQSVBFLFxuICAgIEVQUk9UTzogZXhwb3J0cy5XQVNJX0VQUk9UTyxcbiAgICBFUFJPVE9OT1NVUFBPUlQ6IGV4cG9ydHMuV0FTSV9FUFJPVE9OT1NVUFBPUlQsXG4gICAgRVBST1RPVFlQRTogZXhwb3J0cy5XQVNJX0VQUk9UT1RZUEUsXG4gICAgRVJBTkdFOiBleHBvcnRzLldBU0lfRVJBTkdFLFxuICAgIEVST0ZTOiBleHBvcnRzLldBU0lfRVJPRlMsXG4gICAgRVNQSVBFOiBleHBvcnRzLldBU0lfRVNQSVBFLFxuICAgIEVTUkNIOiBleHBvcnRzLldBU0lfRVNSQ0gsXG4gICAgRVNUQUxFOiBleHBvcnRzLldBU0lfRVNUQUxFLFxuICAgIEVUSU1FRE9VVDogZXhwb3J0cy5XQVNJX0VUSU1FRE9VVCxcbiAgICBFVFhUQlNZOiBleHBvcnRzLldBU0lfRVRYVEJTWSxcbiAgICBFWERFVjogZXhwb3J0cy5XQVNJX0VYREVWXG59O1xuZXhwb3J0cy5TSUdOQUxfTUFQID0ge1xuICAgIFtleHBvcnRzLldBU0lfU0lHSFVQXTogXCJTSUdIVVBcIixcbiAgICBbZXhwb3J0cy5XQVNJX1NJR0lOVF06IFwiU0lHSU5UXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdRVUlUXTogXCJTSUdRVUlUXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdJTExdOiBcIlNJR0lMTFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHVFJBUF06IFwiU0lHVFJBUFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHQUJSVF06IFwiU0lHQUJSVFwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHQlVTXTogXCJTSUdCVVNcIixcbiAgICBbZXhwb3J0cy5XQVNJX1NJR0ZQRV06IFwiU0lHRlBFXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdLSUxMXTogXCJTSUdLSUxMXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdVU1IxXTogXCJTSUdVU1IxXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdTRUdWXTogXCJTSUdTRUdWXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdVU1IyXTogXCJTSUdVU1IyXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdQSVBFXTogXCJTSUdQSVBFXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdBTFJNXTogXCJTSUdBTFJNXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdURVJNXTogXCJTSUdURVJNXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdDSExEXTogXCJTSUdDSExEXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdDT05UXTogXCJTSUdDT05UXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdTVE9QXTogXCJTSUdTVE9QXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdUU1RQXTogXCJTSUdUU1RQXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdUVElOXTogXCJTSUdUVElOXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdUVE9VXTogXCJTSUdUVE9VXCIsXG4gICAgW2V4cG9ydHMuV0FTSV9TSUdVUkddOiBcIlNJR1VSR1wiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHWENQVV06IFwiU0lHWENQVVwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHWEZTWl06IFwiU0lHWEZTWlwiLFxuICAgIFtleHBvcnRzLldBU0lfU0lHVlRBTFJNXTogXCJTSUdWVEFMUk1cIlxufTtcbiIsICJ2YXIgbmFtZXMgPSBbXG4gICAgXCJzaWduYWxcIixcbiAgICBcInJhaXNlXCIsXG4gICAgXCJwaXBlXCIsXG4gICAgXCJkdXBcIixcbiAgICBcImR1cDJcIixcbiAgICBcImR1cDNcIixcbiAgICBcImV4ZWN2XCIsXG4gICAgXCJleGVjbFwiLFxuICAgIFwiZXhlY3ZwXCIsXG4gICAgXCJleGVjbHBcIixcbiAgICBcImdldHB3bmFtXCIsXG4gICAgXCJnZXRwd25hbV9yXCIsXG4gICAgXCJnZXRwd2VudFwiLFxuICAgIFwidGNzZXRwZ3JwXCIsXG4gICAgXCJraWxsXCIsXG4gICAgXCJraWxscGdcIixcbiAgICBcImZvcmtcIixcbiAgICBcInJlYWxwYXRoXCIsXG4gICAgXCJnZXRwaWRcIixcbiAgICBcImdldHBnaWRcIixcbiAgICBcInNldHBnaWRcIixcbiAgICBcImdldHBncnBcIixcbiAgICBcInNldHBncnBcIixcbiAgICBcImlzc2V0dWdpZFwiLFxuICAgIFwic3Ryc2lnbmFsXCIsXG4gICAgXCJ3YWl0NFwiLFxuICAgIFwid2FpdHBpZFwiLFxuICAgIFwiZ2V0dWlkXCIsXG4gICAgXCJnZXRldWlkXCIsXG4gICAgXCJnZXRnaWRcIixcbiAgICBcImdldGVnaWRcIixcbiAgICBcImdldHNpZFwiLFxuICAgIFwic2V0ZWdpZFwiLFxuICAgIFwic2V0ZXVpZFwiLFxuICAgIFwic2V0Z2lkXCIsXG4gICAgXCJzZXR1aWRcIixcbiAgICBcInNldHNpZFwiLFxuICAgIFwidW1hc2tcIixcbiAgICBcImdldHJsaW1pdFwiLFxuICAgIFwic2V0cmxpbWl0XCIsXG4gICAgXCJnZXRwcmlvcml0eVwiLFxuICAgIFwic2V0cHJpb3JpdHlcIixcbiAgICBcInNpZ2ZpbGxzZXRcIixcbiAgICBcInNpZ3Byb2NtYXNrXCIsXG4gICAgXCJzaWdzZXRtYXNrXCIsXG4gICAgXCJzaWdpbnRlcnJ1cHRcIixcbiAgICBcInNpZ2FsdHN0YWNrXCIsXG4gICAgXCJzaWd3YWl0XCIsXG4gICAgXCJzaWdwZW5kaW5nXCIsXG4gICAgXCJnZXRwcGlkXCIsXG4gICAgXCJ0Y2dldHBncnBcIixcbiAgICBcImdldGhvc3RuYW1lXCIsXG4gICAgXCJ0enNldFwiLFxuICAgIFwiZmxvY2tmaWxlXCIsXG4gICAgXCJmdHJ5bG9ja2ZpbGVcIixcbiAgICBcImZ1bmxvY2tmaWxlXCIsXG4gICAgXCJnZXRwd3VpZFwiLFxuICAgIFwiZ2V0cHd1aWRfclwiLFxuICAgIFwic2V0cHdlbnRcIixcbiAgICBcImVuZHB3ZW50XCIsXG4gICAgXCJnZXRncmdpZFwiLFxuICAgIFwic2V0cmV1aWRcIixcbiAgICBcInNldHJlZ2lkXCIsXG4gICAgXCJzdHJtb2RlXCIsXG4gICAgXCJhY2xfZ2V0X2ZpbGVcIixcbiAgICBcImFjbF9mcmVlXCIsXG4gICAgXCJhY2xfZ2V0X2VudHJ5XCIsXG4gICAgXCJmY2hkaXJcIixcbiAgICBcImNob3duXCIsXG4gICAgXCJmY2hvd25cIixcbiAgICBcImxjaG93blwiLFxuICAgIFwiZmNob3duYXRcIixcbiAgICBcImNobW9kXCIsXG4gICAgXCJmY2htb2RcIixcbiAgICBcImZjaG1vZGF0XCIsXG4gICAgXCJsY2htb2RcIixcbiAgICBcImNoZmxhZ3NcIixcbiAgICBcImZjaGZsYWdzXCIsXG4gICAgXCJsY2hmbGFnc1wiLFxuICAgIFwiY2hyb290XCIsXG4gICAgXCJnZXRncm91cHNcIixcbiAgICBcInV0aW1lc1wiLFxuICAgIFwiZnV0aW1lc1wiLFxuICAgIFwibHV0aW1lc1wiLFxuICAgIFwiY2xvY2tfZ2V0dGltZVwiLFxuICAgIFwiY2xvY2tfc2V0dGltZVwiLFxuICAgIFwiYWxhcm1cIixcbiAgICBcInN5c3RlbVwiLFxuICAgIFwibWtmaWZvXCIsXG4gICAgXCJta3N0ZW1wXCIsXG4gICAgXCJta3N0ZW1wc1wiLFxuICAgIFwibWtvc3RlbXBcIixcbiAgICBcIm1rb3N0ZW1wc1wiLFxuICAgIFwidG1wZmlsZVwiLFxuICAgIFwic2V0dGltZW9mZGF5XCIsXG4gICAgXCJic2Rfc2lnbmFsXCIsXG4gICAgXCJ0dHluYW1lXCIsXG4gICAgXCJ0dHluYW1lX3JcIixcbiAgICBcImN0ZXJtaWRfclwiLFxuICAgIFwic29ja2V0XCIsXG4gICAgXCJjb25uZWN0XCIsXG4gICAgXCJwb3BlblwiLFxuICAgIFwicGNsb3NlXCIsXG4gICAgXCJzeW5jXCIsXG4gICAgXCJuaWNlXCIsXG4gICAgXCJlcnJ4XCIsICAgICAgICAvLz8/P1xuICAgIFwidndhcm54XCIsICAgICAgLy8/Pz9cbiAgICAvLyBwb3NpeFxuICAgIFwicG9zaXhfc3Bhd25cIixcbiAgICBcInBvc2l4X3NwYXducFwiLFxuICAgIFwicG9zaXhfc3Bhd25hdHRyX2luaXRcIixcbiAgICBcInBvc2l4X3NwYXduYXR0cl9kZXN0cm95XCIsXG4gICAgXCJwb3NpeF9zcGF3bmF0dHJfc2V0ZmxhZ3NcIixcbiAgICBcInBvc2l4X3NwYXduYXR0cl9zZXRzaWdtYXNrXCIsXG4gICAgXCJwb3NpeF9zcGF3bl9maWxlX2FjdGlvbnNfaW5pdFwiLFxuICAgIFwicG9zaXhfc3Bhd25fZmlsZV9hY3Rpb25zX2Rlc3Ryb3lcIixcbiAgICBcInBvc2l4X3NwYXduX2ZpbGVfYWN0aW9uc19hZGRvcGVuXCIsXG4gICAgXCJwb3NpeF9zcGF3bl9maWxlX2FjdGlvbnNfYWRkY2xvc2VcIixcbiAgICBcInBvc2l4X3NwYXduX2ZpbGVfYWN0aW9uc19hZGRkdXAyXCIsXG4gICAgLy8gcHRocmVhZHNcbiAgICBcInB0aHJlYWRfbXV0ZXhfaW5pdFwiLFxuICAgIFwicHRocmVhZF9tdXRleF9sb2NrXCIsXG4gICAgXCJwdGhyZWFkX2NvbmRfdGltZWR3YWl0XCIsXG4gICAgXCJwdGhyZWFkX2NvbmRfc2lnbmFsXCIsXG4gICAgXCJwdGhyZWFkX211dGV4X3VubG9ja1wiLFxuICAgIFwicHRocmVhZF9jb25kX2Rlc3Ryb3lcIixcbiAgICBcInB0aHJlYWRfbXV0ZXhfZGVzdHJveVwiLCBcbiAgICBcInB0aHJlYWRfY29uZF93YWl0XCIsXG4gICAgXCJwdGhyZWFkX2NvbmRfaW5pdFwiLFxuICAgIFwicHRocmVhZF9hdHRyX2luaXRcIixcbiAgICBcInB0aHJlYWRfYXR0cl9zZXRzdGFja3NpemVcIixcbiAgICBcInB0aHJlYWRfYXR0cl9kZXN0cm95XCIsXG4gICAgXCJwdGhyZWFkX2NyZWF0ZVwiLFxuICAgIFwicHRocmVhZF9kZXRhY2hcIixcbiAgICBcInB0aHJlYWRfc2VsZlwiLFxuICAgIFwicHRocmVhZF9raWxsXCIsXG4gICAgXCJwdGhyZWFkX2V4aXRcIixcbiAgICBcInB0aHJlYWRfbXV0ZXhfdHJ5bG9ja1wiLFxuICAgIFwicHRocmVhZF9rZXlfY3JlYXRlXCIsXG4gICAgXCJwdGhyZWFkX2tleV9kZWxldGVcIixcbiAgICBcInB0aHJlYWRfc2V0c3BlY2lmaWNcIixcbiAgICBcInB0aHJlYWRfZ2V0c3BlY2lmaWNcIixcbiAgICBcInB0aHJlYWRfc2lnbWFza1wiLFxuICAgIFwicHRocmVhZF9hdHRyX2dldHNjb3BlXCIsXG4gICAgXCJwdGhyZWFkX2F0dHJfc2V0c2NvcGVcIixcbiAgICBcInBvc2l4X3NwYXduYXR0cl9zZXRwZ3JvdXBcIixcbiAgICBcInBvc2l4X3NwYXduYXR0cl9zZXRzaWdkZWZhdWx0XCIsXG4gICAgLy8gY3Vyc2VzICh0ZXJtaW5mbylcbiAgICBcInRnZXRlbnRcIixcbiAgICBcInRnZXRmbGFnXCIsXG4gICAgXCJ0Z2V0bnVtXCIsXG4gICAgXCJ0Z2V0c3RyXCIsXG4gICAgXCJ0Z290b1wiLFxuICAgIFwidHB1dHNcIixcbiAgICAvLyB0ZXJtaW9zXG4gICAgXCJjZmdldG9zcGVlZFwiLFxuICAgIFwiY2ZnZXRpc3BlZWRcIixcbiAgICBcImNmc2V0b3NwZWVkXCIsXG4gICAgXCJjZnNldGlzcGVlZFwiLFxuICAgIFwidGNzZW5kYnJlYWtcIixcbiAgICBcInRjZHJhaW5cIixcbiAgICBcInRjZmx1c2hcIixcbiAgICBcInRjZmxvd1wiLFxuICAgIFwidGNnZXRzaWRcIixcbiAgICAvLyB1dGlsICh0dHkpXG4gICAgXCJsb2dpblwiLFxuICAgIFwibG9naW5fdHR5XCIsXG4gICAgXCJsb2dvdXRcIixcbiAgICBcImxvZ3d0bXBcIixcbiAgICBcIm9wZW5kZXZcIixcbiAgICBcIm9wZW5wdHlcIixcbiAgICBcImZwYXJzZWxuXCIsXG4gICAgXCJmb3JrcHR5XCIsXG4gICAgXCJwaWRsb2NrXCIsXG4gICAgXCJ0dHlsb2NrXCIsXG4gICAgXCJ0dHl1bmxvY2tcIixcbiAgICBcInR0eWFjdGlvblwiLFxuICAgIFwidHR5bXNnXCIsXG5dXG5cbmNvbnN0IHN0dWJzOiB7XG4gICAgZGVidWc6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQsXG4gICAgW2tleTogc3RyaW5nXTogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkXG59ID0ge1xuICAgIGRlYnVnOiAobWVzc2FnZSkgPT4ge31cbn07XG5mb3IgKGxldCBubSBvZiBuYW1lcykge1xuICAgIHN0dWJzW25tXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzdHVicy5kZWJ1Zyhgc3R1YiBmb3IgJHtubX0gWyR7Wy4uLmFyZ3VtZW50c119XWApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgc3R1YnNcbiIsICIvKiBnZW5lcmF0ZWQgYnkgYXV0b2dlbi1kZWxlZ2F0aW9uLmpzICovXG5leHBvcnQgZGVmYXVsdCB7XCIwXCI6WzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNSwxLDk2LDAsMSwxMjcsMiwxNiwxLDMsMTAxLDExMCwxMTgsOCwxMDAsMTAxLDEwOCwxMDEsMTAzLDk3LDExNiwxMDEsMCwwLDMsMiwxLDAsNyw4LDEsNCwxMDMsMTA4LDExNywxMDEsMCwxLDEwLDYsMSw0LDAsMTYsMCwxMV0sXCIxXCI6WzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNiwxLDk2LDEsMTI3LDEsMTI3LDIsMTYsMSwzLDEwMSwxMTAsMTE4LDgsMTAwLDEwMSwxMDgsMTAxLDEwMyw5NywxMTYsMTAxLDAsMCwzLDIsMSwwLDcsOCwxLDQsMTAzLDEwOCwxMTcsMTAxLDAsMSwxMCw4LDEsNiwwLDMyLDAsMTYsMCwxMV0sXCIyXCI6WzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNywxLDk2LDIsMTI3LDEyNywxLDEyNywyLDE2LDEsMywxMDEsMTEwLDExOCw4LDEwMCwxMDEsMTA4LDEwMSwxMDMsOTcsMTE2LDEwMSwwLDAsMywyLDEsMCw3LDgsMSw0LDEwMywxMDgsMTE3LDEwMSwwLDEsMTAsMTAsMSw4LDAsMzIsMCwzMiwxLDE2LDAsMTFdLFwiM1wiOlswLDk3LDExNSwxMDksMSwwLDAsMCwxLDgsMSw5NiwzLDEyNywxMjcsMTI3LDEsMTI3LDIsMTYsMSwzLDEwMSwxMTAsMTE4LDgsMTAwLDEwMSwxMDgsMTAxLDEwMyw5NywxMTYsMTAxLDAsMCwzLDIsMSwwLDcsOCwxLDQsMTAzLDEwOCwxMTcsMTAxLDAsMSwxMCwxMiwxLDEwLDAsMzIsMCwzMiwxLDMyLDIsMTYsMCwxMV0sXCI0XCI6WzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsOSwxLDk2LDQsMTI3LDEyNywxMjcsMTI3LDEsMTI3LDIsMTYsMSwzLDEwMSwxMTAsMTE4LDgsMTAwLDEwMSwxMDgsMTAxLDEwMyw5NywxMTYsMTAxLDAsMCwzLDIsMSwwLDcsOCwxLDQsMTAzLDEwOCwxMTcsMTAxLDAsMSwxMCwxNCwxLDEyLDAsMzIsMCwzMiwxLDMyLDIsMzIsMywxNiwwLDExXSxcIjVcIjpbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSwxMCwxLDk2LDUsMTI3LDEyNywxMjcsMTI3LDEyNywxLDEyNywyLDE2LDEsMywxMDEsMTEwLDExOCw4LDEwMCwxMDEsMTA4LDEwMSwxMDMsOTcsMTE2LDEwMSwwLDAsMywyLDEsMCw3LDgsMSw0LDEwMywxMDgsMTE3LDEwMSwwLDEsMTAsMTYsMSwxNCwwLDMyLDAsMzIsMSwzMiwyLDMyLDMsMzIsNCwxNiwwLDExXSxcIjZcIjpbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSwxMSwxLDk2LDYsMTI3LDEyNywxMjcsMTI3LDEyNywxMjcsMSwxMjcsMiwxNiwxLDMsMTAxLDExMCwxMTgsOCwxMDAsMTAxLDEwOCwxMDEsMTAzLDk3LDExNiwxMDEsMCwwLDMsMiwxLDAsNyw4LDEsNCwxMDMsMTA4LDExNywxMDEsMCwxLDEwLDE4LDEsMTYsMCwzMiwwLDMyLDEsMzIsMiwzMiwzLDMyLDQsMzIsNSwxNiwwLDExXSxcIjdcIjpbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSwxMiwxLDk2LDcsMTI3LDEyNywxMjcsMTI3LDEyNywxMjcsMTI3LDEsMTI3LDIsMTYsMSwzLDEwMSwxMTAsMTE4LDgsMTAwLDEwMSwxMDgsMTAxLDEwMyw5NywxMTYsMTAxLDAsMCwzLDIsMSwwLDcsOCwxLDQsMTAzLDEwOCwxMTcsMTAxLDAsMSwxMCwyMCwxLDE4LDAsMzIsMCwzMiwxLDMyLDIsMzIsMywzMiw0LDMyLDUsMzIsNiwxNiwwLDExXSxcIjhcIjpbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSwxMywxLDk2LDgsMTI3LDEyNywxMjcsMTI3LDEyNywxMjcsMTI3LDEyNywxLDEyNywyLDE2LDEsMywxMDEsMTEwLDExOCw4LDEwMCwxMDEsMTA4LDEwMSwxMDMsOTcsMTE2LDEwMSwwLDAsMywyLDEsMCw3LDgsMSw0LDEwMywxMDgsMTE3LDEwMSwwLDEsMTAsMjIsMSwyMCwwLDMyLDAsMzIsMSwzMiwyLDMyLDMsMzIsNCwzMiw1LDMyLDYsMzIsNywxNiwwLDExXSxcIjlcIjpbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSwxNCwxLDk2LDksMTI3LDEyNywxMjcsMTI3LDEyNywxMjcsMTI3LDEyNywxMjcsMSwxMjcsMiwxNiwxLDMsMTAxLDExMCwxMTgsOCwxMDAsMTAxLDEwOCwxMDEsMTAzLDk3LDExNiwxMDEsMCwwLDMsMiwxLDAsNyw4LDEsNCwxMDMsMTA4LDExNywxMDEsMCwxLDEwLDI0LDEsMjIsMCwzMiwwLDMyLDEsMzIsMiwzMiwzLDMyLDQsMzIsNSwzMiw2LDMyLDcsMzIsOCwxNiwwLDExXX0iLCAiaW1wb3J0IHsgRXhlY0NvcmUgfSBmcm9tICcuLi9leGVjJztcbmltcG9ydCBkZWxlZ2F0aW9uIGZyb20gJy4vYXV0b2dlbi9kZWxlZ2F0aW9uJztcblxuXG5cbmNsYXNzIER5bmFtaWNMb2FkZXIge1xuXG4gICAgY29yZTogRXhlY0NvcmVcblxuICAgIGR5bGliVGFibGU/OiBEeW5hbWljTGlicmFyeS5UYWJsZVxuXG4gICAgY29uc3RydWN0b3IoY29yZTogRXhlY0NvcmUpIHtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKHBhdGg6IHN0cmluZywgdXJpOiBzdHJpbmcsIHJlbG9jPzogRHluYW1pY0xpYnJhcnkuUmVsb2NhdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmR5bGliVGFibGUpXG4gICAgICAgICAgICB0aGlzLmR5bGliVGFibGUgPSBuZXcgRHluYW1pY0xpYnJhcnkuVGFibGUoKTtcblxuICAgICAgICBpZiAodGhpcy5keWxpYlRhYmxlLmRlZi5oYXMocGF0aCkpIHJldHVybjtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3JlLmZldGNoQ29tcGlsZSh1cmkpLnRoZW4odyA9PiB7XG4gICAgICAgICAgICB0aGlzLmR5bGliVGFibGUuZGVmLnNldChwYXRoLCBuZXcgRHluYW1pY0xpYnJhcnkuRGVmKHcsIHJlbG9jLCB7cGF0aCwgdXJpfSkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQgaW1wb3J0KCkge1xuICAgICAgICByZXR1cm4gYmluZEFsbCh0aGlzLCBbJ2Rsb3BlbicsICdkbHN5bScsICdkbGNsb3NlJ10pO1xuICAgIH1cblxuICAgIGdldCBleHRsaWIoKSB7XG4gICAgICAgIHJldHVybiBiaW5kQWxsKHRoaXMsIFsnZGxlcnJvcl9nZXQnXSk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS1cbiAgICAvLyBMb2FkZXIgUGFydFxuICAgIC8vIC0tLS0tLS0tLS0tXG5cbiAgICBkbG9wZW4ocGF0aDogaTMyLCBmbGFnczogaTMyKSB7XG4gICAgICAgIHZhciBwYXRoX3N0ciA9IHRoaXMudXNlckdldENTdHJpbmcocGF0aCkudG9TdHJpbmcoJ3V0Zi04Jyk7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS5zeXNjYWxscyhgZGxvcGVuKFwiJHtwYXRoX3N0cn1cIiwgJHtmbGFnc30pYCk7XG4gICAgICAgIGlmICghdGhpcy5keWxpYlRhYmxlKSByZXR1cm4gMDtcbiAgICAgICAgdmFyIGRlZiA9IHRoaXMuZHlsaWJUYWJsZS5kZWYuZ2V0KHBhdGhfc3RyKTtcbiAgICAgICAgaWYgKGRlZikge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gZGVmLmluc3RhbnRpYXRlKHRoaXMuY29yZSksXG4gICAgICAgICAgICAgICAgaGFuZGxlID0gdGhpcy5keWxpYlRhYmxlLnJlZi5zaXplICsgMTtcbiAgICAgICAgICAgIHRoaXMuZHlsaWJUYWJsZS5yZWYuc2V0KGhhbmRsZSwge2RlZiwgaW5zdGFuY2V9KTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMDsgIC8vIEB0b2RvIHNldCBlcnJvciBtZXNzYWdlIGluIGRsZXJyb3JcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRsc3ltKGhhbmRsZTogaTMyLCBzeW1ib2w6IGkzMikge1xuICAgICAgICB2YXIgc3ltYm9sX3N0ciA9IHRoaXMudXNlckdldENTdHJpbmcoc3ltYm9sKS50b1N0cmluZygndXRmLTgnKTtcbiAgICAgICAgdGhpcy5jb3JlLnRyYWNlLnN5c2NhbGxzKGBkbHN5bSgke2hhbmRsZX0sIFwiJHtzeW1ib2xfc3RyfVwiKWApO1xuICAgICAgICB2YXIgcmVmID0gdGhpcy5keWxpYlRhYmxlLnJlZi5nZXQoaGFuZGxlKTtcbiAgICAgICAgaWYgKHJlZikge1xuICAgICAgICAgICAgLyogc2VhcmNoIGluIFdBU00gaW5zdGFuY2UgKi9cbiAgICAgICAgICAgIHZhciBzeW0gPSByZWYuaW5zdGFuY2UuZXhwb3J0c1tzeW1ib2xfc3RyXTtcbiAgICAgICAgICAgIGlmIChzeW0gJiYgc3ltIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxvY2F0ZUZ1bmMoc3ltKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIHNlYXJjaCBpbiBKUyBpbXBvcnRzICovXG4gICAgICAgICAgICB2YXIganMgPSByZWYuZGVmLnJlbG9jPy5qcz8uW3N5bWJvbF9zdHJdLFxuICAgICAgICAgICAgICAgIGQgPSBqcyAmJiB0aGlzLmFsbG9jYXRlRGVsZWdhdGUoanMpO1xuICAgICAgICAgICAgaWYgKGQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7ICAvLyBAdG9kbyBzZXQgZXJyb3IgbWVzc2FnZSBpbiBkbGVycm9yXG4gICAgfVxuXG4gICAgZGxjbG9zZShoYW5kbGU6IGkzMikge1xuICAgICAgICAvLyBkbyBub3RoaW5nP1xuICAgIH1cblxuICAgIGRsZXJyb3JfZ2V0KHBidWY6IGkzMikge1xuICAgICAgICB2YXIgcmV0ID0gJ25vdCBmb3VuZFxcMCc7ICAvLyBAdG9kb1xuICAgICAgICByZXR1cm4gdGhpcy51c2VyQ1N0cmluZ01hbGxvYyhyZXQsIHBidWYpOyAgICAgICAgXG4gICAgfVxuXG4gICAgYWxsb2NhdGVGdW5jKGZ1bmM6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHZhciBoID0gdGhpcy5jb3JlLnByb2MuZnVuY1RhYmxlLmdyb3coMSk7XG4gICAgICAgIHRoaXMuY29yZS5wcm9jLmZ1bmNUYWJsZS5zZXQoaCwgZnVuYyk7XG4gICAgICAgIHJldHVybiBoOyAgICAgICAgXG4gICAgfVxuXG4gICAgYWxsb2NhdGVEZWxlZ2F0ZShmdW5jOiBGdW5jdGlvbikge1xuICAgICAgICB2YXIgYmluID0gZGVsZWdhdGlvbltmdW5jLmxlbmd0aF07XG4gICAgICAgIGlmIChiaW4pIHtcbiAgICAgICAgICAgIHZhciBtb2QgPSBuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKG5ldyBVaW50OEFycmF5KGJpbikpLFxuICAgICAgICAgICAgICAgIGluc3QgPSBuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobW9kLCB7ZW52OiB7ZGVsZWdhdGU6IGZ1bmN9fSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxvY2F0ZUZ1bmMoPEZ1bmN0aW9uPmluc3QuZXhwb3J0c1snZ2x1ZSddKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgY2Fubm90IGRlbGVnYXRlIGZ1bmN0aW9uIHdpdGggJHtmdW5jLmxlbmd0aH0gYXJndW1lbnRzOmAsIGZ1bmMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gLSBzb21lIGhlbHBlcnMgZnJvbSBQcm9jXG5cbiAgICB1c2VyR2V0Q1N0cmluZyhhZGRyOiBpMzIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29yZS5wcm9jLnVzZXJHZXRDU3RyaW5nKGFkZHIpO1xuICAgIH1cblxuICAgIHVzZXJDU3RyaW5nTWFsbG9jKHM6IHN0cmluZywgcGJ1ZjogaTMyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcmUucHJvYy51c2VyQ1N0cmluZ01hbGxvYyhzLCBwYnVmKTtcbiAgICB9XG5cbn1cblxuXG5uYW1lc3BhY2UgRHluYW1pY0xpYnJhcnkge1xuXG4gICAgZXhwb3J0IGNsYXNzIFRhYmxlIHtcbiAgICAgICAgZGVmOiBNYXA8c3RyaW5nLCBEZWY+ID0gbmV3IE1hcCgpXG4gICAgICAgIHJlZjogTWFwPGkzMiwgUmVmPiA9IG5ldyBNYXAoKVxuICAgIH1cblxuICAgIGV4cG9ydCBjbGFzcyBEZWYge1xuICAgICAgICBtb2R1bGU6IFdlYkFzc2VtYmx5Lk1vZHVsZVxuICAgICAgICByZWxvYzogUmVsb2NhdGlvbnNcbiAgICAgICAgbWV0YWRhdGE6IHtwYXRoPzogc3RyaW5nLCB1cmk/OiBzdHJpbmd9XG5cbiAgICAgICAgc3RhY2tTaXplOiBudW1iZXIgPSAxIDw8IDE2ICAgIC8qKiBAdG9kbyAqL1xuICAgICAgICBtZW1CbG9ja3M6IG51bWJlciA9IDEwICAgICAgICAgLyoqIEB0b2RvICovXG4gICAgICAgIHRibFNpemU6IG51bWJlciA9IDEwMjQgICAgICAgICAvKiogQHRvZG8gKi9cblxuICAgICAgICBjb25zdHJ1Y3Rvcihtb2R1bGU6IFdlYkFzc2VtYmx5Lk1vZHVsZSwgcmVsb2M6IFJlbG9jYXRpb25zID0ge30sIFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YToge3BhdGg/OiBzdHJpbmcsIHVyaT86IHN0cmluZ30gPSB7fSkge1xuICAgICAgICAgICAgdGhpcy5tb2R1bGUgPSBtb2R1bGU7XG4gICAgICAgICAgICB0aGlzLnJlbG9jID0gcmVsb2M7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBpbnN0YW50aWF0ZShjb3JlOiBFeGVjQ29yZSkge1xuICAgICAgICAgICAgdmFyIHN0YWNrX2Jhc2UgPSBjb3JlLndhc2kubWVtb3J5LmJ1ZmZlci5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgIG1lbV9iYXNlID0gc3RhY2tfYmFzZSArIHRoaXMuc3RhY2tTaXplLFxuICAgICAgICAgICAgICAgIHRibF9iYXNlID0gY29yZS5wcm9jLmZ1bmNUYWJsZS5sZW5ndGg7XG5cbiAgICAgICAgICAgIGNvcmUud2FzaS5tZW1vcnkuZ3Jvdyh0aGlzLm1lbUJsb2Nrcyk7XG4gICAgICAgICAgICBjb3JlLnByb2MuZnVuY1RhYmxlLmdyb3codGhpcy50YmxTaXplKTtcblxuICAgICAgICAgICAgdmFyIGdsb2JhbHMgPSB0aGlzLmdsb2JhbHModGhpcy5tb2R1bGUsIGNvcmUud2FzbS5pbnN0YW5jZSk7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UodGhpcy5tb2R1bGUsIHtcbiAgICAgICAgICAgICAgICBlbnY6IHsgXG4gICAgICAgICAgICAgICAgICAgIG1lbW9yeTogY29yZS53YXNpLm1lbW9yeSxcbiAgICAgICAgICAgICAgICAgICAgdGFibGU6IGNvcmUucHJvYy5mdW5jVGFibGUsICAgICAgICAgLy8gPC0tLSBFbXNjcmlwdGVuXG4gICAgICAgICAgICAgICAgICAgIF9faW5kaXJlY3RfZnVuY3Rpb25fdGFibGU6IGNvcmUucHJvYy5mdW5jVGFibGUsXG4gICAgICAgICAgICAgICAgICAgIF9fbWVtb3J5X2Jhc2U6IG1lbV9iYXNlLFxuICAgICAgICAgICAgICAgICAgICBfX3RhYmxlX2Jhc2U6IHRibF9iYXNlLFxuICAgICAgICAgICAgICAgICAgICBfX3N0YWNrX3BvaW50ZXI6IHRoaXMuX21rZ2xvYmFsKG1lbV9iYXNlKSwgLy8gc3RhY2sgZ3Jvd3MgZG93bj9cbiAgICAgICAgICAgICAgICAgICAgc3RhY2tTYXZlOiAoKSA9PiBtZW1fYmFzZSwgICAgICAgICAgLy8gPC0tLSBFbXNjcmlwdGVuXG4gICAgICAgICAgICAgICAgICAgIHN0YWNrUmVzdG9yZTogKCkgPT4ge30sXG4gICAgICAgICAgICAgICAgICAgIC4uLnRoaXMucmVsb2NUYWJsZSh0aGlzLm1vZHVsZSwgY29yZS53YXNtLmluc3RhbmNlLCBjb3JlLnByb2MuaW1wb3J0KSxcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5lbWdsb2JhbHModGhpcy5tb2R1bGUsIG1lbV9iYXNlLCBjb3JlLndhc20uaW5zdGFuY2UsICgpID0+IGluc3RhbmNlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC4uLmdsb2JhbHMsXG4gICAgICAgICAgICAgICAgd2FzaWtfZXh0OiBjb3JlLnByb2MuZXh0bGliXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsc0luaXQoaW5zdGFuY2UsIG1lbV9iYXNlLCBnbG9iYWxzWydHT1QubWVtJ10gfHwge30pO1xuXG4gICAgICAgICAgICB2YXIgaW5pdCA9IGluc3RhbmNlLmV4cG9ydHMuX19wb3N0X2luc3RhbnRpYXRlOyAgICAgLy8gPC0tLSBFbXNjcmlwdGVuXG4gICAgICAgICAgICBpZiAoaW5pdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSBpbml0KCk7XG4gICAgICAgICAgICB2YXIgY3RvcnMgPSBpbnN0YW5jZS5leHBvcnRzLl9fd2FzbV9jYWxsX2N0b3JzOyAgICAgLy8gPC0tLSBDbGFuZ1xuICAgICAgICAgICAgaWYgKGN0b3JzIGluc3RhbmNlb2YgRnVuY3Rpb24pIGN0b3JzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbG9jVGFibGUobW9kdWxlOiBXZWJBc3NlbWJseS5Nb2R1bGUsIG1haW46IFdlYkFzc2VtYmx5Lkluc3RhbmNlLCBzdGQ6IHtbbmFtZTogc3RyaW5nXTogYW55fSkge1xuICAgICAgICAgICAgdmFyIGltcG9ydHMgPSBXZWJBc3NlbWJseS5Nb2R1bGUuaW1wb3J0cyhtb2R1bGUpLFxuICAgICAgICAgICAgICAgIGVudiA9IHt9O1xuICAgICAgICAgICAgZm9yIChsZXQgaW1wIG9mIGltcG9ydHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1wLm1vZHVsZSA9PSAnZW52JyAmJiBpbXAua2luZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXhwID0gdGhpcy5yZWxvYy5qcz8uW2ltcC5uYW1lXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgbWFpbi5leHBvcnRzW0VNX0FMSUFTRVNbaW1wLm5hbWVdIHx8IGltcC5uYW1lXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgc3RkW2ltcC5uYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIEZ1bmN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgZW52W2ltcC5uYW1lXSA9IGV4cDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3VucmVzb2x2ZWQgc3ltYm9sOicsIGltcCwgJ1xcbmluJywgdGhpcy5tZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnZbaW1wLm5hbWVdID0gKCkgPT4gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbnY7XG4gICAgICAgIH1cblxuICAgICAgICBnbG9iYWxzKG1vZHVsZTogV2ViQXNzZW1ibHkuTW9kdWxlLCBtYWluOiBXZWJBc3NlbWJseS5JbnN0YW5jZSkge1xuICAgICAgICAgICAgdmFyIGltcG9ydHMgPSBXZWJBc3NlbWJseS5Nb2R1bGUuaW1wb3J0cyhtb2R1bGUpLFxuICAgICAgICAgICAgICAgIGc6IEdsb2JhbHMgPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IGltcCBvZiBpbXBvcnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltcC5raW5kID09PSAnZ2xvYmFsJyAmJiBpbXAubW9kdWxlLm1hdGNoKEVNX0dMT0JBTF9OUykpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4cCA9IG1haW4uZXhwb3J0c1tpbXAubmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGdbaW1wLm1vZHVsZV0gPz89IHt9O1xuICAgICAgICAgICAgICAgICAgICBnW2ltcC5tb2R1bGVdW2ltcC5uYW1lXSA9IHRoaXMuX21rZ2xvYmFsKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwIGluc3RhbmNlb2YgV2ViQXNzZW1ibHkuR2xvYmFsID8gZXhwLnZhbHVlIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZztcbiAgICAgICAgfVxuXG4gICAgICAgIGdsb2JhbHNJbml0KGluc3RhbmNlOiBXZWJBc3NlbWJseS5JbnN0YW5jZSwgbWVtX2Jhc2U6IG51bWJlciwgZ2xvYmFsczogR2xvYmFsc01vZHVsZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgZyBpbiBnbG9iYWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4cCA9IGluc3RhbmNlLmV4cG9ydHNbZ107XG4gICAgICAgICAgICAgICAgaWYgKGV4cCBpbnN0YW5jZW9mIFdlYkFzc2VtYmx5Lkdsb2JhbClcbiAgICAgICAgICAgICAgICAgICAgZ2xvYmFsc1tnXS52YWx1ZSA9IG1lbV9iYXNlICsgZXhwLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFtpbnRlcm5hbF0gY3JlYXRlcyBhIHRhYmxlIG9mIHNlbGYtcmVmZXJlbmNlZCBnbG9iYWxzLlxuICAgICAgICAgKiBTcGVjaWZpYyB0byBFbXNjcmlwdGVuLlxuICAgICAgICAgKi9cbiAgICAgICAgZW1nbG9iYWxzKG1vZHVsZTogV2ViQXNzZW1ibHkuTW9kdWxlLCBtZW1fYmFzZTogbnVtYmVyLCBtYWluOiBXZWJBc3NlbWJseS5JbnN0YW5jZSwgaW5zdGFuY2U6ICgpID0+IFdlYkFzc2VtYmx5Lkluc3RhbmNlKSB7XG4gICAgICAgICAgICB2YXIgaW1wb3J0cyA9IFdlYkFzc2VtYmx5Lk1vZHVsZS5pbXBvcnRzKG1vZHVsZSksXG4gICAgICAgICAgICAgICAgZXhwb3J0cyA9IFdlYkFzc2VtYmx5Lk1vZHVsZS5leHBvcnRzKG1vZHVsZSksXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA9IChzeW1ib2w6IHN0cmluZykgPT4gKG1lbV9iYXNlICsgK2luc3RhbmNlKCkuZXhwb3J0c1tzeW1ib2xdKSxcbiAgICAgICAgICAgICAgICBnID0ge307XG4gICAgICAgICAgICBmb3IgKGxldCBpbXAgb2YgaW1wb3J0cykge1xuICAgICAgICAgICAgICAgIGlmIChpbXAua2luZCA9PT0gJ2Z1bmN0aW9uJyAmJiBpbXAubmFtZS5zdGFydHNXaXRoKCdnJCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gaW1wLm5hbWUuc2xpY2UoMiksXG4gICAgICAgICAgICAgICAgICAgICAgICBidWQ6IFdlYkFzc2VtYmx5LkV4cG9ydFZhbHVlIHwgV2ViQXNzZW1ibHkuTW9kdWxlRXhwb3J0RGVzY3JpcHRvcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZCA9IG1haW4uZXhwb3J0c1tuYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGdbaW1wLm5hbWVdID0gKCkgPT4gYnVkO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChidWQgPSBleHBvcnRzLmZpbmQoKHdlZCkgPT4gd2VkLm5hbWUgPT0gbmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBnW2ltcC5uYW1lXSA9ICgpID0+IHJlc29sdmUobmFtZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZztcbiAgICAgICAgfVxuXG4gICAgICAgIF9ta2dsb2JhbChpbml0aWFsOiBpMzIgPSAweERFQURCRUVGKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFdlYkFzc2VtYmx5Lkdsb2JhbCh7dmFsdWU6J2kzMicsIG11dGFibGU6dHJ1ZX0sIGluaXRpYWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgUmVmID0ge1xuICAgICAgICBkZWY6IERlZlxuICAgICAgICBpbnN0YW5jZT86IFdlYkFzc2VtYmx5Lkluc3RhbmNlXG4gICAgfTtcblxuICAgIGV4cG9ydCB0eXBlIFJlbG9jYXRpb25zID0ge1xuICAgICAgICBqcz86IHtbc3ltOiBzdHJpbmddOiBGdW5jdGlvbn1cbiAgICB9O1xuXG59XG5cblxudHlwZSBpMzIgPSBudW1iZXI7XG5cbnR5cGUgR2xvYmFsc01vZHVsZSA9IHtbbmFtZTogc3RyaW5nXTogV2ViQXNzZW1ibHkuR2xvYmFsfTtcbnR5cGUgR2xvYmFscyA9IHtbbW9kdWxlOiBzdHJpbmddOiBHbG9iYWxzTW9kdWxlfTtcblxuY29uc3QgRU1fR0xPQkFMX05TID0gL15HT1RbLl0vLCAgLyogR09ULm1lbSAmIEdPVC5mdW5jICovXG4gICAgICBFTV9BTElBU0VTID0ge2ZpcHJpbnRmOiAnZnByaW50Zid9O1xuXG5mdW5jdGlvbiBiaW5kQWxsKGluc3RhbmNlOiBhbnksIG1ldGhvZHM6IHN0cmluZ1tdKSB7XG4gICAgcmV0dXJuIG1ldGhvZHMucmVkdWNlKChkLCBtKSA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKGQsIHtbbV06IGluc3RhbmNlW21dLmJpbmQoaW5zdGFuY2UpfSksIHt9KTtcbn1cblxuXG5cbmV4cG9ydCB7IER5bmFtaWNMb2FkZXIsIER5bmFtaWNMaWJyYXJ5IH1cbiIsICJcbmNvbnN0IGNvbnN0YW50cyA9IHtcbiAgICBPX1JET05MWTogMCxcbiAgICBPX1dST05MWTogMSxcbiAgICBPX1JEV1I6IDIsXG4gICAgU19JRk1UOiA2MTQ0MCxcbiAgICBTX0lGUkVHOiAzMjc2OCxcbiAgICBTX0lGRElSOiAxNjM4NCxcbiAgICBTX0lGQ0hSOiA4MTkyLFxuICAgIFNfSUZCTEs6IDI0NTc2LFxuICAgIFNfSUZJRk86IDQwOTYsXG4gICAgU19JRkxOSzogNDA5NjAsXG4gICAgU19JRlNPQ0s6IDQ5MTUyLFxuICAgIE9fQ1JFQVQ6IDUxMixcbiAgICBPX0VYQ0w6IDIwNDgsXG4gICAgT19OT0NUVFk6IDEzMTA3MixcbiAgICBPX1RSVU5DOiAxMDI0LFxuICAgIE9fQVBQRU5EOiA4LFxuICAgIE9fRElSRUNUT1JZOiAxMDQ4NTc2LFxuICAgIE9fTk9GT0xMT1c6IDI1NixcbiAgICBPX1NZTkM6IDEyOCxcbiAgICBPX0RTWU5DOiA0MTk0MzA0LFxuICAgIE9fU1lNTElOSzogMjA5NzE1MixcbiAgICBPX05PTkJMT0NLOiA0LFxuICAgIFNfSVJXWFU6IDQ0OCxcbiAgICBTX0lSVVNSOiAyNTYsXG4gICAgU19JV1VTUjogMTI4LFxuICAgIFNfSVhVU1I6IDY0LFxuICAgIFNfSVJXWEc6IDU2LFxuICAgIFNfSVJHUlA6IDMyLFxuICAgIFNfSVdHUlA6IDE2LFxuICAgIFNfSVhHUlA6IDgsXG4gICAgU19JUldYTzogNyxcbiAgICBTX0lST1RIOiA0LFxuICAgIFNfSVdPVEg6IDIsXG4gICAgU19JWE9USDogMSxcbiAgICBGX09LOiAwLFxuICAgIFJfT0s6IDQsXG4gICAgV19PSzogMixcbiAgICBYX09LOiAxLFxuICAgIFVWX0ZTX0NPUFlGSUxFX0VYQ0w6IDEsXG4gICAgQ09QWUZJTEVfRVhDTDogMSB9O1xuXG5cbmNsYXNzIEZzU2VydmljZXMge1xuXG4gICAgY29uc3RhbnRzID0gY29uc3RhbnRzO1xuXG4gICAgc3RybW9kZShtb2RlOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgYyA9IGNvbnN0YW50cztcbiAgICAgICAgbGV0IHJldCA9ICcnO1xuXG4gICAgICAgIC8vc3dpdGNoIChtb2RlICYgYy5TX0lGTVQpIHtcbiAgICAgICAgbGV0IGQgPSB7IFtjLlNfSUZESVJdOiAnZCcsIFtjLlNfSUZDSFJdOiAnYycsIFtjLlNfSUZCTEtdOiAnYicsIFxuICAgICAgICAgICAgICAgICAgW2MuU19JRlJFR106ICctJywgW2MuU19JRkxOS106ICdsJywgW2MuU19JRlNPQ0tdOiAncycsXG4gICAgICAgICAgICAgICAgICBbYy5TX0lGSUZPXTogJ3AnIH07XG4gICAgICAgIHJldCArPSBkW21vZGUgJiBjLlNfSUZNVF0gfHwgJz8nO1xuICAgICAgICAvKiB1c2VyICovXG4gICAgICAgIHJldCArPSAobW9kZSAmIGMuU19JUlVTUikgPyAncicgOiAnLSc7XG4gICAgICAgIHJldCArPSAobW9kZSAmIGMuU19JV1VTUikgPyAndycgOiAnLSc7XG4gICAgICAgIHJldCArPSAobW9kZSAmIGMuU19JWFVTUikgPyAneCcgOiAnLSc7ICAvKiBAdG9kbzogSVNVSUQ/ICovXG4gICAgICAgIC8qIGdyb3VwICovXG4gICAgICAgIHJldCArPSAobW9kZSAmIGMuU19JUkdSUCkgPyAncicgOiAnLSc7XG4gICAgICAgIHJldCArPSAobW9kZSAmIGMuU19JV0dSUCkgPyAndycgOiAnLSc7XG4gICAgICAgIHJldCArPSAobW9kZSAmIGMuU19JWEdSUCkgPyAneCcgOiAnLSc7ICAvKiBAdG9kbzogSVNHSUQ/ICovXG4gICAgICAgIC8qIG90aGVyICovXG4gICAgICAgIHJldCArPSAobW9kZSAmIGMuU19JUk9USCkgPyAncicgOiAnLSc7XG4gICAgICAgIHJldCArPSAobW9kZSAmIGMuU19JV09USCkgPyAndycgOiAnLSc7XG4gICAgICAgIHJldCArPSAobW9kZSAmIGMuU19JWE9USCkgPyAneCcgOiAnLSc7ICAvKiBAdG9kbzogSVNWVFg/ICovXG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9ICAgXG4gXG59XG5cbmNvbnN0IGZzID0gbmV3IEZzU2VydmljZXM7XG5cbmV4cG9ydCB7ZnN9XG4iLCAiXG4vL2RlY2xhcmUgZnVuY3Rpb24gdXRmOGVuY29kZSh0ZXh0OiBzdHJpbmcpOiBVaW50OEFycmF5O1xuXG52YXIgdXRmOGVuY29kZTogKHRleHQ6IHN0cmluZykgPT4gVWludDhBcnJheTtcblxuaWYgKHR5cGVvZiBUZXh0RW5jb2RlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB1dGY4ZW5jb2RlID0gKHRleHQ6IHN0cmluZykgPT5cbiAgICAgICAgbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHRleHQpO1xufVxuZWxzZSB7XG4gICAgdXRmOGVuY29kZSA9ICh0ZXh0OiBzdHJpbmcpID0+IEJ1ZmZlci5mcm9tKHRleHQpO1xufVxuXG52YXIgdXRmOGRlY29kZTogKHVpOGE6IFVpbnQ4QXJyYXkpID0+IHN0cmluZztcblxuaWYgKHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB1dGY4ZGVjb2RlID0gKHVpOGE6IFVpbnQ4QXJyYXkpID0+XG4gICAgICAgIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZSh1aThhKTtcbn1cbmVsc2Uge1xuICAgIHV0ZjhkZWNvZGUgPSAodWk4YTogVWludDhBcnJheSkgPT4gQnVmZmVyLmZyb20odWk4YSkudG9TdHJpbmcoJ3V0Zi04Jyk7XG59XG5cbmV4cG9ydCB7IHV0ZjhlbmNvZGUsIHV0ZjhkZWNvZGUgfVxuIiwgImltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcblxuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJ0B3YXNtZXIvd2FzaS9saWIvY29uc3RhbnRzJztcblxuaW1wb3J0IHN0dWJzIGZyb20gJy4vc3R1YnMnO1xuaW1wb3J0IHsgRXhlY0NvcmUgfSBmcm9tICcuLi9leGVjJztcbmltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcic7XG5pbXBvcnQgeyBTaGFyZWRRdWV1ZSB9IGZyb20gJy4vcXVldWUnO1xuaW1wb3J0IHsgRHluYW1pY0xvYWRlciB9IGZyb20gJy4vZHlsZCc7XG5pbXBvcnQgeyBmcyB9IGZyb20gJy4vZnMnO1xuaW1wb3J0IHsgdXRmOGRlY29kZSB9IGZyb20gJy4uL2JpbmRpbmdzL3V0ZjgnO1xuXG5cblxuY2xhc3MgUHJvYyBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG5cbiAgICBjb3JlOiBFeGVjQ29yZVxuICAgIG9wdHM6IFByb2NPcHRpb25zXG5cbiAgICBzaWd2ZWM6IFNpZ25hbFZlY3RvclxuICAgIGNoaWxkcTogQ2hpbGRQcm9jZXNzUXVldWVcbiAgICBkeWxkOiBEeW5hbWljTG9hZGVyXG5cbiAgICBjaGlsZHNldDogU2V0PG51bWJlcj5cbiAgICBvbkpvaW46IChvbnNldDogRXhlY3ZDYWxsIHwgRXJyb3IpID0+IHZvaWRcblxuICAgIHBlbmRpbmc6ICgoKSA9PiB2b2lkKVtdXG5cbiAgICBmdW5jVGFibGU/OiBXZWJBc3NlbWJseS5UYWJsZVxuXG4gICAgZGVidWc6ICguLi5hcmdzOiBhbnkpID0+IHZvaWRcblxuICAgIGNvbnN0cnVjdG9yKGNvcmU6IEV4ZWNDb3JlLCBvcHRzOiBQcm9jT3B0aW9ucz17fSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvcmUgPSBjb3JlO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuXG4gICAgICAgIHRoaXMuc2lndmVjID0gbmV3IFNpZ25hbFZlY3RvcjtcbiAgICAgICAgdGhpcy5zaWd2ZWMub24oJ3NpZ25hbCcsIGV2ID0+IHRoaXMuZW1pdCgnc3lzY2FsbCcsIHtcbiAgICAgICAgICAgIGZ1bmM6ICdzaWduYWwnLFxuICAgICAgICAgICAgZGF0YTogZXZcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHRoaXMuY2hpbGRxID0gbmV3IFNoYXJlZFF1ZXVlKHtkYXRhOiBuZXcgVWludDMyQXJyYXkobmV3IE1heWJlU2hhcmVkQXJyYXlCdWZmZXIoNCAqIDEyOCkpfSk7XG4gICAgICAgIHRoaXMuY2hpbGRzZXQgPSBuZXcgU2V0O1xuXG4gICAgICAgIHRoaXMuZHlsZCA9IG5ldyBEeW5hbWljTG9hZGVyKGNvcmUpO1xuXG4gICAgICAgIHRoaXMucGVuZGluZyA9IFtdO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IG5ld2ZkID0gdGhpcy5uZXdmZCgpICsgMSwgIC8qIHRoZSArMSBpcyBhIGhhY2sgdGhhdCBJIGRvIG5vdCBmdWxseSB1bmRlcnN0YW5kICovXG4gICAgICAgICAgICAgIGZkY3dkOiBhbnkgPSB7ICAvKiB0eXBlIEZpbGUgaXMgbm90IGV4cG9ydGVkIGJ5IHdhc21lciA6KCAqL1xuICAgICAgICAgICAgICAgICAgcmVhbDogbmV3ZmQsXG4gICAgICAgICAgICAgICAgICByaWdodHM6IFJJR0hUU19BTEwsICAvLyB1aG1cbiAgICAgICAgICAgICAgICAgIGZpbGV0eXBlOiBjb25zdGFudHMuV0FTSV9GSUxFVFlQRV9ESVJFQ1RPUlksXG4gICAgICAgICAgICAgICAgICBwYXRoOiAnLicsXG4gICAgICAgICAgICAgICAgICBmYWtlUGF0aDogJy4nXG4gICAgICAgICAgICAgIH07XG4gICAgICAgIHRoaXMuY29yZS53YXNpLkZEX01BUC5zZXQoQVRfRkRDV0QsIGZkY3dkKTtcbiAgICAgICAgdGhpcy5jb3JlLndhc2kuRkRfTUFQLnNldChuZXdmZCwgZmRjd2QpOyAgLy8gbGFzdCBrZXkgaW5zZXJ0ZWQgbXVzdCBiZSB0aGUgbGFyZ2VzdFxuXG4gICAgICAgIHRoaXMuY29yZS53YXNtRnMuZnMud3JpdGVGaWxlU3luYygnL2Rldi9udWxsJywgJycpO1xuICAgIH1cblxuICAgIGdldCBpbXBvcnQoKSB7XG4gICAgICAgIHRoaXMuc2lndmVjLmRlYnVnID0gdGhpcy5kZWJ1ZztcblxuICAgICAgICBpZiAoIXRoaXMuZnVuY1RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmZ1bmNUYWJsZSA9IG5ldyBXZWJBc3NlbWJseS5UYWJsZSh7XG4gICAgICAgICAgICAgICAgaW5pdGlhbDogdGhpcy5vcHRzLmZ1bmNUYWJsZVN6IHx8IDEwMjQsIFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICdhbnlmdW5jJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3R1YnMsXG4gICAgICAgICAgICBfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlOiB0aGlzLmZ1bmNUYWJsZSwgXG4gICAgICAgICAgICAuLi5iaW5kQWxsKHRoaXMsIFtcbiAgICAgICAgICAgICAgICAnZ2V0ZXVpZCcsICdzdHJtb2RlJyxcbiAgICAgICAgICAgICAgICAnX19jb250cm9sX3NldGptcCcsICdfX2NvbnRyb2xfc2V0am1wX3dpdGhfcmV0dXJuJyxcbiAgICAgICAgICAgICAgICAnc2V0am1wJywgJ2xvbmdqbXAnLCAnc2lnc2V0am1wJywgJ3NpZ2xvbmdqbXAnLFxuICAgICAgICAgICAgICAgICd2Zm9yaycsICdfX2NvbnRyb2xfZm9yaycsICd3YWl0JywgJ3dhaXQzJywgJ2V4ZWN2ZScsXG4gICAgICAgICAgICAgICAgJ3NpZ2tpbGwnLCAnc2lnc3VzcGVuZCcsICdzaWdhY3Rpb24nLFxuICAgICAgICAgICAgICAgICdnZXRwYWdlc2l6ZScsICdwb3NpeF9zcGF3biddKSxcbiAgICAgICAgICAgIC4uLnRoaXMuZHlsZC5pbXBvcnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXQgZXh0bGliKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uYmluZEFsbCh0aGlzLCBbJ3RyYWNlJywgJ3NvcnJ5JywgJ2R1cGZkJyxcbiAgICAgICAgICAgICAgICAncHJvZ25hbWVfZ2V0JywgJ2xvZ2luX2dldCddKSxcbiAgICAgICAgICAgIC4uLnRoaXMuZHlsZC5leHRsaWJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHsuLi5wYXRoLFxuICAgICAgICAgICAgcmVzb2x2ZTogKGRpcjogc3RyaW5nLCAuLi5wYXRoczogc3RyaW5nW10pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZGlyID09ICcuJykgZGlyID0gdGhpcy5jb3JlLmVudi5QV0Q7IC8qIGZvciBBVF9GRENXRCAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoLnJlc29sdmUoZGlyIHx8ICcvJywgLi4ucGF0aHMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0IG1lbSgpOiBEYXRhVmlldyB7XG4gICAgICAgIHRoaXMuY29yZS53YXNpLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29yZS53YXNpLnZpZXc7XG4gICAgfVxuXG4gICAgZ2V0IG1lbWJ1ZigpOiBCdWZmZXIge1xuICAgICAgICByZXR1cm4gQnVmZmVyLmZyb20odGhpcy5jb3JlLndhc2kubWVtb3J5LmJ1ZmZlcik7ICAgICAgICBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGEgbmFzdHkgaGFjayBhbmQgc28gZGVzZXJ2ZXMgYW4gYXBvbG9neS5cbiAgICAgKi9cbiAgICBzb3JyeSgpIHtcbiAgICAgICAgZm9yICh2YXIgZjogKCkgPT4gdm9pZDsgZiA9IHRoaXMucGVuZGluZy5wb3AoKTsgZigpKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gRW52aXJvbm1lbnQgUGFydFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICAgIGdldGVudl9hbGwoKSB7XG4gICAgICAgIHZhciB3YXNpa19lbnZpcm9uID0gdGhpcy5jb3JlLndhc20uaW5zdGFuY2UuZXhwb3J0cy53YXNpa19lbnZpcm9uO1xuICAgICAgICByZXR1cm4gKHR5cGVvZiB3YXNpa19lbnZpcm9uID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgPyB0aGlzLnBhcnNlX2Vudih3YXNpa19lbnZpcm9uKCkpIDoge307XG4gICAgfVxuXG4gICAgcGFyc2VfZW52KGVudmlyb246IGkzMik6IHtbbmFtZTogc3RyaW5nXTogc3RyaW5nfSB7XG4gICAgICAgIHZhciBkID0ge307XG4gICAgICAgIGZvciAobGV0IGVudnZhciBvZiB0aGlzLnVzZXJHZXRDU3RyaW5ncyhlbnZpcm9uKSkge1xuICAgICAgICAgICAgdGhpcy5fcGFyc2VfZW52dmFyKGVudnZhciwgZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgfVxuXG4gICAgX3BhcnNlX2VudnZhcihidWY6IFVpbnQ4QXJyYXksIGQ6IG9iamVjdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHRleHQgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoYnVmKSxcbiAgICAgICAgICAgICAgICBtbyA9IHRleHQubWF0Y2goL14oLio/KT0oLiopJC8pO1xuICAgICAgICAgICAgaWYgKG1vKSBkW21vWzFdXSA9IG1vWzJdO1xuICAgICAgICAgICAgZWxzZSBjb25zb2xlLndhcm4oYGludmFsaWQgZW52dmFyPyAnJHt0ZXh0fSdgKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyBjb25zb2xlLndhcm4oJ3BhcnNlX2VudicsIGUpOyB9XG4gICAgfVxuXG4gICAgcHJvZ25hbWVfZ2V0KHBidWY6IGkzMikge1xuICAgICAgICB2YXIgcmV0ID0gdGhpcy5jb3JlLmFyZ3ZbMF0gKyAnXFwwJztcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlckNTdHJpbmdNYWxsb2MocmV0LCBwYnVmKTtcbiAgICB9XG5cbiAgICBsb2dpbl9nZXQocGJ1ZjogaTMyKSB7XG4gICAgICAgIHZhciByZXQgPSAndXNlcicgKyAnXFwwJztcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlckNTdHJpbmdNYWxsb2MocmV0LCBwYnVmKTtcbiAgICB9XG5cbiAgICBnZXRldWlkKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICB0cmFjZShtZXNzYWdlOiBpMzIpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMudXNlckdldENTdHJpbmcobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS51c2VyKGJ1Zik7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLVxuICAgIC8vIEZpbGVzIFBhcnRcbiAgICAvLyAtLS0tLS0tLS0tXG5cbiAgICByZWFscGF0aChmaWxlX25hbWU6IGkzMiwgcmVzb2x2ZWRfbmFtZTogaTMyKSB7XG4gICAgICAgIHZhciBhcmcgPSB0aGlzLnVzZXJHZXRDU3RyaW5nKGZpbGVfbmFtZSk7XG4gICAgICAgIC8qIEB0b2RvIGFsbG9jYXRlIHJlc29sdmVkX25hbWUgaWYgbnVsbCAqL1xuICAgICAgICBpZiAocmVzb2x2ZWRfbmFtZSA9PT0gMCkgdGhyb3cgJ3JlYWxwYXRoKDApOiBub3QgaW1wbGVtZW50ZWQnO1xuICAgICAgICBsZXQgcmV0ID0gcGF0aC5yZXNvbHZlKHRoaXMuY29yZS5lbnYuUFdELCB1dGY4ZGVjb2RlKGFyZykpICsgJ1xcMCc7XG4gICAgICAgIGlmIChyZXQubGVuZ3RoID4gUEFUSF9NQVgpIHRocm93IHtlcnJubzogMSwgY29kZTogJ0VSQU5HRSd9O1xuICAgICAgICB0aGlzLm1lbWJ1Zi53cml0ZShyZXQsIHJlc29sdmVkX25hbWUpO1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWRfbmFtZTtcbiAgICB9XG5cbiAgICBuZXdmZChtaW5mZDogbnVtYmVyID0gMCkge1xuICAgICAgICB2YXIgaGlnaGVzdCA9IE1hdGgubWF4KC4uLnRoaXMuY29yZS53YXNpLkZEX01BUC5rZXlzKCkpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgobWluZmQsIGhpZ2hlc3QgKyAxKTtcbiAgICB9XG5cbiAgICBkdXBmZChmZDogaTMyLCBtaW5mZDogaTMyLCBjbG9leGVjOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS5zeXNjYWxscyhgZHVwZmQoJHtmZH0sICR7bWluZmR9LCAke2Nsb2V4ZWN9YCk7XG4gICAgICAgIHZhciBkZXNjID0gdGhpcy5jb3JlLndhc2kuRkRfTUFQLmdldChmZCk7XG4gICAgICAgIGlmICghZGVzYykgcmV0dXJuIC0xO1xuXG4gICAgICAgIHZhciBuZXdmZCA9IHRoaXMubmV3ZmQobWluZmQpO1xuICAgICAgICB0aGlzLmNvcmUud2FzaS5GRF9NQVAuc2V0KG5ld2ZkLCB0aGlzLmR1cGRlc2MoZGVzYykpO1xuICAgICAgICByZXR1cm4gbmV3ZmQ7XG4gICAgfVxuXG4gICAgZHVwZGVzYyhkZXNjOiB7cmVhbDogbnVtYmVyfSk6IGFueSAvKiBGaWxlIGlzIG5vdCBleHBvcnRlZCBmcm9tIEB3YXNtZXIvd2FzaSAqLyB7XG4gICAgICAgIC8vIEEgaGFjayB0byBnZXQgYSBuZXcgXCJyZWFsXCIgZmRcbiAgICAgICAgdmFyIG5ld3JlYWwgPSB0aGlzLmNvcmUud2FzbUZzLnZvbHVtZS5vcGVuU3luYygnLycsICdyJyk7XG4gICAgICAgIC8vIC0gdGhpcyBoZWF2aWx5IHJlbGllcyBvbiB0aGUgbWVtZnMgaW1wbGVtZW50YXRpb24gb2YgVm9sdW1lXG4gICAgICAgIHZhciByZWFsRkRfTUFQID0gdGhpcy5jb3JlLndhc21Gcy52b2x1bWUuZmRzO1xuICAgICAgICByZWFsRkRfTUFQW25ld3JlYWxdID0gcmVhbEZEX01BUFtkZXNjLnJlYWxdO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGVzYywge3JlYWw6IG5ld3JlYWx9KTtcbiAgICB9XG5cbiAgICBzdHJtb2RlKG1vZGU6IGkzMiwgYnVmOiBpMzIpIHtcbiAgICAgICAgbGV0IHJldCA9IGZzLnN0cm1vZGUobW9kZSkgKyAnXFwwJztcbiAgICAgICAgdGhpcy5tZW1idWYud3JpdGUocmV0LCBidWYpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLVxuICAgIC8vIENvbnRyb2wgUGFydFxuICAgIC8vIC0tLS0tLS0tLS0tLVxuXG4gICAgX19jb250cm9sX3NldGptcChlbnY6IGkzMiwgYmxvY2s6IGkzMikge1xuICAgICAgICB0aGlzLmRlYnVnKGBfX2NvbnRyb2xfc2V0am1wIFske2Vudn0sICR7YmxvY2t9XWApO1xuICAgICAgICB0aGlzLm1lbS5zZXRVaW50MzIoZW52LCAwKTsgIC8vIHNldCBqbXBidWZbMF0ucmV0ID0gMFxuICAgICAgICBsZXQgaW1wbCA9IHRoaXMuYmxvY2tJbXBsKGJsb2NrKSwgdmFsID0gMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltcGwodmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWJ1Zyhgc2V0am1wIGNhdWdodCAke0pTT04uc3RyaW5naWZ5KGUpfWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIExvbmdqbXAgJiYgZS5lbnYgPT0gZW52KVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gZS52YWw7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZyhgX19jb250cm9sX3NldGptcCBleGl0aW5nYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfX2NvbnRyb2xfc2V0am1wX3dpdGhfcmV0dXJuKGVudjogaTMyLCBibG9jazogaTMyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9fY29udHJvbF9zZXRqbXAoZW52LCBibG9jayk7XG4gICAgfVxuXG4gICAgc2V0am1wKGVudjogaTMyKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybignc2V0am1wJywgZW52KTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgbG9uZ2ptcChlbnY6IGkzMiwgdmFsOiBpMzIpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgbG9uZ2ptcCBbJHtlbnZ9XSAke3ZhbH1gKTtcbiAgICAgICAgdGhyb3cgbmV3IExvbmdqbXAoZW52LCB2YWwpO1xuICAgIH1cblxuICAgIHNpZ3NldGptcChlbnY6IGkzMiwgc2F2ZV9tYXNrOiBpMzIpIHtcbiAgICAgICAgdGhpcy5jb3JlLnRyYWNlLnN5c2NhbGxzKGBzaWdzZXRqbXAoJHtlbnZ9LCAke3NhdmVfbWFza30pYCk7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHNpZ2xvbmdqbXAoZW52OiBpMzIsIHZhbDogaTMyKSB7XG4gICAgICAgIHRoaXMubG9uZ2ptcChlbnYsIHZhbCk7XG4gICAgfVxuXG4gICAgdmZvcmsoKSB7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS5zeXNjYWxscygndmZvcmsoKScpO1xuICAgICAgICB2YXIgcGlkID0gTWF0aC5tYXgoMCwgLi4udGhpcy5jaGlsZHNldCkgKyAxO1xuICAgICAgICB0aGlzLmNoaWxkc2V0LmFkZChwaWQpO1xuICAgICAgICB0aGlzLm9uSm9pbiA9IChvbnNldDogRXhlY3ZDYWxsIHwgRXJyb3IpID0+IHtcbiAgICAgICAgICAgIGlmIChvbnNldCBpbnN0YW5jZW9mIEV4ZWN2Q2FsbCkge1xuICAgICAgICAgICAgICAgIGxldCBlID0gb25zZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdzeXNjYWxsJywge1xuICAgICAgICAgICAgICAgICAgICBmdW5jOiAnc3Bhd24nLCBcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge3BpZCwgZXhlY3Y6IGUuY29weSgpLCBlbnY6IHRoaXMuZ2V0ZW52X2FsbCgpfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB0aHJvdyBvbnNldDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHBpZDtcbiAgICB9XG5cbiAgICBfX2NvbnRyb2xfZm9yayh2MTogaTMyLCB2MjogaTMyLCBibG9jazogaTMyKSB7XG4gICAgICAgIGxldCBpbXBsID0gdGhpcy5ibG9ja0ltcGwoYmxvY2spO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW1wbCh2MSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkpvaW4pIHRoaXMub25Kb2luKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vbkpvaW4pIHRoaXMub25Kb2luKGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25Kb2luID0gbnVsbDtcbiAgICAgICAgaW1wbCh2Mik7XG4gICAgfVxuXG4gICAgZXhlY3ZlKHBhdGg6IGkzMiwgYXJndjogaTMyLCBlbnZwOiBpMzIpIHtcbiAgICAgICAgdGhpcy5jb3JlLnRyYWNlLnN5c2NhbGxzKGBleGVjdigke3BhdGh9LCAke2FyZ3Z9LCAke2VudnB9KWApO1xuICAgICAgICB0aHJvdyBuZXcgRXhlY3ZDYWxsKFxuICAgICAgICAgICAgdXRmOGRlY29kZSh0aGlzLnVzZXJHZXRDU3RyaW5nKHBhdGgpKSxcbiAgICAgICAgICAgIHRoaXMudXNlckdldENTdHJpbmdzKGFyZ3YpLFxuICAgICAgICAgICAgdGhpcy51c2VyR2V0Q1N0cmluZ3MoZW52cCkpO1xuICAgIH1cblxuICAgIHBvc2l4X3NwYXduKHBpZDogaTMyLCBwYXRoOiBpMzIsIGZpbGVfYWN0aW9uczogaTMyLCBhdHRycDogaTMyLFxuICAgICAgICAgICAgICAgIGFyZ3Y6IGkzMiwgZW52cDogaTMyKSB7XG4gICAgICAgIHZhciBwYXRoU3RyID0gdXRmOGRlY29kZSh0aGlzLnVzZXJHZXRDU3RyaW5nKHBhdGgpKTtcbiAgICAgICAgdGhpcy5jb3JlLnRyYWNlLnN5c2NhbGxzKGBwb3NpeF9zcGF3bigke3BpZH0sIFwiJHtwYXRoU3RyfVwiLCAke2ZpbGVfYWN0aW9uc30sICR7YXR0cnB9LCAuLi59KWApO1xuICAgICAgICB2YXIgZXhlY3YgPSBuZXcgRXhlY3ZDYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFN0cixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckdldENTdHJpbmdzKGFyZ3YpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyR2V0Q1N0cmluZ3MoZW52cCkpLFxuICAgICAgICAgICAgbmV3UGlkID0gTWF0aC5tYXgoMCwgLi4udGhpcy5jaGlsZHNldCkgKyAxO1xuXG4gICAgICAgIHRoaXMuZW1pdCgnc3lzY2FsbCcsIHtcbiAgICAgICAgICAgIGZ1bmM6ICdzcGF3bicsIFxuICAgICAgICAgICAgZGF0YToge3BpZDogbmV3UGlkLCBleGVjdiwgZW52OiB0aGlzLmNvcmUuZW52fVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tZW0uc2V0VWludDMyKHBpZCwgbmV3UGlkLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgd2FpdChzdGF0X2xvYzogaTMyKSB7XG4gICAgICAgIHRoaXMuY29yZS50cmFjZS5zeXNjYWxscyhgd2FpdCgke3N0YXRfbG9jfSlgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud2FpdEJhc2Uoc3RhdF9sb2MpO1xuICAgIH1cblxuICAgIHdhaXQzKHN0YXRfbG9jOiBpMzIsIG9wdGlvbnM6IGkzMiwgcnVzYWdlOiBpMzIpIHtcbiAgICAgICAgdGhpcy5jb3JlLnRyYWNlLnN5c2NhbGxzKGB3YWl0Mygke3N0YXRfbG9jfSwgJHtvcHRpb25zfSwgJHtydXNhZ2V9KWApO1xuICAgICAgICByZXR1cm4gdGhpcy53YWl0QmFzZShzdGF0X2xvYyk7XG4gICAgfVxuICAgIFxuICAgIHdhaXRCYXNlKHN0YXRfbG9jOiBpMzIpIHtcbiAgICAgICAgdmFyIHBpZCA9IHRoaXMuY2hpbGRxLmRlcXVldWUoKSxcbiAgICAgICAgICAgIGV4aXRjb2RlID0gdGhpcy5jaGlsZHEuZGVxdWV1ZSgpO1xuICAgICAgICB0aGlzLmRlYnVnKGAgIC0+ICR7cGlkfWApO1xuICAgICAgICBpZiAoc3RhdF9sb2MgIT09IDApXG4gICAgICAgICAgICB0aGlzLm1lbS5zZXRVaW50MzIoc3RhdF9sb2MsIGV4aXRjb2RlIDw8IDgsIHRydWUpO1xuICAgICAgICByZXR1cm4gcGlkO1xuICAgIH1cblxuICAgIC8vIC0gc29tZSBoZWxwZXJzXG5cbiAgICB1c2VyR2V0Q1N0cmluZyhhZGRyOiBpMzIpOiBCdWZmZXIge1xuICAgICAgICBpZiAoYWRkciA9PSAwKSByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IG1lbSA9IEJ1ZmZlci5mcm9tKHRoaXMuY29yZS53YXNpLm1lbW9yeS5idWZmZXIpO1xuICAgICAgICByZXR1cm4gbWVtLnNsaWNlKGFkZHIsIG1lbS5pbmRleE9mKDAsIGFkZHIpKTtcbiAgICB9XG5cbiAgICB1c2VyR2V0Q1N0cmluZ3MoYWRkcjogaTMyKSB7XG4gICAgICAgIGlmIChhZGRyID09IDApIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgbCA9IFtdO1xuICAgICAgICB3aGlsZSgxKSB7XG4gICAgICAgICAgICBsZXQgcyA9IHRoaXMubWVtLmdldFVpbnQzMihhZGRyLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChzID09PSAwKSBicmVhaztcbiAgICAgICAgICAgIGwucHVzaCh0aGlzLnVzZXJHZXRDU3RyaW5nKHMpKTtcbiAgICAgICAgICAgIGFkZHIgKz0gNDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbDtcbiAgICB9XG5cbiAgICB1c2VyQ1N0cmluZ01hbGxvYyhzOiBzdHJpbmcsIHBidWY6IGkzMikge1xuICAgICAgICB0aGlzLnBlbmRpbmcucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgYnVmID0gdGhpcy5tZW0uZ2V0VWludDMyKHBidWYsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5tZW1idWYud3JpdGUocywgYnVmKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGludm9rZSBibG9ja3M6IHJldHVybnMgYSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSBibG9jayBhIEMgYmxvY2sgcG9pbnRlclxuICAgICAqL1xuICAgIGJsb2NrSW1wbChibG9jazogaTMyKSB7XG4gICAgICAgIGxldCBpbXBsID0gdGhpcy5mdW5jVGFibGUuZ2V0KFxuICAgICAgICAgICAgdGhpcy5tZW0uZ2V0VWludDMyKGJsb2NrICsgMTIsIHRydWUpKTtcbiAgICAgICAgcmV0dXJuICguLi5hcmdzOiBhbnkpID0+IGltcGwoYmxvY2ssIC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLVxuICAgIC8vIFNpZ25hbHMgUGFydFxuICAgIC8vIC0tLS0tLS0tLS0tLVxuXG4gICAgc2lna2lsbChzaWdudW06IG51bWJlcikge1xuICAgICAgICB0aGlzLnNpZ3ZlYy5zZW5kKHNpZ251bSk7XG4gICAgfVxuXG4gICAgc2lnc3VzcGVuZCgvKiAuLi4gKi8pIHtcbiAgICAgICAgdGhpcy5zaWd2ZWMucmVjZWl2ZSgpO1xuICAgIH1cblxuICAgIHNpZ2FjdGlvbihzaWdudW06IGkzMiwgYWN0OiBpMzIsIG9hY3Q6IGkzMikge1xuICAgICAgICB0aGlzLmNvcmUudHJhY2Uuc3lzY2FsbHMoYHNpZ2FjdGlvbigke3NpZ251bX0sICR7YWN0fSwgJHtvYWN0fSlgKTtcbiAgICAgICAgaWYgKGFjdCAhPSAwKSB7XG4gICAgICAgICAgICB2YXIgc2FfaGFuZGxlciA9IHRoaXMubWVtLmdldFVpbnQzMihhY3QsIHRydWUpO1xuICAgICAgICAgICAgdmFyIGggPSA8c2lnaGFuZGxlcj50aGlzLmZ1bmNUYWJsZS5nZXQoc2FfaGFuZGxlcik7XG4gICAgICAgICAgICB0aGlzLmNvcmUudHJhY2Uuc3lzY2FsbHMoJyAtLT4nLCBzYV9oYW5kbGVyLCBoKTtcbiAgICAgICAgICAgIHRoaXMuc2lndmVjLmhhbmRsZXJzW3NpZ251bV0gPSBoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYWN0ICE9IDApIHtcbiAgICAgICAgICAgIHRoaXMubWVtLnNldFVpbnQzMihvYWN0LCAwKTsgLyoqIEB0b2RvIGdldCBwcmV2aW91cyBzYV9oYW5kbGVyICovXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLVxuICAgIC8vIE1lbW9yeSBQYXJ0XG4gICAgLy8gLS0tLS0tLS0tLS1cblxuICAgIGdldHBhZ2VzaXplKCkge1xuICAgICAgICByZXR1cm4gNDA5NjtcbiAgICB9XG5cbn1cblxuY29uc3QgQVRfRkRDV0QgPSAtMTAwO1xuXG5jb25zdCBSSUdIVFNfQUxMID0ge1xuICAgIGJhc2U6IGNvbnN0YW50cy5SSUdIVFNfQUxMLFxuICAgIGluaGVyaXRpbmc6IGNvbnN0YW50cy5SSUdIVFNfQUxMXG59O1xuXG50eXBlIFByb2NPcHRpb25zID0ge1xuICAgIGZ1bmNUYWJsZVN6PyA6IG51bWJlclxufTtcblxuXG5jbGFzcyBTaWduYWxWZWN0b3IgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXG4gICAgd2FpdDogSW50MzJBcnJheTtcbiAgICBfc25hcHNob3Q/OiBJbnQzMkFycmF5O1xuICAgIGhhbmRsZXJzOiBzaWdoYW5kbGVyW107XG5cbiAgICBkZWJ1ZzogKC4uLmFyZ3M6IGFueSkgPT4gdm9pZFxuXG4gICAgY29uc3RydWN0b3IoX2Zyb206IFNpZ25hbFZlY3RvclByb3BzPXt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMud2FpdCA9IF9mcm9tLndhaXQgfHwgbmV3IEludDMyQXJyYXkobmV3IE1heWJlU2hhcmVkQXJyYXlCdWZmZXIoNCAqIE5TSUcpKTtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IEFycmF5KE5TSUcpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tKHByb3BzOiBTaWduYWxWZWN0b3JQcm9wcykgeyByZXR1cm4gbmV3IFNpZ25hbFZlY3Rvcihwcm9wcyk7IH1cblxuICAgIHRvKCk6IFNpZ25hbFZlY3RvclByb3BzIHtcbiAgICAgICAgcmV0dXJuIHt3YWl0OiB0aGlzLndhaXR9O1xuICAgIH1cblxuICAgIHNlbmQoc2lnbnVtOiBudW1iZXIpIHtcbiAgICAgICAgYXNzZXJ0KDAgPCBzaWdudW0gJiYgc2lnbnVtIDwgTlNJRyk7XG4gICAgICAgIEF0b21pY3MuYWRkKHRoaXMud2FpdCwgMCwgMSk7XG4gICAgICAgIEF0b21pY3MuYWRkKHRoaXMud2FpdCwgc2lnbnVtLCAxKTtcbiAgICAgICAgQXRvbWljcy5ub3RpZnkodGhpcy53YWl0LCAwLCAxKTtcbiAgICB9XG5cbiAgICByZWNlaXZlKHNpZ251bXM/OiBudW1iZXJbXSkge1xuICAgICAgICBpZiAoIXRoaXMuX3NuYXBzaG90KSB0aGlzLl9zbmFwc2hvdCA9IG5ldyBJbnQzMkFycmF5KE5TSUcpO1xuXG4gICAgICAgIEF0b21pY3Mud2FpdCh0aGlzLndhaXQsIDAsIEF0b21pY3MubG9hZCh0aGlzLndhaXQsIDApKTtcblxuICAgICAgICB0aGlzLnN3ZWVwKHNpZ251bXMpO1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgc3dlZXAoc2lnbnVtcz86IG51bWJlcltdKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgTlNJRzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXNpZ251bXMgfHwgc2lnbnVtcy5pbmNsdWRlcyhpKSkge1xuICAgICAgICAgICAgICAgIGxldCBoID0gdGhpcy5oYW5kbGVyc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaCAmJiB0aGlzLl9zbmFwc2hvdFtpXSA8IHRoaXMud2FpdFtpXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlYnVnKCdjYWxsaW5nJywgaCk7XG4gICAgICAgICAgICAgICAgICAgIGgoaSk7XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICB0aGlzLl9zbmFwc2hvdFtpXSA9IHRoaXMud2FpdFtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5jb25zdCBQQVRIX01BWCA9IDI1NjtcblxudHlwZSBTaWduYWxWZWN0b3JQcm9wcyA9IHtcbiAgICB3YWl0PzogSW50MzJBcnJheVxufTtcblxudHlwZSBpMzIgPSBudW1iZXI7XG50eXBlIHNpZ2hhbmRsZXIgPSAoc2lnbnVtOiBudW1iZXIpID0+IHZvaWQ7XG5cbmNvbnN0IE5TSUcgPSAyMDtcblxuXG50eXBlIENoaWxkUHJvY2Vzc1F1ZXVlID0gU2hhcmVkUXVldWU8VWludDMyQXJyYXk+O1xuXG5cbmNsYXNzIEV4ZWN2Q2FsbCB7XG4gICAgcHJvZzogc3RyaW5nXG4gICAgYXJndjogQnVmZmVyW11cbiAgICBlbnZwOiBCdWZmZXJbXVxuICAgIGNvbnN0cnVjdG9yKHByb2c6IHN0cmluZywgYXJndjogQnVmZmVyW10sIGVudnA6IEJ1ZmZlcltdKSB7XG4gICAgICAgIHRoaXMucHJvZyA9IHByb2c7XG4gICAgICAgIHRoaXMuYXJndiA9IGFyZ3Y7XG4gICAgICAgIHRoaXMuZW52cCA9IGVudnA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogKGludGVybmFsKSBUaGlzIGlzIG5lZWRlZCBpbiBvcmRlciB0byB0cmFuc2ZlciB0aGUgYEV4ZWN2Q2FsbGBcbiAgICAgKiB2aWEgYHBvc3RNZXNzYWdlYC5cbiAgICAgKi9cbiAgICBjb3B5KCkge1xuICAgICAgICB2YXIgY3BhID0gKGJzOiBCdWZmZXJbXSkgPT4gYnMubWFwKGIgPT4gQnVmZmVyLmZyb20oYikpO1xuICAgICAgICByZXR1cm4gbmV3IEV4ZWN2Q2FsbCh0aGlzLnByb2csXG4gICAgICAgICAgICBjcGEodGhpcy5hcmd2KSwgY3BhKHRoaXMuZW52cCkpO1xuICAgIH1cbn1cblxuY2xhc3MgTG9uZ2ptcCB7XG4gICAgZW52OiBpMzJcbiAgICB2YWw6IGkzMlxuICAgIGNvbnN0cnVjdG9yKGVudjogaTMyLCB2YWw6IGkzMikge1xuICAgICAgICB0aGlzLmVudiA9IGVudjtcbiAgICAgICAgdGhpcy52YWwgPSB2YWw7XG4gICAgfVxufVxuXG5jb25zdCBNYXliZVNoYXJlZEFycmF5QnVmZmVyID0gdHlwZW9mIFNoYXJlZEFycmF5QnVmZmVyICE9ICd1bmRlZmluZWQnXG4gICAgPyBTaGFyZWRBcnJheUJ1ZmZlciA6IEFycmF5QnVmZmVyO1xuXG5mdW5jdGlvbiBiaW5kQWxsKGluc3RhbmNlOiBhbnksIG1ldGhvZHM6IHN0cmluZ1tdKSB7XG4gICAgcmV0dXJuIG1ldGhvZHMucmVkdWNlKChkLCBtKSA9PlxuICAgICAgICBPYmplY3QuYXNzaWduKGQsIHtbbV06IGluc3RhbmNlW21dLmJpbmQoaW5zdGFuY2UpfSksIHt9KTtcbn1cblxuXG5cbmV4cG9ydCB7IFByb2MsIFByb2NPcHRpb25zLCBTaWduYWxWZWN0b3IsIENoaWxkUHJvY2Vzc1F1ZXVlIH1cbiIsICJkZWNsYXJlIHZhciB3aW5kb3c6IGFueTtcblxuY29uc3QgaXNOb2RlID0gZ2xvYmFsLnByb2Nlc3MgJiYgZ2xvYmFsLnByb2Nlc3MudmVyc2lvbnMgJiYgZ2xvYmFsLnByb2Nlc3MudmVyc2lvbnMubm9kZTtcblxuY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIERlZGljYXRlZFdvcmtlckdsb2JhbFNjb3BlID09PSAnZnVuY3Rpb24nO1xuXG5cbmV4cG9ydCB7IGlzTm9kZSwgaXNCcm93c2VyIH0iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNvbnN0YW50cyA9IHtcbiAgICBPX1JET05MWTogMCxcbiAgICBPX1dST05MWTogMSxcbiAgICBPX1JEV1I6IDIsXG4gICAgU19JRk1UOiA2MTQ0MCxcbiAgICBTX0lGUkVHOiAzMjc2OCxcbiAgICBTX0lGRElSOiAxNjM4NCxcbiAgICBTX0lGQ0hSOiA4MTkyLFxuICAgIFNfSUZCTEs6IDI0NTc2LFxuICAgIFNfSUZJRk86IDQwOTYsXG4gICAgU19JRkxOSzogNDA5NjAsXG4gICAgU19JRlNPQ0s6IDQ5MTUyLFxuICAgIE9fQ1JFQVQ6IDY0LFxuICAgIE9fRVhDTDogMTI4LFxuICAgIE9fTk9DVFRZOiAyNTYsXG4gICAgT19UUlVOQzogNTEyLFxuICAgIE9fQVBQRU5EOiAxMDI0LFxuICAgIE9fRElSRUNUT1JZOiA2NTUzNixcbiAgICBPX05PQVRJTUU6IDI2MjE0NCxcbiAgICBPX05PRk9MTE9XOiAxMzEwNzIsXG4gICAgT19TWU5DOiAxMDUyNjcyLFxuICAgIE9fRElSRUNUOiAxNjM4NCxcbiAgICBPX05PTkJMT0NLOiAyMDQ4LFxuICAgIFNfSVJXWFU6IDQ0OCxcbiAgICBTX0lSVVNSOiAyNTYsXG4gICAgU19JV1VTUjogMTI4LFxuICAgIFNfSVhVU1I6IDY0LFxuICAgIFNfSVJXWEc6IDU2LFxuICAgIFNfSVJHUlA6IDMyLFxuICAgIFNfSVdHUlA6IDE2LFxuICAgIFNfSVhHUlA6IDgsXG4gICAgU19JUldYTzogNyxcbiAgICBTX0lST1RIOiA0LFxuICAgIFNfSVdPVEg6IDIsXG4gICAgU19JWE9USDogMSxcbiAgICBGX09LOiAwLFxuICAgIFJfT0s6IDQsXG4gICAgV19PSzogMixcbiAgICBYX09LOiAxLFxuICAgIFVWX0ZTX1NZTUxJTktfRElSOiAxLFxuICAgIFVWX0ZTX1NZTUxJTktfSlVOQ1RJT046IDIsXG4gICAgVVZfRlNfQ09QWUZJTEVfRVhDTDogMSxcbiAgICBVVl9GU19DT1BZRklMRV9GSUNMT05FOiAyLFxuICAgIFVWX0ZTX0NPUFlGSUxFX0ZJQ0xPTkVfRk9SQ0U6IDQsXG4gICAgQ09QWUZJTEVfRVhDTDogMSxcbiAgICBDT1BZRklMRV9GSUNMT05FOiAyLFxuICAgIENPUFlGSUxFX0ZJQ0xPTkVfRk9SQ0U6IDQsXG59O1xuIiwgImlmICh0eXBlb2YgQmlnSW50ID09PSAnZnVuY3Rpb24nKSBleHBvcnRzLmRlZmF1bHQgPSBCaWdJbnQ7XG5lbHNlXG4gIGV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIEJpZ0ludE5vdFN1cHBvcnRlZCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0JpZ0ludCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQuJyk7XG4gIH07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgZ2V0QmlnSW50XzEgPSByZXF1aXJlKFwiLi9nZXRCaWdJbnRcIik7XG52YXIgU19JRk1UID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZNVCwgU19JRkRJUiA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGRElSLCBTX0lGUkVHID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZSRUcsIFNfSUZCTEsgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRkJMSywgU19JRkNIUiA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGQ0hSLCBTX0lGTE5LID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZMTkssIFNfSUZJRk8gPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRklGTywgU19JRlNPQ0sgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRlNPQ0s7XG4vKipcbiAqIFN0YXRpc3RpY3MgYWJvdXQgYSBmaWxlL2RpcmVjdG9yeSwgbGlrZSBgZnMuU3RhdHNgLlxuICovXG52YXIgU3RhdHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdHMoKSB7XG4gICAgfVxuICAgIFN0YXRzLmJ1aWxkID0gZnVuY3Rpb24gKG5vZGUsIGJpZ2ludCkge1xuICAgICAgICBpZiAoYmlnaW50ID09PSB2b2lkIDApIHsgYmlnaW50ID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIHN0YXRzID0gbmV3IFN0YXRzKCk7XG4gICAgICAgIHZhciB1aWQgPSBub2RlLnVpZCwgZ2lkID0gbm9kZS5naWQsIGF0aW1lID0gbm9kZS5hdGltZSwgbXRpbWUgPSBub2RlLm10aW1lLCBjdGltZSA9IG5vZGUuY3RpbWU7XG4gICAgICAgIHZhciBnZXRTdGF0TnVtYmVyID0gIWJpZ2ludCA/IGZ1bmN0aW9uIChudW1iZXIpIHsgcmV0dXJuIG51bWJlcjsgfSA6IGdldEJpZ0ludF8xLmRlZmF1bHQ7XG4gICAgICAgIC8vIENvcHkgYWxsIHZhbHVlcyBvbiBTdGF0cyBmcm9tIE5vZGUsIHNvIHRoYXQgaWYgTm9kZSB2YWx1ZXNcbiAgICAgICAgLy8gY2hhbmdlLCB2YWx1ZXMgb24gU3RhdHMgd291bGQgc3RpbGwgYmUgdGhlIG9sZCBvbmVzLFxuICAgICAgICAvLyBqdXN0IGxpa2UgaW4gTm9kZSBmcy5cbiAgICAgICAgc3RhdHMudWlkID0gZ2V0U3RhdE51bWJlcih1aWQpO1xuICAgICAgICBzdGF0cy5naWQgPSBnZXRTdGF0TnVtYmVyKGdpZCk7XG4gICAgICAgIHN0YXRzLnJkZXYgPSBnZXRTdGF0TnVtYmVyKDApO1xuICAgICAgICBzdGF0cy5ibGtzaXplID0gZ2V0U3RhdE51bWJlcig0MDk2KTtcbiAgICAgICAgc3RhdHMuaW5vID0gZ2V0U3RhdE51bWJlcihub2RlLmlubyk7XG4gICAgICAgIHN0YXRzLnNpemUgPSBnZXRTdGF0TnVtYmVyKG5vZGUuZ2V0U2l6ZSgpKTtcbiAgICAgICAgc3RhdHMuYmxvY2tzID0gZ2V0U3RhdE51bWJlcigxKTtcbiAgICAgICAgc3RhdHMuYXRpbWUgPSBhdGltZTtcbiAgICAgICAgc3RhdHMubXRpbWUgPSBtdGltZTtcbiAgICAgICAgc3RhdHMuY3RpbWUgPSBjdGltZTtcbiAgICAgICAgc3RhdHMuYmlydGh0aW1lID0gY3RpbWU7XG4gICAgICAgIHN0YXRzLmF0aW1lTXMgPSBnZXRTdGF0TnVtYmVyKGF0aW1lLmdldFRpbWUoKSk7XG4gICAgICAgIHN0YXRzLm10aW1lTXMgPSBnZXRTdGF0TnVtYmVyKG10aW1lLmdldFRpbWUoKSk7XG4gICAgICAgIHZhciBjdGltZU1zID0gZ2V0U3RhdE51bWJlcihjdGltZS5nZXRUaW1lKCkpO1xuICAgICAgICBzdGF0cy5jdGltZU1zID0gY3RpbWVNcztcbiAgICAgICAgc3RhdHMuYmlydGh0aW1lTXMgPSBjdGltZU1zO1xuICAgICAgICBzdGF0cy5kZXYgPSBnZXRTdGF0TnVtYmVyKDApO1xuICAgICAgICBzdGF0cy5tb2RlID0gZ2V0U3RhdE51bWJlcihub2RlLm1vZGUpO1xuICAgICAgICBzdGF0cy5ubGluayA9IGdldFN0YXROdW1iZXIobm9kZS5ubGluayk7XG4gICAgICAgIHJldHVybiBzdGF0cztcbiAgICB9O1xuICAgIFN0YXRzLnByb3RvdHlwZS5fY2hlY2tNb2RlUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuIChOdW1iZXIodGhpcy5tb2RlKSAmIFNfSUZNVCkgPT09IHByb3BlcnR5O1xuICAgIH07XG4gICAgU3RhdHMucHJvdG90eXBlLmlzRGlyZWN0b3J5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRkRJUik7XG4gICAgfTtcbiAgICBTdGF0cy5wcm90b3R5cGUuaXNGaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRlJFRyk7XG4gICAgfTtcbiAgICBTdGF0cy5wcm90b3R5cGUuaXNCbG9ja0RldmljZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrTW9kZVByb3BlcnR5KFNfSUZCTEspO1xuICAgIH07XG4gICAgU3RhdHMucHJvdG90eXBlLmlzQ2hhcmFjdGVyRGV2aWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRkNIUik7XG4gICAgfTtcbiAgICBTdGF0cy5wcm90b3R5cGUuaXNTeW1ib2xpY0xpbmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja01vZGVQcm9wZXJ0eShTX0lGTE5LKTtcbiAgICB9O1xuICAgIFN0YXRzLnByb3RvdHlwZS5pc0ZJRk8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja01vZGVQcm9wZXJ0eShTX0lGSUZPKTtcbiAgICB9O1xuICAgIFN0YXRzLnByb3RvdHlwZS5pc1NvY2tldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrTW9kZVByb3BlcnR5KFNfSUZTT0NLKTtcbiAgICB9O1xuICAgIHJldHVybiBTdGF0cztcbn0oKSk7XG5leHBvcnRzLlN0YXRzID0gU3RhdHM7XG5leHBvcnRzLmRlZmF1bHQgPSBTdGF0cztcbiIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3NwcmVhZEFycmF5cyA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheXMpIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgICAgcltrXSA9IGFbal07XG4gICAgcmV0dXJuIHI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJ1ZmZlcl8xID0gcmVxdWlyZShcImJ1ZmZlclwiKTtcbmV4cG9ydHMuQnVmZmVyID0gYnVmZmVyXzEuQnVmZmVyO1xuZnVuY3Rpb24gYnVmZmVyVjBQMTJQb255ZmlsbChhcmcwKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChidWZmZXJfMS5CdWZmZXIuYmluZC5hcHBseShidWZmZXJfMS5CdWZmZXIsIF9fc3ByZWFkQXJyYXlzKFt2b2lkIDAsIGFyZzBdLCBhcmdzKSkpKCk7XG59XG52YXIgYnVmZmVyQWxsb2NVbnNhZmUgPSBidWZmZXJfMS5CdWZmZXIuYWxsb2NVbnNhZmUgfHwgYnVmZmVyVjBQMTJQb255ZmlsbDtcbmV4cG9ydHMuYnVmZmVyQWxsb2NVbnNhZmUgPSBidWZmZXJBbGxvY1Vuc2FmZTtcbnZhciBidWZmZXJGcm9tID0gYnVmZmVyXzEuQnVmZmVyLmZyb20gfHwgYnVmZmVyVjBQMTJQb255ZmlsbDtcbmV4cG9ydHMuYnVmZmVyRnJvbSA9IGJ1ZmZlckZyb207XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBUaGUgd2hvbGUgcG9pbnQgYmVoaW5kIHRoaXMgaW50ZXJuYWwgbW9kdWxlIGlzIHRvIGFsbG93IE5vZGUuanMgdG8gbm9cbi8vIGxvbmdlciBiZSBmb3JjZWQgdG8gdHJlYXQgZXZlcnkgZXJyb3IgbWVzc2FnZSBjaGFuZ2UgYXMgYSBzZW12ZXItbWFqb3Jcbi8vIGNoYW5nZS4gVGhlIE5vZGVFcnJvciBjbGFzc2VzIGhlcmUgYWxsIGV4cG9zZSBhIGBjb2RlYCBwcm9wZXJ0eSB3aG9zZVxuLy8gdmFsdWUgc3RhdGljYWxseSBhbmQgcGVybWFuZW50bHkgaWRlbnRpZmllcyB0aGUgZXJyb3IuIFdoaWxlIHRoZSBlcnJvclxuLy8gbWVzc2FnZSBtYXkgY2hhbmdlLCB0aGUgY29kZSBzaG91bGQgbm90LlxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYXNzZXJ0ID0gcmVxdWlyZShcImFzc2VydFwiKTtcbnZhciB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG52YXIga0NvZGUgPSB0eXBlb2YgU3ltYm9sID09PSAndW5kZWZpbmVkJyA/ICdfa0NvZGUnIDogU3ltYm9sKCdjb2RlJyk7XG52YXIgbWVzc2FnZXMgPSB7fTsgLy8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gbWFrZU5vZGVFcnJvcihCYXNlKSB7XG4gICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKE5vZGVFcnJvciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gTm9kZUVycm9yKGtleSkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2Uoa2V5LCBhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLmNvZGUgPSBrZXk7XG4gICAgICAgICAgICBfdGhpc1trQ29kZV0gPSBrZXk7XG4gICAgICAgICAgICBfdGhpcy5uYW1lID0gX3N1cGVyLnByb3RvdHlwZS5uYW1lICsgXCIgW1wiICsgX3RoaXNba0NvZGVdICsgXCJdXCI7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE5vZGVFcnJvcjtcbiAgICB9KEJhc2UpKTtcbn1cbnZhciBBc3NlcnRpb25FcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXNzZXJ0aW9uRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3Iob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnIHx8IG9wdGlvbnMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBleHBvcnRzLlR5cGVFcnJvcignRVJSX0lOVkFMSURfQVJHX1RZUEUnLCAnb3B0aW9ucycsICdvYmplY3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5tZXNzYWdlKSB7XG4gICAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMubWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdXRpbC5pbnNwZWN0KG9wdGlvbnMuYWN0dWFsKS5zbGljZSgwLCAxMjgpICsgXCIgXCIgK1xuICAgICAgICAgICAgICAgIChvcHRpb25zLm9wZXJhdG9yICsgXCIgXCIgKyB1dGlsLmluc3BlY3Qob3B0aW9ucy5leHBlY3RlZCkuc2xpY2UoMCwgMTI4KSkpIHx8IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9ICFvcHRpb25zLm1lc3NhZ2U7XG4gICAgICAgIF90aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3IgW0VSUl9BU1NFUlRJT05dJztcbiAgICAgICAgX3RoaXMuY29kZSA9ICdFUlJfQVNTRVJUSU9OJztcbiAgICAgICAgX3RoaXMuYWN0dWFsID0gb3B0aW9ucy5hY3R1YWw7XG4gICAgICAgIF90aGlzLmV4cGVjdGVkID0gb3B0aW9ucy5leHBlY3RlZDtcbiAgICAgICAgX3RoaXMub3BlcmF0b3IgPSBvcHRpb25zLm9wZXJhdG9yO1xuICAgICAgICBleHBvcnRzLkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKF90aGlzLCBvcHRpb25zLnN0YWNrU3RhcnRGdW5jdGlvbik7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEFzc2VydGlvbkVycm9yO1xufShnbG9iYWwuRXJyb3IpKTtcbmV4cG9ydHMuQXNzZXJ0aW9uRXJyb3IgPSBBc3NlcnRpb25FcnJvcjtcbmZ1bmN0aW9uIG1lc3NhZ2Uoa2V5LCBhcmdzKSB7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKHR5cGVvZiBrZXksICdzdHJpbmcnKTtcbiAgICAvLyBjb25zdCBtc2cgPSBtZXNzYWdlcy5nZXQoa2V5KTtcbiAgICB2YXIgbXNnID0gbWVzc2FnZXNba2V5XTtcbiAgICBhc3NlcnQobXNnLCBcIkFuIGludmFsaWQgZXJyb3IgbWVzc2FnZSBrZXkgd2FzIHVzZWQ6IFwiICsga2V5ICsgXCIuXCIpO1xuICAgIHZhciBmbXQ7XG4gICAgaWYgKHR5cGVvZiBtc2cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZm10ID0gbXNnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm10ID0gdXRpbC5mb3JtYXQ7XG4gICAgICAgIGlmIChhcmdzID09PSB1bmRlZmluZWQgfHwgYXJncy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICBhcmdzLnVuc2hpZnQobXNnKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZyhmbXQuYXBwbHkobnVsbCwgYXJncykpO1xufVxuZXhwb3J0cy5tZXNzYWdlID0gbWVzc2FnZTtcbi8vIFV0aWxpdHkgZnVuY3Rpb24gZm9yIHJlZ2lzdGVyaW5nIHRoZSBlcnJvciBjb2Rlcy4gT25seSB1c2VkIGhlcmUuIEV4cG9ydGVkXG4vLyAqb25seSogdG8gYWxsb3cgZm9yIHRlc3RpbmcuXG5mdW5jdGlvbiBFKHN5bSwgdmFsKSB7XG4gICAgbWVzc2FnZXNbc3ltXSA9IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicgPyB2YWwgOiBTdHJpbmcodmFsKTtcbn1cbmV4cG9ydHMuRSA9IEU7XG5leHBvcnRzLkVycm9yID0gbWFrZU5vZGVFcnJvcihnbG9iYWwuRXJyb3IpO1xuZXhwb3J0cy5UeXBlRXJyb3IgPSBtYWtlTm9kZUVycm9yKGdsb2JhbC5UeXBlRXJyb3IpO1xuZXhwb3J0cy5SYW5nZUVycm9yID0gbWFrZU5vZGVFcnJvcihnbG9iYWwuUmFuZ2VFcnJvcik7XG4vLyBUbyBkZWNsYXJlIGFuIGVycm9yIG1lc3NhZ2UsIHVzZSB0aGUgRShzeW0sIHZhbCkgZnVuY3Rpb24gYWJvdmUuIFRoZSBzeW1cbi8vIG11c3QgYmUgYW4gdXBwZXIgY2FzZSBzdHJpbmcuIFRoZSB2YWwgY2FuIGJlIGVpdGhlciBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nLlxuLy8gVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gbXVzdCBiZSBhIHN0cmluZy5cbi8vIEV4YW1wbGVzOlxuLy8gRSgnRVhBTVBMRV9LRVkxJywgJ1RoaXMgaXMgdGhlIGVycm9yIHZhbHVlJyk7XG4vLyBFKCdFWEFNUExFX0tFWTInLCAoYSwgYikgPT4gcmV0dXJuIGAke2F9ICR7Yn1gKTtcbi8vXG4vLyBPbmNlIGFuIGVycm9yIGNvZGUgaGFzIGJlZW4gYXNzaWduZWQsIHRoZSBjb2RlIGl0c2VsZiBNVVNUIE5PVCBjaGFuZ2UgYW5kXG4vLyBhbnkgZ2l2ZW4gZXJyb3IgY29kZSBtdXN0IG5ldmVyIGJlIHJldXNlZCB0byBpZGVudGlmeSBhIGRpZmZlcmVudCBlcnJvci5cbi8vXG4vLyBBbnkgZXJyb3IgY29kZSBhZGRlZCBoZXJlIHNob3VsZCBhbHNvIGJlIGFkZGVkIHRvIHRoZSBkb2N1bWVudGF0aW9uXG4vL1xuLy8gTm90ZTogUGxlYXNlIHRyeSB0byBrZWVwIHRoZXNlIGluIGFscGhhYmV0aWNhbCBvcmRlclxuRSgnRVJSX0FSR19OT1RfSVRFUkFCTEUnLCAnJXMgbXVzdCBiZSBpdGVyYWJsZScpO1xuRSgnRVJSX0FTU0VSVElPTicsICclcycpO1xuRSgnRVJSX0JVRkZFUl9PVVRfT0ZfQk9VTkRTJywgYnVmZmVyT3V0T2ZCb3VuZHMpO1xuRSgnRVJSX0NISUxEX0NMT1NFRF9CRUZPUkVfUkVQTFknLCAnQ2hpbGQgY2xvc2VkIGJlZm9yZSByZXBseSByZWNlaXZlZCcpO1xuRSgnRVJSX0NPTlNPTEVfV1JJVEFCTEVfU1RSRUFNJywgJ0NvbnNvbGUgZXhwZWN0cyBhIHdyaXRhYmxlIHN0cmVhbSBpbnN0YW5jZSBmb3IgJXMnKTtcbkUoJ0VSUl9DUFVfVVNBR0UnLCAnVW5hYmxlIHRvIG9idGFpbiBjcHUgdXNhZ2UgJXMnKTtcbkUoJ0VSUl9ETlNfU0VUX1NFUlZFUlNfRkFJTEVEJywgZnVuY3Rpb24gKGVyciwgc2VydmVycykgeyByZXR1cm4gXCJjLWFyZXMgZmFpbGVkIHRvIHNldCBzZXJ2ZXJzOiBcXFwiXCIgKyBlcnIgKyBcIlxcXCIgW1wiICsgc2VydmVycyArIFwiXVwiOyB9KTtcbkUoJ0VSUl9GQUxTWV9WQUxVRV9SRUpFQ1RJT04nLCAnUHJvbWlzZSB3YXMgcmVqZWN0ZWQgd2l0aCBmYWxzeSB2YWx1ZScpO1xuRSgnRVJSX0VOQ09ESU5HX05PVF9TVVBQT1JURUQnLCBmdW5jdGlvbiAoZW5jKSB7IHJldHVybiBcIlRoZSBcXFwiXCIgKyBlbmMgKyBcIlxcXCIgZW5jb2RpbmcgaXMgbm90IHN1cHBvcnRlZFwiOyB9KTtcbkUoJ0VSUl9FTkNPRElOR19JTlZBTElEX0VOQ09ERURfREFUQScsIGZ1bmN0aW9uIChlbmMpIHsgcmV0dXJuIFwiVGhlIGVuY29kZWQgZGF0YSB3YXMgbm90IHZhbGlkIGZvciBlbmNvZGluZyBcIiArIGVuYzsgfSk7XG5FKCdFUlJfSFRUUF9IRUFERVJTX1NFTlQnLCAnQ2Fubm90IHJlbmRlciBoZWFkZXJzIGFmdGVyIHRoZXkgYXJlIHNlbnQgdG8gdGhlIGNsaWVudCcpO1xuRSgnRVJSX0hUVFBfSU5WQUxJRF9TVEFUVVNfQ09ERScsICdJbnZhbGlkIHN0YXR1cyBjb2RlOiAlcycpO1xuRSgnRVJSX0hUVFBfVFJBSUxFUl9JTlZBTElEJywgJ1RyYWlsZXJzIGFyZSBpbnZhbGlkIHdpdGggdGhpcyB0cmFuc2ZlciBlbmNvZGluZycpO1xuRSgnRVJSX0lOREVYX09VVF9PRl9SQU5HRScsICdJbmRleCBvdXQgb2YgcmFuZ2UnKTtcbkUoJ0VSUl9JTlZBTElEX0FSR19UWVBFJywgaW52YWxpZEFyZ1R5cGUpO1xuRSgnRVJSX0lOVkFMSURfQVJSQVlfTEVOR1RIJywgZnVuY3Rpb24gKG5hbWUsIGxlbiwgYWN0dWFsKSB7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKHR5cGVvZiBhY3R1YWwsICdudW1iZXInKTtcbiAgICByZXR1cm4gXCJUaGUgYXJyYXkgXFxcIlwiICsgbmFtZSArIFwiXFxcIiAobGVuZ3RoIFwiICsgYWN0dWFsICsgXCIpIG11c3QgYmUgb2YgbGVuZ3RoIFwiICsgbGVuICsgXCIuXCI7XG59KTtcbkUoJ0VSUl9JTlZBTElEX0JVRkZFUl9TSVpFJywgJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAlcycpO1xuRSgnRVJSX0lOVkFMSURfQ0FMTEJBQ0snLCAnQ2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5FKCdFUlJfSU5WQUxJRF9DSEFSJywgJ0ludmFsaWQgY2hhcmFjdGVyIGluICVzJyk7XG5FKCdFUlJfSU5WQUxJRF9DVVJTT1JfUE9TJywgJ0Nhbm5vdCBzZXQgY3Vyc29yIHJvdyB3aXRob3V0IHNldHRpbmcgaXRzIGNvbHVtbicpO1xuRSgnRVJSX0lOVkFMSURfRkQnLCAnXCJmZFwiIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyOiAlcycpO1xuRSgnRVJSX0lOVkFMSURfRklMRV9VUkxfSE9TVCcsICdGaWxlIFVSTCBob3N0IG11c3QgYmUgXCJsb2NhbGhvc3RcIiBvciBlbXB0eSBvbiAlcycpO1xuRSgnRVJSX0lOVkFMSURfRklMRV9VUkxfUEFUSCcsICdGaWxlIFVSTCBwYXRoICVzJyk7XG5FKCdFUlJfSU5WQUxJRF9IQU5ETEVfVFlQRScsICdUaGlzIGhhbmRsZSB0eXBlIGNhbm5vdCBiZSBzZW50Jyk7XG5FKCdFUlJfSU5WQUxJRF9JUF9BRERSRVNTJywgJ0ludmFsaWQgSVAgYWRkcmVzczogJXMnKTtcbkUoJ0VSUl9JTlZBTElEX09QVF9WQUxVRScsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIHJldHVybiBcIlRoZSB2YWx1ZSBcXFwiXCIgKyBTdHJpbmcodmFsdWUpICsgXCJcXFwiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcXFwiXCIgKyBuYW1lICsgXCJcXFwiXCI7XG59KTtcbkUoJ0VSUl9JTlZBTElEX09QVF9WQUxVRV9FTkNPRElORycsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gXCJUaGUgdmFsdWUgXFxcIlwiICsgU3RyaW5nKHZhbHVlKSArIFwiXFxcIiBpcyBpbnZhbGlkIGZvciBvcHRpb24gXFxcImVuY29kaW5nXFxcIlwiOyB9KTtcbkUoJ0VSUl9JTlZBTElEX1JFUExfRVZBTF9DT05GSUcnLCAnQ2Fubm90IHNwZWNpZnkgYm90aCBcImJyZWFrRXZhbE9uU2lnaW50XCIgYW5kIFwiZXZhbFwiIGZvciBSRVBMJyk7XG5FKCdFUlJfSU5WQUxJRF9TWU5DX0ZPUktfSU5QVVQnLCAnQXN5bmNocm9ub3VzIGZvcmtzIGRvIG5vdCBzdXBwb3J0IEJ1ZmZlciwgVWludDhBcnJheSBvciBzdHJpbmcgaW5wdXQ6ICVzJyk7XG5FKCdFUlJfSU5WQUxJRF9USElTJywgJ1ZhbHVlIG9mIFwidGhpc1wiIG11c3QgYmUgb2YgdHlwZSAlcycpO1xuRSgnRVJSX0lOVkFMSURfVFVQTEUnLCAnJXMgbXVzdCBiZSBhbiBpdGVyYWJsZSAlcyB0dXBsZScpO1xuRSgnRVJSX0lOVkFMSURfVVJMJywgJ0ludmFsaWQgVVJMOiAlcycpO1xuRSgnRVJSX0lOVkFMSURfVVJMX1NDSEVNRScsIGZ1bmN0aW9uIChleHBlY3RlZCkgeyByZXR1cm4gXCJUaGUgVVJMIG11c3QgYmUgXCIgKyBvbmVPZihleHBlY3RlZCwgJ3NjaGVtZScpOyB9KTtcbkUoJ0VSUl9JUENfQ0hBTk5FTF9DTE9TRUQnLCAnQ2hhbm5lbCBjbG9zZWQnKTtcbkUoJ0VSUl9JUENfRElTQ09OTkVDVEVEJywgJ0lQQyBjaGFubmVsIGlzIGFscmVhZHkgZGlzY29ubmVjdGVkJyk7XG5FKCdFUlJfSVBDX09ORV9QSVBFJywgJ0NoaWxkIHByb2Nlc3MgY2FuIGhhdmUgb25seSBvbmUgSVBDIHBpcGUnKTtcbkUoJ0VSUl9JUENfU1lOQ19GT1JLJywgJ0lQQyBjYW5ub3QgYmUgdXNlZCB3aXRoIHN5bmNocm9ub3VzIGZvcmtzJyk7XG5FKCdFUlJfTUlTU0lOR19BUkdTJywgbWlzc2luZ0FyZ3MpO1xuRSgnRVJSX01VTFRJUExFX0NBTExCQUNLJywgJ0NhbGxiYWNrIGNhbGxlZCBtdWx0aXBsZSB0aW1lcycpO1xuRSgnRVJSX05BUElfQ09OU19GVU5DVElPTicsICdDb25zdHJ1Y3RvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbkUoJ0VSUl9OQVBJX0NPTlNfUFJPVE9UWVBFX09CSkVDVCcsICdDb25zdHJ1Y3Rvci5wcm90b3R5cGUgbXVzdCBiZSBhbiBvYmplY3QnKTtcbkUoJ0VSUl9OT19DUllQVE8nLCAnTm9kZS5qcyBpcyBub3QgY29tcGlsZWQgd2l0aCBPcGVuU1NMIGNyeXB0byBzdXBwb3J0Jyk7XG5FKCdFUlJfTk9fTE9OR0VSX1NVUFBPUlRFRCcsICclcyBpcyBubyBsb25nZXIgc3VwcG9ydGVkJyk7XG5FKCdFUlJfUEFSU0VfSElTVE9SWV9EQVRBJywgJ0NvdWxkIG5vdCBwYXJzZSBoaXN0b3J5IGRhdGEgaW4gJXMnKTtcbkUoJ0VSUl9TT0NLRVRfQUxSRUFEWV9CT1VORCcsICdTb2NrZXQgaXMgYWxyZWFkeSBib3VuZCcpO1xuRSgnRVJSX1NPQ0tFVF9CQURfUE9SVCcsICdQb3J0IHNob3VsZCBiZSA+IDAgYW5kIDwgNjU1MzYnKTtcbkUoJ0VSUl9TT0NLRVRfQkFEX1RZUEUnLCAnQmFkIHNvY2tldCB0eXBlIHNwZWNpZmllZC4gVmFsaWQgdHlwZXMgYXJlOiB1ZHA0LCB1ZHA2Jyk7XG5FKCdFUlJfU09DS0VUX0NBTk5PVF9TRU5EJywgJ1VuYWJsZSB0byBzZW5kIGRhdGEnKTtcbkUoJ0VSUl9TT0NLRVRfQ0xPU0VEJywgJ1NvY2tldCBpcyBjbG9zZWQnKTtcbkUoJ0VSUl9TT0NLRVRfREdSQU1fTk9UX1JVTk5JTkcnLCAnTm90IHJ1bm5pbmcnKTtcbkUoJ0VSUl9TVERFUlJfQ0xPU0UnLCAncHJvY2Vzcy5zdGRlcnIgY2Fubm90IGJlIGNsb3NlZCcpO1xuRSgnRVJSX1NURE9VVF9DTE9TRScsICdwcm9jZXNzLnN0ZG91dCBjYW5ub3QgYmUgY2xvc2VkJyk7XG5FKCdFUlJfU1RSRUFNX1dSQVAnLCAnU3RyZWFtIGhhcyBTdHJpbmdEZWNvZGVyIHNldCBvciBpcyBpbiBvYmplY3RNb2RlJyk7XG5FKCdFUlJfVExTX0NFUlRfQUxUTkFNRV9JTlZBTElEJywgXCJIb3N0bmFtZS9JUCBkb2VzIG5vdCBtYXRjaCBjZXJ0aWZpY2F0ZSdzIGFsdG5hbWVzOiAlc1wiKTtcbkUoJ0VSUl9UTFNfREhfUEFSQU1fU0laRScsIGZ1bmN0aW9uIChzaXplKSB7IHJldHVybiBcIkRIIHBhcmFtZXRlciBzaXplIFwiICsgc2l6ZSArIFwiIGlzIGxlc3MgdGhhbiAyMDQ4XCI7IH0pO1xuRSgnRVJSX1RMU19IQU5EU0hBS0VfVElNRU9VVCcsICdUTFMgaGFuZHNoYWtlIHRpbWVvdXQnKTtcbkUoJ0VSUl9UTFNfUkVORUdPVElBVElPTl9GQUlMRUQnLCAnRmFpbGVkIHRvIHJlbmVnb3RpYXRlJyk7XG5FKCdFUlJfVExTX1JFUVVJUkVEX1NFUlZFUl9OQU1FJywgJ1wic2VydmVybmFtZVwiIGlzIHJlcXVpcmVkIHBhcmFtZXRlciBmb3IgU2VydmVyLmFkZENvbnRleHQnKTtcbkUoJ0VSUl9UTFNfU0VTU0lPTl9BVFRBQ0snLCAnVFNMIHNlc3Npb24gcmVuZWdvdGlhdGlvbiBhdHRhY2sgZGV0ZWN0ZWQnKTtcbkUoJ0VSUl9UUkFOU0ZPUk1fQUxSRUFEWV9UUkFOU0ZPUk1JTkcnLCAnQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHN0aWxsIHRyYW5zZm9ybWluZycpO1xuRSgnRVJSX1RSQU5TRk9STV9XSVRIX0xFTkdUSF8wJywgJ0NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiB3cml0YWJsZVN0YXRlLmxlbmd0aCAhPSAwJyk7XG5FKCdFUlJfVU5LTk9XTl9FTkNPRElORycsICdVbmtub3duIGVuY29kaW5nOiAlcycpO1xuRSgnRVJSX1VOS05PV05fU0lHTkFMJywgJ1Vua25vd24gc2lnbmFsOiAlcycpO1xuRSgnRVJSX1VOS05PV05fU1RESU5fVFlQRScsICdVbmtub3duIHN0ZGluIGZpbGUgdHlwZScpO1xuRSgnRVJSX1VOS05PV05fU1RSRUFNX1RZUEUnLCAnVW5rbm93biBzdHJlYW0gZmlsZSB0eXBlJyk7XG5FKCdFUlJfVjhCUkVBS0lURVJBVE9SJywgJ0Z1bGwgSUNVIGRhdGEgbm90IGluc3RhbGxlZC4gJyArICdTZWUgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL3dpa2kvSW50bCcpO1xuZnVuY3Rpb24gaW52YWxpZEFyZ1R5cGUobmFtZSwgZXhwZWN0ZWQsIGFjdHVhbCkge1xuICAgIGFzc2VydChuYW1lLCAnbmFtZSBpcyByZXF1aXJlZCcpO1xuICAgIC8vIGRldGVybWluZXI6ICdtdXN0IGJlJyBvciAnbXVzdCBub3QgYmUnXG4gICAgdmFyIGRldGVybWluZXI7XG4gICAgaWYgKGV4cGVjdGVkLmluY2x1ZGVzKCdub3QgJykpIHtcbiAgICAgICAgZGV0ZXJtaW5lciA9ICdtdXN0IG5vdCBiZSc7XG4gICAgICAgIGV4cGVjdGVkID0gZXhwZWN0ZWQuc3BsaXQoJ25vdCAnKVsxXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRldGVybWluZXIgPSAnbXVzdCBiZSc7XG4gICAgfVxuICAgIHZhciBtc2c7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgICAgdmFyIG5hbWVzID0gbmFtZS5tYXAoZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gXCJcXFwiXCIgKyB2YWwgKyBcIlxcXCJcIjsgfSkuam9pbignLCAnKTtcbiAgICAgICAgbXNnID0gXCJUaGUgXCIgKyBuYW1lcyArIFwiIGFyZ3VtZW50cyBcIiArIGRldGVybWluZXIgKyBcIiBcIiArIG9uZU9mKGV4cGVjdGVkLCAndHlwZScpO1xuICAgIH1cbiAgICBlbHNlIGlmIChuYW1lLmluY2x1ZGVzKCcgYXJndW1lbnQnKSkge1xuICAgICAgICAvLyBmb3IgdGhlIGNhc2UgbGlrZSAnZmlyc3QgYXJndW1lbnQnXG4gICAgICAgIG1zZyA9IFwiVGhlIFwiICsgbmFtZSArIFwiIFwiICsgZGV0ZXJtaW5lciArIFwiIFwiICsgb25lT2YoZXhwZWN0ZWQsICd0eXBlJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdHlwZSA9IG5hbWUuaW5jbHVkZXMoJy4nKSA/ICdwcm9wZXJ0eScgOiAnYXJndW1lbnQnO1xuICAgICAgICBtc2cgPSBcIlRoZSBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIFwiICsgdHlwZSArIFwiIFwiICsgZGV0ZXJtaW5lciArIFwiIFwiICsgb25lT2YoZXhwZWN0ZWQsICd0eXBlJyk7XG4gICAgfVxuICAgIC8vIGlmIGFjdHVhbCB2YWx1ZSByZWNlaXZlZCwgb3V0cHV0IGl0XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykge1xuICAgICAgICBtc2cgKz0gXCIuIFJlY2VpdmVkIHR5cGUgXCIgKyAoYWN0dWFsICE9PSBudWxsID8gdHlwZW9mIGFjdHVhbCA6ICdudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBtc2c7XG59XG5mdW5jdGlvbiBtaXNzaW5nQXJncygpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgYXNzZXJ0KGFyZ3MubGVuZ3RoID4gMCwgJ0F0IGxlYXN0IG9uZSBhcmcgbmVlZHMgdG8gYmUgc3BlY2lmaWVkJyk7XG4gICAgdmFyIG1zZyA9ICdUaGUgJztcbiAgICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gICAgYXJncyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhKSB7IHJldHVybiBcIlxcXCJcIiArIGEgKyBcIlxcXCJcIjsgfSk7XG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgbXNnICs9IGFyZ3NbMF0gKyBcIiBhcmd1bWVudFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIG1zZyArPSBhcmdzWzBdICsgXCIgYW5kIFwiICsgYXJnc1sxXSArIFwiIGFyZ3VtZW50c1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBtc2cgKz0gYXJncy5zbGljZSgwLCBsZW4gLSAxKS5qb2luKCcsICcpO1xuICAgICAgICAgICAgbXNnICs9IFwiLCBhbmQgXCIgKyBhcmdzW2xlbiAtIDFdICsgXCIgYXJndW1lbnRzXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIG1zZyArIFwiIG11c3QgYmUgc3BlY2lmaWVkXCI7XG59XG5mdW5jdGlvbiBvbmVPZihleHBlY3RlZCwgdGhpbmcpIHtcbiAgICBhc3NlcnQoZXhwZWN0ZWQsICdleHBlY3RlZCBpcyByZXF1aXJlZCcpO1xuICAgIGFzc2VydCh0eXBlb2YgdGhpbmcgPT09ICdzdHJpbmcnLCAndGhpbmcgaXMgcmVxdWlyZWQnKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShleHBlY3RlZCkpIHtcbiAgICAgICAgdmFyIGxlbiA9IGV4cGVjdGVkLmxlbmd0aDtcbiAgICAgICAgYXNzZXJ0KGxlbiA+IDAsICdBdCBsZWFzdCBvbmUgZXhwZWN0ZWQgdmFsdWUgbmVlZHMgdG8gYmUgc3BlY2lmaWVkJyk7XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBleHBlY3RlZCA9IGV4cGVjdGVkLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gU3RyaW5nKGkpOyB9KTtcbiAgICAgICAgaWYgKGxlbiA+IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBcIm9uZSBvZiBcIiArIHRoaW5nICsgXCIgXCIgKyBleHBlY3RlZC5zbGljZSgwLCBsZW4gLSAxKS5qb2luKCcsICcpICsgXCIsIG9yIFwiICsgZXhwZWN0ZWRbbGVuIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGVuID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJvbmUgb2YgXCIgKyB0aGluZyArIFwiIFwiICsgZXhwZWN0ZWRbMF0gKyBcIiBvciBcIiArIGV4cGVjdGVkWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwib2YgXCIgKyB0aGluZyArIFwiIFwiICsgZXhwZWN0ZWRbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBcIm9mIFwiICsgdGhpbmcgKyBcIiBcIiArIFN0cmluZyhleHBlY3RlZCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYnVmZmVyT3V0T2ZCb3VuZHMobmFtZSwgaXNXcml0aW5nKSB7XG4gICAgaWYgKGlzV3JpdGluZykge1xuICAgICAgICByZXR1cm4gJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlxcXCJcIiArIG5hbWUgKyBcIlxcXCIgaXMgb3V0c2lkZSBvZiBidWZmZXIgYm91bmRzXCI7XG4gICAgfVxufVxuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJ1ZmZlcl8xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwvYnVmZmVyXCIpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoXCIuL2ludGVybmFsL2Vycm9yc1wiKTtcbmV4cG9ydHMuRU5DT0RJTkdfVVRGOCA9ICd1dGY4JztcbmZ1bmN0aW9uIGFzc2VydEVuY29kaW5nKGVuY29kaW5nKSB7XG4gICAgaWYgKGVuY29kaW5nICYmICFidWZmZXJfMS5CdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpXG4gICAgICAgIHRocm93IG5ldyBlcnJvcnMuVHlwZUVycm9yKCdFUlJfSU5WQUxJRF9PUFRfVkFMVUVfRU5DT0RJTkcnLCBlbmNvZGluZyk7XG59XG5leHBvcnRzLmFzc2VydEVuY29kaW5nID0gYXNzZXJ0RW5jb2Rpbmc7XG5mdW5jdGlvbiBzdHJUb0VuY29kaW5nKHN0ciwgZW5jb2RpbmcpIHtcbiAgICBpZiAoIWVuY29kaW5nIHx8IGVuY29kaW5nID09PSBleHBvcnRzLkVOQ09ESU5HX1VURjgpXG4gICAgICAgIHJldHVybiBzdHI7IC8vIFVURi04XG4gICAgaWYgKGVuY29kaW5nID09PSAnYnVmZmVyJylcbiAgICAgICAgcmV0dXJuIG5ldyBidWZmZXJfMS5CdWZmZXIoc3RyKTsgLy8gYGJ1ZmZlcmAgZW5jb2RpbmdcbiAgICByZXR1cm4gbmV3IGJ1ZmZlcl8xLkJ1ZmZlcihzdHIpLnRvU3RyaW5nKGVuY29kaW5nKTsgLy8gQ3VzdG9tIGVuY29kaW5nXG59XG5leHBvcnRzLnN0clRvRW5jb2RpbmcgPSBzdHJUb0VuY29kaW5nO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGVuY29kaW5nXzEgPSByZXF1aXJlKFwiLi9lbmNvZGluZ1wiKTtcbnZhciBTX0lGTVQgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRk1ULCBTX0lGRElSID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZESVIsIFNfSUZSRUcgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRlJFRywgU19JRkJMSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGQkxLLCBTX0lGQ0hSID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZDSFIsIFNfSUZMTksgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRkxOSywgU19JRklGTyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGSUZPLCBTX0lGU09DSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGU09DSztcbi8qKlxuICogQSBkaXJlY3RvcnkgZW50cnksIGxpa2UgYGZzLkRpcmVudGAuXG4gKi9cbnZhciBEaXJlbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlyZW50KCkge1xuICAgICAgICB0aGlzLm5hbWUgPSAnJztcbiAgICAgICAgdGhpcy5tb2RlID0gMDtcbiAgICB9XG4gICAgRGlyZW50LmJ1aWxkID0gZnVuY3Rpb24gKGxpbmssIGVuY29kaW5nKSB7XG4gICAgICAgIHZhciBkaXJlbnQgPSBuZXcgRGlyZW50KCk7XG4gICAgICAgIHZhciBtb2RlID0gbGluay5nZXROb2RlKCkubW9kZTtcbiAgICAgICAgZGlyZW50Lm5hbWUgPSBlbmNvZGluZ18xLnN0clRvRW5jb2RpbmcobGluay5nZXROYW1lKCksIGVuY29kaW5nKTtcbiAgICAgICAgZGlyZW50Lm1vZGUgPSBtb2RlO1xuICAgICAgICByZXR1cm4gZGlyZW50O1xuICAgIH07XG4gICAgRGlyZW50LnByb3RvdHlwZS5fY2hlY2tNb2RlUHJvcGVydHkgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1vZGUgJiBTX0lGTVQpID09PSBwcm9wZXJ0eTtcbiAgICB9O1xuICAgIERpcmVudC5wcm90b3R5cGUuaXNEaXJlY3RvcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja01vZGVQcm9wZXJ0eShTX0lGRElSKTtcbiAgICB9O1xuICAgIERpcmVudC5wcm90b3R5cGUuaXNGaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRlJFRyk7XG4gICAgfTtcbiAgICBEaXJlbnQucHJvdG90eXBlLmlzQmxvY2tEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja01vZGVQcm9wZXJ0eShTX0lGQkxLKTtcbiAgICB9O1xuICAgIERpcmVudC5wcm90b3R5cGUuaXNDaGFyYWN0ZXJEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja01vZGVQcm9wZXJ0eShTX0lGQ0hSKTtcbiAgICB9O1xuICAgIERpcmVudC5wcm90b3R5cGUuaXNTeW1ib2xpY0xpbmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGVja01vZGVQcm9wZXJ0eShTX0lGTE5LKTtcbiAgICB9O1xuICAgIERpcmVudC5wcm90b3R5cGUuaXNGSUZPID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRklGTyk7XG4gICAgfTtcbiAgICBEaXJlbnQucHJvdG90eXBlLmlzU29ja2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tNb2RlUHJvcGVydHkoU19JRlNPQ0spO1xuICAgIH07XG4gICAgcmV0dXJuIERpcmVudDtcbn0oKSk7XG5leHBvcnRzLkRpcmVudCA9IERpcmVudDtcbmV4cG9ydHMuZGVmYXVsdCA9IERpcmVudDtcbiIsICIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIF9zZXRJbW1lZGlhdGU7XG5pZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICBfc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlLmJpbmQoZ2xvYmFsKTtcbmVsc2VcbiAgICBfc2V0SW1tZWRpYXRlID0gc2V0VGltZW91dC5iaW5kKGdsb2JhbCk7XG5leHBvcnRzLmRlZmF1bHQgPSBfc2V0SW1tZWRpYXRlO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuLy8gSGVyZSB3ZSBtb2NrIHRoZSBnbG9iYWwgYHByb2Nlc3NgIHZhcmlhYmxlIGluIGNhc2Ugd2UgYXJlIG5vdCBpbiBOb2RlJ3MgZW52aXJvbm1lbnQuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIExvb2tzIHRvIHJldHVybiBhIGBwcm9jZXNzYCBvYmplY3QsIGlmIG9uZSBpcyBhdmFpbGFibGUuXG4gKlxuICogVGhlIGdsb2JhbCBgcHJvY2Vzc2AgaXMgcmV0dXJuZWQgaWYgZGVmaW5lZDtcbiAqIG90aGVyd2lzZSBgcmVxdWlyZSgncHJvY2VzcycpYCBpcyBhdHRlbXB0ZWQuXG4gKlxuICogSWYgdGhhdCBmYWlscywgYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gKlxuICogQHJldHVybiB7SVByb2Nlc3MgfCB1bmRlZmluZWR9XG4gKi9cbnZhciBtYXliZVJldHVyblByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gcHJvY2VzcztcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHJlcXVpcmUoJ3Byb2Nlc3MnKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZVByb2Nlc3MoKSB7XG4gICAgdmFyIHAgPSBtYXliZVJldHVyblByb2Nlc3MoKSB8fCB7fTtcbiAgICBpZiAoIXAuZ2V0dWlkKVxuICAgICAgICBwLmdldHVpZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7IH07XG4gICAgaWYgKCFwLmdldGdpZClcbiAgICAgICAgcC5nZXRnaWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAwOyB9O1xuICAgIGlmICghcC5jd2QpXG4gICAgICAgIHAuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nOyB9O1xuICAgIGlmICghcC5uZXh0VGljaylcbiAgICAgICAgcC5uZXh0VGljayA9IHJlcXVpcmUoJy4vc2V0SW1tZWRpYXRlJykuZGVmYXVsdDtcbiAgICBpZiAoIXAuZW1pdFdhcm5pbmcpXG4gICAgICAgIHAuZW1pdFdhcm5pbmcgPSBmdW5jdGlvbiAobWVzc2FnZSwgdHlwZSkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWNvbnNvbGVcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlwiICsgdHlwZSArICh0eXBlID8gJzogJyA6ICcnKSArIG1lc3NhZ2UpO1xuICAgICAgICB9O1xuICAgIGlmICghcC5lbnYpXG4gICAgICAgIHAuZW52ID0ge307XG4gICAgcmV0dXJuIHA7XG59XG5leHBvcnRzLmNyZWF0ZVByb2Nlc3MgPSBjcmVhdGVQcm9jZXNzO1xuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlUHJvY2VzcygpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcHJvY2Vzc18xID0gcmVxdWlyZShcIi4vcHJvY2Vzc1wiKTtcbnZhciBidWZmZXJfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsL2J1ZmZlclwiKTtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG52YXIgU3RhdHNfMSA9IHJlcXVpcmUoXCIuL1N0YXRzXCIpO1xudmFyIFNfSUZNVCA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGTVQsIFNfSUZESVIgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRkRJUiwgU19JRlJFRyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGUkVHLCBTX0lGQkxLID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZCTEssIFNfSUZDSFIgPSBjb25zdGFudHNfMS5jb25zdGFudHMuU19JRkNIUiwgU19JRkxOSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5TX0lGTE5LLCBTX0lGSUZPID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZJRk8sIFNfSUZTT0NLID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlNfSUZTT0NLLCBPX0FQUEVORCA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5PX0FQUEVORDtcbmV4cG9ydHMuU0VQID0gJy8nO1xuLyoqXG4gKiBOb2RlIGluIGEgZmlsZSBzeXN0ZW0gKGxpa2UgaS1ub2RlLCB2LW5vZGUpLlxuICovXG52YXIgTm9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm9kZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBOb2RlKGlubywgcGVybSkge1xuICAgICAgICBpZiAocGVybSA9PT0gdm9pZCAwKSB7IHBlcm0gPSA0Mzg7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLy8gVXNlciBJRCBhbmQgZ3JvdXAgSUQuXG4gICAgICAgIF90aGlzLnVpZCA9IHByb2Nlc3NfMS5kZWZhdWx0LmdldHVpZCgpO1xuICAgICAgICBfdGhpcy5naWQgPSBwcm9jZXNzXzEuZGVmYXVsdC5nZXRnaWQoKTtcbiAgICAgICAgX3RoaXMuYXRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBfdGhpcy5tdGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIF90aGlzLmN0aW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgX3RoaXMucGVybSA9IDQzODsgLy8gUGVybWlzc2lvbnMgYGNobW9kYCwgYGZjaG1vZGBcbiAgICAgICAgX3RoaXMubW9kZSA9IFNfSUZSRUc7IC8vIFNfSUZESVIsIFNfSUZSRUcsIGV0Yy4uIChmaWxlIGJ5IGRlZmF1bHQ/KVxuICAgICAgICAvLyBOdW1iZXIgb2YgaGFyZCBsaW5rcyBwb2ludGluZyBhdCB0aGlzIE5vZGUuXG4gICAgICAgIF90aGlzLm5saW5rID0gMTtcbiAgICAgICAgX3RoaXMucGVybSA9IHBlcm07XG4gICAgICAgIF90aGlzLm1vZGUgfD0gcGVybTtcbiAgICAgICAgX3RoaXMuaW5vID0gaW5vO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE5vZGUucHJvdG90eXBlLmdldFN0cmluZyA9IGZ1bmN0aW9uIChlbmNvZGluZykge1xuICAgICAgICBpZiAoZW5jb2RpbmcgPT09IHZvaWQgMCkgeyBlbmNvZGluZyA9ICd1dGY4JzsgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKS50b1N0cmluZyhlbmNvZGluZyk7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5zZXRTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIC8vIHRoaXMuc2V0QnVmZmVyKGJ1ZmZlckZyb20oc3RyLCAndXRmOCcpKTtcbiAgICAgICAgdGhpcy5idWYgPSBidWZmZXJfMS5idWZmZXJGcm9tKHN0ciwgJ3V0ZjgnKTtcbiAgICAgICAgdGhpcy50b3VjaCgpO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmKVxuICAgICAgICAgICAgdGhpcy5zZXRCdWZmZXIoYnVmZmVyXzEuYnVmZmVyQWxsb2NVbnNhZmUoMCkpO1xuICAgICAgICByZXR1cm4gYnVmZmVyXzEuYnVmZmVyRnJvbSh0aGlzLmJ1Zik7IC8vIFJldHVybiBhIGNvcHkuXG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5zZXRCdWZmZXIgPSBmdW5jdGlvbiAoYnVmKSB7XG4gICAgICAgIHRoaXMuYnVmID0gYnVmZmVyXzEuYnVmZmVyRnJvbShidWYpOyAvLyBDcmVhdGVzIGEgY29weSBvZiBkYXRhLlxuICAgICAgICB0aGlzLnRvdWNoKCk7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWYgPyB0aGlzLmJ1Zi5sZW5ndGggOiAwO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuc2V0TW9kZVByb3BlcnR5ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgIHRoaXMubW9kZSA9ICh0aGlzLm1vZGUgJiB+U19JRk1UKSB8IHByb3BlcnR5O1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuc2V0SXNGaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE1vZGVQcm9wZXJ0eShTX0lGUkVHKTtcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLnNldElzRGlyZWN0b3J5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldE1vZGVQcm9wZXJ0eShTX0lGRElSKTtcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLnNldElzU3ltbGluayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRNb2RlUHJvcGVydHkoU19JRkxOSyk7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5pc0ZpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5tb2RlICYgU19JRk1UKSA9PT0gU19JRlJFRztcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLmlzRGlyZWN0b3J5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMubW9kZSAmIFNfSUZNVCkgPT09IFNfSUZESVI7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5pc1N5bWxpbmsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJldHVybiAhIXRoaXMuc3ltbGluaztcbiAgICAgICAgcmV0dXJuICh0aGlzLm1vZGUgJiBTX0lGTVQpID09PSBTX0lGTE5LO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUubWFrZVN5bWxpbmsgPSBmdW5jdGlvbiAoc3RlcHMpIHtcbiAgICAgICAgdGhpcy5zeW1saW5rID0gc3RlcHM7XG4gICAgICAgIHRoaXMuc2V0SXNTeW1saW5rKCk7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChidWYsIG9mZiwgbGVuLCBwb3MpIHtcbiAgICAgICAgaWYgKG9mZiA9PT0gdm9pZCAwKSB7IG9mZiA9IDA7IH1cbiAgICAgICAgaWYgKGxlbiA9PT0gdm9pZCAwKSB7IGxlbiA9IGJ1Zi5sZW5ndGg7IH1cbiAgICAgICAgaWYgKHBvcyA9PT0gdm9pZCAwKSB7IHBvcyA9IDA7IH1cbiAgICAgICAgaWYgKCF0aGlzLmJ1ZilcbiAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmZmVyXzEuYnVmZmVyQWxsb2NVbnNhZmUoMCk7XG4gICAgICAgIGlmIChwb3MgKyBsZW4gPiB0aGlzLmJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBuZXdCdWYgPSBidWZmZXJfMS5idWZmZXJBbGxvY1Vuc2FmZShwb3MgKyBsZW4pO1xuICAgICAgICAgICAgdGhpcy5idWYuY29weShuZXdCdWYsIDAsIDAsIHRoaXMuYnVmLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmJ1ZiA9IG5ld0J1ZjtcbiAgICAgICAgfVxuICAgICAgICBidWYuY29weSh0aGlzLmJ1ZiwgcG9zLCBvZmYsIG9mZiArIGxlbik7XG4gICAgICAgIHRoaXMudG91Y2goKTtcbiAgICAgICAgcmV0dXJuIGxlbjtcbiAgICB9O1xuICAgIC8vIFJldHVybnMgdGhlIG51bWJlciBvZiBieXRlcyByZWFkLlxuICAgIE5vZGUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAoYnVmLCBvZmYsIGxlbiwgcG9zKSB7XG4gICAgICAgIGlmIChvZmYgPT09IHZvaWQgMCkgeyBvZmYgPSAwOyB9XG4gICAgICAgIGlmIChsZW4gPT09IHZvaWQgMCkgeyBsZW4gPSBidWYuYnl0ZUxlbmd0aDsgfVxuICAgICAgICBpZiAocG9zID09PSB2b2lkIDApIHsgcG9zID0gMDsgfVxuICAgICAgICBpZiAoIXRoaXMuYnVmKVxuICAgICAgICAgICAgdGhpcy5idWYgPSBidWZmZXJfMS5idWZmZXJBbGxvY1Vuc2FmZSgwKTtcbiAgICAgICAgdmFyIGFjdHVhbExlbiA9IGxlbjtcbiAgICAgICAgaWYgKGFjdHVhbExlbiA+IGJ1Zi5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICBhY3R1YWxMZW4gPSBidWYuYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0dWFsTGVuICsgcG9zID4gdGhpcy5idWYubGVuZ3RoKSB7XG4gICAgICAgICAgICBhY3R1YWxMZW4gPSB0aGlzLmJ1Zi5sZW5ndGggLSBwb3M7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWYuY29weShidWYsIG9mZiwgcG9zLCBwb3MgKyBhY3R1YWxMZW4pO1xuICAgICAgICByZXR1cm4gYWN0dWFsTGVuO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUudHJ1bmNhdGUgPSBmdW5jdGlvbiAobGVuKSB7XG4gICAgICAgIGlmIChsZW4gPT09IHZvaWQgMCkgeyBsZW4gPSAwOyB9XG4gICAgICAgIGlmICghbGVuKVxuICAgICAgICAgICAgdGhpcy5idWYgPSBidWZmZXJfMS5idWZmZXJBbGxvY1Vuc2FmZSgwKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYnVmKVxuICAgICAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmZmVyXzEuYnVmZmVyQWxsb2NVbnNhZmUoMCk7XG4gICAgICAgICAgICBpZiAobGVuIDw9IHRoaXMuYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmID0gdGhpcy5idWYuc2xpY2UoMCwgbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBidWYgPSBidWZmZXJfMS5idWZmZXJBbGxvY1Vuc2FmZSgwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1Zi5jb3B5KGJ1Zik7XG4gICAgICAgICAgICAgICAgYnVmLmZpbGwoMCwgbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvdWNoKCk7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5jaG1vZCA9IGZ1bmN0aW9uIChwZXJtKSB7XG4gICAgICAgIHRoaXMucGVybSA9IHBlcm07XG4gICAgICAgIHRoaXMubW9kZSA9ICh0aGlzLm1vZGUgJiB+NTExKSB8IHBlcm07XG4gICAgICAgIHRoaXMudG91Y2goKTtcbiAgICB9O1xuICAgIE5vZGUucHJvdG90eXBlLmNob3duID0gZnVuY3Rpb24gKHVpZCwgZ2lkKSB7XG4gICAgICAgIHRoaXMudWlkID0gdWlkO1xuICAgICAgICB0aGlzLmdpZCA9IGdpZDtcbiAgICAgICAgdGhpcy50b3VjaCgpO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUudG91Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubXRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMpO1xuICAgIH07XG4gICAgTm9kZS5wcm90b3R5cGUuY2FuUmVhZCA9IGZ1bmN0aW9uICh1aWQsIGdpZCkge1xuICAgICAgICBpZiAodWlkID09PSB2b2lkIDApIHsgdWlkID0gcHJvY2Vzc18xLmRlZmF1bHQuZ2V0dWlkKCk7IH1cbiAgICAgICAgaWYgKGdpZCA9PT0gdm9pZCAwKSB7IGdpZCA9IHByb2Nlc3NfMS5kZWZhdWx0LmdldGdpZCgpOyB9XG4gICAgICAgIGlmICh0aGlzLnBlcm0gJiA0IC8qIElST1RIICovKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2lkID09PSB0aGlzLmdpZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGVybSAmIDMyIC8qIElSR1JQICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVpZCA9PT0gdGhpcy51aWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlcm0gJiAyNTYgLyogSVJVU1IgKi8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5jYW5Xcml0ZSA9IGZ1bmN0aW9uICh1aWQsIGdpZCkge1xuICAgICAgICBpZiAodWlkID09PSB2b2lkIDApIHsgdWlkID0gcHJvY2Vzc18xLmRlZmF1bHQuZ2V0dWlkKCk7IH1cbiAgICAgICAgaWYgKGdpZCA9PT0gdm9pZCAwKSB7IGdpZCA9IHByb2Nlc3NfMS5kZWZhdWx0LmdldGdpZCgpOyB9XG4gICAgICAgIGlmICh0aGlzLnBlcm0gJiAyIC8qIElXT1RIICovKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2lkID09PSB0aGlzLmdpZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGVybSAmIDE2IC8qIElXR1JQICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVpZCA9PT0gdGhpcy51aWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlcm0gJiAxMjggLyogSVdVU1IgKi8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS5kZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGVsZXRlJywgdGhpcyk7XG4gICAgfTtcbiAgICBOb2RlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbm86IHRoaXMuaW5vLFxuICAgICAgICAgICAgdWlkOiB0aGlzLnVpZCxcbiAgICAgICAgICAgIGdpZDogdGhpcy5naWQsXG4gICAgICAgICAgICBhdGltZTogdGhpcy5hdGltZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtdGltZTogdGhpcy5tdGltZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBjdGltZTogdGhpcy5jdGltZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBwZXJtOiB0aGlzLnBlcm0sXG4gICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICBubGluazogdGhpcy5ubGluayxcbiAgICAgICAgICAgIHN5bWxpbms6IHRoaXMuc3ltbGluayxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0U3RyaW5nKCksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gTm9kZTtcbn0oZXZlbnRzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLk5vZGUgPSBOb2RlO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgaGFyZCBsaW5rIHRoYXQgcG9pbnRzIHRvIGFuIGktbm9kZSBgbm9kZWAuXG4gKi9cbnZhciBMaW5rID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhMaW5rLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpbmsodm9sLCBwYXJlbnQsIG5hbWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2hpbGRyZW4gPSB7fTtcbiAgICAgICAgLy8gUGF0aCB0byB0aGlzIG5vZGUgYXMgQXJyYXk6IFsndXNyJywgJ2JpbicsICdub2RlJ10uXG4gICAgICAgIF90aGlzLnN0ZXBzID0gW107XG4gICAgICAgIC8vIFwiaS1ub2RlXCIgbnVtYmVyIG9mIHRoZSBub2RlLlxuICAgICAgICBfdGhpcy5pbm8gPSAwO1xuICAgICAgICAvLyBOdW1iZXIgb2YgY2hpbGRyZW4uXG4gICAgICAgIF90aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIF90aGlzLnZvbCA9IHZvbDtcbiAgICAgICAgX3RoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICBfdGhpcy5zdGVwcyA9IHBhcmVudCA/IHBhcmVudC5zdGVwcy5jb25jYXQoW25hbWVdKSA6IFtuYW1lXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBMaW5rLnByb3RvdHlwZS5zZXROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5pbm8gPSBub2RlLmlubztcbiAgICB9O1xuICAgIExpbmsucHJvdG90eXBlLmdldE5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGU7XG4gICAgfTtcbiAgICBMaW5rLnByb3RvdHlwZS5jcmVhdGVDaGlsZCA9IGZ1bmN0aW9uIChuYW1lLCBub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09PSB2b2lkIDApIHsgbm9kZSA9IHRoaXMudm9sLmNyZWF0ZU5vZGUoKTsgfVxuICAgICAgICB2YXIgbGluayA9IG5ldyBMaW5rKHRoaXMudm9sLCB0aGlzLCBuYW1lKTtcbiAgICAgICAgbGluay5zZXROb2RlKG5vZGUpO1xuICAgICAgICBpZiAobm9kZS5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgICAgICAvLyBsaW5rLnNldENoaWxkKCcuJywgbGluayk7XG4gICAgICAgICAgICAvLyBsaW5rLmdldE5vZGUoKS5ubGluaysrO1xuICAgICAgICAgICAgLy8gbGluay5zZXRDaGlsZCgnLi4nLCB0aGlzKTtcbiAgICAgICAgICAgIC8vIHRoaXMuZ2V0Tm9kZSgpLm5saW5rKys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDaGlsZChuYW1lLCBsaW5rKTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfTtcbiAgICBMaW5rLnByb3RvdHlwZS5zZXRDaGlsZCA9IGZ1bmN0aW9uIChuYW1lLCBsaW5rKSB7XG4gICAgICAgIGlmIChsaW5rID09PSB2b2lkIDApIHsgbGluayA9IG5ldyBMaW5rKHRoaXMudm9sLCB0aGlzLCBuYW1lKTsgfVxuICAgICAgICB0aGlzLmNoaWxkcmVuW25hbWVdID0gbGluaztcbiAgICAgICAgbGluay5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLmxlbmd0aCsrO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkOmFkZCcsIGxpbmssIHRoaXMpO1xuICAgICAgICByZXR1cm4gbGluaztcbiAgICB9O1xuICAgIExpbmsucHJvdG90eXBlLmRlbGV0ZUNoaWxkID0gZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuY2hpbGRyZW5bbGluay5nZXROYW1lKCldO1xuICAgICAgICB0aGlzLmxlbmd0aC0tO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkOmRlbGV0ZScsIGxpbmssIHRoaXMpO1xuICAgIH07XG4gICAgTGluay5wcm90b3R5cGUuZ2V0Q2hpbGQgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jaGlsZHJlbiwgbmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW25hbWVdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaW5rLnByb3RvdHlwZS5nZXRQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGVwcy5qb2luKGV4cG9ydHMuU0VQKTtcbiAgICB9O1xuICAgIExpbmsucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0ZXBzW3RoaXMuc3RlcHMubGVuZ3RoIC0gMV07XG4gICAgfTtcbiAgICAvLyBkZWwoKSB7XG4gICAgLy8gICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgIC8vICAgICBpZihwYXJlbnQpIHtcbiAgICAvLyAgICAgICAgIHBhcmVudC5kZWxldGVDaGlsZChsaW5rKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgLy8gICAgIHRoaXMudm9sID0gbnVsbDtcbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogV2FsayB0aGUgdHJlZSBwYXRoIGFuZCByZXR1cm4gdGhlIGBMaW5rYCBhdCB0aGF0IGxvY2F0aW9uLCBpZiBhbnkuXG4gICAgICogQHBhcmFtIHN0ZXBzIHtzdHJpbmdbXX0gRGVzaXJlZCBsb2NhdGlvbi5cbiAgICAgKiBAcGFyYW0gc3RvcCB7bnVtYmVyfSBNYXggc3RlcHMgdG8gZ28gaW50by5cbiAgICAgKiBAcGFyYW0gaSB7bnVtYmVyfSBDdXJyZW50IHN0ZXAgaW4gdGhlIGBzdGVwc2AgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtMaW5rfG51bGx9XG4gICAgICovXG4gICAgTGluay5wcm90b3R5cGUud2FsayA9IGZ1bmN0aW9uIChzdGVwcywgc3RvcCwgaSkge1xuICAgICAgICBpZiAoc3RvcCA9PT0gdm9pZCAwKSB7IHN0b3AgPSBzdGVwcy5sZW5ndGg7IH1cbiAgICAgICAgaWYgKGkgPT09IHZvaWQgMCkgeyBpID0gMDsgfVxuICAgICAgICBpZiAoaSA+PSBzdGVwcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgaWYgKGkgPj0gc3RvcClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB2YXIgc3RlcCA9IHN0ZXBzW2ldO1xuICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0Q2hpbGQoc3RlcCk7XG4gICAgICAgIGlmICghbGluaylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbGluay53YWxrKHN0ZXBzLCBzdG9wLCBpICsgMSk7XG4gICAgfTtcbiAgICBMaW5rLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGVwczogdGhpcy5zdGVwcyxcbiAgICAgICAgICAgIGlubzogdGhpcy5pbm8sXG4gICAgICAgICAgICBjaGlsZHJlbjogT2JqZWN0LmtleXModGhpcy5jaGlsZHJlbiksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gTGluaztcbn0oZXZlbnRzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLkxpbmsgPSBMaW5rO1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIG9wZW4gZmlsZSAoZmlsZSBkZXNjcmlwdG9yKSB0aGF0IHBvaW50cyB0byBhIGBMaW5rYCAoSGFyZC1saW5rKSBhbmQgYSBgTm9kZWAuXG4gKi9cbnZhciBGaWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIE9wZW4gYSBMaW5rLU5vZGUgcGFpci4gYG5vZGVgIGlzIHByb3ZpZGVkIHNlcGFyYXRlbHkgYXMgdGhhdCBtaWdodCBiZSBhIGRpZmZlcmVudCBub2RlXG4gICAgICogcmF0aGVyIHRoZSBvbmUgYGxpbmtgIHBvaW50cyB0bywgYmVjYXVzZSBpdCBtaWdodCBiZSBhIHN5bWxpbmsuXG4gICAgICogQHBhcmFtIGxpbmtcbiAgICAgKiBAcGFyYW0gbm9kZVxuICAgICAqIEBwYXJhbSBmbGFnc1xuICAgICAqIEBwYXJhbSBmZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZpbGUobGluaywgbm9kZSwgZmxhZ3MsIGZkKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGN1cnNvci9vZmZzZXQgcG9zaXRpb24gaW4gYSBmaWxlLCB3aGVyZSBkYXRhIHdpbGwgYmUgd3JpdHRlbiBvbiB3cml0ZS5cbiAgICAgICAgICogVXNlciBjYW4gXCJzZWVrXCIgdGhpcyBwb3NpdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9zaXRpb24gPSAwO1xuICAgICAgICB0aGlzLmxpbmsgPSBsaW5rO1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIHRoaXMuZmQgPSBmZDtcbiAgICB9XG4gICAgRmlsZS5wcm90b3R5cGUuZ2V0U3RyaW5nID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7XG4gICAgICAgIGlmIChlbmNvZGluZyA9PT0gdm9pZCAwKSB7IGVuY29kaW5nID0gJ3V0ZjgnOyB9XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGUuZ2V0U3RyaW5nKCk7XG4gICAgfTtcbiAgICBGaWxlLnByb3RvdHlwZS5zZXRTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHRoaXMubm9kZS5zZXRTdHJpbmcoc3RyKTtcbiAgICB9O1xuICAgIEZpbGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS5nZXRCdWZmZXIoKTtcbiAgICB9O1xuICAgIEZpbGUucHJvdG90eXBlLnNldEJ1ZmZlciA9IGZ1bmN0aW9uIChidWYpIHtcbiAgICAgICAgdGhpcy5ub2RlLnNldEJ1ZmZlcihidWYpO1xuICAgIH07XG4gICAgRmlsZS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS5nZXRTaXplKCk7XG4gICAgfTtcbiAgICBGaWxlLnByb3RvdHlwZS50cnVuY2F0ZSA9IGZ1bmN0aW9uIChsZW4pIHtcbiAgICAgICAgdGhpcy5ub2RlLnRydW5jYXRlKGxlbik7XG4gICAgfTtcbiAgICBGaWxlLnByb3RvdHlwZS5zZWVrVG8gPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIH07XG4gICAgRmlsZS5wcm90b3R5cGUuc3RhdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBTdGF0c18xLmRlZmF1bHQuYnVpbGQodGhpcy5ub2RlKTtcbiAgICB9O1xuICAgIEZpbGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChvZmZzZXQgPT09IHZvaWQgMCkgeyBvZmZzZXQgPSAwOyB9XG4gICAgICAgIGlmIChsZW5ndGggPT09IHZvaWQgMCkgeyBsZW5ndGggPSBidWYubGVuZ3RoOyB9XG4gICAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gIT09ICdudW1iZXInKVxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICBpZiAodGhpcy5mbGFncyAmIE9fQVBQRU5EKVxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLmdldFNpemUoKTtcbiAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ub2RlLndyaXRlKGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uICsgYnl0ZXM7XG4gICAgICAgIHJldHVybiBieXRlcztcbiAgICB9O1xuICAgIEZpbGUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAoYnVmLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pIHtcbiAgICAgICAgaWYgKG9mZnNldCA9PT0gdm9pZCAwKSB7IG9mZnNldCA9IDA7IH1cbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gdm9pZCAwKSB7IGxlbmd0aCA9IGJ1Zi5ieXRlTGVuZ3RoOyB9XG4gICAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gIT09ICdudW1iZXInKVxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICB2YXIgYnl0ZXMgPSB0aGlzLm5vZGUucmVhZChidWYsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbiArIGJ5dGVzO1xuICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfTtcbiAgICBGaWxlLnByb3RvdHlwZS5jaG1vZCA9IGZ1bmN0aW9uIChwZXJtKSB7XG4gICAgICAgIHRoaXMubm9kZS5jaG1vZChwZXJtKTtcbiAgICB9O1xuICAgIEZpbGUucHJvdG90eXBlLmNob3duID0gZnVuY3Rpb24gKHVpZCwgZ2lkKSB7XG4gICAgICAgIHRoaXMubm9kZS5jaG93bih1aWQsIGdpZCk7XG4gICAgfTtcbiAgICByZXR1cm4gRmlsZTtcbn0oKSk7XG5leHBvcnRzLkZpbGUgPSBGaWxlO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBgc2V0VGltZW91dFVucmVmYCBpcyBqdXN0IGxpa2UgYHNldFRpbWVvdXRgLFxuICogb25seSBpbiBOb2RlJ3MgZW52aXJvbm1lbnQgaXQgd2lsbCBcInVucmVmXCIgaXRzIG1hY3JvIHRhc2suXG4gKi9cbmZ1bmN0aW9uIHNldFRpbWVvdXRVbnJlZihjYWxsYmFjaywgdGltZSwgYXJncykge1xuICAgIHZhciByZWYgPSBzZXRUaW1lb3V0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHJlZiAmJiB0eXBlb2YgcmVmID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgcmVmLnVucmVmID09PSAnZnVuY3Rpb24nKVxuICAgICAgICByZWYudW5yZWYoKTtcbiAgICByZXR1cm4gcmVmO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gc2V0VGltZW91dFVucmVmO1xuIiwgIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnYnVmZmVyJyksXG4gICAgQnVmZmVyID0gX3JlcXVpcmUuQnVmZmVyO1xuXG52YXIgX3JlcXVpcmUyID0gcmVxdWlyZSgndXRpbCcpLFxuICAgIGluc3BlY3QgPSBfcmVxdWlyZTIuaW5zcGVjdDtcblxudmFyIGN1c3RvbSA9IGluc3BlY3QgJiYgaW5zcGVjdC5jdXN0b20gfHwgJ2luc3BlY3QnO1xuXG5mdW5jdGlvbiBjb3B5QnVmZmVyKHNyYywgdGFyZ2V0LCBvZmZzZXQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5jb3B5LmNhbGwoc3JjLCB0YXJnZXQsIG9mZnNldCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQnVmZmVyTGlzdCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQnVmZmVyTGlzdCk7XG5cbiAgICB0aGlzLmhlYWQgPSBudWxsO1xuICAgIHRoaXMudGFpbCA9IG51bGw7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJ1ZmZlckxpc3QsIFt7XG4gICAga2V5OiBcInB1c2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaCh2KSB7XG4gICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgIGRhdGE6IHYsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB0aGlzLnRhaWwubmV4dCA9IGVudHJ5O2Vsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gICAgICB0aGlzLnRhaWwgPSBlbnRyeTtcbiAgICAgICsrdGhpcy5sZW5ndGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVuc2hpZnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5zaGlmdCh2KSB7XG4gICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgIGRhdGE6IHYsXG4gICAgICAgIG5leHQ6IHRoaXMuaGVhZFxuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgdGhpcy50YWlsID0gZW50cnk7XG4gICAgICB0aGlzLmhlYWQgPSBlbnRyeTtcbiAgICAgICsrdGhpcy5sZW5ndGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNoaWZ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNoaWZ0KCkge1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICB2YXIgcmV0ID0gdGhpcy5oZWFkLmRhdGE7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDEpIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7ZWxzZSB0aGlzLmhlYWQgPSB0aGlzLmhlYWQubmV4dDtcbiAgICAgIC0tdGhpcy5sZW5ndGg7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjbGVhclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImpvaW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gam9pbihzKSB7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiAnJztcbiAgICAgIHZhciBwID0gdGhpcy5oZWFkO1xuICAgICAgdmFyIHJldCA9ICcnICsgcC5kYXRhO1xuXG4gICAgICB3aGlsZSAocCA9IHAubmV4dCkge1xuICAgICAgICByZXQgKz0gcyArIHAuZGF0YTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29uY2F0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmNhdChuKSB7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiBCdWZmZXIuYWxsb2MoMCk7XG4gICAgICB2YXIgcmV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKG4gPj4+IDApO1xuICAgICAgdmFyIHAgPSB0aGlzLmhlYWQ7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgIGNvcHlCdWZmZXIocC5kYXRhLCByZXQsIGkpO1xuICAgICAgICBpICs9IHAuZGF0YS5sZW5ndGg7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSAvLyBDb25zdW1lcyBhIHNwZWNpZmllZCBhbW91bnQgb2YgYnl0ZXMgb3IgY2hhcmFjdGVycyBmcm9tIHRoZSBidWZmZXJlZCBkYXRhLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29uc3VtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25zdW1lKG4sIGhhc1N0cmluZ3MpIHtcbiAgICAgIHZhciByZXQ7XG5cbiAgICAgIGlmIChuIDwgdGhpcy5oZWFkLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgIC8vIGBzbGljZWAgaXMgdGhlIHNhbWUgZm9yIGJ1ZmZlcnMgYW5kIHN0cmluZ3MuXG4gICAgICAgIHJldCA9IHRoaXMuaGVhZC5kYXRhLnNsaWNlKDAsIG4pO1xuICAgICAgICB0aGlzLmhlYWQuZGF0YSA9IHRoaXMuaGVhZC5kYXRhLnNsaWNlKG4pO1xuICAgICAgfSBlbHNlIGlmIChuID09PSB0aGlzLmhlYWQuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgLy8gRmlyc3QgY2h1bmsgaXMgYSBwZXJmZWN0IG1hdGNoLlxuICAgICAgICByZXQgPSB0aGlzLnNoaWZ0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXN1bHQgc3BhbnMgbW9yZSB0aGFuIG9uZSBidWZmZXIuXG4gICAgICAgIHJldCA9IGhhc1N0cmluZ3MgPyB0aGlzLl9nZXRTdHJpbmcobikgOiB0aGlzLl9nZXRCdWZmZXIobik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpcnN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpcnN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuaGVhZC5kYXRhO1xuICAgIH0gLy8gQ29uc3VtZXMgYSBzcGVjaWZpZWQgYW1vdW50IG9mIGNoYXJhY3RlcnMgZnJvbSB0aGUgYnVmZmVyZWQgZGF0YS5cblxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRTdHJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFN0cmluZyhuKSB7XG4gICAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICAgIHZhciBjID0gMTtcbiAgICAgIHZhciByZXQgPSBwLmRhdGE7XG4gICAgICBuIC09IHJldC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgICAgIHZhciBzdHIgPSBwLmRhdGE7XG4gICAgICAgIHZhciBuYiA9IG4gPiBzdHIubGVuZ3RoID8gc3RyLmxlbmd0aCA6IG47XG4gICAgICAgIGlmIChuYiA9PT0gc3RyLmxlbmd0aCkgcmV0ICs9IHN0cjtlbHNlIHJldCArPSBzdHIuc2xpY2UoMCwgbik7XG4gICAgICAgIG4gLT0gbmI7XG5cbiAgICAgICAgaWYgKG4gPT09IDApIHtcbiAgICAgICAgICBpZiAobmIgPT09IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICsrYztcbiAgICAgICAgICAgIGlmIChwLm5leHQpIHRoaXMuaGVhZCA9IHAubmV4dDtlbHNlIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZCA9IHA7XG4gICAgICAgICAgICBwLmRhdGEgPSBzdHIuc2xpY2UobmIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgKytjO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxlbmd0aCAtPSBjO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9IC8vIENvbnN1bWVzIGEgc3BlY2lmaWVkIGFtb3VudCBvZiBieXRlcyBmcm9tIHRoZSBidWZmZXJlZCBkYXRhLlxuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldEJ1ZmZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0QnVmZmVyKG4pIHtcbiAgICAgIHZhciByZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobik7XG4gICAgICB2YXIgcCA9IHRoaXMuaGVhZDtcbiAgICAgIHZhciBjID0gMTtcbiAgICAgIHAuZGF0YS5jb3B5KHJldCk7XG4gICAgICBuIC09IHAuZGF0YS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChwID0gcC5uZXh0KSB7XG4gICAgICAgIHZhciBidWYgPSBwLmRhdGE7XG4gICAgICAgIHZhciBuYiA9IG4gPiBidWYubGVuZ3RoID8gYnVmLmxlbmd0aCA6IG47XG4gICAgICAgIGJ1Zi5jb3B5KHJldCwgcmV0Lmxlbmd0aCAtIG4sIDAsIG5iKTtcbiAgICAgICAgbiAtPSBuYjtcblxuICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgIGlmIChuYiA9PT0gYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgKytjO1xuICAgICAgICAgICAgaWYgKHAubmV4dCkgdGhpcy5oZWFkID0gcC5uZXh0O2Vsc2UgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWFkID0gcDtcbiAgICAgICAgICAgIHAuZGF0YSA9IGJ1Zi5zbGljZShuYik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICArK2M7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGVuZ3RoIC09IGM7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH0gLy8gTWFrZSBzdXJlIHRoZSBsaW5rZWQgbGlzdCBvbmx5IHNob3dzIHRoZSBtaW5pbWFsIG5lY2Vzc2FyeSBpbmZvcm1hdGlvbi5cblxuICB9LCB7XG4gICAga2V5OiBjdXN0b20sXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKF8sIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBpbnNwZWN0KHRoaXMsIF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMsIHtcbiAgICAgICAgLy8gT25seSBpbnNwZWN0IG9uZSBsZXZlbC5cbiAgICAgICAgZGVwdGg6IDAsXG4gICAgICAgIC8vIEl0IHNob3VsZCBub3QgcmVjdXJzZS5cbiAgICAgICAgY3VzdG9tSW5zcGVjdDogZmFsc2VcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQnVmZmVyTGlzdDtcbn0oKTsiLCAiJ3VzZSBzdHJpY3QnOyAvLyB1bmRvY3VtZW50ZWQgY2IoKSBBUEksIG5lZWRlZCBmb3IgY29yZSwgbm90IGZvciBwdWJsaWMgQVBJXG5cbmZ1bmN0aW9uIGRlc3Ryb3koZXJyLCBjYikge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciByZWFkYWJsZURlc3Ryb3llZCA9IHRoaXMuX3JlYWRhYmxlU3RhdGUgJiYgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIHZhciB3cml0YWJsZURlc3Ryb3llZCA9IHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG5cbiAgaWYgKHJlYWRhYmxlRGVzdHJveWVkIHx8IHdyaXRhYmxlRGVzdHJveWVkKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBjYihlcnIpO1xuICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0RXJyb3JOVCwgdGhpcywgZXJyKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkKSB7XG4gICAgICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0RXJyb3JOVCwgdGhpcywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyB3ZSBzZXQgZGVzdHJveWVkIHRvIHRydWUgYmVmb3JlIGZpcmluZyBlcnJvciBjYWxsYmFja3MgaW4gb3JkZXJcbiAgLy8gdG8gbWFrZSBpdCByZS1lbnRyYW5jZSBzYWZlIGluIGNhc2UgZGVzdHJveSgpIGlzIGNhbGxlZCB3aXRoaW4gY2FsbGJhY2tzXG5cblxuICBpZiAodGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSAvLyBpZiB0aGlzIGlzIGEgZHVwbGV4IHN0cmVhbSBtYXJrIHRoZSB3cml0YWJsZSBwYXJ0IGFzIGRlc3Ryb3llZCBhcyB3ZWxsXG5cblxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gdHJ1ZTtcbiAgfVxuXG4gIHRoaXMuX2Rlc3Ryb3koZXJyIHx8IG51bGwsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoIWNiICYmIGVycikge1xuICAgICAgaWYgKCFfdGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRFcnJvckFuZENsb3NlTlQsIF90aGlzLCBlcnIpO1xuICAgICAgfSBlbHNlIGlmICghX3RoaXMuX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkKSB7XG4gICAgICAgIF90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZCA9IHRydWU7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdEVycm9yQW5kQ2xvc2VOVCwgX3RoaXMsIGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZU5ULCBfdGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2VOVCwgX3RoaXMpO1xuICAgICAgY2IoZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2VOVCwgX3RoaXMpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGVtaXRFcnJvckFuZENsb3NlTlQoc2VsZiwgZXJyKSB7XG4gIGVtaXRFcnJvck5UKHNlbGYsIGVycik7XG4gIGVtaXRDbG9zZU5UKHNlbGYpO1xufVxuXG5mdW5jdGlvbiBlbWl0Q2xvc2VOVChzZWxmKSB7XG4gIGlmIChzZWxmLl93cml0YWJsZVN0YXRlICYmICFzZWxmLl93cml0YWJsZVN0YXRlLmVtaXRDbG9zZSkgcmV0dXJuO1xuICBpZiAoc2VsZi5fcmVhZGFibGVTdGF0ZSAmJiAhc2VsZi5fcmVhZGFibGVTdGF0ZS5lbWl0Q2xvc2UpIHJldHVybjtcbiAgc2VsZi5lbWl0KCdjbG9zZScpO1xufVxuXG5mdW5jdGlvbiB1bmRlc3Ryb3koKSB7XG4gIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlKSB7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSkge1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5maW5hbENhbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3dyaXRhYmxlU3RhdGUucHJlZmluaXNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3JOVChzZWxmLCBlcnIpIHtcbiAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG59XG5cbmZ1bmN0aW9uIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXJyKSB7XG4gIC8vIFdlIGhhdmUgdGVzdHMgdGhhdCByZWx5IG9uIGVycm9ycyBiZWluZyBlbWl0dGVkXG4gIC8vIGluIHRoZSBzYW1lIHRpY2ssIHNvIGNoYW5naW5nIHRoaXMgaXMgc2VtdmVyIG1ham9yLlxuICAvLyBGb3Igbm93IHdoZW4geW91IG9wdC1pbiB0byBhdXRvRGVzdHJveSB3ZSBhbGxvd1xuICAvLyB0aGUgZXJyb3IgdG8gYmUgZW1pdHRlZCBuZXh0VGljay4gSW4gYSBmdXR1cmVcbiAgLy8gc2VtdmVyIG1ham9yIHVwZGF0ZSB3ZSBzaG91bGQgY2hhbmdlIHRoZSBkZWZhdWx0IHRvIHRoaXMuXG4gIHZhciByU3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIHZhciB3U3RhdGUgPSBzdHJlYW0uX3dyaXRhYmxlU3RhdGU7XG4gIGlmIChyU3RhdGUgJiYgclN0YXRlLmF1dG9EZXN0cm95IHx8IHdTdGF0ZSAmJiB3U3RhdGUuYXV0b0Rlc3Ryb3kpIHN0cmVhbS5kZXN0cm95KGVycik7ZWxzZSBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZGVzdHJveTogZGVzdHJveSxcbiAgdW5kZXN0cm95OiB1bmRlc3Ryb3ksXG4gIGVycm9yT3JEZXN0cm95OiBlcnJvck9yRGVzdHJveVxufTsiLCAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGNvZGVzID0ge307XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yVHlwZShjb2RlLCBtZXNzYWdlLCBCYXNlKSB7XG4gIGlmICghQmFzZSkge1xuICAgIEJhc2UgPSBFcnJvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1lc3NhZ2UoYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbWVzc2FnZShhcmcxLCBhcmcyLCBhcmczKTtcbiAgICB9XG4gIH1cblxuICB2YXIgTm9kZUVycm9yID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0Jhc2UpIHtcbiAgICBfaW5oZXJpdHNMb29zZShOb2RlRXJyb3IsIF9CYXNlKTtcblxuICAgIGZ1bmN0aW9uIE5vZGVFcnJvcihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICByZXR1cm4gX0Jhc2UuY2FsbCh0aGlzLCBnZXRNZXNzYWdlKGFyZzEsIGFyZzIsIGFyZzMpKSB8fCB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiBOb2RlRXJyb3I7XG4gIH0oQmFzZSk7XG5cbiAgTm9kZUVycm9yLnByb3RvdHlwZS5uYW1lID0gQmFzZS5uYW1lO1xuICBOb2RlRXJyb3IucHJvdG90eXBlLmNvZGUgPSBjb2RlO1xuICBjb2Rlc1tjb2RlXSA9IE5vZGVFcnJvcjtcbn0gLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvdjEwLjguMC9saWIvaW50ZXJuYWwvZXJyb3JzLmpzXG5cblxuZnVuY3Rpb24gb25lT2YoZXhwZWN0ZWQsIHRoaW5nKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGV4cGVjdGVkKSkge1xuICAgIHZhciBsZW4gPSBleHBlY3RlZC5sZW5ndGg7XG4gICAgZXhwZWN0ZWQgPSBleHBlY3RlZC5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaSk7XG4gICAgfSk7XG5cbiAgICBpZiAobGVuID4gMikge1xuICAgICAgcmV0dXJuIFwib25lIG9mIFwiLmNvbmNhdCh0aGluZywgXCIgXCIpLmNvbmNhdChleHBlY3RlZC5zbGljZSgwLCBsZW4gLSAxKS5qb2luKCcsICcpLCBcIiwgb3IgXCIpICsgZXhwZWN0ZWRbbGVuIC0gMV07XG4gICAgfSBlbHNlIGlmIChsZW4gPT09IDIpIHtcbiAgICAgIHJldHVybiBcIm9uZSBvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRbMF0sIFwiIG9yIFwiKS5jb25jYXQoZXhwZWN0ZWRbMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoZXhwZWN0ZWRbMF0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJvZiBcIi5jb25jYXQodGhpbmcsIFwiIFwiKS5jb25jYXQoU3RyaW5nKGV4cGVjdGVkKSk7XG4gIH1cbn0gLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL3N0YXJ0c1dpdGhcblxuXG5mdW5jdGlvbiBzdGFydHNXaXRoKHN0ciwgc2VhcmNoLCBwb3MpIHtcbiAgcmV0dXJuIHN0ci5zdWJzdHIoIXBvcyB8fCBwb3MgPCAwID8gMCA6ICtwb3MsIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XG59IC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy9lbmRzV2l0aFxuXG5cbmZ1bmN0aW9uIGVuZHNXaXRoKHN0ciwgc2VhcmNoLCB0aGlzX2xlbikge1xuICBpZiAodGhpc19sZW4gPT09IHVuZGVmaW5lZCB8fCB0aGlzX2xlbiA+IHN0ci5sZW5ndGgpIHtcbiAgICB0aGlzX2xlbiA9IHN0ci5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gc3RyLnN1YnN0cmluZyh0aGlzX2xlbiAtIHNlYXJjaC5sZW5ndGgsIHRoaXNfbGVuKSA9PT0gc2VhcmNoO1xufSAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvaW5jbHVkZXNcblxuXG5mdW5jdGlvbiBpbmNsdWRlcyhzdHIsIHNlYXJjaCwgc3RhcnQpIHtcbiAgaWYgKHR5cGVvZiBzdGFydCAhPT0gJ251bWJlcicpIHtcbiAgICBzdGFydCA9IDA7XG4gIH1cblxuICBpZiAoc3RhcnQgKyBzZWFyY2gubGVuZ3RoID4gc3RyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2Yoc2VhcmNoLCBzdGFydCkgIT09IC0xO1xuICB9XG59XG5cbmNyZWF0ZUVycm9yVHlwZSgnRVJSX0lOVkFMSURfT1BUX1ZBTFVFJywgZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiAnVGhlIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGlzIGludmFsaWQgZm9yIG9wdGlvbiBcIicgKyBuYW1lICsgJ1wiJztcbn0sIFR5cGVFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9JTlZBTElEX0FSR19UWVBFJywgZnVuY3Rpb24gKG5hbWUsIGV4cGVjdGVkLCBhY3R1YWwpIHtcbiAgLy8gZGV0ZXJtaW5lcjogJ211c3QgYmUnIG9yICdtdXN0IG5vdCBiZSdcbiAgdmFyIGRldGVybWluZXI7XG5cbiAgaWYgKHR5cGVvZiBleHBlY3RlZCA9PT0gJ3N0cmluZycgJiYgc3RhcnRzV2l0aChleHBlY3RlZCwgJ25vdCAnKSkge1xuICAgIGRldGVybWluZXIgPSAnbXVzdCBub3QgYmUnO1xuICAgIGV4cGVjdGVkID0gZXhwZWN0ZWQucmVwbGFjZSgvXm5vdCAvLCAnJyk7XG4gIH0gZWxzZSB7XG4gICAgZGV0ZXJtaW5lciA9ICdtdXN0IGJlJztcbiAgfVxuXG4gIHZhciBtc2c7XG5cbiAgaWYgKGVuZHNXaXRoKG5hbWUsICcgYXJndW1lbnQnKSkge1xuICAgIC8vIEZvciBjYXNlcyBsaWtlICdmaXJzdCBhcmd1bWVudCdcbiAgICBtc2cgPSBcIlRoZSBcIi5jb25jYXQobmFtZSwgXCIgXCIpLmNvbmNhdChkZXRlcm1pbmVyLCBcIiBcIikuY29uY2F0KG9uZU9mKGV4cGVjdGVkLCAndHlwZScpKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdHlwZSA9IGluY2x1ZGVzKG5hbWUsICcuJykgPyAncHJvcGVydHknIDogJ2FyZ3VtZW50JztcbiAgICBtc2cgPSBcIlRoZSBcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIiBcIikuY29uY2F0KHR5cGUsIFwiIFwiKS5jb25jYXQoZGV0ZXJtaW5lciwgXCIgXCIpLmNvbmNhdChvbmVPZihleHBlY3RlZCwgJ3R5cGUnKSk7XG4gIH1cblxuICBtc2cgKz0gXCIuIFJlY2VpdmVkIHR5cGUgXCIuY29uY2F0KHR5cGVvZiBhY3R1YWwpO1xuICByZXR1cm4gbXNnO1xufSwgVHlwZUVycm9yKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRicsICdzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRicpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCcsIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiAnVGhlICcgKyBuYW1lICsgJyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkJztcbn0pO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRScsICdQcmVtYXR1cmUgY2xvc2UnKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9ERVNUUk9ZRUQnLCBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gJ0Nhbm5vdCBjYWxsICcgKyBuYW1lICsgJyBhZnRlciBhIHN0cmVhbSB3YXMgZGVzdHJveWVkJztcbn0pO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfTVVMVElQTEVfQ0FMTEJBQ0snLCAnQ2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzJyk7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9TVFJFQU1fQ0FOTk9UX1BJUEUnLCAnQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZScpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCcsICd3cml0ZSBhZnRlciBlbmQnKTtcbmNyZWF0ZUVycm9yVHlwZSgnRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUycsICdNYXkgbm90IHdyaXRlIG51bGwgdmFsdWVzIHRvIHN0cmVhbScsIFR5cGVFcnJvcik7XG5jcmVhdGVFcnJvclR5cGUoJ0VSUl9VTktOT1dOX0VOQ09ESU5HJywgZnVuY3Rpb24gKGFyZykge1xuICByZXR1cm4gJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBhcmc7XG59LCBUeXBlRXJyb3IpO1xuY3JlYXRlRXJyb3JUeXBlKCdFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UJywgJ3N0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50Jyk7XG5tb2R1bGUuZXhwb3J0cy5jb2RlcyA9IGNvZGVzO1xuIiwgIid1c2Ugc3RyaWN0JztcblxudmFyIEVSUl9JTlZBTElEX09QVF9WQUxVRSA9IHJlcXVpcmUoJy4uLy4uLy4uL2Vycm9ycycpLmNvZGVzLkVSUl9JTlZBTElEX09QVF9WQUxVRTtcblxuZnVuY3Rpb24gaGlnaFdhdGVyTWFya0Zyb20ob3B0aW9ucywgaXNEdXBsZXgsIGR1cGxleEtleSkge1xuICByZXR1cm4gb3B0aW9ucy5oaWdoV2F0ZXJNYXJrICE9IG51bGwgPyBvcHRpb25zLmhpZ2hXYXRlck1hcmsgOiBpc0R1cGxleCA/IG9wdGlvbnNbZHVwbGV4S2V5XSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldEhpZ2hXYXRlck1hcmsoc3RhdGUsIG9wdGlvbnMsIGR1cGxleEtleSwgaXNEdXBsZXgpIHtcbiAgdmFyIGh3bSA9IGhpZ2hXYXRlck1hcmtGcm9tKG9wdGlvbnMsIGlzRHVwbGV4LCBkdXBsZXhLZXkpO1xuXG4gIGlmIChod20gIT0gbnVsbCkge1xuICAgIGlmICghKGlzRmluaXRlKGh3bSkgJiYgTWF0aC5mbG9vcihod20pID09PSBod20pIHx8IGh3bSA8IDApIHtcbiAgICAgIHZhciBuYW1lID0gaXNEdXBsZXggPyBkdXBsZXhLZXkgOiAnaGlnaFdhdGVyTWFyayc7XG4gICAgICB0aHJvdyBuZXcgRVJSX0lOVkFMSURfT1BUX1ZBTFVFKG5hbWUsIGh3bSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoaHdtKTtcbiAgfSAvLyBEZWZhdWx0IHZhbHVlXG5cblxuICByZXR1cm4gc3RhdGUub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0SGlnaFdhdGVyTWFyazogZ2V0SGlnaFdhdGVyTWFya1xufTsiLCAiXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZGVwcmVjYXRlO1xuXG4vKipcbiAqIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gKiBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuICpcbiAqIElmIGBsb2NhbFN0b3JhZ2Uubm9EZXByZWNhdGlvbiA9IHRydWVgIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuICpcbiAqIElmIGBsb2NhbFN0b3JhZ2UudGhyb3dEZXByZWNhdGlvbiA9IHRydWVgIGlzIHNldCwgdGhlbiBkZXByZWNhdGVkIGZ1bmN0aW9uc1xuICogd2lsbCB0aHJvdyBhbiBFcnJvciB3aGVuIGludm9rZWQuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS50cmFjZURlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGRlcHJlY2F0ZWQgZnVuY3Rpb25zXG4gKiB3aWxsIGludm9rZSBgY29uc29sZS50cmFjZSgpYCBpbnN0ZWFkIG9mIGBjb25zb2xlLmVycm9yKClgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gdGhlIGZ1bmN0aW9uIHRvIGRlcHJlY2F0ZVxuICogQHBhcmFtIHtTdHJpbmd9IG1zZyAtIHRoZSBzdHJpbmcgdG8gcHJpbnQgdG8gdGhlIGNvbnNvbGUgd2hlbiBgZm5gIGlzIGludm9rZWRcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gYSBuZXcgXCJkZXByZWNhdGVkXCIgdmVyc2lvbiBvZiBgZm5gXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZSAoZm4sIG1zZykge1xuICBpZiAoY29uZmlnKCdub0RlcHJlY2F0aW9uJykpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChjb25maWcoJ3Rocm93RGVwcmVjYXRpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgIH0gZWxzZSBpZiAoY29uZmlnKCd0cmFjZURlcHJlY2F0aW9uJykpIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBgbG9jYWxTdG9yYWdlYCBmb3IgYm9vbGVhbiB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBgbmFtZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY29uZmlnIChuYW1lKSB7XG4gIC8vIGFjY2Vzc2luZyBnbG9iYWwubG9jYWxTdG9yYWdlIGNhbiB0cmlnZ2VyIGEgRE9NRXhjZXB0aW9uIGluIHNhbmRib3hlZCBpZnJhbWVzXG4gIHRyeSB7XG4gICAgaWYgKCFnbG9iYWwubG9jYWxTdG9yYWdlKSByZXR1cm4gZmFsc2U7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHZhbCA9IGdsb2JhbC5sb2NhbFN0b3JhZ2VbbmFtZV07XG4gIGlmIChudWxsID09IHZhbCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gU3RyaW5nKHZhbCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xufVxuIiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gQSBiaXQgc2ltcGxlciB0aGFuIHJlYWRhYmxlIHN0cmVhbXMuXG4vLyBJbXBsZW1lbnQgYW4gYXN5bmMgLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIGNiKSwgYW5kIGl0J2xsIGhhbmRsZSBhbGxcbi8vIHRoZSBkcmFpbiBldmVudCBlbWlzc2lvbiBhbmQgYnVmZmVyaW5nLlxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdyaXRhYmxlO1xuLyogPHJlcGxhY2VtZW50PiAqL1xuXG5mdW5jdGlvbiBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICB0aGlzLmNhbGxiYWNrID0gY2I7XG4gIHRoaXMubmV4dCA9IG51bGw7XG59IC8vIEl0IHNlZW1zIGEgbGlua2VkIGxpc3QgYnV0IGl0IGlzIG5vdFxuLy8gdGhlcmUgd2lsbCBiZSBvbmx5IDIgb2YgdGhlc2UgZm9yIGVhY2ggc3RyZWFtXG5cblxuZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHRoaXMubmV4dCA9IG51bGw7XG4gIHRoaXMuZW50cnkgPSBudWxsO1xuXG4gIHRoaXMuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgIG9uQ29ya2VkRmluaXNoKF90aGlzLCBzdGF0ZSk7XG4gIH07XG59XG4vKiA8L3JlcGxhY2VtZW50PiAqL1xuXG4vKjxyZXBsYWNlbWVudD4qL1xuXG5cbnZhciBEdXBsZXg7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuV3JpdGFibGUuV3JpdGFibGVTdGF0ZSA9IFdyaXRhYmxlU3RhdGU7XG4vKjxyZXBsYWNlbWVudD4qL1xuXG52YXIgaW50ZXJuYWxVdGlsID0ge1xuICBkZXByZWNhdGU6IHJlcXVpcmUoJ3V0aWwtZGVwcmVjYXRlJylcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIFN0cmVhbSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0nKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG5cbnZhciBPdXJVaW50OEFycmF5ID0gZ2xvYmFsLlVpbnQ4QXJyYXkgfHwgZnVuY3Rpb24gKCkge307XG5cbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cblxuZnVuY3Rpb24gX2lzVWludDhBcnJheShvYmopIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopIHx8IG9iaiBpbnN0YW5jZW9mIE91clVpbnQ4QXJyYXk7XG59XG5cbnZhciBkZXN0cm95SW1wbCA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9kZXN0cm95Jyk7XG5cbnZhciBfcmVxdWlyZSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdGF0ZScpLFxuICAgIGdldEhpZ2hXYXRlck1hcmsgPSBfcmVxdWlyZS5nZXRIaWdoV2F0ZXJNYXJrO1xuXG52YXIgX3JlcXVpcmUkY29kZXMgPSByZXF1aXJlKCcuLi9lcnJvcnMnKS5jb2RlcyxcbiAgICBFUlJfSU5WQUxJRF9BUkdfVFlQRSA9IF9yZXF1aXJlJGNvZGVzLkVSUl9JTlZBTElEX0FSR19UWVBFLFxuICAgIEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEID0gX3JlcXVpcmUkY29kZXMuRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQsXG4gICAgRVJSX01VTFRJUExFX0NBTExCQUNLID0gX3JlcXVpcmUkY29kZXMuRVJSX01VTFRJUExFX0NBTExCQUNLLFxuICAgIEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX0NBTk5PVF9QSVBFLFxuICAgIEVSUl9TVFJFQU1fREVTVFJPWUVEID0gX3JlcXVpcmUkY29kZXMuRVJSX1NUUkVBTV9ERVNUUk9ZRUQsXG4gICAgRVJSX1NUUkVBTV9OVUxMX1ZBTFVFUyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fTlVMTF9WQUxVRVMsXG4gICAgRVJSX1NUUkVBTV9XUklURV9BRlRFUl9FTkQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCxcbiAgICBFUlJfVU5LTk9XTl9FTkNPRElORyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9VTktOT1dOX0VOQ09ESU5HO1xuXG52YXIgZXJyb3JPckRlc3Ryb3kgPSBkZXN0cm95SW1wbC5lcnJvck9yRGVzdHJveTtcblxucmVxdWlyZSgnaW5oZXJpdHMnKShXcml0YWJsZSwgU3RyZWFtKTtcblxuZnVuY3Rpb24gbm9wKCkge31cblxuZnVuY3Rpb24gV3JpdGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0sIGlzRHVwbGV4KSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBEdXBsZXggc3RyZWFtcyBhcmUgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUsIGJ1dCBzaGFyZVxuICAvLyB0aGUgc2FtZSBvcHRpb25zIG9iamVjdC5cbiAgLy8gSG93ZXZlciwgc29tZSBjYXNlcyByZXF1aXJlIHNldHRpbmcgb3B0aW9ucyB0byBkaWZmZXJlbnRcbiAgLy8gdmFsdWVzIGZvciB0aGUgcmVhZGFibGUgYW5kIHRoZSB3cml0YWJsZSBzaWRlcyBvZiB0aGUgZHVwbGV4IHN0cmVhbSxcbiAgLy8gZS5nLiBvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZSB2cy4gb3B0aW9ucy53cml0YWJsZU9iamVjdE1vZGUsIGV0Yy5cblxuICBpZiAodHlwZW9mIGlzRHVwbGV4ICE9PSAnYm9vbGVhbicpIGlzRHVwbGV4ID0gc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4OyAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW1cbiAgLy8gY29udGFpbnMgYnVmZmVycyBvciBvYmplY3RzLlxuXG4gIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlO1xuICBpZiAoaXNEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlOyAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgdGhhdCB3ZSBhbHdheXMgcmV0dXJuIGZhbHNlIGlmXG4gIC8vIHRoZSBlbnRpcmUgYnVmZmVyIGlzIG5vdCBmbHVzaGVkIGltbWVkaWF0ZWx5IG9uIHdyaXRlKClcblxuICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBnZXRIaWdoV2F0ZXJNYXJrKHRoaXMsIG9wdGlvbnMsICd3cml0YWJsZUhpZ2hXYXRlck1hcmsnLCBpc0R1cGxleCk7IC8vIGlmIF9maW5hbCBoYXMgYmVlbiBjYWxsZWRcblxuICB0aGlzLmZpbmFsQ2FsbGVkID0gZmFsc2U7IC8vIGRyYWluIGV2ZW50IGZsYWcuXG5cbiAgdGhpcy5uZWVkRHJhaW4gPSBmYWxzZTsgLy8gYXQgdGhlIHN0YXJ0IG9mIGNhbGxpbmcgZW5kKClcblxuICB0aGlzLmVuZGluZyA9IGZhbHNlOyAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkXG5cbiAgdGhpcy5lbmRlZCA9IGZhbHNlOyAvLyB3aGVuICdmaW5pc2gnIGlzIGVtaXR0ZWRcblxuICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7IC8vIGhhcyBpdCBiZWVuIGRlc3Ryb3llZFxuXG4gIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7IC8vIHNob3VsZCB3ZSBkZWNvZGUgc3RyaW5ncyBpbnRvIGJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdG8gX3dyaXRlP1xuICAvLyB0aGlzIGlzIGhlcmUgc28gdGhhdCBzb21lIG5vZGUtY29yZSBzdHJlYW1zIGNhbiBvcHRpbWl6ZSBzdHJpbmdcbiAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC5cblxuICB2YXIgbm9EZWNvZGUgPSBvcHRpb25zLmRlY29kZVN0cmluZ3MgPT09IGZhbHNlO1xuICB0aGlzLmRlY29kZVN0cmluZ3MgPSAhbm9EZWNvZGU7IC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7IC8vIG5vdCBhbiBhY3R1YWwgYnVmZmVyIHdlIGtlZXAgdHJhY2sgb2YsIGJ1dCBhIG1lYXN1cmVtZW50XG4gIC8vIG9mIGhvdyBtdWNoIHdlJ3JlIHdhaXRpbmcgdG8gZ2V0IHB1c2hlZCB0byBzb21lIHVuZGVybHlpbmdcbiAgLy8gc29ja2V0IG9yIGZpbGUuXG5cbiAgdGhpcy5sZW5ndGggPSAwOyAvLyBhIGZsYWcgdG8gc2VlIHdoZW4gd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHdyaXRlLlxuXG4gIHRoaXMud3JpdGluZyA9IGZhbHNlOyAvLyB3aGVuIHRydWUgYWxsIHdyaXRlcyB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIC51bmNvcmsoKSBjYWxsXG5cbiAgdGhpcy5jb3JrZWQgPSAwOyAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cblxuICB0aGlzLnN5bmMgPSB0cnVlOyAvLyBhIGZsYWcgdG8ga25vdyBpZiB3ZSdyZSBwcm9jZXNzaW5nIHByZXZpb3VzbHkgYnVmZmVyZWQgaXRlbXMsIHdoaWNoXG4gIC8vIG1heSBjYWxsIHRoZSBfd3JpdGUoKSBjYWxsYmFjayBpbiB0aGUgc2FtZSB0aWNrLCBzbyB0aGF0IHdlIGRvbid0XG4gIC8vIGVuZCB1cCBpbiBhbiBvdmVybGFwcGVkIG9ud3JpdGUgc2l0dWF0aW9uLlxuXG4gIHRoaXMuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlOyAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpXG5cbiAgdGhpcy5vbndyaXRlID0gZnVuY3Rpb24gKGVyKSB7XG4gICAgb253cml0ZShzdHJlYW0sIGVyKTtcbiAgfTsgLy8gdGhlIGNhbGxiYWNrIHRoYXQgdGhlIHVzZXIgc3VwcGxpZXMgdG8gd3JpdGUoY2h1bmssZW5jb2RpbmcsY2IpXG5cblxuICB0aGlzLndyaXRlY2IgPSBudWxsOyAvLyB0aGUgYW1vdW50IHRoYXQgaXMgYmVpbmcgd3JpdHRlbiB3aGVuIF93cml0ZSBpcyBjYWxsZWQuXG5cbiAgdGhpcy53cml0ZWxlbiA9IDA7XG4gIHRoaXMuYnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDsgLy8gbnVtYmVyIG9mIHBlbmRpbmcgdXNlci1zdXBwbGllZCB3cml0ZSBjYWxsYmFja3NcbiAgLy8gdGhpcyBtdXN0IGJlIDAgYmVmb3JlICdmaW5pc2gnIGNhbiBiZSBlbWl0dGVkXG5cbiAgdGhpcy5wZW5kaW5nY2IgPSAwOyAvLyBlbWl0IHByZWZpbmlzaCBpZiB0aGUgb25seSB0aGluZyB3ZSdyZSB3YWl0aW5nIGZvciBpcyBfd3JpdGUgY2JzXG4gIC8vIFRoaXMgaXMgcmVsZXZhbnQgZm9yIHN5bmNocm9ub3VzIFRyYW5zZm9ybSBzdHJlYW1zXG5cbiAgdGhpcy5wcmVmaW5pc2hlZCA9IGZhbHNlOyAvLyBUcnVlIGlmIHRoZSBlcnJvciB3YXMgYWxyZWFkeSBlbWl0dGVkIGFuZCBzaG91bGQgbm90IGJlIHRocm93biBhZ2FpblxuXG4gIHRoaXMuZXJyb3JFbWl0dGVkID0gZmFsc2U7IC8vIFNob3VsZCBjbG9zZSBiZSBlbWl0dGVkIG9uIGRlc3Ryb3kuIERlZmF1bHRzIHRvIHRydWUuXG5cbiAgdGhpcy5lbWl0Q2xvc2UgPSBvcHRpb25zLmVtaXRDbG9zZSAhPT0gZmFsc2U7IC8vIFNob3VsZCAuZGVzdHJveSgpIGJlIGNhbGxlZCBhZnRlciAnZmluaXNoJyAoYW5kIHBvdGVudGlhbGx5ICdlbmQnKVxuXG4gIHRoaXMuYXV0b0Rlc3Ryb3kgPSAhIW9wdGlvbnMuYXV0b0Rlc3Ryb3k7IC8vIGNvdW50IGJ1ZmZlcmVkIHJlcXVlc3RzXG5cbiAgdGhpcy5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7IC8vIGFsbG9jYXRlIHRoZSBmaXJzdCBDb3JrZWRSZXF1ZXN0LCB0aGVyZSBpcyBhbHdheXNcbiAgLy8gb25lIGFsbG9jYXRlZCBhbmQgZnJlZSB0byB1c2UsIGFuZCB3ZSBtYWludGFpbiBhdCBtb3N0IHR3b1xuXG4gIHRoaXMuY29ya2VkUmVxdWVzdHNGcmVlID0gbmV3IENvcmtlZFJlcXVlc3QodGhpcyk7XG59XG5cbldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEJ1ZmZlcigpIHtcbiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDtcbiAgdmFyIG91dCA9IFtdO1xuXG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgb3V0LnB1c2goY3VycmVudCk7XG4gICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59O1xuXG4oZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwgJ2J1ZmZlcicsIHtcbiAgICAgIGdldDogaW50ZXJuYWxVdGlsLmRlcHJlY2F0ZShmdW5jdGlvbiB3cml0YWJsZVN0YXRlQnVmZmVyR2V0dGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTtcbiAgICAgIH0sICdfd3JpdGFibGVTdGF0ZS5idWZmZXIgaXMgZGVwcmVjYXRlZC4gVXNlIF93cml0YWJsZVN0YXRlLmdldEJ1ZmZlciAnICsgJ2luc3RlYWQuJywgJ0RFUDAwMDMnKVxuICAgIH0pO1xuICB9IGNhdGNoIChfKSB7fVxufSkoKTsgLy8gVGVzdCBfd3JpdGFibGVTdGF0ZSBmb3IgaW5oZXJpdGFuY2UgdG8gYWNjb3VudCBmb3IgRHVwbGV4IHN0cmVhbXMsXG4vLyB3aG9zZSBwcm90b3R5cGUgY2hhaW4gb25seSBwb2ludHMgdG8gUmVhZGFibGUuXG5cblxudmFyIHJlYWxIYXNJbnN0YW5jZTtcblxuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmhhc0luc3RhbmNlICYmIHR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXSA9PT0gJ2Z1bmN0aW9uJykge1xuICByZWFsSGFzSW5zdGFuY2UgPSBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUob2JqZWN0KSB7XG4gICAgICBpZiAocmVhbEhhc0luc3RhbmNlLmNhbGwodGhpcywgb2JqZWN0KSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodGhpcyAhPT0gV3JpdGFibGUpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZTtcbiAgICB9XG4gIH0pO1xufSBlbHNlIHtcbiAgcmVhbEhhc0luc3RhbmNlID0gZnVuY3Rpb24gcmVhbEhhc0luc3RhbmNlKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzO1xuICB9O1xufVxuXG5mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKSB7XG4gIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7IC8vIFdyaXRhYmxlIGN0b3IgaXMgYXBwbGllZCB0byBEdXBsZXhlcywgdG9vLlxuICAvLyBgcmVhbEhhc0luc3RhbmNlYCBpcyBuZWNlc3NhcnkgYmVjYXVzZSB1c2luZyBwbGFpbiBgaW5zdGFuY2VvZmBcbiAgLy8gd291bGQgcmV0dXJuIGZhbHNlLCBhcyBubyBgX3dyaXRhYmxlU3RhdGVgIHByb3BlcnR5IGlzIGF0dGFjaGVkLlxuICAvLyBUcnlpbmcgdG8gdXNlIHRoZSBjdXN0b20gYGluc3RhbmNlb2ZgIGZvciBXcml0YWJsZSBoZXJlIHdpbGwgYWxzbyBicmVhayB0aGVcbiAgLy8gTm9kZS5qcyBMYXp5VHJhbnNmb3JtIGltcGxlbWVudGF0aW9uLCB3aGljaCBoYXMgYSBub24tdHJpdmlhbCBnZXR0ZXIgZm9yXG4gIC8vIGBfd3JpdGFibGVTdGF0ZWAgdGhhdCB3b3VsZCBsZWFkIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cbiAgLy8gQ2hlY2tpbmcgZm9yIGEgU3RyZWFtLkR1cGxleCBpbnN0YW5jZSBpcyBmYXN0ZXIgaGVyZSBpbnN0ZWFkIG9mIGluc2lkZVxuICAvLyB0aGUgV3JpdGFibGVTdGF0ZSBjb25zdHJ1Y3RvciwgYXQgbGVhc3Qgd2l0aCBWOCA2LjVcblxuICB2YXIgaXNEdXBsZXggPSB0aGlzIGluc3RhbmNlb2YgRHVwbGV4O1xuICBpZiAoIWlzRHVwbGV4ICYmICFyZWFsSGFzSW5zdGFuY2UuY2FsbChXcml0YWJsZSwgdGhpcykpIHJldHVybiBuZXcgV3JpdGFibGUob3B0aW9ucyk7XG4gIHRoaXMuX3dyaXRhYmxlU3RhdGUgPSBuZXcgV3JpdGFibGVTdGF0ZShvcHRpb25zLCB0aGlzLCBpc0R1cGxleCk7IC8vIGxlZ2FjeS5cblxuICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGUgPSBvcHRpb25zLndyaXRlO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpIHRoaXMuX3dyaXRldiA9IG9wdGlvbnMud3JpdGV2O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maW5hbCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmluYWwgPSBvcHRpb25zLmZpbmFsO1xuICB9XG5cbiAgU3RyZWFtLmNhbGwodGhpcyk7XG59IC8vIE90aGVyd2lzZSBwZW9wbGUgY2FuIHBpcGUgV3JpdGFibGUgc3RyZWFtcywgd2hpY2ggaXMganVzdCB3cm9uZy5cblxuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgZXJyb3JPckRlc3Ryb3kodGhpcywgbmV3IEVSUl9TVFJFQU1fQ0FOTk9UX1BJUEUoKSk7XG59O1xuXG5mdW5jdGlvbiB3cml0ZUFmdGVyRW5kKHN0cmVhbSwgY2IpIHtcbiAgdmFyIGVyID0gbmV3IEVSUl9TVFJFQU1fV1JJVEVfQUZURVJfRU5EKCk7IC8vIFRPRE86IGRlZmVyIGVycm9yIGV2ZW50cyBjb25zaXN0ZW50bHkgZXZlcnl3aGVyZSwgbm90IGp1c3QgdGhlIGNiXG5cbiAgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBlcik7XG4gIHByb2Nlc3MubmV4dFRpY2soY2IsIGVyKTtcbn0gLy8gQ2hlY2tzIHRoYXQgYSB1c2VyLXN1cHBsaWVkIGNodW5rIGlzIHZhbGlkLCBlc3BlY2lhbGx5IGZvciB0aGUgcGFydGljdWxhclxuLy8gbW9kZSB0aGUgc3RyZWFtIGlzIGluLiBDdXJyZW50bHkgdGhpcyBtZWFucyB0aGF0IGBudWxsYCBpcyBuZXZlciBhY2NlcHRlZFxuLy8gYW5kIHVuZGVmaW5lZC9ub24tc3RyaW5nIHZhbHVlcyBhcmUgb25seSBhbGxvd2VkIGluIG9iamVjdCBtb2RlLlxuXG5cbmZ1bmN0aW9uIHZhbGlkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGNiKSB7XG4gIHZhciBlcjtcblxuICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBlciA9IG5ldyBFUlJfU1RSRUFNX05VTExfVkFMVUVTKCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdjaHVuaycsIFsnc3RyaW5nJywgJ0J1ZmZlciddLCBjaHVuayk7XG4gIH1cblxuICBpZiAoZXIpIHtcbiAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgICBwcm9jZXNzLm5leHRUaWNrKGNiLCBlcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbldyaXRhYmxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG4gIHZhciByZXQgPSBmYWxzZTtcblxuICB2YXIgaXNCdWYgPSAhc3RhdGUub2JqZWN0TW9kZSAmJiBfaXNVaW50OEFycmF5KGNodW5rKTtcblxuICBpZiAoaXNCdWYgJiYgIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpIHtcbiAgICBjaHVuayA9IF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gZW5jb2Rpbmc7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9XG5cbiAgaWYgKGlzQnVmKSBlbmNvZGluZyA9ICdidWZmZXInO2Vsc2UgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIGNiID0gbm9wO1xuICBpZiAoc3RhdGUuZW5kaW5nKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmIChpc0J1ZiB8fCB2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgaXNCdWYsIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuY29yayA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrKztcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS51bmNvcmsgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZC0tO1xuICAgIGlmICghc3RhdGUud3JpdGluZyAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkgY2xlYXJCdWZmZXIodGhpcywgc3RhdGUpO1xuICB9XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nID0gZnVuY3Rpb24gc2V0RGVmYXVsdEVuY29kaW5nKGVuY29kaW5nKSB7XG4gIC8vIG5vZGU6OlBhcnNlRW5jb2RpbmcoKSByZXF1aXJlcyBsb3dlciBjYXNlLlxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykgZW5jb2RpbmcgPSBlbmNvZGluZy50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIShbJ2hleCcsICd1dGY4JywgJ3V0Zi04JywgJ2FzY2lpJywgJ2JpbmFyeScsICdiYXNlNjQnLCAndWNzMicsICd1Y3MtMicsICd1dGYxNmxlJywgJ3V0Zi0xNmxlJywgJ3JhdyddLmluZGV4T2YoKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKCkpID4gLTEpKSB0aHJvdyBuZXcgRVJSX1VOS05PV05fRU5DT0RJTkcoZW5jb2RpbmcpO1xuICB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZyA9IGVuY29kaW5nO1xuICByZXR1cm4gdGhpcztcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsICd3cml0YWJsZUJ1ZmZlcicsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIoKTtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIGRlY29kZUNodW5rKHN0YXRlLCBjaHVuaywgZW5jb2RpbmcpIHtcbiAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmIHN0YXRlLmRlY29kZVN0cmluZ3MgIT09IGZhbHNlICYmIHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICBjaHVuayA9IEJ1ZmZlci5mcm9tKGNodW5rLCBlbmNvZGluZyk7XG4gIH1cblxuICByZXR1cm4gY2h1bms7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsICd3cml0YWJsZUhpZ2hXYXRlck1hcmsnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIH1cbn0pOyAvLyBpZiB3ZSdyZSBhbHJlYWR5IHdyaXRpbmcgc29tZXRoaW5nLCB0aGVuIGp1c3QgcHV0IHRoaXNcbi8vIGluIHRoZSBxdWV1ZSwgYW5kIHdhaXQgb3VyIHR1cm4uICBPdGhlcndpc2UsIGNhbGwgX3dyaXRlXG4vLyBJZiB3ZSByZXR1cm4gZmFsc2UsIHRoZW4gd2UgbmVlZCBhIGRyYWluIGV2ZW50LCBzbyBzZXQgdGhhdCBmbGFnLlxuXG5mdW5jdGlvbiB3cml0ZU9yQnVmZmVyKHN0cmVhbSwgc3RhdGUsIGlzQnVmLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGlmICghaXNCdWYpIHtcbiAgICB2YXIgbmV3Q2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTtcblxuICAgIGlmIChjaHVuayAhPT0gbmV3Q2h1bmspIHtcbiAgICAgIGlzQnVmID0gdHJ1ZTtcbiAgICAgIGVuY29kaW5nID0gJ2J1ZmZlcic7XG4gICAgICBjaHVuayA9IG5ld0NodW5rO1xuICAgIH1cbiAgfVxuXG4gIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgc3RhdGUubGVuZ3RoICs9IGxlbjtcbiAgdmFyIHJldCA9IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcms7IC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgcHJldmlvdXMgbmVlZERyYWluIHdpbGwgbm90IGJlIHJlc2V0IHRvIGZhbHNlLlxuXG4gIGlmICghcmV0KSBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS53cml0aW5nIHx8IHN0YXRlLmNvcmtlZCkge1xuICAgIHZhciBsYXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0ge1xuICAgICAgY2h1bms6IGNodW5rLFxuICAgICAgZW5jb2Rpbmc6IGVuY29kaW5nLFxuICAgICAgaXNCdWY6IGlzQnVmLFxuICAgICAgY2FsbGJhY2s6IGNiLFxuICAgICAgbmV4dDogbnVsbFxuICAgIH07XG5cbiAgICBpZiAobGFzdCkge1xuICAgICAgbGFzdC5uZXh0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICB9XG5cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxO1xuICB9IGVsc2Uge1xuICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHdyaXRldiwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHN0YXRlLndyaXRlbGVuID0gbGVuO1xuICBzdGF0ZS53cml0ZWNiID0gY2I7XG4gIHN0YXRlLndyaXRpbmcgPSB0cnVlO1xuICBzdGF0ZS5zeW5jID0gdHJ1ZTtcbiAgaWYgKHN0YXRlLmRlc3Ryb3llZCkgc3RhdGUub253cml0ZShuZXcgRVJSX1NUUkVBTV9ERVNUUk9ZRUQoJ3dyaXRlJykpO2Vsc2UgaWYgKHdyaXRldikgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO2Vsc2Ugc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG5cbiAgaWYgKHN5bmMpIHtcbiAgICAvLyBkZWZlciB0aGUgY2FsbGJhY2sgaWYgd2UgYXJlIGJlaW5nIGNhbGxlZCBzeW5jaHJvbm91c2x5XG4gICAgLy8gdG8gYXZvaWQgcGlsaW5nIHVwIHRoaW5ncyBvbiB0aGUgc3RhY2tcbiAgICBwcm9jZXNzLm5leHRUaWNrKGNiLCBlcik7IC8vIHRoaXMgY2FuIGVtaXQgZmluaXNoLCBhbmQgaXQgd2lsbCBhbHdheXMgaGFwcGVuXG4gICAgLy8gYWZ0ZXIgZXJyb3JcblxuICAgIHByb2Nlc3MubmV4dFRpY2soZmluaXNoTWF5YmUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXIpO1xuICB9IGVsc2Uge1xuICAgIC8vIHRoZSBjYWxsZXIgZXhwZWN0IHRoaXMgdG8gaGFwcGVuIGJlZm9yZSBpZlxuICAgIC8vIGl0IGlzIGFzeW5jXG4gICAgY2IoZXIpO1xuICAgIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICAgIGVycm9yT3JEZXN0cm95KHN0cmVhbSwgZXIpOyAvLyB0aGlzIGNhbiBlbWl0IGZpbmlzaCwgYnV0IGZpbmlzaCBtdXN0XG4gICAgLy8gYWx3YXlzIGZvbGxvdyBlcnJvclxuXG4gICAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKSB7XG4gIHN0YXRlLndyaXRpbmcgPSBmYWxzZTtcbiAgc3RhdGUud3JpdGVjYiA9IG51bGw7XG4gIHN0YXRlLmxlbmd0aCAtPSBzdGF0ZS53cml0ZWxlbjtcbiAgc3RhdGUud3JpdGVsZW4gPSAwO1xufVxuXG5mdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuICB2YXIgc3luYyA9IHN0YXRlLnN5bmM7XG4gIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHRocm93IG5ldyBFUlJfTVVMVElQTEVfQ0FMTEJBQ0soKTtcbiAgb253cml0ZVN0YXRlVXBkYXRlKHN0YXRlKTtcbiAgaWYgKGVyKSBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKTtlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpIHx8IHN0cmVhbS5kZXN0cm95ZWQ7XG5cbiAgICBpZiAoIWZpbmlzaGVkICYmICFzdGF0ZS5jb3JrZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSB7XG4gICAgICBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3luYykge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhhZnRlcldyaXRlLCBzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpIG9ud3JpdGVEcmFpbihzdHJlYW0sIHN0YXRlKTtcbiAgc3RhdGUucGVuZGluZ2NiLS07XG4gIGNiKCk7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xufSAvLyBNdXN0IGZvcmNlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbiBuZXh0VGljaywgc28gdGhhdCB3ZSBkb24ndFxuLy8gZW1pdCAnZHJhaW4nIGJlZm9yZSB0aGUgd3JpdGUoKSBjb25zdW1lciBnZXRzIHRoZSAnZmFsc2UnIHJldHVyblxuLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci5cblxuXG5mdW5jdGlvbiBvbndyaXRlRHJhaW4oc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLm5lZWREcmFpbikge1xuICAgIHN0YXRlLm5lZWREcmFpbiA9IGZhbHNlO1xuICAgIHN0cmVhbS5lbWl0KCdkcmFpbicpO1xuICB9XG59IC8vIGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGluIHRoZSBidWZmZXIgd2FpdGluZywgdGhlbiBwcm9jZXNzIGl0XG5cblxuZnVuY3Rpb24gY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSkge1xuICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gdHJ1ZTtcbiAgdmFyIGVudHJ5ID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0O1xuXG4gIGlmIChzdHJlYW0uX3dyaXRldiAmJiBlbnRyeSAmJiBlbnRyeS5uZXh0KSB7XG4gICAgLy8gRmFzdCBjYXNlLCB3cml0ZSBldmVyeXRoaW5nIHVzaW5nIF93cml0ZXYoKVxuICAgIHZhciBsID0gc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQ7XG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheShsKTtcbiAgICB2YXIgaG9sZGVyID0gc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO1xuICAgIGhvbGRlci5lbnRyeSA9IGVudHJ5O1xuICAgIHZhciBjb3VudCA9IDA7XG4gICAgdmFyIGFsbEJ1ZmZlcnMgPSB0cnVlO1xuXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICBidWZmZXJbY291bnRdID0gZW50cnk7XG4gICAgICBpZiAoIWVudHJ5LmlzQnVmKSBhbGxCdWZmZXJzID0gZmFsc2U7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH1cblxuICAgIGJ1ZmZlci5hbGxCdWZmZXJzID0gYWxsQnVmZmVycztcbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHRydWUsIHN0YXRlLmxlbmd0aCwgYnVmZmVyLCAnJywgaG9sZGVyLmZpbmlzaCk7IC8vIGRvV3JpdGUgaXMgYWxtb3N0IGFsd2F5cyBhc3luYywgZGVmZXIgdGhlc2UgdG8gc2F2ZSBhIGJpdCBvZiB0aW1lXG4gICAgLy8gYXMgdGhlIGhvdCBwYXRoIGVuZHMgd2l0aCBkb1dyaXRlXG5cbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcblxuICAgIGlmIChob2xkZXIubmV4dCkge1xuICAgICAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlID0gaG9sZGVyLm5leHQ7XG4gICAgICBob2xkZXIubmV4dCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZSA9IG5ldyBDb3JrZWRSZXF1ZXN0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2xvdyBjYXNlLCB3cml0ZSBjaHVua3Mgb25lLWJ5LW9uZVxuICAgIHdoaWxlIChlbnRyeSkge1xuICAgICAgdmFyIGNodW5rID0gZW50cnkuY2h1bms7XG4gICAgICB2YXIgZW5jb2RpbmcgPSBlbnRyeS5lbmNvZGluZztcbiAgICAgIHZhciBjYiA9IGVudHJ5LmNhbGxiYWNrO1xuICAgICAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICAgICAgZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCBmYWxzZSwgbGVuLCBjaHVuaywgZW5jb2RpbmcsIGNiKTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50LS07IC8vIGlmIHdlIGRpZG4ndCBjYWxsIHRoZSBvbndyaXRlIGltbWVkaWF0ZWx5LCB0aGVuXG4gICAgICAvLyBpdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gd2FpdCB1bnRpbCBpdCBkb2VzLlxuICAgICAgLy8gYWxzbywgdGhhdCBtZWFucyB0aGF0IHRoZSBjaHVuayBhbmQgY2IgYXJlIGN1cnJlbnRseVxuICAgICAgLy8gYmVpbmcgcHJvY2Vzc2VkLCBzbyBtb3ZlIHRoZSBidWZmZXIgY291bnRlciBwYXN0IHRoZW0uXG5cbiAgICAgIGlmIChzdGF0ZS53cml0aW5nKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbnRyeSA9PT0gbnVsbCkgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gIH1cblxuICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBlbnRyeTtcbiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlO1xufVxuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEKCdfd3JpdGUoKScpKTtcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS5fd3JpdGV2ID0gbnVsbDtcblxuV3JpdGFibGUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gY2h1bms7XG4gICAgY2h1bmsgPSBudWxsO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGlmIChjaHVuayAhPT0gbnVsbCAmJiBjaHVuayAhPT0gdW5kZWZpbmVkKSB0aGlzLndyaXRlKGNodW5rLCBlbmNvZGluZyk7IC8vIC5lbmQoKSBmdWxseSB1bmNvcmtzXG5cbiAgaWYgKHN0YXRlLmNvcmtlZCkge1xuICAgIHN0YXRlLmNvcmtlZCA9IDE7XG4gICAgdGhpcy51bmNvcmsoKTtcbiAgfSAvLyBpZ25vcmUgdW5uZWNlc3NhcnkgZW5kKCkgY2FsbHMuXG5cblxuICBpZiAoIXN0YXRlLmVuZGluZykgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLCAnd3JpdGFibGVMZW5ndGgnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlLmVuZGluZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID09PSBudWxsICYmICFzdGF0ZS5maW5pc2hlZCAmJiAhc3RhdGUud3JpdGluZztcbn1cblxuZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSwgc3RhdGUpIHtcbiAgc3RyZWFtLl9maW5hbChmdW5jdGlvbiAoZXJyKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiLS07XG5cbiAgICBpZiAoZXJyKSB7XG4gICAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVycik7XG4gICAgfVxuXG4gICAgc3RhdGUucHJlZmluaXNoZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5lbWl0KCdwcmVmaW5pc2gnKTtcbiAgICBmaW5pc2hNYXliZShzdHJlYW0sIHN0YXRlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKSB7XG4gIGlmICghc3RhdGUucHJlZmluaXNoZWQgJiYgIXN0YXRlLmZpbmFsQ2FsbGVkKSB7XG4gICAgaWYgKHR5cGVvZiBzdHJlYW0uX2ZpbmFsID09PSAnZnVuY3Rpb24nICYmICFzdGF0ZS5kZXN0cm95ZWQpIHtcbiAgICAgIHN0YXRlLnBlbmRpbmdjYisrO1xuICAgICAgc3RhdGUuZmluYWxDYWxsZWQgPSB0cnVlO1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjYWxsRmluYWwsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5wcmVmaW5pc2hlZCA9IHRydWU7XG4gICAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpIHtcbiAgdmFyIG5lZWQgPSBuZWVkRmluaXNoKHN0YXRlKTtcblxuICBpZiAobmVlZCkge1xuICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcblxuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcblxuICAgICAgaWYgKHN0YXRlLmF1dG9EZXN0cm95KSB7XG4gICAgICAgIC8vIEluIGNhc2Ugb2YgZHVwbGV4IHN0cmVhbXMgd2UgbmVlZCBhIHdheSB0byBkZXRlY3RcbiAgICAgICAgLy8gaWYgdGhlIHJlYWRhYmxlIHNpZGUgaXMgcmVhZHkgZm9yIGF1dG9EZXN0cm95IGFzIHdlbGxcbiAgICAgICAgdmFyIHJTdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcblxuICAgICAgICBpZiAoIXJTdGF0ZSB8fCByU3RhdGUuYXV0b0Rlc3Ryb3kgJiYgclN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICAgICAgICBzdHJlYW0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5lZWQ7XG59XG5cbmZ1bmN0aW9uIGVuZFdyaXRhYmxlKHN0cmVhbSwgc3RhdGUsIGNiKSB7XG4gIHN0YXRlLmVuZGluZyA9IHRydWU7XG4gIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpO1xuXG4gIGlmIChjYikge1xuICAgIGlmIChzdGF0ZS5maW5pc2hlZCkgcHJvY2Vzcy5uZXh0VGljayhjYik7ZWxzZSBzdHJlYW0ub25jZSgnZmluaXNoJywgY2IpO1xuICB9XG5cbiAgc3RhdGUuZW5kZWQgPSB0cnVlO1xuICBzdHJlYW0ud3JpdGFibGUgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gb25Db3JrZWRGaW5pc2goY29ya1JlcSwgc3RhdGUsIGVycikge1xuICB2YXIgZW50cnkgPSBjb3JrUmVxLmVudHJ5O1xuICBjb3JrUmVxLmVudHJ5ID0gbnVsbDtcblxuICB3aGlsZSAoZW50cnkpIHtcbiAgICB2YXIgY2IgPSBlbnRyeS5jYWxsYmFjaztcbiAgICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgICBjYihlcnIpO1xuICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgfSAvLyByZXVzZSB0aGUgZnJlZSBjb3JrUmVxLlxuXG5cbiAgc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlLm5leHQgPSBjb3JrUmVxO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLCAnZGVzdHJveWVkJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgIC8vIHdlIGlnbm9yZSB0aGUgdmFsdWUgaWYgdGhlIHN0cmVhbVxuICAgIC8vIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXRcbiAgICBpZiAoIXRoaXMuX3dyaXRhYmxlU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIHRoZSB1c2VyIGlzIGV4cGxpY2l0bHlcbiAgICAvLyBtYW5hZ2luZyBkZXN0cm95ZWRcblxuXG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7XG5Xcml0YWJsZS5wcm90b3R5cGUuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLmRlc3Ryb3k7XG5Xcml0YWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveSA9IGRlc3Ryb3lJbXBsLnVuZGVzdHJveTtcblxuV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgY2IoZXJyKTtcbn07IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy8gYSBkdXBsZXggc3RyZWFtIGlzIGp1c3QgYSBzdHJlYW0gdGhhdCBpcyBib3RoIHJlYWRhYmxlIGFuZCB3cml0YWJsZS5cbi8vIFNpbmNlIEpTIGRvZXNuJ3QgaGF2ZSBtdWx0aXBsZSBwcm90b3R5cGFsIGluaGVyaXRhbmNlLCB0aGlzIGNsYXNzXG4vLyBwcm90b3R5cGFsbHkgaW5oZXJpdHMgZnJvbSBSZWFkYWJsZSwgYW5kIHRoZW4gcGFyYXNpdGljYWxseSBmcm9tXG4vLyBXcml0YWJsZS5cbid1c2Ugc3RyaWN0Jztcbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgfVxuXG4gIHJldHVybiBrZXlzO1xufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbm1vZHVsZS5leHBvcnRzID0gRHVwbGV4O1xuXG52YXIgUmVhZGFibGUgPSByZXF1aXJlKCcuL19zdHJlYW1fcmVhZGFibGUnKTtcblxudmFyIFdyaXRhYmxlID0gcmVxdWlyZSgnLi9fc3RyZWFtX3dyaXRhYmxlJyk7XG5cbnJlcXVpcmUoJ2luaGVyaXRzJykoRHVwbGV4LCBSZWFkYWJsZSk7XG5cbntcbiAgLy8gQWxsb3cgdGhlIGtleXMgYXJyYXkgdG8gYmUgR0MnZWQuXG4gIHZhciBrZXlzID0gb2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpO1xuXG4gIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgIHZhciBtZXRob2QgPSBrZXlzW3ZdO1xuICAgIGlmICghRHVwbGV4LnByb3RvdHlwZVttZXRob2RdKSBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBEdXBsZXgob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSkgcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7XG4gIFJlYWRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIFdyaXRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gIHRoaXMuYWxsb3dIYWxmT3BlbiA9IHRydWU7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5yZWFkYWJsZSA9PT0gZmFsc2UpIHRoaXMucmVhZGFibGUgPSBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy53cml0YWJsZSA9PT0gZmFsc2UpIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcblxuICAgIGlmIChvcHRpb25zLmFsbG93SGFsZk9wZW4gPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmFsbG93SGFsZk9wZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMub25jZSgnZW5kJywgb25lbmQpO1xuICAgIH1cbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ3dyaXRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ3dyaXRhYmxlQnVmZmVyJywge1xuICAvLyBtYWtpbmcgaXQgZXhwbGljaXQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgZW51bWVyYWJsZVxuICAvLyBiZWNhdXNlIG90aGVyd2lzZSBzb21lIHByb3RvdHlwZSBtYW5pcHVsYXRpb24gaW5cbiAgLy8gdXNlcmxhbmQgd2lsbCBmYWlsXG4gIGVudW1lcmFibGU6IGZhbHNlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JpdGFibGVTdGF0ZSAmJiB0aGlzLl93cml0YWJsZVN0YXRlLmdldEJ1ZmZlcigpO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLCAnd3JpdGFibGVMZW5ndGgnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmxlbmd0aDtcbiAgfVxufSk7IC8vIHRoZSBuby1oYWxmLW9wZW4gZW5mb3JjZXJcblxuZnVuY3Rpb24gb25lbmQoKSB7XG4gIC8vIElmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLCB0aGVuIHdlJ3JlIG9rLlxuICBpZiAodGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgcmV0dXJuOyAvLyBubyBtb3JlIGRhdGEgY2FuIGJlIHdyaXR0ZW4uXG4gIC8vIEJ1dCBhbGxvdyBtb3JlIHdyaXRlcyB0byBoYXBwZW4gaW4gdGhpcyB0aWNrLlxuXG4gIHByb2Nlc3MubmV4dFRpY2sob25FbmROVCwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIG9uRW5kTlQoc2VsZikge1xuICBzZWxmLmVuZCgpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSwgJ2Rlc3Ryb3llZCcsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl93cml0YWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQgJiYgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQgfHwgdGhpcy5fd3JpdGFibGVTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCB0aGUgdXNlciBpcyBleHBsaWNpdGx5XG4gICAgLy8gbWFuYWdpbmcgZGVzdHJveWVkXG5cblxuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkID0gdmFsdWU7XG4gICAgdGhpcy5fd3JpdGFibGVTdGF0ZS5kZXN0cm95ZWQgPSB2YWx1ZTtcbiAgfVxufSk7IiwgIi8qISBzYWZlLWJ1ZmZlci4gTUlUIExpY2Vuc2UuIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZy9vcGVuc291cmNlPiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm9kZS9uby1kZXByZWNhdGVkLWFwaSAqL1xudmFyIGJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpXG52YXIgQnVmZmVyID0gYnVmZmVyLkJ1ZmZlclxuXG4vLyBhbHRlcm5hdGl2ZSB0byB1c2luZyBPYmplY3Qua2V5cyBmb3Igb2xkIGJyb3dzZXJzXG5mdW5jdGlvbiBjb3B5UHJvcHMgKHNyYywgZHN0KSB7XG4gIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICBkc3Rba2V5XSA9IHNyY1trZXldXG4gIH1cbn1cbmlmIChCdWZmZXIuZnJvbSAmJiBCdWZmZXIuYWxsb2MgJiYgQnVmZmVyLmFsbG9jVW5zYWZlICYmIEJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBidWZmZXJcbn0gZWxzZSB7XG4gIC8vIENvcHkgcHJvcGVydGllcyBmcm9tIHJlcXVpcmUoJ2J1ZmZlcicpXG4gIGNvcHlQcm9wcyhidWZmZXIsIGV4cG9ydHMpXG4gIGV4cG9ydHMuQnVmZmVyID0gU2FmZUJ1ZmZlclxufVxuXG5mdW5jdGlvbiBTYWZlQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5TYWZlQnVmZmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQnVmZmVyLnByb3RvdHlwZSlcblxuLy8gQ29weSBzdGF0aWMgbWV0aG9kcyBmcm9tIEJ1ZmZlclxuY29weVByb3BzKEJ1ZmZlciwgU2FmZUJ1ZmZlcilcblxuU2FmZUJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuICByZXR1cm4gQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5TYWZlQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuICB2YXIgYnVmID0gQnVmZmVyKHNpemUpXG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgYnVmLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1Zi5maWxsKGZpbGwpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGJ1Zi5maWxsKDApXG4gIH1cbiAgcmV0dXJuIGJ1ZlxufVxuXG5TYWZlQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9XG4gIHJldHVybiBCdWZmZXIoc2l6ZSlcbn1cblxuU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlci5TbG93QnVmZmVyKHNpemUpXG59XG4iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBpc0VuY29kaW5nID0gQnVmZmVyLmlzRW5jb2RpbmcgfHwgZnVuY3Rpb24gKGVuY29kaW5nKSB7XG4gIGVuY29kaW5nID0gJycgKyBlbmNvZGluZztcbiAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpjYXNlICd1dGY4JzpjYXNlICd1dGYtOCc6Y2FzZSAnYXNjaWknOmNhc2UgJ2JpbmFyeSc6Y2FzZSAnYmFzZTY0JzpjYXNlICd1Y3MyJzpjYXNlICd1Y3MtMic6Y2FzZSAndXRmMTZsZSc6Y2FzZSAndXRmLTE2bGUnOmNhc2UgJ3Jhdyc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfbm9ybWFsaXplRW5jb2RpbmcoZW5jKSB7XG4gIGlmICghZW5jKSByZXR1cm4gJ3V0ZjgnO1xuICB2YXIgcmV0cmllZDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuYykge1xuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiAndXRmOCc7XG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gJ3V0ZjE2bGUnO1xuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiAnbGF0aW4xJztcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gZW5jO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHJldHJpZWQpIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICAgIGVuYyA9ICgnJyArIGVuYykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgcmV0cmllZCA9IHRydWU7XG4gICAgfVxuICB9XG59O1xuXG4vLyBEbyBub3QgY2FjaGUgYEJ1ZmZlci5pc0VuY29kaW5nYCB3aGVuIGNoZWNraW5nIGVuY29kaW5nIG5hbWVzIGFzIHNvbWVcbi8vIG1vZHVsZXMgbW9ua2V5LXBhdGNoIGl0IHRvIHN1cHBvcnQgYWRkaXRpb25hbCBlbmNvZGluZ3NcbmZ1bmN0aW9uIG5vcm1hbGl6ZUVuY29kaW5nKGVuYykge1xuICB2YXIgbmVuYyA9IF9ub3JtYWxpemVFbmNvZGluZyhlbmMpO1xuICBpZiAodHlwZW9mIG5lbmMgIT09ICdzdHJpbmcnICYmIChCdWZmZXIuaXNFbmNvZGluZyA9PT0gaXNFbmNvZGluZyB8fCAhaXNFbmNvZGluZyhlbmMpKSkgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jKTtcbiAgcmV0dXJuIG5lbmMgfHwgZW5jO1xufVxuXG4vLyBTdHJpbmdEZWNvZGVyIHByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgZWZmaWNpZW50bHkgc3BsaXR0aW5nIGEgc2VyaWVzIG9mXG4vLyBidWZmZXJzIGludG8gYSBzZXJpZXMgb2YgSlMgc3RyaW5ncyB3aXRob3V0IGJyZWFraW5nIGFwYXJ0IG11bHRpLWJ5dGVcbi8vIGNoYXJhY3RlcnMuXG5leHBvcnRzLlN0cmluZ0RlY29kZXIgPSBTdHJpbmdEZWNvZGVyO1xuZnVuY3Rpb24gU3RyaW5nRGVjb2RlcihlbmNvZGluZykge1xuICB0aGlzLmVuY29kaW5nID0gbm9ybWFsaXplRW5jb2RpbmcoZW5jb2RpbmcpO1xuICB2YXIgbmI7XG4gIHN3aXRjaCAodGhpcy5lbmNvZGluZykge1xuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgdGhpcy50ZXh0ID0gdXRmMTZUZXh0O1xuICAgICAgdGhpcy5lbmQgPSB1dGYxNkVuZDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgdGhpcy5maWxsTGFzdCA9IHV0ZjhGaWxsTGFzdDtcbiAgICAgIG5iID0gNDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICB0aGlzLnRleHQgPSBiYXNlNjRUZXh0O1xuICAgICAgdGhpcy5lbmQgPSBiYXNlNjRFbmQ7XG4gICAgICBuYiA9IDM7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy53cml0ZSA9IHNpbXBsZVdyaXRlO1xuICAgICAgdGhpcy5lbmQgPSBzaW1wbGVFbmQ7XG4gICAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIHRoaXMubGFzdFRvdGFsID0gMDtcbiAgdGhpcy5sYXN0Q2hhciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShuYik7XG59XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAoYnVmLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnO1xuICB2YXIgcjtcbiAgdmFyIGk7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSB7XG4gICAgciA9IHRoaXMuZmlsbExhc3QoYnVmKTtcbiAgICBpZiAociA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gICAgaSA9IHRoaXMubGFzdE5lZWQ7XG4gICAgdGhpcy5sYXN0TmVlZCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgaSA9IDA7XG4gIH1cbiAgaWYgKGkgPCBidWYubGVuZ3RoKSByZXR1cm4gciA/IHIgKyB0aGlzLnRleHQoYnVmLCBpKSA6IHRoaXMudGV4dChidWYsIGkpO1xuICByZXR1cm4gciB8fCAnJztcbn07XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IHV0ZjhFbmQ7XG5cbi8vIFJldHVybnMgb25seSBjb21wbGV0ZSBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS50ZXh0ID0gdXRmOFRleHQ7XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgcGFydGlhbCBub24tVVRGLTggY2hhcmFjdGVyIHVzaW5nIGJ5dGVzIGZyb20gYSBCdWZmZXJcblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmZpbGxMYXN0ID0gZnVuY3Rpb24gKGJ1Zikge1xuICBpZiAodGhpcy5sYXN0TmVlZCA8PSBidWYubGVuZ3RoKSB7XG4gICAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCB0aGlzLmxhc3ROZWVkKTtcbiAgICByZXR1cm4gdGhpcy5sYXN0Q2hhci50b1N0cmluZyh0aGlzLmVuY29kaW5nLCAwLCB0aGlzLmxhc3RUb3RhbCk7XG4gIH1cbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufTtcblxuLy8gQ2hlY2tzIHRoZSB0eXBlIG9mIGEgVVRGLTggYnl0ZSwgd2hldGhlciBpdCdzIEFTQ0lJLCBhIGxlYWRpbmcgYnl0ZSwgb3IgYVxuLy8gY29udGludWF0aW9uIGJ5dGUuIElmIGFuIGludmFsaWQgYnl0ZSBpcyBkZXRlY3RlZCwgLTIgaXMgcmV0dXJuZWQuXG5mdW5jdGlvbiB1dGY4Q2hlY2tCeXRlKGJ5dGUpIHtcbiAgaWYgKGJ5dGUgPD0gMHg3RikgcmV0dXJuIDA7ZWxzZSBpZiAoYnl0ZSA+PiA1ID09PSAweDA2KSByZXR1cm4gMjtlbHNlIGlmIChieXRlID4+IDQgPT09IDB4MEUpIHJldHVybiAzO2Vsc2UgaWYgKGJ5dGUgPj4gMyA9PT0gMHgxRSkgcmV0dXJuIDQ7XG4gIHJldHVybiBieXRlID4+IDYgPT09IDB4MDIgPyAtMSA6IC0yO1xufVxuXG4vLyBDaGVja3MgYXQgbW9zdCAzIGJ5dGVzIGF0IHRoZSBlbmQgb2YgYSBCdWZmZXIgaW4gb3JkZXIgdG8gZGV0ZWN0IGFuXG4vLyBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyLiBUaGUgdG90YWwgbnVtYmVyIG9mIGJ5dGVzICgyLCAzLCBvciA0KVxuLy8gbmVlZGVkIHRvIGNvbXBsZXRlIHRoZSBVVEYtOCBjaGFyYWN0ZXIgKGlmIGFwcGxpY2FibGUpIGFyZSByZXR1cm5lZC5cbmZ1bmN0aW9uIHV0ZjhDaGVja0luY29tcGxldGUoc2VsZiwgYnVmLCBpKSB7XG4gIHZhciBqID0gYnVmLmxlbmd0aCAtIDE7XG4gIGlmIChqIDwgaSkgcmV0dXJuIDA7XG4gIHZhciBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAxO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSBzZWxmLmxhc3ROZWVkID0gbmIgLSAyO1xuICAgIHJldHVybiBuYjtcbiAgfVxuICBpZiAoLS1qIDwgaSB8fCBuYiA9PT0gLTIpIHJldHVybiAwO1xuICBuYiA9IHV0ZjhDaGVja0J5dGUoYnVmW2pdKTtcbiAgaWYgKG5iID49IDApIHtcbiAgICBpZiAobmIgPiAwKSB7XG4gICAgICBpZiAobmIgPT09IDIpIG5iID0gMDtlbHNlIHNlbGYubGFzdE5lZWQgPSBuYiAtIDM7XG4gICAgfVxuICAgIHJldHVybiBuYjtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuLy8gVmFsaWRhdGVzIGFzIG1hbnkgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIG11bHRpLWJ5dGUgVVRGLTggY2hhcmFjdGVyIGFzXG4vLyBuZWVkZWQgb3IgYXJlIGF2YWlsYWJsZS4gSWYgd2Ugc2VlIGEgbm9uLWNvbnRpbnVhdGlvbiBieXRlIHdoZXJlIHdlIGV4cGVjdFxuLy8gb25lLCB3ZSBcInJlcGxhY2VcIiB0aGUgdmFsaWRhdGVkIGNvbnRpbnVhdGlvbiBieXRlcyB3ZSd2ZSBzZWVuIHNvIGZhciB3aXRoXG4vLyBhIHNpbmdsZSBVVEYtOCByZXBsYWNlbWVudCBjaGFyYWN0ZXIgKCdcXHVmZmZkJyksIHRvIG1hdGNoIHY4J3MgVVRGLTggZGVjb2Rpbmdcbi8vIGJlaGF2aW9yLiBUaGUgY29udGludWF0aW9uIGJ5dGUgY2hlY2sgaXMgaW5jbHVkZWQgdGhyZWUgdGltZXMgaW4gdGhlIGNhc2Vcbi8vIHdoZXJlIGFsbCBvZiB0aGUgY29udGludWF0aW9uIGJ5dGVzIGZvciBhIGNoYXJhY3RlciBleGlzdCBpbiB0aGUgc2FtZSBidWZmZXIuXG4vLyBJdCBpcyBhbHNvIGRvbmUgdGhpcyB3YXkgYXMgYSBzbGlnaHQgcGVyZm9ybWFuY2UgaW5jcmVhc2UgaW5zdGVhZCBvZiB1c2luZyBhXG4vLyBsb29wLlxuZnVuY3Rpb24gdXRmOENoZWNrRXh0cmFCeXRlcyhzZWxmLCBidWYsIHApIHtcbiAgaWYgKChidWZbMF0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgIHNlbGYubGFzdE5lZWQgPSAwO1xuICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gIH1cbiAgaWYgKHNlbGYubGFzdE5lZWQgPiAxICYmIGJ1Zi5sZW5ndGggPiAxKSB7XG4gICAgaWYgKChidWZbMV0gJiAweEMwKSAhPT0gMHg4MCkge1xuICAgICAgc2VsZi5sYXN0TmVlZCA9IDE7XG4gICAgICByZXR1cm4gJ1xcdWZmZmQnO1xuICAgIH1cbiAgICBpZiAoc2VsZi5sYXN0TmVlZCA+IDIgJiYgYnVmLmxlbmd0aCA+IDIpIHtcbiAgICAgIGlmICgoYnVmWzJdICYgMHhDMCkgIT09IDB4ODApIHtcbiAgICAgICAgc2VsZi5sYXN0TmVlZCA9IDI7XG4gICAgICAgIHJldHVybiAnXFx1ZmZmZCc7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIEF0dGVtcHRzIHRvIGNvbXBsZXRlIGEgbXVsdGktYnl0ZSBVVEYtOCBjaGFyYWN0ZXIgdXNpbmcgYnl0ZXMgZnJvbSBhIEJ1ZmZlci5cbmZ1bmN0aW9uIHV0ZjhGaWxsTGFzdChidWYpIHtcbiAgdmFyIHAgPSB0aGlzLmxhc3RUb3RhbCAtIHRoaXMubGFzdE5lZWQ7XG4gIHZhciByID0gdXRmOENoZWNrRXh0cmFCeXRlcyh0aGlzLCBidWYsIHApO1xuICBpZiAociAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcjtcbiAgaWYgKHRoaXMubGFzdE5lZWQgPD0gYnVmLmxlbmd0aCkge1xuICAgIGJ1Zi5jb3B5KHRoaXMubGFzdENoYXIsIHAsIDAsIHRoaXMubGFzdE5lZWQpO1xuICAgIHJldHVybiB0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIHRoaXMubGFzdFRvdGFsKTtcbiAgfVxuICBidWYuY29weSh0aGlzLmxhc3RDaGFyLCBwLCAwLCBidWYubGVuZ3RoKTtcbiAgdGhpcy5sYXN0TmVlZCAtPSBidWYubGVuZ3RoO1xufVxuXG4vLyBSZXR1cm5zIGFsbCBjb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXJzIGluIGEgQnVmZmVyLiBJZiB0aGUgQnVmZmVyIGVuZGVkIG9uIGFcbi8vIHBhcnRpYWwgY2hhcmFjdGVyLCB0aGUgY2hhcmFjdGVyJ3MgYnl0ZXMgYXJlIGJ1ZmZlcmVkIHVudGlsIHRoZSByZXF1aXJlZFxuLy8gbnVtYmVyIG9mIGJ5dGVzIGFyZSBhdmFpbGFibGUuXG5mdW5jdGlvbiB1dGY4VGV4dChidWYsIGkpIHtcbiAgdmFyIHRvdGFsID0gdXRmOENoZWNrSW5jb21wbGV0ZSh0aGlzLCBidWYsIGkpO1xuICBpZiAoIXRoaXMubGFzdE5lZWQpIHJldHVybiBidWYudG9TdHJpbmcoJ3V0ZjgnLCBpKTtcbiAgdGhpcy5sYXN0VG90YWwgPSB0b3RhbDtcbiAgdmFyIGVuZCA9IGJ1Zi5sZW5ndGggLSAodG90YWwgLSB0aGlzLmxhc3ROZWVkKTtcbiAgYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwgMCwgZW5kKTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmOCcsIGksIGVuZCk7XG59XG5cbi8vIEZvciBVVEYtOCwgYSByZXBsYWNlbWVudCBjaGFyYWN0ZXIgaXMgYWRkZWQgd2hlbiBlbmRpbmcgb24gYSBwYXJ0aWFsXG4vLyBjaGFyYWN0ZXIuXG5mdW5jdGlvbiB1dGY4RW5kKGJ1Zikge1xuICB2YXIgciA9IGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG4gIGlmICh0aGlzLmxhc3ROZWVkKSByZXR1cm4gciArICdcXHVmZmZkJztcbiAgcmV0dXJuIHI7XG59XG5cbi8vIFVURi0xNkxFIHR5cGljYWxseSBuZWVkcyB0d28gYnl0ZXMgcGVyIGNoYXJhY3RlciwgYnV0IGV2ZW4gaWYgd2UgaGF2ZSBhbiBldmVuXG4vLyBudW1iZXIgb2YgYnl0ZXMgYXZhaWxhYmxlLCB3ZSBuZWVkIHRvIGNoZWNrIGlmIHdlIGVuZCBvbiBhIGxlYWRpbmcvaGlnaFxuLy8gc3Vycm9nYXRlLiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIG5leHQgdHdvIGJ5dGVzIGluIG9yZGVyIHRvXG4vLyBkZWNvZGUgdGhlIGxhc3QgY2hhcmFjdGVyIHByb3Blcmx5LlxuZnVuY3Rpb24gdXRmMTZUZXh0KGJ1ZiwgaSkge1xuICBpZiAoKGJ1Zi5sZW5ndGggLSBpKSAlIDIgPT09IDApIHtcbiAgICB2YXIgciA9IGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGkpO1xuICAgIGlmIChyKSB7XG4gICAgICB2YXIgYyA9IHIuY2hhckNvZGVBdChyLmxlbmd0aCAtIDEpO1xuICAgICAgaWYgKGMgPj0gMHhEODAwICYmIGMgPD0gMHhEQkZGKSB7XG4gICAgICAgIHRoaXMubGFzdE5lZWQgPSAyO1xuICAgICAgICB0aGlzLmxhc3RUb3RhbCA9IDQ7XG4gICAgICAgIHRoaXMubGFzdENoYXJbMF0gPSBidWZbYnVmLmxlbmd0aCAtIDJdO1xuICAgICAgICB0aGlzLmxhc3RDaGFyWzFdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIHIuc2xpY2UoMCwgLTEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuICB0aGlzLmxhc3ROZWVkID0gMTtcbiAgdGhpcy5sYXN0VG90YWwgPSAyO1xuICB0aGlzLmxhc3RDaGFyWzBdID0gYnVmW2J1Zi5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygndXRmMTZsZScsIGksIGJ1Zi5sZW5ndGggLSAxKTtcbn1cblxuLy8gRm9yIFVURi0xNkxFIHdlIGRvIG5vdCBleHBsaWNpdGx5IGFwcGVuZCBzcGVjaWFsIHJlcGxhY2VtZW50IGNoYXJhY3RlcnMgaWYgd2Vcbi8vIGVuZCBvbiBhIHBhcnRpYWwgY2hhcmFjdGVyLCB3ZSBzaW1wbHkgbGV0IHY4IGhhbmRsZSB0aGF0LlxuZnVuY3Rpb24gdXRmMTZFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHtcbiAgICB2YXIgZW5kID0gdGhpcy5sYXN0VG90YWwgLSB0aGlzLmxhc3ROZWVkO1xuICAgIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygndXRmMTZsZScsIDAsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRleHQoYnVmLCBpKSB7XG4gIHZhciBuID0gKGJ1Zi5sZW5ndGggLSBpKSAlIDM7XG4gIGlmIChuID09PSAwKSByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnLCBpKTtcbiAgdGhpcy5sYXN0TmVlZCA9IDMgLSBuO1xuICB0aGlzLmxhc3RUb3RhbCA9IDM7XG4gIGlmIChuID09PSAxKSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5sYXN0Q2hhclswXSA9IGJ1ZltidWYubGVuZ3RoIC0gMl07XG4gICAgdGhpcy5sYXN0Q2hhclsxXSA9IGJ1ZltidWYubGVuZ3RoIC0gMV07XG4gIH1cbiAgcmV0dXJuIGJ1Zi50b1N0cmluZygnYmFzZTY0JywgaSwgYnVmLmxlbmd0aCAtIG4pO1xufVxuXG5mdW5jdGlvbiBiYXNlNjRFbmQoYnVmKSB7XG4gIHZhciByID0gYnVmICYmIGJ1Zi5sZW5ndGggPyB0aGlzLndyaXRlKGJ1ZikgOiAnJztcbiAgaWYgKHRoaXMubGFzdE5lZWQpIHJldHVybiByICsgdGhpcy5sYXN0Q2hhci50b1N0cmluZygnYmFzZTY0JywgMCwgMyAtIHRoaXMubGFzdE5lZWQpO1xuICByZXR1cm4gcjtcbn1cblxuLy8gUGFzcyBieXRlcyBvbiB0aHJvdWdoIGZvciBzaW5nbGUtYnl0ZSBlbmNvZGluZ3MgKGUuZy4gYXNjaWksIGxhdGluMSwgaGV4KVxuZnVuY3Rpb24gc2ltcGxlV3JpdGUoYnVmKSB7XG4gIHJldHVybiBidWYudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG59XG5cbmZ1bmN0aW9uIHNpbXBsZUVuZChidWYpIHtcbiAgcmV0dXJuIGJ1ZiAmJiBidWYubGVuZ3RoID8gdGhpcy53cml0ZShidWYpIDogJyc7XG59IiwgIi8vIFBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tYWZpbnRvc2gvZW5kLW9mLXN0cmVhbSB3aXRoXG4vLyBwZXJtaXNzaW9uIGZyb20gdGhlIGF1dGhvciwgTWF0aGlhcyBCdXVzIChAbWFmaW50b3NoKS5cbid1c2Ugc3RyaWN0JztcblxudmFyIEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFID0gcmVxdWlyZSgnLi4vLi4vLi4vZXJyb3JzJykuY29kZXMuRVJSX1NUUkVBTV9QUkVNQVRVUkVfQ0xPU0U7XG5cbmZ1bmN0aW9uIG9uY2UoY2FsbGJhY2spIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICBjYWxsZWQgPSB0cnVlO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxuZnVuY3Rpb24gaXNSZXF1ZXN0KHN0cmVhbSkge1xuICByZXR1cm4gc3RyZWFtLnNldEhlYWRlciAmJiB0eXBlb2Ygc3RyZWFtLmFib3J0ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBlb3Moc3RyZWFtLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHJldHVybiBlb3Moc3RyZWFtLCBudWxsLCBvcHRzKTtcbiAgaWYgKCFvcHRzKSBvcHRzID0ge307XG4gIGNhbGxiYWNrID0gb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgdmFyIHJlYWRhYmxlID0gb3B0cy5yZWFkYWJsZSB8fCBvcHRzLnJlYWRhYmxlICE9PSBmYWxzZSAmJiBzdHJlYW0ucmVhZGFibGU7XG4gIHZhciB3cml0YWJsZSA9IG9wdHMud3JpdGFibGUgfHwgb3B0cy53cml0YWJsZSAhPT0gZmFsc2UgJiYgc3RyZWFtLndyaXRhYmxlO1xuXG4gIHZhciBvbmxlZ2FjeWZpbmlzaCA9IGZ1bmN0aW9uIG9ubGVnYWN5ZmluaXNoKCkge1xuICAgIGlmICghc3RyZWFtLndyaXRhYmxlKSBvbmZpbmlzaCgpO1xuICB9O1xuXG4gIHZhciB3cml0YWJsZUVuZGVkID0gc3RyZWFtLl93cml0YWJsZVN0YXRlICYmIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZDtcblxuICB2YXIgb25maW5pc2ggPSBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICB3cml0YWJsZSA9IGZhbHNlO1xuICAgIHdyaXRhYmxlRW5kZWQgPSB0cnVlO1xuICAgIGlmICghcmVhZGFibGUpIGNhbGxiYWNrLmNhbGwoc3RyZWFtKTtcbiAgfTtcblxuICB2YXIgcmVhZGFibGVFbmRlZCA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZSAmJiBzdHJlYW0uX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZDtcblxuICB2YXIgb25lbmQgPSBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICByZWFkYWJsZSA9IGZhbHNlO1xuICAgIHJlYWRhYmxlRW5kZWQgPSB0cnVlO1xuICAgIGlmICghd3JpdGFibGUpIGNhbGxiYWNrLmNhbGwoc3RyZWFtKTtcbiAgfTtcblxuICB2YXIgb25lcnJvciA9IGZ1bmN0aW9uIG9uZXJyb3IoZXJyKSB7XG4gICAgY2FsbGJhY2suY2FsbChzdHJlYW0sIGVycik7XG4gIH07XG5cbiAgdmFyIG9uY2xvc2UgPSBmdW5jdGlvbiBvbmNsb3NlKCkge1xuICAgIHZhciBlcnI7XG5cbiAgICBpZiAocmVhZGFibGUgJiYgIXJlYWRhYmxlRW5kZWQpIHtcbiAgICAgIGlmICghc3RyZWFtLl9yZWFkYWJsZVN0YXRlIHx8ICFzdHJlYW0uX3JlYWRhYmxlU3RhdGUuZW5kZWQpIGVyciA9IG5ldyBFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRSgpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoc3RyZWFtLCBlcnIpO1xuICAgIH1cblxuICAgIGlmICh3cml0YWJsZSAmJiAhd3JpdGFibGVFbmRlZCkge1xuICAgICAgaWYgKCFzdHJlYW0uX3dyaXRhYmxlU3RhdGUgfHwgIXN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lbmRlZCkgZXJyID0gbmV3IEVSUl9TVFJFQU1fUFJFTUFUVVJFX0NMT1NFKCk7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChzdHJlYW0sIGVycik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBvbnJlcXVlc3QgPSBmdW5jdGlvbiBvbnJlcXVlc3QoKSB7XG4gICAgc3RyZWFtLnJlcS5vbignZmluaXNoJywgb25maW5pc2gpO1xuICB9O1xuXG4gIGlmIChpc1JlcXVlc3Qoc3RyZWFtKSkge1xuICAgIHN0cmVhbS5vbignY29tcGxldGUnLCBvbmZpbmlzaCk7XG4gICAgc3RyZWFtLm9uKCdhYm9ydCcsIG9uY2xvc2UpO1xuICAgIGlmIChzdHJlYW0ucmVxKSBvbnJlcXVlc3QoKTtlbHNlIHN0cmVhbS5vbigncmVxdWVzdCcsIG9ucmVxdWVzdCk7XG4gIH0gZWxzZSBpZiAod3JpdGFibGUgJiYgIXN0cmVhbS5fd3JpdGFibGVTdGF0ZSkge1xuICAgIC8vIGxlZ2FjeSBzdHJlYW1zXG4gICAgc3RyZWFtLm9uKCdlbmQnLCBvbmxlZ2FjeWZpbmlzaCk7XG4gICAgc3RyZWFtLm9uKCdjbG9zZScsIG9ubGVnYWN5ZmluaXNoKTtcbiAgfVxuXG4gIHN0cmVhbS5vbignZW5kJywgb25lbmQpO1xuICBzdHJlYW0ub24oJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgaWYgKG9wdHMuZXJyb3IgIT09IGZhbHNlKSBzdHJlYW0ub24oJ2Vycm9yJywgb25lcnJvcik7XG4gIHN0cmVhbS5vbignY2xvc2UnLCBvbmNsb3NlKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2NvbXBsZXRlJywgb25maW5pc2gpO1xuICAgIHN0cmVhbS5yZW1vdmVMaXN0ZW5lcignYWJvcnQnLCBvbmNsb3NlKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ3JlcXVlc3QnLCBvbnJlcXVlc3QpO1xuICAgIGlmIChzdHJlYW0ucmVxKSBzdHJlYW0ucmVxLnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmxlZ2FjeWZpbmlzaCk7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9ubGVnYWN5ZmluaXNoKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTtcbiAgICBzdHJlYW0ucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgc3RyZWFtLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVvczsiLCAiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX09iamVjdCRzZXRQcm90b3R5cGVPO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG52YXIgZmluaXNoZWQgPSByZXF1aXJlKCcuL2VuZC1vZi1zdHJlYW0nKTtcblxudmFyIGtMYXN0UmVzb2x2ZSA9IFN5bWJvbCgnbGFzdFJlc29sdmUnKTtcbnZhciBrTGFzdFJlamVjdCA9IFN5bWJvbCgnbGFzdFJlamVjdCcpO1xudmFyIGtFcnJvciA9IFN5bWJvbCgnZXJyb3InKTtcbnZhciBrRW5kZWQgPSBTeW1ib2woJ2VuZGVkJyk7XG52YXIga0xhc3RQcm9taXNlID0gU3ltYm9sKCdsYXN0UHJvbWlzZScpO1xudmFyIGtIYW5kbGVQcm9taXNlID0gU3ltYm9sKCdoYW5kbGVQcm9taXNlJyk7XG52YXIga1N0cmVhbSA9IFN5bWJvbCgnc3RyZWFtJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJSZXN1bHQodmFsdWUsIGRvbmUpIHtcbiAgcmV0dXJuIHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgZG9uZTogZG9uZVxuICB9O1xufVxuXG5mdW5jdGlvbiByZWFkQW5kUmVzb2x2ZShpdGVyKSB7XG4gIHZhciByZXNvbHZlID0gaXRlcltrTGFzdFJlc29sdmVdO1xuXG4gIGlmIChyZXNvbHZlICE9PSBudWxsKSB7XG4gICAgdmFyIGRhdGEgPSBpdGVyW2tTdHJlYW1dLnJlYWQoKTsgLy8gd2UgZGVmZXIgaWYgZGF0YSBpcyBudWxsXG4gICAgLy8gd2UgY2FuIGJlIGV4cGVjdGluZyBlaXRoZXIgJ2VuZCcgb3JcbiAgICAvLyAnZXJyb3InXG5cbiAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgaXRlcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgIGl0ZXJba0xhc3RSZXNvbHZlXSA9IG51bGw7XG4gICAgICBpdGVyW2tMYXN0UmVqZWN0XSA9IG51bGw7XG4gICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQoZGF0YSwgZmFsc2UpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25SZWFkYWJsZShpdGVyKSB7XG4gIC8vIHdlIHdhaXQgZm9yIHRoZSBuZXh0IHRpY2ssIGJlY2F1c2UgaXQgbWlnaHRcbiAgLy8gZW1pdCBhbiBlcnJvciB3aXRoIHByb2Nlc3MubmV4dFRpY2tcbiAgcHJvY2Vzcy5uZXh0VGljayhyZWFkQW5kUmVzb2x2ZSwgaXRlcik7XG59XG5cbmZ1bmN0aW9uIHdyYXBGb3JOZXh0KGxhc3RQcm9taXNlLCBpdGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgbGFzdFByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXRlcltrRW5kZWRdKSB7XG4gICAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpdGVyW2tIYW5kbGVQcm9taXNlXShyZXNvbHZlLCByZWplY3QpO1xuICAgIH0sIHJlamVjdCk7XG4gIH07XG59XG5cbnZhciBBc3luY0l0ZXJhdG9yUHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGZ1bmN0aW9uICgpIHt9KTtcbnZhciBSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3JQcm90b3R5cGUgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YoKF9PYmplY3Qkc2V0UHJvdG90eXBlTyA9IHtcbiAgZ2V0IHN0cmVhbSgpIHtcbiAgICByZXR1cm4gdGhpc1trU3RyZWFtXTtcbiAgfSxcblxuICBuZXh0OiBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGRldGVjdGVkIGFuIGVycm9yIGluIHRoZSBtZWFud2hpbGVcbiAgICAvLyByZWplY3Qgc3RyYWlnaHQgYXdheVxuICAgIHZhciBlcnJvciA9IHRoaXNba0Vycm9yXTtcblxuICAgIGlmIChlcnJvciAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAodGhpc1trRW5kZWRdKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQodW5kZWZpbmVkLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXNba1N0cmVhbV0uZGVzdHJveWVkKSB7XG4gICAgICAvLyBXZSBuZWVkIHRvIGRlZmVyIHZpYSBuZXh0VGljayBiZWNhdXNlIGlmIC5kZXN0cm95KGVycikgaXNcbiAgICAgIC8vIGNhbGxlZCwgdGhlIGVycm9yIHdpbGwgYmUgZW1pdHRlZCB2aWEgbmV4dFRpY2ssIGFuZFxuICAgICAgLy8gd2UgY2Fubm90IGd1YXJhbnRlZSB0aGF0IHRoZXJlIGlzIG5vIGVycm9yIGxpbmdlcmluZyBhcm91bmRcbiAgICAgIC8vIHdhaXRpbmcgdG8gYmUgZW1pdHRlZC5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpc1trRXJyb3JdKSB7XG4gICAgICAgICAgICByZWplY3QoX3RoaXNba0Vycm9yXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSAvLyBpZiB3ZSBoYXZlIG11bHRpcGxlIG5leHQoKSBjYWxsc1xuICAgIC8vIHdlIHdpbGwgd2FpdCBmb3IgdGhlIHByZXZpb3VzIFByb21pc2UgdG8gZmluaXNoXG4gICAgLy8gdGhpcyBsb2dpYyBpcyBvcHRpbWl6ZWQgdG8gc3VwcG9ydCBmb3IgYXdhaXQgbG9vcHMsXG4gICAgLy8gd2hlcmUgbmV4dCgpIGlzIG9ubHkgY2FsbGVkIG9uY2UgYXQgYSB0aW1lXG5cblxuICAgIHZhciBsYXN0UHJvbWlzZSA9IHRoaXNba0xhc3RQcm9taXNlXTtcbiAgICB2YXIgcHJvbWlzZTtcblxuICAgIGlmIChsYXN0UHJvbWlzZSkge1xuICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHdyYXBGb3JOZXh0KGxhc3RQcm9taXNlLCB0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhc3QgcGF0aCBuZWVkZWQgdG8gc3VwcG9ydCBtdWx0aXBsZSB0aGlzLnB1c2goKVxuICAgICAgLy8gd2l0aG91dCB0cmlnZ2VyaW5nIHRoZSBuZXh0KCkgcXVldWVcbiAgICAgIHZhciBkYXRhID0gdGhpc1trU3RyZWFtXS5yZWFkKCk7XG5cbiAgICAgIGlmIChkYXRhICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY3JlYXRlSXRlclJlc3VsdChkYXRhLCBmYWxzZSkpO1xuICAgICAgfVxuXG4gICAgICBwcm9taXNlID0gbmV3IFByb21pc2UodGhpc1trSGFuZGxlUHJvbWlzZV0pO1xuICAgIH1cblxuICAgIHRoaXNba0xhc3RQcm9taXNlXSA9IHByb21pc2U7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbn0sIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JHNldFByb3RvdHlwZU8sIFN5bWJvbC5hc3luY0l0ZXJhdG9yLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JHNldFByb3RvdHlwZU8sIFwicmV0dXJuXCIsIGZ1bmN0aW9uIF9yZXR1cm4oKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIC8vIGRlc3Ryb3koZXJyLCBjYikgaXMgYSBwcml2YXRlIEFQSVxuICAvLyB3ZSBjYW4gZ3VhcmFudGVlIHdlIGhhdmUgdGhhdCBoZXJlLCBiZWNhdXNlIHdlIGNvbnRyb2wgdGhlXG4gIC8vIFJlYWRhYmxlIGNsYXNzIHRoaXMgaXMgYXR0YWNoZWQgdG9cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBfdGhpczJba1N0cmVhbV0uZGVzdHJveShudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICB9KTtcbiAgfSk7XG59KSwgX09iamVjdCRzZXRQcm90b3R5cGVPKSwgQXN5bmNJdGVyYXRvclByb3RvdHlwZSk7XG5cbnZhciBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IgPSBmdW5jdGlvbiBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3Ioc3RyZWFtKSB7XG4gIHZhciBfT2JqZWN0JGNyZWF0ZTtcblxuICB2YXIgaXRlcmF0b3IgPSBPYmplY3QuY3JlYXRlKFJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvclByb3RvdHlwZSwgKF9PYmplY3QkY3JlYXRlID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga1N0cmVhbSwge1xuICAgIHZhbHVlOiBzdHJlYW0sXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0xhc3RSZXNvbHZlLCB7XG4gICAgdmFsdWU6IG51bGwsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0xhc3RSZWplY3QsIHtcbiAgICB2YWx1ZTogbnVsbCxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkY3JlYXRlLCBrRXJyb3IsIHtcbiAgICB2YWx1ZTogbnVsbCxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX2RlZmluZVByb3BlcnR5KF9PYmplY3QkY3JlYXRlLCBrRW5kZWQsIHtcbiAgICB2YWx1ZTogc3RyZWFtLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfT2JqZWN0JGNyZWF0ZSwga0hhbmRsZVByb21pc2UsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZGF0YSA9IGl0ZXJhdG9yW2tTdHJlYW1dLnJlYWQoKTtcblxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RQcm9taXNlXSA9IG51bGw7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSBudWxsO1xuICAgICAgICBpdGVyYXRvcltrTGFzdFJlamVjdF0gPSBudWxsO1xuICAgICAgICByZXNvbHZlKGNyZWF0ZUl0ZXJSZXN1bHQoZGF0YSwgZmFsc2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSByZXNvbHZlO1xuICAgICAgICBpdGVyYXRvcltrTGFzdFJlamVjdF0gPSByZWplY3Q7XG4gICAgICB9XG4gICAgfSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9KSwgX09iamVjdCRjcmVhdGUpKTtcbiAgaXRlcmF0b3Jba0xhc3RQcm9taXNlXSA9IG51bGw7XG4gIGZpbmlzaGVkKHN0cmVhbSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09ICdFUlJfU1RSRUFNX1BSRU1BVFVSRV9DTE9TRScpIHtcbiAgICAgIHZhciByZWplY3QgPSBpdGVyYXRvcltrTGFzdFJlamVjdF07IC8vIHJlamVjdCBpZiB3ZSBhcmUgd2FpdGluZyBmb3IgZGF0YSBpbiB0aGUgUHJvbWlzZVxuICAgICAgLy8gcmV0dXJuZWQgYnkgbmV4dCgpIGFuZCBzdG9yZSB0aGUgZXJyb3JcblxuICAgICAgaWYgKHJlamVjdCAhPT0gbnVsbCkge1xuICAgICAgICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgICAgaXRlcmF0b3Jba0xhc3RSZXNvbHZlXSA9IG51bGw7XG4gICAgICAgIGl0ZXJhdG9yW2tMYXN0UmVqZWN0XSA9IG51bGw7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuXG4gICAgICBpdGVyYXRvcltrRXJyb3JdID0gZXJyO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZXNvbHZlID0gaXRlcmF0b3Jba0xhc3RSZXNvbHZlXTtcblxuICAgIGlmIChyZXNvbHZlICE9PSBudWxsKSB7XG4gICAgICBpdGVyYXRvcltrTGFzdFByb21pc2VdID0gbnVsbDtcbiAgICAgIGl0ZXJhdG9yW2tMYXN0UmVzb2x2ZV0gPSBudWxsO1xuICAgICAgaXRlcmF0b3Jba0xhc3RSZWplY3RdID0gbnVsbDtcbiAgICAgIHJlc29sdmUoY3JlYXRlSXRlclJlc3VsdCh1bmRlZmluZWQsIHRydWUpKTtcbiAgICB9XG5cbiAgICBpdGVyYXRvcltrRW5kZWRdID0gdHJ1ZTtcbiAgfSk7XG4gIHN0cmVhbS5vbigncmVhZGFibGUnLCBvblJlYWRhYmxlLmJpbmQobnVsbCwgaXRlcmF0b3IpKTtcbiAgcmV0dXJuIGl0ZXJhdG9yO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3I7IiwgIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1JlYWRhYmxlLmZyb20gaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnJvd3NlcicpXG59O1xuIiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWRhYmxlO1xuLyo8cmVwbGFjZW1lbnQ+Ki9cblxudmFyIER1cGxleDtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5SZWFkYWJsZS5SZWFkYWJsZVN0YXRlID0gUmVhZGFibGVTdGF0ZTtcbi8qPHJlcGxhY2VtZW50PiovXG5cbnZhciBFRSA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcblxudmFyIEVFbGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uIEVFbGlzdGVuZXJDb3VudChlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVycyh0eXBlKS5sZW5ndGg7XG59O1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbi8qPHJlcGxhY2VtZW50PiovXG5cblxudmFyIFN0cmVhbSA9IHJlcXVpcmUoJy4vaW50ZXJuYWwvc3RyZWFtcy9zdHJlYW0nKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG5cbnZhciBPdXJVaW50OEFycmF5ID0gZ2xvYmFsLlVpbnQ4QXJyYXkgfHwgZnVuY3Rpb24gKCkge307XG5cbmZ1bmN0aW9uIF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKTtcbn1cblxuZnVuY3Rpb24gX2lzVWludDhBcnJheShvYmopIHtcbiAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihvYmopIHx8IG9iaiBpbnN0YW5jZW9mIE91clVpbnQ4QXJyYXk7XG59XG4vKjxyZXBsYWNlbWVudD4qL1xuXG5cbnZhciBkZWJ1Z1V0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5cbnZhciBkZWJ1ZztcblxuaWYgKGRlYnVnVXRpbCAmJiBkZWJ1Z1V0aWwuZGVidWdsb2cpIHtcbiAgZGVidWcgPSBkZWJ1Z1V0aWwuZGVidWdsb2coJ3N0cmVhbScpO1xufSBlbHNlIHtcbiAgZGVidWcgPSBmdW5jdGlvbiBkZWJ1ZygpIHt9O1xufVxuLyo8L3JlcGxhY2VtZW50PiovXG5cblxudmFyIEJ1ZmZlckxpc3QgPSByZXF1aXJlKCcuL2ludGVybmFsL3N0cmVhbXMvYnVmZmVyX2xpc3QnKTtcblxudmFyIGRlc3Ryb3lJbXBsID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2Rlc3Ryb3knKTtcblxudmFyIF9yZXF1aXJlID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL3N0YXRlJyksXG4gICAgZ2V0SGlnaFdhdGVyTWFyayA9IF9yZXF1aXJlLmdldEhpZ2hXYXRlck1hcms7XG5cbnZhciBfcmVxdWlyZSRjb2RlcyA9IHJlcXVpcmUoJy4uL2Vycm9ycycpLmNvZGVzLFxuICAgIEVSUl9JTlZBTElEX0FSR19UWVBFID0gX3JlcXVpcmUkY29kZXMuRVJSX0lOVkFMSURfQVJHX1RZUEUsXG4gICAgRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRiA9IF9yZXF1aXJlJGNvZGVzLkVSUl9TVFJFQU1fUFVTSF9BRlRFUl9FT0YsXG4gICAgRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCxcbiAgICBFUlJfU1RSRUFNX1VOU0hJRlRfQUZURVJfRU5EX0VWRU5UID0gX3JlcXVpcmUkY29kZXMuRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVDsgLy8gTGF6eSBsb2FkZWQgdG8gaW1wcm92ZSB0aGUgc3RhcnR1cCBwZXJmb3JtYW5jZS5cblxuXG52YXIgU3RyaW5nRGVjb2RlcjtcbnZhciBjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3I7XG52YXIgZnJvbTtcblxucmVxdWlyZSgnaW5oZXJpdHMnKShSZWFkYWJsZSwgU3RyZWFtKTtcblxudmFyIGVycm9yT3JEZXN0cm95ID0gZGVzdHJveUltcGwuZXJyb3JPckRlc3Ryb3k7XG52YXIga1Byb3h5RXZlbnRzID0gWydlcnJvcicsICdjbG9zZScsICdkZXN0cm95JywgJ3BhdXNlJywgJ3Jlc3VtZSddO1xuXG5mdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIoZW1pdHRlciwgZXZlbnQsIGZuKSB7XG4gIC8vIFNhZGx5IHRoaXMgaXMgbm90IGNhY2hlYWJsZSBhcyBzb21lIGxpYnJhcmllcyBidW5kbGUgdGhlaXIgb3duXG4gIC8vIGV2ZW50IGVtaXR0ZXIgaW1wbGVtZW50YXRpb24gd2l0aCB0aGVtLlxuICBpZiAodHlwZW9mIGVtaXR0ZXIucHJlcGVuZExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSByZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsIGZuKTsgLy8gVGhpcyBpcyBhIGhhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb3VyIGVycm9yIGhhbmRsZXIgaXMgYXR0YWNoZWQgYmVmb3JlIGFueVxuICAvLyB1c2VybGFuZCBvbmVzLiAgTkVWRVIgRE8gVEhJUy4gVGhpcyBpcyBoZXJlIG9ubHkgYmVjYXVzZSB0aGlzIGNvZGUgbmVlZHNcbiAgLy8gdG8gY29udGludWUgdG8gd29yayB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIE5vZGUuanMgdGhhdCBkbyBub3QgaW5jbHVkZVxuICAvLyB0aGUgcHJlcGVuZExpc3RlbmVyKCkgbWV0aG9kLiBUaGUgZ29hbCBpcyB0byBldmVudHVhbGx5IHJlbW92ZSB0aGlzIGhhY2suXG5cbiAgaWYgKCFlbWl0dGVyLl9ldmVudHMgfHwgIWVtaXR0ZXIuX2V2ZW50c1tldmVudF0pIGVtaXR0ZXIub24oZXZlbnQsIGZuKTtlbHNlIGlmIChBcnJheS5pc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pKSBlbWl0dGVyLl9ldmVudHNbZXZlbnRdLnVuc2hpZnQoZm4pO2Vsc2UgZW1pdHRlci5fZXZlbnRzW2V2ZW50XSA9IFtmbiwgZW1pdHRlci5fZXZlbnRzW2V2ZW50XV07XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtLCBpc0R1cGxleCkge1xuICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRHVwbGV4IHN0cmVhbXMgYXJlIGJvdGggcmVhZGFibGUgYW5kIHdyaXRhYmxlLCBidXQgc2hhcmVcbiAgLy8gdGhlIHNhbWUgb3B0aW9ucyBvYmplY3QuXG4gIC8vIEhvd2V2ZXIsIHNvbWUgY2FzZXMgcmVxdWlyZSBzZXR0aW5nIG9wdGlvbnMgdG8gZGlmZmVyZW50XG4gIC8vIHZhbHVlcyBmb3IgdGhlIHJlYWRhYmxlIGFuZCB0aGUgd3JpdGFibGUgc2lkZXMgb2YgdGhlIGR1cGxleCBzdHJlYW0uXG4gIC8vIFRoZXNlIG9wdGlvbnMgY2FuIGJlIHByb3ZpZGVkIHNlcGFyYXRlbHkgYXMgcmVhZGFibGVYWFggYW5kIHdyaXRhYmxlWFhYLlxuXG4gIGlmICh0eXBlb2YgaXNEdXBsZXggIT09ICdib29sZWFuJykgaXNEdXBsZXggPSBzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXg7IC8vIG9iamVjdCBzdHJlYW0gZmxhZy4gVXNlZCB0byBtYWtlIHJlYWQobikgaWdub3JlIG4gYW5kIHRvXG4gIC8vIG1ha2UgYWxsIHRoZSBidWZmZXIgbWVyZ2luZyBhbmQgbGVuZ3RoIGNoZWNrcyBnbyBhd2F5XG5cbiAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7XG4gIGlmIChpc0R1cGxleCkgdGhpcy5vYmplY3RNb2RlID0gdGhpcy5vYmplY3RNb2RlIHx8ICEhb3B0aW9ucy5yZWFkYWJsZU9iamVjdE1vZGU7IC8vIHRoZSBwb2ludCBhdCB3aGljaCBpdCBzdG9wcyBjYWxsaW5nIF9yZWFkKCkgdG8gZmlsbCB0aGUgYnVmZmVyXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgXCJkb24ndCBjYWxsIF9yZWFkIHByZWVtcHRpdmVseSBldmVyXCJcblxuICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBnZXRIaWdoV2F0ZXJNYXJrKHRoaXMsIG9wdGlvbnMsICdyZWFkYWJsZUhpZ2hXYXRlck1hcmsnLCBpc0R1cGxleCk7IC8vIEEgbGlua2VkIGxpc3QgaXMgdXNlZCB0byBzdG9yZSBkYXRhIGNodW5rcyBpbnN0ZWFkIG9mIGFuIGFycmF5IGJlY2F1c2UgdGhlXG4gIC8vIGxpbmtlZCBsaXN0IGNhbiByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYmVnaW5uaW5nIGZhc3RlciB0aGFuXG4gIC8vIGFycmF5LnNoaWZ0KClcblxuICB0aGlzLmJ1ZmZlciA9IG5ldyBCdWZmZXJMaXN0KCk7XG4gIHRoaXMubGVuZ3RoID0gMDtcbiAgdGhpcy5waXBlcyA9IG51bGw7XG4gIHRoaXMucGlwZXNDb3VudCA9IDA7XG4gIHRoaXMuZmxvd2luZyA9IG51bGw7XG4gIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgdGhpcy5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIHRoaXMucmVhZGluZyA9IGZhbHNlOyAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBldmVudCAncmVhZGFibGUnLydkYXRhJyBpcyBlbWl0dGVkXG4gIC8vIGltbWVkaWF0ZWx5LCBvciBvbiBhIGxhdGVyIHRpY2suICBXZSBzZXQgdGhpcyB0byB0cnVlIGF0IGZpcnN0LCBiZWNhdXNlXG4gIC8vIGFueSBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCBcImxhdGVyXCIgc2hvdWxkIGdlbmVyYWxseSBhbHNvXG4gIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCByZWFkIGNhbGwuXG5cbiAgdGhpcy5zeW5jID0gdHJ1ZTsgLy8gd2hlbmV2ZXIgd2UgcmV0dXJuIG51bGwsIHRoZW4gd2Ugc2V0IGEgZmxhZyB0byBzYXlcbiAgLy8gdGhhdCB3ZSdyZSBhd2FpdGluZyBhICdyZWFkYWJsZScgZXZlbnQgZW1pc3Npb24uXG5cbiAgdGhpcy5uZWVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTtcbiAgdGhpcy5yZWFkYWJsZUxpc3RlbmluZyA9IGZhbHNlO1xuICB0aGlzLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlO1xuICB0aGlzLnBhdXNlZCA9IHRydWU7IC8vIFNob3VsZCBjbG9zZSBiZSBlbWl0dGVkIG9uIGRlc3Ryb3kuIERlZmF1bHRzIHRvIHRydWUuXG5cbiAgdGhpcy5lbWl0Q2xvc2UgPSBvcHRpb25zLmVtaXRDbG9zZSAhPT0gZmFsc2U7IC8vIFNob3VsZCAuZGVzdHJveSgpIGJlIGNhbGxlZCBhZnRlciAnZW5kJyAoYW5kIHBvdGVudGlhbGx5ICdmaW5pc2gnKVxuXG4gIHRoaXMuYXV0b0Rlc3Ryb3kgPSAhIW9wdGlvbnMuYXV0b0Rlc3Ryb3k7IC8vIGhhcyBpdCBiZWVuIGRlc3Ryb3llZFxuXG4gIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7IC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7IC8vIHRoZSBudW1iZXIgb2Ygd3JpdGVycyB0aGF0IGFyZSBhd2FpdGluZyBhIGRyYWluIGV2ZW50IGluIC5waXBlKClzXG5cbiAgdGhpcy5hd2FpdERyYWluID0gMDsgLy8gaWYgdHJ1ZSwgYSBtYXliZVJlYWRNb3JlIGhhcyBiZWVuIHNjaGVkdWxlZFxuXG4gIHRoaXMucmVhZGluZ01vcmUgPSBmYWxzZTtcbiAgdGhpcy5kZWNvZGVyID0gbnVsbDtcbiAgdGhpcy5lbmNvZGluZyA9IG51bGw7XG5cbiAgaWYgKG9wdGlvbnMuZW5jb2RpbmcpIHtcbiAgICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyO1xuICAgIHRoaXMuZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zLmVuY29kaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIFJlYWRhYmxlKG9wdGlvbnMpIHtcbiAgRHVwbGV4ID0gRHVwbGV4IHx8IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlYWRhYmxlKSkgcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTsgLy8gQ2hlY2tpbmcgZm9yIGEgU3RyZWFtLkR1cGxleCBpbnN0YW5jZSBpcyBmYXN0ZXIgaGVyZSBpbnN0ZWFkIG9mIGluc2lkZVxuICAvLyB0aGUgUmVhZGFibGVTdGF0ZSBjb25zdHJ1Y3RvciwgYXQgbGVhc3Qgd2l0aCBWOCA2LjVcblxuICB2YXIgaXNEdXBsZXggPSB0aGlzIGluc3RhbmNlb2YgRHVwbGV4O1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlID0gbmV3IFJlYWRhYmxlU3RhdGUob3B0aW9ucywgdGhpcywgaXNEdXBsZXgpOyAvLyBsZWdhY3lcblxuICB0aGlzLnJlYWRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5yZWFkID09PSAnZnVuY3Rpb24nKSB0aGlzLl9yZWFkID0gb3B0aW9ucy5yZWFkO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSB0aGlzLl9kZXN0cm95ID0gb3B0aW9ucy5kZXN0cm95O1xuICB9XG5cbiAgU3RyZWFtLmNhbGwodGhpcyk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdkZXN0cm95ZWQnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIGlmICh0aGlzLl9yZWFkYWJsZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgLy8gd2UgaWdub3JlIHRoZSB2YWx1ZSBpZiB0aGUgc3RyZWFtXG4gICAgLy8gaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldFxuICAgIGlmICghdGhpcy5fcmVhZGFibGVTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgdGhlIHVzZXIgaXMgZXhwbGljaXRseVxuICAgIC8vIG1hbmFnaW5nIGRlc3Ryb3llZFxuXG5cbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCA9IHZhbHVlO1xuICB9XG59KTtcblJlYWRhYmxlLnByb3RvdHlwZS5kZXN0cm95ID0gZGVzdHJveUltcGwuZGVzdHJveTtcblJlYWRhYmxlLnByb3RvdHlwZS5fdW5kZXN0cm95ID0gZGVzdHJveUltcGwudW5kZXN0cm95O1xuXG5SZWFkYWJsZS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICBjYihlcnIpO1xufTsgLy8gTWFudWFsbHkgc2hvdmUgc29tZXRoaW5nIGludG8gdGhlIHJlYWQoKSBidWZmZXIuXG4vLyBUaGlzIHJldHVybnMgdHJ1ZSBpZiB0aGUgaGlnaFdhdGVyTWFyayBoYXMgbm90IGJlZW4gaGl0IHlldCxcbi8vIHNpbWlsYXIgdG8gaG93IFdyaXRhYmxlLndyaXRlKCkgcmV0dXJucyB0cnVlIGlmIHlvdSBzaG91bGRcbi8vIHdyaXRlKCkgc29tZSBtb3JlLlxuXG5cblJlYWRhYmxlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICB2YXIgc2tpcENodW5rQ2hlY2s7XG5cbiAgaWYgKCFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5jb2RpbmcgfHwgc3RhdGUuZGVmYXVsdEVuY29kaW5nO1xuXG4gICAgICBpZiAoZW5jb2RpbmcgIT09IHN0YXRlLmVuY29kaW5nKSB7XG4gICAgICAgIGNodW5rID0gQnVmZmVyLmZyb20oY2h1bmssIGVuY29kaW5nKTtcbiAgICAgICAgZW5jb2RpbmcgPSAnJztcbiAgICAgIH1cblxuICAgICAgc2tpcENodW5rQ2hlY2sgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBza2lwQ2h1bmtDaGVjayA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBjaHVuaywgZW5jb2RpbmcsIGZhbHNlLCBza2lwQ2h1bmtDaGVjayk7XG59OyAvLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuXG5cblJlYWRhYmxlLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIHJldHVybiByZWFkYWJsZUFkZENodW5rKHRoaXMsIGNodW5rLCBudWxsLCB0cnVlLCBmYWxzZSk7XG59O1xuXG5mdW5jdGlvbiByZWFkYWJsZUFkZENodW5rKHN0cmVhbSwgY2h1bmssIGVuY29kaW5nLCBhZGRUb0Zyb250LCBza2lwQ2h1bmtDaGVjaykge1xuICBkZWJ1ZygncmVhZGFibGVBZGRDaHVuaycsIGNodW5rKTtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuXG4gIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBlcjtcbiAgICBpZiAoIXNraXBDaHVua0NoZWNrKSBlciA9IGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspO1xuXG4gICAgaWYgKGVyKSB7XG4gICAgICBlcnJvck9yRGVzdHJveShzdHJlYW0sIGVyKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLm9iamVjdE1vZGUgfHwgY2h1bmsgJiYgY2h1bmsubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiYgIXN0YXRlLm9iamVjdE1vZGUgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGNodW5rKSAhPT0gQnVmZmVyLnByb3RvdHlwZSkge1xuICAgICAgICBjaHVuayA9IF91aW50OEFycmF5VG9CdWZmZXIoY2h1bmspO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWRkVG9Gcm9udCkge1xuICAgICAgICBpZiAoc3RhdGUuZW5kRW1pdHRlZCkgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBuZXcgRVJSX1NUUkVBTV9VTlNISUZUX0FGVEVSX0VORF9FVkVOVCgpKTtlbHNlIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuZW5kZWQpIHtcbiAgICAgICAgZXJyb3JPckRlc3Ryb3koc3RyZWFtLCBuZXcgRVJSX1NUUkVBTV9QVVNIX0FGVEVSX0VPRigpKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUuZGVzdHJveWVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhZW5jb2RpbmcpIHtcbiAgICAgICAgICBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspO1xuICAgICAgICAgIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rLmxlbmd0aCAhPT0gMCkgYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGZhbHNlKTtlbHNlIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWFkZFRvRnJvbnQpIHtcbiAgICAgIHN0YXRlLnJlYWRpbmcgPSBmYWxzZTtcbiAgICAgIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuICB9IC8vIFdlIGNhbiBwdXNoIG1vcmUgZGF0YSBpZiB3ZSBhcmUgYmVsb3cgdGhlIGhpZ2hXYXRlck1hcmsuXG4gIC8vIEFsc28sIGlmIHdlIGhhdmUgbm8gZGF0YSB5ZXQsIHdlIGNhbiBzdGFuZCBzb21lIG1vcmUgYnl0ZXMuXG4gIC8vIFRoaXMgaXMgdG8gd29yayBhcm91bmQgY2FzZXMgd2hlcmUgaHdtPTAsIHN1Y2ggYXMgdGhlIHJlcGwuXG5cblxuICByZXR1cm4gIXN0YXRlLmVuZGVkICYmIChzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmxlbmd0aCA9PT0gMCk7XG59XG5cbmZ1bmN0aW9uIGFkZENodW5rKHN0cmVhbSwgc3RhdGUsIGNodW5rLCBhZGRUb0Zyb250KSB7XG4gIGlmIChzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCA9PT0gMCAmJiAhc3RhdGUuc3luYykge1xuICAgIHN0YXRlLmF3YWl0RHJhaW4gPSAwO1xuICAgIHN0cmVhbS5lbWl0KCdkYXRhJywgY2h1bmspO1xuICB9IGVsc2Uge1xuICAgIC8vIHVwZGF0ZSB0aGUgYnVmZmVyIGluZm8uXG4gICAgc3RhdGUubGVuZ3RoICs9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICAgIGlmIChhZGRUb0Zyb250KSBzdGF0ZS5idWZmZXIudW5zaGlmdChjaHVuayk7ZWxzZSBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSkgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG4gIH1cblxuICBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpO1xufVxuXG5mdW5jdGlvbiBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKSB7XG4gIHZhciBlcjtcblxuICBpZiAoIV9pc1VpbnQ4QXJyYXkoY2h1bmspICYmIHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCAmJiAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IEVSUl9JTlZBTElEX0FSR19UWVBFKCdjaHVuaycsIFsnc3RyaW5nJywgJ0J1ZmZlcicsICdVaW50OEFycmF5J10sIGNodW5rKTtcbiAgfVxuXG4gIHJldHVybiBlcjtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLmlzUGF1c2VkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID09PSBmYWxzZTtcbn07IC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuXG5cblJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZyA9IGZ1bmN0aW9uIChlbmMpIHtcbiAgaWYgKCFTdHJpbmdEZWNvZGVyKSBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXIvJykuU3RyaW5nRGVjb2RlcjtcbiAgdmFyIGRlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIgPSBkZWNvZGVyOyAvLyBJZiBzZXRFbmNvZGluZyhudWxsKSwgZGVjb2Rlci5lbmNvZGluZyBlcXVhbHMgdXRmOFxuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2RpbmcgPSB0aGlzLl9yZWFkYWJsZVN0YXRlLmRlY29kZXIuZW5jb2Rpbmc7IC8vIEl0ZXJhdGUgb3ZlciBjdXJyZW50IGJ1ZmZlciB0byBjb252ZXJ0IGFscmVhZHkgc3RvcmVkIEJ1ZmZlcnM6XG5cbiAgdmFyIHAgPSB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5oZWFkO1xuICB2YXIgY29udGVudCA9ICcnO1xuXG4gIHdoaWxlIChwICE9PSBudWxsKSB7XG4gICAgY29udGVudCArPSBkZWNvZGVyLndyaXRlKHAuZGF0YSk7XG4gICAgcCA9IHAubmV4dDtcbiAgfVxuXG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyLmNsZWFyKCk7XG5cbiAgaWYgKGNvbnRlbnQgIT09ICcnKSB0aGlzLl9yZWFkYWJsZVN0YXRlLmJ1ZmZlci5wdXNoKGNvbnRlbnQpO1xuICB0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aCA9IGNvbnRlbnQubGVuZ3RoO1xuICByZXR1cm4gdGhpcztcbn07IC8vIERvbid0IHJhaXNlIHRoZSBod20gPiAxR0JcblxuXG52YXIgTUFYX0hXTSA9IDB4NDAwMDAwMDA7XG5cbmZ1bmN0aW9uIGNvbXB1dGVOZXdIaWdoV2F0ZXJNYXJrKG4pIHtcbiAgaWYgKG4gPj0gTUFYX0hXTSkge1xuICAgIC8vIFRPRE8ocm9uYWcpOiBUaHJvdyBFUlJfVkFMVUVfT1VUX09GX1JBTkdFLlxuICAgIG4gPSBNQVhfSFdNO1xuICB9IGVsc2Uge1xuICAgIC8vIEdldCB0aGUgbmV4dCBoaWdoZXN0IHBvd2VyIG9mIDIgdG8gcHJldmVudCBpbmNyZWFzaW5nIGh3bSBleGNlc3NpdmVseSBpblxuICAgIC8vIHRpbnkgYW1vdW50c1xuICAgIG4tLTtcbiAgICBuIHw9IG4gPj4+IDE7XG4gICAgbiB8PSBuID4+PiAyO1xuICAgIG4gfD0gbiA+Pj4gNDtcbiAgICBuIHw9IG4gPj4+IDg7XG4gICAgbiB8PSBuID4+PiAxNjtcbiAgICBuKys7XG4gIH1cblxuICByZXR1cm4gbjtcbn0gLy8gVGhpcyBmdW5jdGlvbiBpcyBkZXNpZ25lZCB0byBiZSBpbmxpbmFibGUsIHNvIHBsZWFzZSB0YWtlIGNhcmUgd2hlbiBtYWtpbmdcbi8vIGNoYW5nZXMgdG8gdGhlIGZ1bmN0aW9uIGJvZHkuXG5cblxuZnVuY3Rpb24gaG93TXVjaFRvUmVhZChuLCBzdGF0ZSkge1xuICBpZiAobiA8PSAwIHx8IHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkgcmV0dXJuIDA7XG4gIGlmIChzdGF0ZS5vYmplY3RNb2RlKSByZXR1cm4gMTtcblxuICBpZiAobiAhPT0gbikge1xuICAgIC8vIE9ubHkgZmxvdyBvbmUgYnVmZmVyIGF0IGEgdGltZVxuICAgIGlmIChzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCkgcmV0dXJuIHN0YXRlLmJ1ZmZlci5oZWFkLmRhdGEubGVuZ3RoO2Vsc2UgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbiAgfSAvLyBJZiB3ZSdyZSBhc2tpbmcgZm9yIG1vcmUgdGhhbiB0aGUgY3VycmVudCBod20sIHRoZW4gcmFpc2UgdGhlIGh3bS5cblxuXG4gIGlmIChuID4gc3RhdGUuaGlnaFdhdGVyTWFyaykgc3RhdGUuaGlnaFdhdGVyTWFyayA9IGNvbXB1dGVOZXdIaWdoV2F0ZXJNYXJrKG4pO1xuICBpZiAobiA8PSBzdGF0ZS5sZW5ndGgpIHJldHVybiBuOyAvLyBEb24ndCBoYXZlIGVub3VnaFxuXG4gIGlmICghc3RhdGUuZW5kZWQpIHtcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlLmxlbmd0aDtcbn0gLy8geW91IGNhbiBvdmVycmlkZSBlaXRoZXIgdGhpcyBtZXRob2QsIG9yIHRoZSBhc3luYyBfcmVhZChuKSBiZWxvdy5cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIGRlYnVnKCdyZWFkJywgbik7XG4gIG4gPSBwYXJzZUludChuLCAxMCk7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBuT3JpZyA9IG47XG4gIGlmIChuICE9PSAwKSBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTsgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYSBidW5jaCBvZiBkYXRhIGluIHRoZSBidWZmZXIsIHRoZW4ganVzdCB0cmlnZ2VyXG4gIC8vIHRoZSAncmVhZGFibGUnIGV2ZW50IGFuZCBtb3ZlIG9uLlxuXG4gIGlmIChuID09PSAwICYmIHN0YXRlLm5lZWRSZWFkYWJsZSAmJiAoKHN0YXRlLmhpZ2hXYXRlck1hcmsgIT09IDAgPyBzdGF0ZS5sZW5ndGggPj0gc3RhdGUuaGlnaFdhdGVyTWFyayA6IHN0YXRlLmxlbmd0aCA+IDApIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKSBlbmRSZWFkYWJsZSh0aGlzKTtlbHNlIGVtaXRSZWFkYWJsZSh0aGlzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIG4gPSBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKTsgLy8gaWYgd2UndmUgZW5kZWQsIGFuZCB3ZSdyZSBub3cgY2xlYXIsIHRoZW4gZmluaXNoIGl0IHVwLlxuXG4gIGlmIChuID09PSAwICYmIHN0YXRlLmVuZGVkKSB7XG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCkgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gLy8gQWxsIHRoZSBhY3R1YWwgY2h1bmsgZ2VuZXJhdGlvbiBsb2dpYyBuZWVkcyB0byBiZVxuICAvLyAqYmVsb3cqIHRoZSBjYWxsIHRvIF9yZWFkLiAgVGhlIHJlYXNvbiBpcyB0aGF0IGluIGNlcnRhaW5cbiAgLy8gc3ludGhldGljIHN0cmVhbSBjYXNlcywgc3VjaCBhcyBwYXNzdGhyb3VnaCBzdHJlYW1zLCBfcmVhZFxuICAvLyBtYXkgYmUgYSBjb21wbGV0ZWx5IHN5bmNocm9ub3VzIG9wZXJhdGlvbiB3aGljaCBtYXkgY2hhbmdlXG4gIC8vIHRoZSBzdGF0ZSBvZiB0aGUgcmVhZCBidWZmZXIsIHByb3ZpZGluZyBlbm91Z2ggZGF0YSB3aGVuXG4gIC8vIGJlZm9yZSB0aGVyZSB3YXMgKm5vdCogZW5vdWdoLlxuICAvL1xuICAvLyBTbywgdGhlIHN0ZXBzIGFyZTpcbiAgLy8gMS4gRmlndXJlIG91dCB3aGF0IHRoZSBzdGF0ZSBvZiB0aGluZ3Mgd2lsbCBiZSBhZnRlciB3ZSBkb1xuICAvLyBhIHJlYWQgZnJvbSB0aGUgYnVmZmVyLlxuICAvL1xuICAvLyAyLiBJZiB0aGF0IHJlc3VsdGluZyBzdGF0ZSB3aWxsIHRyaWdnZXIgYSBfcmVhZCwgdGhlbiBjYWxsIF9yZWFkLlxuICAvLyBOb3RlIHRoYXQgdGhpcyBtYXkgYmUgYXN5bmNocm9ub3VzLCBvciBzeW5jaHJvbm91cy4gIFllcywgaXQgaXNcbiAgLy8gZGVlcGx5IHVnbHkgdG8gd3JpdGUgQVBJcyB0aGlzIHdheSwgYnV0IHRoYXQgc3RpbGwgZG9lc24ndCBtZWFuXG4gIC8vIHRoYXQgdGhlIFJlYWRhYmxlIGNsYXNzIHNob3VsZCBiZWhhdmUgaW1wcm9wZXJseSwgYXMgc3RyZWFtcyBhcmVcbiAgLy8gZGVzaWduZWQgdG8gYmUgc3luYy9hc3luYyBhZ25vc3RpYy5cbiAgLy8gVGFrZSBub3RlIGlmIHRoZSBfcmVhZCBjYWxsIGlzIHN5bmMgb3IgYXN5bmMgKGllLCBpZiB0aGUgcmVhZCBjYWxsXG4gIC8vIGhhcyByZXR1cm5lZCB5ZXQpLCBzbyB0aGF0IHdlIGtub3cgd2hldGhlciBvciBub3QgaXQncyBzYWZlIHRvIGVtaXRcbiAgLy8gJ3JlYWRhYmxlJyBldGMuXG4gIC8vXG4gIC8vIDMuIEFjdHVhbGx5IHB1bGwgdGhlIHJlcXVlc3RlZCBjaHVua3Mgb3V0IG9mIHRoZSBidWZmZXIgYW5kIHJldHVybi5cbiAgLy8gaWYgd2UgbmVlZCBhIHJlYWRhYmxlIGV2ZW50LCB0aGVuIHdlIG5lZWQgdG8gZG8gc29tZSByZWFkaW5nLlxuXG5cbiAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTtcbiAgZGVidWcoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpOyAvLyBpZiB3ZSBjdXJyZW50bHkgaGF2ZSBsZXNzIHRoYW4gdGhlIGhpZ2hXYXRlck1hcmssIHRoZW4gYWxzbyByZWFkIHNvbWVcblxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwIHx8IHN0YXRlLmxlbmd0aCAtIG4gPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZG9SZWFkID0gdHJ1ZTtcbiAgICBkZWJ1ZygnbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpO1xuICB9IC8vIGhvd2V2ZXIsIGlmIHdlJ3ZlIGVuZGVkLCB0aGVuIHRoZXJlJ3Mgbm8gcG9pbnQsIGFuZCBpZiB3ZSdyZSBhbHJlYWR5XG4gIC8vIHJlYWRpbmcsIHRoZW4gaXQncyB1bm5lY2Vzc2FyeS5cblxuXG4gIGlmIChzdGF0ZS5lbmRlZCB8fCBzdGF0ZS5yZWFkaW5nKSB7XG4gICAgZG9SZWFkID0gZmFsc2U7XG4gICAgZGVidWcoJ3JlYWRpbmcgb3IgZW5kZWQnLCBkb1JlYWQpO1xuICB9IGVsc2UgaWYgKGRvUmVhZCkge1xuICAgIGRlYnVnKCdkbyByZWFkJyk7XG4gICAgc3RhdGUucmVhZGluZyA9IHRydWU7XG4gICAgc3RhdGUuc3luYyA9IHRydWU7IC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuXG5cbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOyAvLyBjYWxsIGludGVybmFsIHJlYWQgbWV0aG9kXG5cbiAgICB0aGlzLl9yZWFkKHN0YXRlLmhpZ2hXYXRlck1hcmspO1xuXG4gICAgc3RhdGUuc3luYyA9IGZhbHNlOyAvLyBJZiBfcmVhZCBwdXNoZWQgZGF0YSBzeW5jaHJvbm91c2x5LCB0aGVuIGByZWFkaW5nYCB3aWxsIGJlIGZhbHNlLFxuICAgIC8vIGFuZCB3ZSBuZWVkIHRvIHJlLWV2YWx1YXRlIGhvdyBtdWNoIGRhdGEgd2UgY2FuIHJldHVybiB0byB0aGUgdXNlci5cblxuICAgIGlmICghc3RhdGUucmVhZGluZykgbiA9IGhvd011Y2hUb1JlYWQobk9yaWcsIHN0YXRlKTtcbiAgfVxuXG4gIHZhciByZXQ7XG4gIGlmIChuID4gMCkgcmV0ID0gZnJvbUxpc3Qobiwgc3RhdGUpO2Vsc2UgcmV0ID0gbnVsbDtcblxuICBpZiAocmV0ID09PSBudWxsKSB7XG4gICAgc3RhdGUubmVlZFJlYWRhYmxlID0gc3RhdGUubGVuZ3RoIDw9IHN0YXRlLmhpZ2hXYXRlck1hcms7XG4gICAgbiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUubGVuZ3RoIC09IG47XG4gICAgc3RhdGUuYXdhaXREcmFpbiA9IDA7XG4gIH1cblxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBub3RoaW5nIGluIHRoZSBidWZmZXIsIHRoZW4gd2Ugd2FudCB0byBrbm93XG4gICAgLy8gYXMgc29vbiBhcyB3ZSAqZG8qIGdldCBzb21ldGhpbmcgaW50byB0aGUgYnVmZmVyLlxuICAgIGlmICghc3RhdGUuZW5kZWQpIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7IC8vIElmIHdlIHRyaWVkIHRvIHJlYWQoKSBwYXN0IHRoZSBFT0YsIHRoZW4gZW1pdCBlbmQgb24gdGhlIG5leHQgdGljay5cblxuICAgIGlmIChuT3JpZyAhPT0gbiAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7XG4gIH1cblxuICBpZiAocmV0ICE9PSBudWxsKSB0aGlzLmVtaXQoJ2RhdGEnLCByZXQpO1xuICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKSB7XG4gIGRlYnVnKCdvbkVvZkNodW5rJyk7XG4gIGlmIChzdGF0ZS5lbmRlZCkgcmV0dXJuO1xuXG4gIGlmIChzdGF0ZS5kZWNvZGVyKSB7XG4gICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTtcblxuICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTtcbiAgICAgIHN0YXRlLmxlbmd0aCArPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG5cbiAgaWYgKHN0YXRlLnN5bmMpIHtcbiAgICAvLyBpZiB3ZSBhcmUgc3luYywgd2FpdCB1bnRpbCBuZXh0IHRpY2sgdG8gZW1pdCB0aGUgZGF0YS5cbiAgICAvLyBPdGhlcndpc2Ugd2UgcmlzayBlbWl0dGluZyBkYXRhIGluIHRoZSBmbG93KClcbiAgICAvLyB0aGUgcmVhZGFibGUgY29kZSB0cmlnZ2VycyBkdXJpbmcgYSByZWFkKCkgY2FsbFxuICAgIGVtaXRSZWFkYWJsZShzdHJlYW0pO1xuICB9IGVsc2Uge1xuICAgIC8vIGVtaXQgJ3JlYWRhYmxlJyBub3cgdG8gbWFrZSBzdXJlIGl0IGdldHMgcGlja2VkIHVwLlxuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuXG4gICAgaWYgKCFzdGF0ZS5lbWl0dGVkUmVhZGFibGUpIHtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgICBlbWl0UmVhZGFibGVfKHN0cmVhbSk7XG4gICAgfVxuICB9XG59IC8vIERvbid0IGVtaXQgcmVhZGFibGUgcmlnaHQgYXdheSBpbiBzeW5jIG1vZGUsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlclxuLy8gYW5vdGhlciByZWFkKCkgY2FsbCA9PiBzdGFjayBvdmVyZmxvdy4gIFRoaXMgd2F5LCBpdCBtaWdodCB0cmlnZ2VyXG4vLyBhIG5leHRUaWNrIHJlY3Vyc2lvbiB3YXJuaW5nLCBidXQgdGhhdCdzIG5vdCBzbyBiYWQuXG5cblxuZnVuY3Rpb24gZW1pdFJlYWRhYmxlKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdlbWl0UmVhZGFibGUnLCBzdGF0ZS5uZWVkUmVhZGFibGUsIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSk7XG4gIHN0YXRlLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuXG4gIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgZGVidWcoJ2VtaXRSZWFkYWJsZScsIHN0YXRlLmZsb3dpbmcpO1xuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0UmVhZGFibGVfLCBzdHJlYW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVtaXRSZWFkYWJsZV8oc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgZGVidWcoJ2VtaXRSZWFkYWJsZV8nLCBzdGF0ZS5kZXN0cm95ZWQsIHN0YXRlLmxlbmd0aCwgc3RhdGUuZW5kZWQpO1xuXG4gIGlmICghc3RhdGUuZGVzdHJveWVkICYmIChzdGF0ZS5sZW5ndGggfHwgc3RhdGUuZW5kZWQpKSB7XG4gICAgc3RyZWFtLmVtaXQoJ3JlYWRhYmxlJyk7XG4gICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7XG4gIH0gLy8gVGhlIHN0cmVhbSBuZWVkcyBhbm90aGVyIHJlYWRhYmxlIGV2ZW50IGlmXG4gIC8vIDEuIEl0IGlzIG5vdCBmbG93aW5nLCBhcyB0aGUgZmxvdyBtZWNoYW5pc20gd2lsbCB0YWtlXG4gIC8vICAgIGNhcmUgb2YgaXQuXG4gIC8vIDIuIEl0IGlzIG5vdCBlbmRlZC5cbiAgLy8gMy4gSXQgaXMgYmVsb3cgdGhlIGhpZ2hXYXRlck1hcmssIHNvIHdlIGNhbiBzY2hlZHVsZVxuICAvLyAgICBhbm90aGVyIHJlYWRhYmxlIGxhdGVyLlxuXG5cbiAgc3RhdGUubmVlZFJlYWRhYmxlID0gIXN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLmVuZGVkICYmIHN0YXRlLmxlbmd0aCA8PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrO1xuICBmbG93KHN0cmVhbSk7XG59IC8vIGF0IHRoaXMgcG9pbnQsIHRoZSB1c2VyIGhhcyBwcmVzdW1hYmx5IHNlZW4gdGhlICdyZWFkYWJsZScgZXZlbnQsXG4vLyBhbmQgY2FsbGVkIHJlYWQoKSB0byBjb25zdW1lIHNvbWUgZGF0YS4gIHRoYXQgbWF5IGhhdmUgdHJpZ2dlcmVkXG4vLyBpbiB0dXJuIGFub3RoZXIgX3JlYWQobikgY2FsbCwgaW4gd2hpY2ggY2FzZSByZWFkaW5nID0gdHJ1ZSBpZlxuLy8gaXQncyBpbiBwcm9ncmVzcy5cbi8vIEhvd2V2ZXIsIGlmIHdlJ3JlIG5vdCBlbmRlZCwgb3IgcmVhZGluZywgYW5kIHRoZSBsZW5ndGggPCBod20sXG4vLyB0aGVuIGdvIGFoZWFkIGFuZCB0cnkgdG8gcmVhZCBzb21lIG1vcmUgcHJlZW1wdGl2ZWx5LlxuXG5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7XG4gICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlO1xuICAgIHByb2Nlc3MubmV4dFRpY2sobWF5YmVSZWFkTW9yZV8sIHN0cmVhbSwgc3RhdGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgLy8gQXR0ZW1wdCB0byByZWFkIG1vcmUgZGF0YSBpZiB3ZSBzaG91bGQuXG4gIC8vXG4gIC8vIFRoZSBjb25kaXRpb25zIGZvciByZWFkaW5nIG1vcmUgZGF0YSBhcmUgKG9uZSBvZik6XG4gIC8vIC0gTm90IGVub3VnaCBkYXRhIGJ1ZmZlcmVkIChzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKS4gVGhlIGxvb3BcbiAgLy8gICBpcyByZXNwb25zaWJsZSBmb3IgZmlsbGluZyB0aGUgYnVmZmVyIHdpdGggZW5vdWdoIGRhdGEgaWYgc3VjaCBkYXRhXG4gIC8vICAgaXMgYXZhaWxhYmxlLiBJZiBoaWdoV2F0ZXJNYXJrIGlzIDAgYW5kIHdlIGFyZSBub3QgaW4gdGhlIGZsb3dpbmcgbW9kZVxuICAvLyAgIHdlIHNob3VsZCBfbm90XyBhdHRlbXB0IHRvIGJ1ZmZlciBhbnkgZXh0cmEgZGF0YS4gV2UnbGwgZ2V0IG1vcmUgZGF0YVxuICAvLyAgIHdoZW4gdGhlIHN0cmVhbSBjb25zdW1lciBjYWxscyByZWFkKCkgaW5zdGVhZC5cbiAgLy8gLSBObyBkYXRhIGluIHRoZSBidWZmZXIsIGFuZCB0aGUgc3RyZWFtIGlzIGluIGZsb3dpbmcgbW9kZS4gSW4gdGhpcyBtb2RlXG4gIC8vICAgdGhlIGxvb3AgYmVsb3cgaXMgcmVzcG9uc2libGUgZm9yIGVuc3VyaW5nIHJlYWQoKSBpcyBjYWxsZWQuIEZhaWxpbmcgdG9cbiAgLy8gICBjYWxsIHJlYWQgaGVyZSB3b3VsZCBhYm9ydCB0aGUgZmxvdyBhbmQgdGhlcmUncyBubyBvdGhlciBtZWNoYW5pc20gZm9yXG4gIC8vICAgY29udGludWluZyB0aGUgZmxvdyBpZiB0aGUgc3RyZWFtIGNvbnN1bWVyIGhhcyBqdXN0IHN1YnNjcmliZWQgdG8gdGhlXG4gIC8vICAgJ2RhdGEnIGV2ZW50LlxuICAvL1xuICAvLyBJbiBhZGRpdGlvbiB0byB0aGUgYWJvdmUgY29uZGl0aW9ucyB0byBrZWVwIHJlYWRpbmcgZGF0YSwgdGhlIGZvbGxvd2luZ1xuICAvLyBjb25kaXRpb25zIHByZXZlbnQgdGhlIGRhdGEgZnJvbSBiZWluZyByZWFkOlxuICAvLyAtIFRoZSBzdHJlYW0gaGFzIGVuZGVkIChzdGF0ZS5lbmRlZCkuXG4gIC8vIC0gVGhlcmUgaXMgYWxyZWFkeSBhIHBlbmRpbmcgJ3JlYWQnIG9wZXJhdGlvbiAoc3RhdGUucmVhZGluZykuIFRoaXMgaXMgYVxuICAvLyAgIGNhc2Ugd2hlcmUgdGhlIHRoZSBzdHJlYW0gaGFzIGNhbGxlZCB0aGUgaW1wbGVtZW50YXRpb24gZGVmaW5lZCBfcmVhZCgpXG4gIC8vICAgbWV0aG9kLCBidXQgdGhleSBhcmUgcHJvY2Vzc2luZyB0aGUgY2FsbCBhc3luY2hyb25vdXNseSBhbmQgaGF2ZSBfbm90X1xuICAvLyAgIGNhbGxlZCBwdXNoKCkgd2l0aCBuZXcgZGF0YS4gSW4gdGhpcyBjYXNlIHdlIHNraXAgcGVyZm9ybWluZyBtb3JlXG4gIC8vICAgcmVhZCgpcy4gVGhlIGV4ZWN1dGlvbiBlbmRzIGluIHRoaXMgbWV0aG9kIGFnYWluIGFmdGVyIHRoZSBfcmVhZCgpIGVuZHNcbiAgLy8gICB1cCBjYWxsaW5nIHB1c2goKSB3aXRoIG1vcmUgZGF0YS5cbiAgd2hpbGUgKCFzdGF0ZS5yZWFkaW5nICYmICFzdGF0ZS5lbmRlZCAmJiAoc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyayB8fCBzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmxlbmd0aCA9PT0gMCkpIHtcbiAgICB2YXIgbGVuID0gc3RhdGUubGVuZ3RoO1xuICAgIGRlYnVnKCdtYXliZVJlYWRNb3JlIHJlYWQgMCcpO1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICAgIGlmIChsZW4gPT09IHN0YXRlLmxlbmd0aCkgLy8gZGlkbid0IGdldCBhbnkgZGF0YSwgc3RvcCBzcGlubmluZy5cbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgc3RhdGUucmVhZGluZ01vcmUgPSBmYWxzZTtcbn0gLy8gYWJzdHJhY3QgbWV0aG9kLiAgdG8gYmUgb3ZlcnJpZGRlbiBpbiBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLlxuLy8gY2FsbCBjYihlciwgZGF0YSkgd2hlcmUgZGF0YSBpcyA8PSBuIGluIGxlbmd0aC5cbi8vIGZvciB2aXJ0dWFsIChub24tc3RyaW5nLCBub24tYnVmZmVyKSBzdHJlYW1zLCBcImxlbmd0aFwiIGlzIHNvbWV3aGF0XG4vLyBhcmJpdHJhcnksIGFuZCBwZXJoYXBzIG5vdCB2ZXJ5IG1lYW5pbmdmdWwuXG5cblxuUmVhZGFibGUucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgZXJyb3JPckRlc3Ryb3kodGhpcywgbmV3IEVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVEKCdfcmVhZCgpJykpO1xufTtcblxuUmVhZGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoZGVzdCwgcGlwZU9wdHMpIHtcbiAgdmFyIHNyYyA9IHRoaXM7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG5cbiAgc3dpdGNoIChzdGF0ZS5waXBlc0NvdW50KSB7XG4gICAgY2FzZSAwOlxuICAgICAgc3RhdGUucGlwZXMgPSBkZXN0O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDE6XG4gICAgICBzdGF0ZS5waXBlcyA9IFtzdGF0ZS5waXBlcywgZGVzdF07XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBzdGF0ZS5waXBlcy5wdXNoKGRlc3QpO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICBzdGF0ZS5waXBlc0NvdW50ICs9IDE7XG4gIGRlYnVnKCdwaXBlIGNvdW50PSVkIG9wdHM9JWonLCBzdGF0ZS5waXBlc0NvdW50LCBwaXBlT3B0cyk7XG4gIHZhciBkb0VuZCA9ICghcGlwZU9wdHMgfHwgcGlwZU9wdHMuZW5kICE9PSBmYWxzZSkgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRvdXQgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRlcnI7XG4gIHZhciBlbmRGbiA9IGRvRW5kID8gb25lbmQgOiB1bnBpcGU7XG4gIGlmIChzdGF0ZS5lbmRFbWl0dGVkKSBwcm9jZXNzLm5leHRUaWNrKGVuZEZuKTtlbHNlIHNyYy5vbmNlKCdlbmQnLCBlbmRGbik7XG4gIGRlc3Qub24oJ3VucGlwZScsIG9udW5waXBlKTtcblxuICBmdW5jdGlvbiBvbnVucGlwZShyZWFkYWJsZSwgdW5waXBlSW5mbykge1xuICAgIGRlYnVnKCdvbnVucGlwZScpO1xuXG4gICAgaWYgKHJlYWRhYmxlID09PSBzcmMpIHtcbiAgICAgIGlmICh1bnBpcGVJbmZvICYmIHVucGlwZUluZm8uaGFzVW5waXBlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgdW5waXBlSW5mby5oYXNVbnBpcGVkID0gdHJ1ZTtcbiAgICAgICAgY2xlYW51cCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uZW5kKCkge1xuICAgIGRlYnVnKCdvbmVuZCcpO1xuICAgIGRlc3QuZW5kKCk7XG4gIH0gLy8gd2hlbiB0aGUgZGVzdCBkcmFpbnMsIGl0IHJlZHVjZXMgdGhlIGF3YWl0RHJhaW4gY291bnRlclxuICAvLyBvbiB0aGUgc291cmNlLiAgVGhpcyB3b3VsZCBiZSBtb3JlIGVsZWdhbnQgd2l0aCBhIC5vbmNlKClcbiAgLy8gaGFuZGxlciBpbiBmbG93KCksIGJ1dCBhZGRpbmcgYW5kIHJlbW92aW5nIHJlcGVhdGVkbHkgaXNcbiAgLy8gdG9vIHNsb3cuXG5cblxuICB2YXIgb25kcmFpbiA9IHBpcGVPbkRyYWluKHNyYyk7XG4gIGRlc3Qub24oJ2RyYWluJywgb25kcmFpbik7XG4gIHZhciBjbGVhbmVkVXAgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIGRlYnVnKCdjbGVhbnVwJyk7IC8vIGNsZWFudXAgZXZlbnQgaGFuZGxlcnMgb25jZSB0aGUgcGlwZSBpcyBicm9rZW5cblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2RyYWluJywgb25kcmFpbik7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCd1bnBpcGUnLCBvbnVucGlwZSk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCB1bnBpcGUpO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7XG4gICAgY2xlYW5lZFVwID0gdHJ1ZTsgLy8gaWYgdGhlIHJlYWRlciBpcyB3YWl0aW5nIGZvciBhIGRyYWluIGV2ZW50IGZyb20gdGhpc1xuICAgIC8vIHNwZWNpZmljIHdyaXRlciwgdGhlbiBpdCB3b3VsZCBjYXVzZSBpdCB0byBuZXZlciBzdGFydFxuICAgIC8vIGZsb3dpbmcgYWdhaW4uXG4gICAgLy8gU28sIGlmIHRoaXMgaXMgYXdhaXRpbmcgYSBkcmFpbiwgdGhlbiB3ZSBqdXN0IGNhbGwgaXQgbm93LlxuICAgIC8vIElmIHdlIGRvbid0IGtub3csIHRoZW4gYXNzdW1lIHRoYXQgd2UgYXJlIHdhaXRpbmcgZm9yIG9uZS5cblxuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluICYmICghZGVzdC5fd3JpdGFibGVTdGF0ZSB8fCBkZXN0Ll93cml0YWJsZVN0YXRlLm5lZWREcmFpbikpIG9uZHJhaW4oKTtcbiAgfVxuXG4gIHNyYy5vbignZGF0YScsIG9uZGF0YSk7XG5cbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIHZhciByZXQgPSBkZXN0LndyaXRlKGNodW5rKTtcbiAgICBkZWJ1ZygnZGVzdC53cml0ZScsIHJldCk7XG5cbiAgICBpZiAocmV0ID09PSBmYWxzZSkge1xuICAgICAgLy8gSWYgdGhlIHVzZXIgdW5waXBlZCBkdXJpbmcgYGRlc3Qud3JpdGUoKWAsIGl0IGlzIHBvc3NpYmxlXG4gICAgICAvLyB0byBnZXQgc3R1Y2sgaW4gYSBwZXJtYW5lbnRseSBwYXVzZWQgc3RhdGUgaWYgdGhhdCB3cml0ZVxuICAgICAgLy8gYWxzbyByZXR1cm5lZCBmYWxzZS5cbiAgICAgIC8vID0+IENoZWNrIHdoZXRoZXIgYGRlc3RgIGlzIHN0aWxsIGEgcGlwaW5nIGRlc3RpbmF0aW9uLlxuICAgICAgaWYgKChzdGF0ZS5waXBlc0NvdW50ID09PSAxICYmIHN0YXRlLnBpcGVzID09PSBkZXN0IHx8IHN0YXRlLnBpcGVzQ291bnQgPiAxICYmIGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpICE9PSAtMSkgJiYgIWNsZWFuZWRVcCkge1xuICAgICAgICBkZWJ1ZygnZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlJywgc3RhdGUuYXdhaXREcmFpbik7XG4gICAgICAgIHN0YXRlLmF3YWl0RHJhaW4rKztcbiAgICAgIH1cblxuICAgICAgc3JjLnBhdXNlKCk7XG4gICAgfVxuICB9IC8vIGlmIHRoZSBkZXN0IGhhcyBhbiBlcnJvciwgdGhlbiBzdG9wIHBpcGluZyBpbnRvIGl0LlxuICAvLyBob3dldmVyLCBkb24ndCBzdXBwcmVzcyB0aGUgdGhyb3dpbmcgYmVoYXZpb3IgZm9yIHRoaXMuXG5cblxuICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7XG4gICAgZGVidWcoJ29uZXJyb3InLCBlcik7XG4gICAgdW5waXBlKCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICBpZiAoRUVsaXN0ZW5lckNvdW50KGRlc3QsICdlcnJvcicpID09PSAwKSBlcnJvck9yRGVzdHJveShkZXN0LCBlcik7XG4gIH0gLy8gTWFrZSBzdXJlIG91ciBlcnJvciBoYW5kbGVyIGlzIGF0dGFjaGVkIGJlZm9yZSB1c2VybGFuZCBvbmVzLlxuXG5cbiAgcHJlcGVuZExpc3RlbmVyKGRlc3QsICdlcnJvcicsIG9uZXJyb3IpOyAvLyBCb3RoIGNsb3NlIGFuZCBmaW5pc2ggc2hvdWxkIHRyaWdnZXIgdW5waXBlLCBidXQgb25seSBvbmNlLlxuXG4gIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZmluaXNoJywgb25maW5pc2gpO1xuICAgIHVucGlwZSgpO1xuICB9XG5cbiAgZGVzdC5vbmNlKCdjbG9zZScsIG9uY2xvc2UpO1xuXG4gIGZ1bmN0aW9uIG9uZmluaXNoKCkge1xuICAgIGRlYnVnKCdvbmZpbmlzaCcpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7XG4gICAgdW5waXBlKCk7XG4gIH1cblxuICBkZXN0Lm9uY2UoJ2ZpbmlzaCcsIG9uZmluaXNoKTtcblxuICBmdW5jdGlvbiB1bnBpcGUoKSB7XG4gICAgZGVidWcoJ3VucGlwZScpO1xuICAgIHNyYy51bnBpcGUoZGVzdCk7XG4gIH0gLy8gdGVsbCB0aGUgZGVzdCB0aGF0IGl0J3MgYmVpbmcgcGlwZWQgdG9cblxuXG4gIGRlc3QuZW1pdCgncGlwZScsIHNyYyk7IC8vIHN0YXJ0IHRoZSBmbG93IGlmIGl0IGhhc24ndCBiZWVuIHN0YXJ0ZWQgYWxyZWFkeS5cblxuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGlwZSByZXN1bWUnKTtcbiAgICBzcmMucmVzdW1lKCk7XG4gIH1cblxuICByZXR1cm4gZGVzdDtcbn07XG5cbmZ1bmN0aW9uIHBpcGVPbkRyYWluKHNyYykge1xuICByZXR1cm4gZnVuY3Rpb24gcGlwZU9uRHJhaW5GdW5jdGlvblJlc3VsdCgpIHtcbiAgICB2YXIgc3RhdGUgPSBzcmMuX3JlYWRhYmxlU3RhdGU7XG4gICAgZGVidWcoJ3BpcGVPbkRyYWluJywgc3RhdGUuYXdhaXREcmFpbik7XG4gICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4pIHN0YXRlLmF3YWl0RHJhaW4tLTtcblxuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluID09PSAwICYmIEVFbGlzdGVuZXJDb3VudChzcmMsICdkYXRhJykpIHtcbiAgICAgIHN0YXRlLmZsb3dpbmcgPSB0cnVlO1xuICAgICAgZmxvdyhzcmMpO1xuICAgIH1cbiAgfTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnVucGlwZSA9IGZ1bmN0aW9uIChkZXN0KSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciB1bnBpcGVJbmZvID0ge1xuICAgIGhhc1VucGlwZWQ6IGZhbHNlXG4gIH07IC8vIGlmIHdlJ3JlIG5vdCBwaXBpbmcgYW55d2hlcmUsIHRoZW4gZG8gbm90aGluZy5cblxuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMCkgcmV0dXJuIHRoaXM7IC8vIGp1c3Qgb25lIGRlc3RpbmF0aW9uLiAgbW9zdCBjb21tb24gY2FzZS5cblxuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkge1xuICAgIC8vIHBhc3NlZCBpbiBvbmUsIGJ1dCBpdCdzIG5vdCB0aGUgcmlnaHQgb25lLlxuICAgIGlmIChkZXN0ICYmIGRlc3QgIT09IHN0YXRlLnBpcGVzKSByZXR1cm4gdGhpcztcbiAgICBpZiAoIWRlc3QpIGRlc3QgPSBzdGF0ZS5waXBlczsgLy8gZ290IGEgbWF0Y2guXG5cbiAgICBzdGF0ZS5waXBlcyA9IG51bGw7XG4gICAgc3RhdGUucGlwZXNDb3VudCA9IDA7XG4gICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuICAgIGlmIChkZXN0KSBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuICAgIHJldHVybiB0aGlzO1xuICB9IC8vIHNsb3cgY2FzZS4gbXVsdGlwbGUgcGlwZSBkZXN0aW5hdGlvbnMuXG5cblxuICBpZiAoIWRlc3QpIHtcbiAgICAvLyByZW1vdmUgYWxsLlxuICAgIHZhciBkZXN0cyA9IHN0YXRlLnBpcGVzO1xuICAgIHZhciBsZW4gPSBzdGF0ZS5waXBlc0NvdW50O1xuICAgIHN0YXRlLnBpcGVzID0gbnVsbDtcbiAgICBzdGF0ZS5waXBlc0NvdW50ID0gMDtcbiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBkZXN0c1tpXS5lbWl0KCd1bnBpcGUnLCB0aGlzLCB7XG4gICAgICAgIGhhc1VucGlwZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyB0cnkgdG8gZmluZCB0aGUgcmlnaHQgb25lLlxuXG5cbiAgdmFyIGluZGV4ID0gaW5kZXhPZihzdGF0ZS5waXBlcywgZGVzdCk7XG4gIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiB0aGlzO1xuICBzdGF0ZS5waXBlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICBzdGF0ZS5waXBlc0NvdW50IC09IDE7XG4gIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxKSBzdGF0ZS5waXBlcyA9IHN0YXRlLnBpcGVzWzBdO1xuICBkZXN0LmVtaXQoJ3VucGlwZScsIHRoaXMsIHVucGlwZUluZm8pO1xuICByZXR1cm4gdGhpcztcbn07IC8vIHNldCB1cCBkYXRhIGV2ZW50cyBpZiB0aGV5IGFyZSBhc2tlZCBmb3Jcbi8vIEVuc3VyZSByZWFkYWJsZSBsaXN0ZW5lcnMgZXZlbnR1YWxseSBnZXQgc29tZXRoaW5nXG5cblxuUmVhZGFibGUucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2LCBmbikge1xuICB2YXIgcmVzID0gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKHRoaXMsIGV2LCBmbik7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG5cbiAgaWYgKGV2ID09PSAnZGF0YScpIHtcbiAgICAvLyB1cGRhdGUgcmVhZGFibGVMaXN0ZW5pbmcgc28gdGhhdCByZXN1bWUoKSBtYXkgYmUgYSBuby1vcFxuICAgIC8vIGEgZmV3IGxpbmVzIGRvd24uIFRoaXMgaXMgbmVlZGVkIHRvIHN1cHBvcnQgb25jZSgncmVhZGFibGUnKS5cbiAgICBzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZyA9IHRoaXMubGlzdGVuZXJDb3VudCgncmVhZGFibGUnKSA+IDA7IC8vIFRyeSBzdGFydCBmbG93aW5nIG9uIG5leHQgdGljayBpZiBzdHJlYW0gaXNuJ3QgZXhwbGljaXRseSBwYXVzZWRcblxuICAgIGlmIChzdGF0ZS5mbG93aW5nICE9PSBmYWxzZSkgdGhpcy5yZXN1bWUoKTtcbiAgfSBlbHNlIGlmIChldiA9PT0gJ3JlYWRhYmxlJykge1xuICAgIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiAhc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcpIHtcbiAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICAgICAgZGVidWcoJ29uIHJlYWRhYmxlJywgc3RhdGUubGVuZ3RoLCBzdGF0ZS5yZWFkaW5nKTtcblxuICAgICAgaWYgKHN0YXRlLmxlbmd0aCkge1xuICAgICAgICBlbWl0UmVhZGFibGUodGhpcyk7XG4gICAgICB9IGVsc2UgaWYgKCFzdGF0ZS5yZWFkaW5nKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soblJlYWRpbmdOZXh0VGljaywgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IFJlYWRhYmxlLnByb3RvdHlwZS5vbjtcblxuUmVhZGFibGUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGV2LCBmbikge1xuICB2YXIgcmVzID0gU3RyZWFtLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsIGV2LCBmbik7XG5cbiAgaWYgKGV2ID09PSAncmVhZGFibGUnKSB7XG4gICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiB0aGVyZSBpcyBzb21lb25lIHN0aWxsIGxpc3RlbmluZyB0b1xuICAgIC8vIHJlYWRhYmxlIGFuZCByZXNldCB0aGUgc3RhdGUuIEhvd2V2ZXIgdGhpcyBuZWVkcyB0byBoYXBwZW5cbiAgICAvLyBhZnRlciByZWFkYWJsZSBoYXMgYmVlbiBlbWl0dGVkIGJ1dCBiZWZvcmUgSS9PIChuZXh0VGljaykgdG9cbiAgICAvLyBzdXBwb3J0IG9uY2UoJ3JlYWRhYmxlJywgZm4pIGN5Y2xlcy4gVGhpcyBtZWFucyB0aGF0IGNhbGxpbmdcbiAgICAvLyByZXN1bWUgd2l0aGluIHRoZSBzYW1lIHRpY2sgd2lsbCBoYXZlIG5vXG4gICAgLy8gZWZmZWN0LlxuICAgIHByb2Nlc3MubmV4dFRpY2sodXBkYXRlUmVhZGFibGVMaXN0ZW5pbmcsIHRoaXMpO1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoZXYpIHtcbiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgaWYgKGV2ID09PSAncmVhZGFibGUnIHx8IGV2ID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGlmIHRoZXJlIGlzIHNvbWVvbmUgc3RpbGwgbGlzdGVuaW5nIHRvXG4gICAgLy8gcmVhZGFibGUgYW5kIHJlc2V0IHRoZSBzdGF0ZS4gSG93ZXZlciB0aGlzIG5lZWRzIHRvIGhhcHBlblxuICAgIC8vIGFmdGVyIHJlYWRhYmxlIGhhcyBiZWVuIGVtaXR0ZWQgYnV0IGJlZm9yZSBJL08gKG5leHRUaWNrKSB0b1xuICAgIC8vIHN1cHBvcnQgb25jZSgncmVhZGFibGUnLCBmbikgY3ljbGVzLiBUaGlzIG1lYW5zIHRoYXQgY2FsbGluZ1xuICAgIC8vIHJlc3VtZSB3aXRoaW4gdGhlIHNhbWUgdGljayB3aWxsIGhhdmUgbm9cbiAgICAvLyBlZmZlY3QuXG4gICAgcHJvY2Vzcy5uZXh0VGljayh1cGRhdGVSZWFkYWJsZUxpc3RlbmluZywgdGhpcyk7XG4gIH1cblxuICByZXR1cm4gcmVzO1xufTtcblxuZnVuY3Rpb24gdXBkYXRlUmVhZGFibGVMaXN0ZW5pbmcoc2VsZikge1xuICB2YXIgc3RhdGUgPSBzZWxmLl9yZWFkYWJsZVN0YXRlO1xuICBzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZyA9IHNlbGYubGlzdGVuZXJDb3VudCgncmVhZGFibGUnKSA+IDA7XG5cbiAgaWYgKHN0YXRlLnJlc3VtZVNjaGVkdWxlZCAmJiAhc3RhdGUucGF1c2VkKSB7XG4gICAgLy8gZmxvd2luZyBuZWVkcyB0byBiZSBzZXQgdG8gdHJ1ZSBub3csIG90aGVyd2lzZVxuICAgIC8vIHRoZSB1cGNvbWluZyByZXN1bWUgd2lsbCBub3QgZmxvdy5cbiAgICBzdGF0ZS5mbG93aW5nID0gdHJ1ZTsgLy8gY3J1ZGUgd2F5IHRvIGNoZWNrIGlmIHdlIHNob3VsZCByZXN1bWVcbiAgfSBlbHNlIGlmIChzZWxmLmxpc3RlbmVyQ291bnQoJ2RhdGEnKSA+IDApIHtcbiAgICBzZWxmLnJlc3VtZSgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5SZWFkaW5nTmV4dFRpY2soc2VsZikge1xuICBkZWJ1ZygncmVhZGFibGUgbmV4dHRpY2sgcmVhZCAwJyk7XG4gIHNlbGYucmVhZCgwKTtcbn0gLy8gcGF1c2UoKSBhbmQgcmVzdW1lKCkgYXJlIHJlbW5hbnRzIG9mIHRoZSBsZWdhY3kgcmVhZGFibGUgc3RyZWFtIEFQSVxuLy8gSWYgdGhlIHVzZXIgdXNlcyB0aGVtLCB0aGVuIHN3aXRjaCBpbnRvIG9sZCBtb2RlLlxuXG5cblJlYWRhYmxlLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG5cbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3Jlc3VtZScpOyAvLyB3ZSBmbG93IG9ubHkgaWYgdGhlcmUgaXMgbm8gb25lIGxpc3RlbmluZ1xuICAgIC8vIGZvciByZWFkYWJsZSwgYnV0IHdlIHN0aWxsIGhhdmUgdG8gY2FsbFxuICAgIC8vIHJlc3VtZSgpXG5cbiAgICBzdGF0ZS5mbG93aW5nID0gIXN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nO1xuICAgIHJlc3VtZSh0aGlzLCBzdGF0ZSk7XG4gIH1cblxuICBzdGF0ZS5wYXVzZWQgPSBmYWxzZTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiByZXN1bWUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlc3VtZVNjaGVkdWxlZCkge1xuICAgIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgcHJvY2Vzcy5uZXh0VGljayhyZXN1bWVfLCBzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bWVfKHN0cmVhbSwgc3RhdGUpIHtcbiAgZGVidWcoJ3Jlc3VtZScsIHN0YXRlLnJlYWRpbmcpO1xuXG4gIGlmICghc3RhdGUucmVhZGluZykge1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICB9XG5cbiAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gZmFsc2U7XG4gIHN0cmVhbS5lbWl0KCdyZXN1bWUnKTtcbiAgZmxvdyhzdHJlYW0pO1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUucmVhZGluZykgc3RyZWFtLnJlYWQoMCk7XG59XG5cblJlYWRhYmxlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgZGVidWcoJ2NhbGwgcGF1c2UgZmxvd2luZz0laicsIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyk7XG5cbiAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyAhPT0gZmFsc2UpIHtcbiAgICBkZWJ1ZygncGF1c2UnKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7XG4gIH1cblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnBhdXNlZCA9IHRydWU7XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gZmxvdyhzdHJlYW0pIHtcbiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlO1xuICBkZWJ1ZygnZmxvdycsIHN0YXRlLmZsb3dpbmcpO1xuXG4gIHdoaWxlIChzdGF0ZS5mbG93aW5nICYmIHN0cmVhbS5yZWFkKCkgIT09IG51bGwpIHtcbiAgICA7XG4gIH1cbn0gLy8gd3JhcCBhbiBvbGQtc3R5bGUgc3RyZWFtIGFzIHRoZSBhc3luYyBkYXRhIHNvdXJjZS5cbi8vIFRoaXMgaXMgKm5vdCogcGFydCBvZiB0aGUgcmVhZGFibGUgc3RyZWFtIGludGVyZmFjZS5cbi8vIEl0IGlzIGFuIHVnbHkgdW5mb3J0dW5hdGUgbWVzcyBvZiBoaXN0b3J5LlxuXG5cblJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24gKHN0cmVhbSkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBwYXVzZWQgPSBmYWxzZTtcbiAgc3RyZWFtLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZW5kJyk7XG5cbiAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHtcbiAgICAgIHZhciBjaHVuayA9IHN0YXRlLmRlY29kZXIuZW5kKCk7XG4gICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSBfdGhpcy5wdXNoKGNodW5rKTtcbiAgICB9XG5cbiAgICBfdGhpcy5wdXNoKG51bGwpO1xuICB9KTtcbiAgc3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZGF0YScpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyKSBjaHVuayA9IHN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspOyAvLyBkb24ndCBza2lwIG92ZXIgZmFsc3kgdmFsdWVzIGluIG9iamVjdE1vZGVcblxuICAgIGlmIChzdGF0ZS5vYmplY3RNb2RlICYmIChjaHVuayA9PT0gbnVsbCB8fCBjaHVuayA9PT0gdW5kZWZpbmVkKSkgcmV0dXJuO2Vsc2UgaWYgKCFzdGF0ZS5vYmplY3RNb2RlICYmICghY2h1bmsgfHwgIWNodW5rLmxlbmd0aCkpIHJldHVybjtcblxuICAgIHZhciByZXQgPSBfdGhpcy5wdXNoKGNodW5rKTtcblxuICAgIGlmICghcmV0KSB7XG4gICAgICBwYXVzZWQgPSB0cnVlO1xuICAgICAgc3RyZWFtLnBhdXNlKCk7XG4gICAgfVxuICB9KTsgLy8gcHJveHkgYWxsIHRoZSBvdGhlciBtZXRob2RzLlxuICAvLyBpbXBvcnRhbnQgd2hlbiB3cmFwcGluZyBmaWx0ZXJzIGFuZCBkdXBsZXhlcy5cblxuICBmb3IgKHZhciBpIGluIHN0cmVhbSkge1xuICAgIGlmICh0aGlzW2ldID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHN0cmVhbVtpXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpc1tpXSA9IGZ1bmN0aW9uIG1ldGhvZFdyYXAobWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBtZXRob2RXcmFwUmV0dXJuRnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHN0cmVhbVttZXRob2RdLmFwcGx5KHN0cmVhbSwgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICAgIH0oaSk7XG4gICAgfVxuICB9IC8vIHByb3h5IGNlcnRhaW4gaW1wb3J0YW50IGV2ZW50cy5cblxuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwga1Byb3h5RXZlbnRzLmxlbmd0aDsgbisrKSB7XG4gICAgc3RyZWFtLm9uKGtQcm94eUV2ZW50c1tuXSwgdGhpcy5lbWl0LmJpbmQodGhpcywga1Byb3h5RXZlbnRzW25dKSk7XG4gIH0gLy8gd2hlbiB3ZSB0cnkgdG8gY29uc3VtZSBzb21lIG1vcmUgYnl0ZXMsIHNpbXBseSB1bnBhdXNlIHRoZVxuICAvLyB1bmRlcmx5aW5nIHN0cmVhbS5cblxuXG4gIHRoaXMuX3JlYWQgPSBmdW5jdGlvbiAobikge1xuICAgIGRlYnVnKCd3cmFwcGVkIF9yZWFkJywgbik7XG5cbiAgICBpZiAocGF1c2VkKSB7XG4gICAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICAgIHN0cmVhbS5yZXN1bWUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5pZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWFkYWJsZS5wcm90b3R5cGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjcmVhdGVSZWFkYWJsZVN0cmVhbUFzeW5jSXRlcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY3JlYXRlUmVhZGFibGVTdHJlYW1Bc3luY0l0ZXJhdG9yID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2FzeW5jX2l0ZXJhdG9yJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvcih0aGlzKTtcbiAgfTtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlYWRhYmxlLnByb3RvdHlwZSwgJ3JlYWRhYmxlSGlnaFdhdGVyTWFyaycsIHtcbiAgLy8gbWFraW5nIGl0IGV4cGxpY2l0IHRoaXMgcHJvcGVydHkgaXMgbm90IGVudW1lcmFibGVcbiAgLy8gYmVjYXVzZSBvdGhlcndpc2Ugc29tZSBwcm90b3R5cGUgbWFuaXB1bGF0aW9uIGluXG4gIC8vIHVzZXJsYW5kIHdpbGwgZmFpbFxuICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyaztcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAncmVhZGFibGVCdWZmZXInLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlICYmIHRoaXMuX3JlYWRhYmxlU3RhdGUuYnVmZmVyO1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWFkYWJsZS5wcm90b3R5cGUsICdyZWFkYWJsZUZsb3dpbmcnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmc7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gc2V0KHN0YXRlKSB7XG4gICAgaWYgKHRoaXMuX3JlYWRhYmxlU3RhdGUpIHtcbiAgICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9IHN0YXRlO1xuICAgIH1cbiAgfVxufSk7IC8vIGV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS5cblxuUmVhZGFibGUuX2Zyb21MaXN0ID0gZnJvbUxpc3Q7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLCAncmVhZGFibGVMZW5ndGgnLCB7XG4gIC8vIG1ha2luZyBpdCBleHBsaWNpdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gIC8vIGJlY2F1c2Ugb3RoZXJ3aXNlIHNvbWUgcHJvdG90eXBlIG1hbmlwdWxhdGlvbiBpblxuICAvLyB1c2VybGFuZCB3aWxsIGZhaWxcbiAgZW51bWVyYWJsZTogZmFsc2UsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmxlbmd0aDtcbiAgfVxufSk7IC8vIFBsdWNrIG9mZiBuIGJ5dGVzIGZyb20gYW4gYXJyYXkgb2YgYnVmZmVycy5cbi8vIExlbmd0aCBpcyB0aGUgY29tYmluZWQgbGVuZ3RocyBvZiBhbGwgdGhlIGJ1ZmZlcnMgaW4gdGhlIGxpc3QuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIGRlc2lnbmVkIHRvIGJlIGlubGluYWJsZSwgc28gcGxlYXNlIHRha2UgY2FyZSB3aGVuIG1ha2luZ1xuLy8gY2hhbmdlcyB0byB0aGUgZnVuY3Rpb24gYm9keS5cblxuZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHtcbiAgLy8gbm90aGluZyBidWZmZXJlZFxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgdmFyIHJldDtcbiAgaWYgKHN0YXRlLm9iamVjdE1vZGUpIHJldCA9IHN0YXRlLmJ1ZmZlci5zaGlmdCgpO2Vsc2UgaWYgKCFuIHx8IG4gPj0gc3RhdGUubGVuZ3RoKSB7XG4gICAgLy8gcmVhZCBpdCBhbGwsIHRydW5jYXRlIHRoZSBsaXN0XG4gICAgaWYgKHN0YXRlLmRlY29kZXIpIHJldCA9IHN0YXRlLmJ1ZmZlci5qb2luKCcnKTtlbHNlIGlmIChzdGF0ZS5idWZmZXIubGVuZ3RoID09PSAxKSByZXQgPSBzdGF0ZS5idWZmZXIuZmlyc3QoKTtlbHNlIHJldCA9IHN0YXRlLmJ1ZmZlci5jb25jYXQoc3RhdGUubGVuZ3RoKTtcbiAgICBzdGF0ZS5idWZmZXIuY2xlYXIoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyByZWFkIHBhcnQgb2YgbGlzdFxuICAgIHJldCA9IHN0YXRlLmJ1ZmZlci5jb25zdW1lKG4sIHN0YXRlLmRlY29kZXIpO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGVuZFJlYWRhYmxlKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG4gIGRlYnVnKCdlbmRSZWFkYWJsZScsIHN0YXRlLmVuZEVtaXR0ZWQpO1xuXG4gIGlmICghc3RhdGUuZW5kRW1pdHRlZCkge1xuICAgIHN0YXRlLmVuZGVkID0gdHJ1ZTtcbiAgICBwcm9jZXNzLm5leHRUaWNrKGVuZFJlYWRhYmxlTlQsIHN0YXRlLCBzdHJlYW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuZFJlYWRhYmxlTlQoc3RhdGUsIHN0cmVhbSkge1xuICBkZWJ1ZygnZW5kUmVhZGFibGVOVCcsIHN0YXRlLmVuZEVtaXR0ZWQsIHN0YXRlLmxlbmd0aCk7IC8vIENoZWNrIHRoYXQgd2UgZGlkbid0IGdldCBvbmUgbGFzdCB1bnNoaWZ0LlxuXG4gIGlmICghc3RhdGUuZW5kRW1pdHRlZCAmJiBzdGF0ZS5sZW5ndGggPT09IDApIHtcbiAgICBzdGF0ZS5lbmRFbWl0dGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0ucmVhZGFibGUgPSBmYWxzZTtcbiAgICBzdHJlYW0uZW1pdCgnZW5kJyk7XG5cbiAgICBpZiAoc3RhdGUuYXV0b0Rlc3Ryb3kpIHtcbiAgICAgIC8vIEluIGNhc2Ugb2YgZHVwbGV4IHN0cmVhbXMgd2UgbmVlZCBhIHdheSB0byBkZXRlY3RcbiAgICAgIC8vIGlmIHRoZSB3cml0YWJsZSBzaWRlIGlzIHJlYWR5IGZvciBhdXRvRGVzdHJveSBhcyB3ZWxsXG4gICAgICB2YXIgd1N0YXRlID0gc3RyZWFtLl93cml0YWJsZVN0YXRlO1xuXG4gICAgICBpZiAoIXdTdGF0ZSB8fCB3U3RhdGUuYXV0b0Rlc3Ryb3kgJiYgd1N0YXRlLmZpbmlzaGVkKSB7XG4gICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlYWRhYmxlLmZyb20gPSBmdW5jdGlvbiAoaXRlcmFibGUsIG9wdHMpIHtcbiAgICBpZiAoZnJvbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmcm9tID0gcmVxdWlyZSgnLi9pbnRlcm5hbC9zdHJlYW1zL2Zyb20nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnJvbShSZWFkYWJsZSwgaXRlcmFibGUsIG9wdHMpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpbmRleE9mKHhzLCB4KSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHhzW2ldID09PSB4KSByZXR1cm4gaTtcbiAgfVxuXG4gIHJldHVybiAtMTtcbn0iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4vLyBhIHRyYW5zZm9ybSBzdHJlYW0gaXMgYSByZWFkYWJsZS93cml0YWJsZSBzdHJlYW0gd2hlcmUgeW91IGRvXG4vLyBzb21ldGhpbmcgd2l0aCB0aGUgZGF0YS4gIFNvbWV0aW1lcyBpdCdzIGNhbGxlZCBhIFwiZmlsdGVyXCIsXG4vLyBidXQgdGhhdCdzIG5vdCBhIGdyZWF0IG5hbWUgZm9yIGl0LCBzaW5jZSB0aGF0IGltcGxpZXMgYSB0aGluZyB3aGVyZVxuLy8gc29tZSBiaXRzIHBhc3MgdGhyb3VnaCwgYW5kIG90aGVycyBhcmUgc2ltcGx5IGlnbm9yZWQuICAoVGhhdCB3b3VsZFxuLy8gYmUgYSB2YWxpZCBleGFtcGxlIG9mIGEgdHJhbnNmb3JtLCBvZiBjb3Vyc2UuKVxuLy9cbi8vIFdoaWxlIHRoZSBvdXRwdXQgaXMgY2F1c2FsbHkgcmVsYXRlZCB0byB0aGUgaW5wdXQsIGl0J3Mgbm90IGFcbi8vIG5lY2Vzc2FyaWx5IHN5bW1ldHJpYyBvciBzeW5jaHJvbm91cyB0cmFuc2Zvcm1hdGlvbi4gIEZvciBleGFtcGxlLFxuLy8gYSB6bGliIHN0cmVhbSBtaWdodCB0YWtlIG11bHRpcGxlIHBsYWluLXRleHQgd3JpdGVzKCksIGFuZCB0aGVuXG4vLyBlbWl0IGEgc2luZ2xlIGNvbXByZXNzZWQgY2h1bmsgc29tZSB0aW1lIGluIHRoZSBmdXR1cmUuXG4vL1xuLy8gSGVyZSdzIGhvdyB0aGlzIHdvcmtzOlxuLy9cbi8vIFRoZSBUcmFuc2Zvcm0gc3RyZWFtIGhhcyBhbGwgdGhlIGFzcGVjdHMgb2YgdGhlIHJlYWRhYmxlIGFuZCB3cml0YWJsZVxuLy8gc3RyZWFtIGNsYXNzZXMuICBXaGVuIHlvdSB3cml0ZShjaHVuayksIHRoYXQgY2FsbHMgX3dyaXRlKGNodW5rLGNiKVxuLy8gaW50ZXJuYWxseSwgYW5kIHJldHVybnMgZmFsc2UgaWYgdGhlcmUncyBhIGxvdCBvZiBwZW5kaW5nIHdyaXRlc1xuLy8gYnVmZmVyZWQgdXAuICBXaGVuIHlvdSBjYWxsIHJlYWQoKSwgdGhhdCBjYWxscyBfcmVhZChuKSB1bnRpbFxuLy8gdGhlcmUncyBlbm91Z2ggcGVuZGluZyByZWFkYWJsZSBkYXRhIGJ1ZmZlcmVkIHVwLlxuLy9cbi8vIEluIGEgdHJhbnNmb3JtIHN0cmVhbSwgdGhlIHdyaXR0ZW4gZGF0YSBpcyBwbGFjZWQgaW4gYSBidWZmZXIuICBXaGVuXG4vLyBfcmVhZChuKSBpcyBjYWxsZWQsIGl0IHRyYW5zZm9ybXMgdGhlIHF1ZXVlZCB1cCBkYXRhLCBjYWxsaW5nIHRoZVxuLy8gYnVmZmVyZWQgX3dyaXRlIGNiJ3MgYXMgaXQgY29uc3VtZXMgY2h1bmtzLiAgSWYgY29uc3VtaW5nIGEgc2luZ2xlXG4vLyB3cml0dGVuIGNodW5rIHdvdWxkIHJlc3VsdCBpbiBtdWx0aXBsZSBvdXRwdXQgY2h1bmtzLCB0aGVuIHRoZSBmaXJzdFxuLy8gb3V0cHV0dGVkIGJpdCBjYWxscyB0aGUgcmVhZGNiLCBhbmQgc3Vic2VxdWVudCBjaHVua3MganVzdCBnbyBpbnRvXG4vLyB0aGUgcmVhZCBidWZmZXIsIGFuZCB3aWxsIGNhdXNlIGl0IHRvIGVtaXQgJ3JlYWRhYmxlJyBpZiBuZWNlc3NhcnkuXG4vL1xuLy8gVGhpcyB3YXksIGJhY2stcHJlc3N1cmUgaXMgYWN0dWFsbHkgZGV0ZXJtaW5lZCBieSB0aGUgcmVhZGluZyBzaWRlLFxuLy8gc2luY2UgX3JlYWQgaGFzIHRvIGJlIGNhbGxlZCB0byBzdGFydCBwcm9jZXNzaW5nIGEgbmV3IGNodW5rLiAgSG93ZXZlcixcbi8vIGEgcGF0aG9sb2dpY2FsIGluZmxhdGUgdHlwZSBvZiB0cmFuc2Zvcm0gY2FuIGNhdXNlIGV4Y2Vzc2l2ZSBidWZmZXJpbmdcbi8vIGhlcmUuICBGb3IgZXhhbXBsZSwgaW1hZ2luZSBhIHN0cmVhbSB3aGVyZSBldmVyeSBieXRlIG9mIGlucHV0IGlzXG4vLyBpbnRlcnByZXRlZCBhcyBhbiBpbnRlZ2VyIGZyb20gMC0yNTUsIGFuZCB0aGVuIHJlc3VsdHMgaW4gdGhhdCBtYW55XG4vLyBieXRlcyBvZiBvdXRwdXQuICBXcml0aW5nIHRoZSA0IGJ5dGVzIHtmZixmZixmZixmZn0gd291bGQgcmVzdWx0IGluXG4vLyAxa2Igb2YgZGF0YSBiZWluZyBvdXRwdXQuICBJbiB0aGlzIGNhc2UsIHlvdSBjb3VsZCB3cml0ZSBhIHZlcnkgc21hbGxcbi8vIGFtb3VudCBvZiBpbnB1dCwgYW5kIGVuZCB1cCB3aXRoIGEgdmVyeSBsYXJnZSBhbW91bnQgb2Ygb3V0cHV0LiAgSW5cbi8vIHN1Y2ggYSBwYXRob2xvZ2ljYWwgaW5mbGF0aW5nIG1lY2hhbmlzbSwgdGhlcmUnZCBiZSBubyB3YXkgdG8gdGVsbFxuLy8gdGhlIHN5c3RlbSB0byBzdG9wIGRvaW5nIHRoZSB0cmFuc2Zvcm0uICBBIHNpbmdsZSA0TUIgd3JpdGUgY291bGRcbi8vIGNhdXNlIHRoZSBzeXN0ZW0gdG8gcnVuIG91dCBvZiBtZW1vcnkuXG4vL1xuLy8gSG93ZXZlciwgZXZlbiBpbiBzdWNoIGEgcGF0aG9sb2dpY2FsIGNhc2UsIG9ubHkgYSBzaW5nbGUgd3JpdHRlbiBjaHVua1xuLy8gd291bGQgYmUgY29uc3VtZWQsIGFuZCB0aGVuIHRoZSByZXN0IHdvdWxkIHdhaXQgKHVuLXRyYW5zZm9ybWVkKSB1bnRpbFxuLy8gdGhlIHJlc3VsdHMgb2YgdGhlIHByZXZpb3VzIHRyYW5zZm9ybWVkIGNodW5rIHdlcmUgY29uc3VtZWQuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNmb3JtO1xuXG52YXIgX3JlcXVpcmUkY29kZXMgPSByZXF1aXJlKCcuLi9lcnJvcnMnKS5jb2RlcyxcbiAgICBFUlJfTUVUSE9EX05PVF9JTVBMRU1FTlRFRCA9IF9yZXF1aXJlJGNvZGVzLkVSUl9NRVRIT0RfTk9UX0lNUExFTUVOVEVELFxuICAgIEVSUl9NVUxUSVBMRV9DQUxMQkFDSyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9NVUxUSVBMRV9DQUxMQkFDSyxcbiAgICBFUlJfVFJBTlNGT1JNX0FMUkVBRFlfVFJBTlNGT1JNSU5HID0gX3JlcXVpcmUkY29kZXMuRVJSX1RSQU5TRk9STV9BTFJFQURZX1RSQU5TRk9STUlORyxcbiAgICBFUlJfVFJBTlNGT1JNX1dJVEhfTEVOR1RIXzAgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfVFJBTlNGT1JNX1dJVEhfTEVOR1RIXzA7XG5cbnZhciBEdXBsZXggPSByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbnJlcXVpcmUoJ2luaGVyaXRzJykoVHJhbnNmb3JtLCBEdXBsZXgpO1xuXG5mdW5jdGlvbiBhZnRlclRyYW5zZm9ybShlciwgZGF0YSkge1xuICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTtcbiAgdHMudHJhbnNmb3JtaW5nID0gZmFsc2U7XG4gIHZhciBjYiA9IHRzLndyaXRlY2I7XG5cbiAgaWYgKGNiID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRVJSX01VTFRJUExFX0NBTExCQUNLKCkpO1xuICB9XG5cbiAgdHMud3JpdGVjaHVuayA9IG51bGw7XG4gIHRzLndyaXRlY2IgPSBudWxsO1xuICBpZiAoZGF0YSAhPSBudWxsKSAvLyBzaW5nbGUgZXF1YWxzIGNoZWNrIGZvciBib3RoIGBudWxsYCBhbmQgYHVuZGVmaW5lZGBcbiAgICB0aGlzLnB1c2goZGF0YSk7XG4gIGNiKGVyKTtcbiAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgcnMucmVhZGluZyA9IGZhbHNlO1xuXG4gIGlmIChycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykge1xuICAgIHRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gVHJhbnNmb3JtKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFRyYW5zZm9ybSkpIHJldHVybiBuZXcgVHJhbnNmb3JtKG9wdGlvbnMpO1xuICBEdXBsZXguY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgdGhpcy5fdHJhbnNmb3JtU3RhdGUgPSB7XG4gICAgYWZ0ZXJUcmFuc2Zvcm06IGFmdGVyVHJhbnNmb3JtLmJpbmQodGhpcyksXG4gICAgbmVlZFRyYW5zZm9ybTogZmFsc2UsXG4gICAgdHJhbnNmb3JtaW5nOiBmYWxzZSxcbiAgICB3cml0ZWNiOiBudWxsLFxuICAgIHdyaXRlY2h1bms6IG51bGwsXG4gICAgd3JpdGVlbmNvZGluZzogbnVsbFxuICB9OyAvLyBzdGFydCBvdXQgYXNraW5nIGZvciBhIHJlYWRhYmxlIGV2ZW50IG9uY2UgZGF0YSBpcyB0cmFuc2Zvcm1lZC5cblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7IC8vIHdlIGhhdmUgaW1wbGVtZW50ZWQgdGhlIF9yZWFkIG1ldGhvZCwgYW5kIGRvbmUgdGhlIG90aGVyIHRoaW5nc1xuICAvLyB0aGF0IFJlYWRhYmxlIHdhbnRzIGJlZm9yZSB0aGUgZmlyc3QgX3JlYWQgY2FsbCwgc28gdW5zZXQgdGhlXG4gIC8vIHN5bmMgZ3VhcmQgZmxhZy5cblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmMgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHRoaXMuX3RyYW5zZm9ybSA9IG9wdGlvbnMudHJhbnNmb3JtO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5mbHVzaCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmx1c2ggPSBvcHRpb25zLmZsdXNoO1xuICB9IC8vIFdoZW4gdGhlIHdyaXRhYmxlIHNpZGUgZmluaXNoZXMsIHRoZW4gZmx1c2ggb3V0IGFueXRoaW5nIHJlbWFpbmluZy5cblxuXG4gIHRoaXMub24oJ3ByZWZpbmlzaCcsIHByZWZpbmlzaCk7XG59XG5cbmZ1bmN0aW9uIHByZWZpbmlzaCgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAodHlwZW9mIHRoaXMuX2ZsdXNoID09PSAnZnVuY3Rpb24nICYmICF0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZCkge1xuICAgIHRoaXMuX2ZsdXNoKGZ1bmN0aW9uIChlciwgZGF0YSkge1xuICAgICAgZG9uZShfdGhpcywgZXIsIGRhdGEpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGRvbmUodGhpcywgbnVsbCwgbnVsbCk7XG4gIH1cbn1cblxuVHJhbnNmb3JtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykge1xuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZS5uZWVkVHJhbnNmb3JtID0gZmFsc2U7XG4gIHJldHVybiBEdXBsZXgucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZW5jb2RpbmcpO1xufTsgLy8gVGhpcyBpcyB0aGUgcGFydCB3aGVyZSB5b3UgZG8gc3R1ZmYhXG4vLyBvdmVycmlkZSB0aGlzIGZ1bmN0aW9uIGluIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyAnY2h1bmsnIGlzIGFuIGlucHV0IGNodW5rLlxuLy9cbi8vIENhbGwgYHB1c2gobmV3Q2h1bmspYCB0byBwYXNzIGFsb25nIHRyYW5zZm9ybWVkIG91dHB1dFxuLy8gdG8gdGhlIHJlYWRhYmxlIHNpZGUuICBZb3UgbWF5IGNhbGwgJ3B1c2gnIHplcm8gb3IgbW9yZSB0aW1lcy5cbi8vXG4vLyBDYWxsIGBjYihlcnIpYCB3aGVuIHlvdSBhcmUgZG9uZSB3aXRoIHRoaXMgY2h1bmsuICBJZiB5b3UgcGFzc1xuLy8gYW4gZXJyb3IsIHRoZW4gdGhhdCdsbCBwdXQgdGhlIGh1cnQgb24gdGhlIHdob2xlIG9wZXJhdGlvbi4gIElmIHlvdVxuLy8gbmV2ZXIgY2FsbCBjYigpLCB0aGVuIHlvdSdsbCBuZXZlciBnZXQgYW5vdGhlciBjaHVuay5cblxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjYihuZXcgRVJSX01FVEhPRF9OT1RfSU1QTEVNRU5URUQoJ190cmFuc2Zvcm0oKScpKTtcbn07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLndyaXRlY2IgPSBjYjtcbiAgdHMud3JpdGVjaHVuayA9IGNodW5rO1xuICB0cy53cml0ZWVuY29kaW5nID0gZW5jb2Rpbmc7XG5cbiAgaWYgKCF0cy50cmFuc2Zvcm1pbmcpIHtcbiAgICB2YXIgcnMgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgIGlmICh0cy5uZWVkVHJhbnNmb3JtIHx8IHJzLm5lZWRSZWFkYWJsZSB8fCBycy5sZW5ndGggPCBycy5oaWdoV2F0ZXJNYXJrKSB0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspO1xuICB9XG59OyAvLyBEb2Vzbid0IG1hdHRlciB3aGF0IHRoZSBhcmdzIGFyZSBoZXJlLlxuLy8gX3RyYW5zZm9ybSBkb2VzIGFsbCB0aGUgd29yay5cbi8vIFRoYXQgd2UgZ290IGhlcmUgbWVhbnMgdGhhdCB0aGUgcmVhZGFibGUgc2lkZSB3YW50cyBtb3JlIGRhdGEuXG5cblxuVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh0cy53cml0ZWNodW5rICE9PSBudWxsICYmICF0cy50cmFuc2Zvcm1pbmcpIHtcbiAgICB0cy50cmFuc2Zvcm1pbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5fdHJhbnNmb3JtKHRzLndyaXRlY2h1bmssIHRzLndyaXRlZW5jb2RpbmcsIHRzLmFmdGVyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBtYXJrIHRoYXQgd2UgbmVlZCBhIHRyYW5zZm9ybSwgc28gdGhhdCBhbnkgZGF0YSB0aGF0IGNvbWVzIGluXG4gICAgLy8gd2lsbCBnZXQgcHJvY2Vzc2VkLCBub3cgdGhhdCB3ZSd2ZSBhc2tlZCBmb3IgaXQuXG4gICAgdHMubmVlZFRyYW5zZm9ybSA9IHRydWU7XG4gIH1cbn07XG5cblRyYW5zZm9ybS5wcm90b3R5cGUuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYikge1xuICBEdXBsZXgucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcywgZXJyLCBmdW5jdGlvbiAoZXJyMikge1xuICAgIGNiKGVycjIpO1xuICB9KTtcbn07XG5cbmZ1bmN0aW9uIGRvbmUoc3RyZWFtLCBlciwgZGF0YSkge1xuICBpZiAoZXIpIHJldHVybiBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gIGlmIChkYXRhICE9IG51bGwpIC8vIHNpbmdsZSBlcXVhbHMgY2hlY2sgZm9yIGJvdGggYG51bGxgIGFuZCBgdW5kZWZpbmVkYFxuICAgIHN0cmVhbS5wdXNoKGRhdGEpOyAvLyBUT0RPKEJyaWRnZUFSKTogV3JpdGUgYSB0ZXN0IGZvciB0aGVzZSB0d28gZXJyb3IgY2FzZXNcbiAgLy8gaWYgdGhlcmUncyBub3RoaW5nIGluIHRoZSB3cml0ZSBidWZmZXIsIHRoZW4gdGhhdCBtZWFuc1xuICAvLyB0aGF0IG5vdGhpbmcgbW9yZSB3aWxsIGV2ZXIgYmUgcHJvdmlkZWRcblxuICBpZiAoc3RyZWFtLl93cml0YWJsZVN0YXRlLmxlbmd0aCkgdGhyb3cgbmV3IEVSUl9UUkFOU0ZPUk1fV0lUSF9MRU5HVEhfMCgpO1xuICBpZiAoc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZS50cmFuc2Zvcm1pbmcpIHRocm93IG5ldyBFUlJfVFJBTlNGT1JNX0FMUkVBRFlfVFJBTlNGT1JNSU5HKCk7XG4gIHJldHVybiBzdHJlYW0ucHVzaChudWxsKTtcbn0iLCAiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4vLyBhIHBhc3N0aHJvdWdoIHN0cmVhbS5cbi8vIGJhc2ljYWxseSBqdXN0IHRoZSBtb3N0IG1pbmltYWwgc29ydCBvZiBUcmFuc2Zvcm0gc3RyZWFtLlxuLy8gRXZlcnkgd3JpdHRlbiBjaHVuayBnZXRzIG91dHB1dCBhcy1pcy5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBQYXNzVGhyb3VnaDtcblxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJy4vX3N0cmVhbV90cmFuc2Zvcm0nKTtcblxucmVxdWlyZSgnaW5oZXJpdHMnKShQYXNzVGhyb3VnaCwgVHJhbnNmb3JtKTtcblxuZnVuY3Rpb24gUGFzc1Rocm91Z2gob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFzc1Rocm91Z2gpKSByZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpO1xuICBUcmFuc2Zvcm0uY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cblxuUGFzc1Rocm91Z2gucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjYihudWxsLCBjaHVuayk7XG59OyIsICIvLyBQb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWFmaW50b3NoL3B1bXAgd2l0aFxuLy8gcGVybWlzc2lvbiBmcm9tIHRoZSBhdXRob3IsIE1hdGhpYXMgQnV1cyAoQG1hZmludG9zaCkuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlb3M7XG5cbmZ1bmN0aW9uIG9uY2UoY2FsbGJhY2spIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGNhbGxiYWNrLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxudmFyIF9yZXF1aXJlJGNvZGVzID0gcmVxdWlyZSgnLi4vLi4vLi4vZXJyb3JzJykuY29kZXMsXG4gICAgRVJSX01JU1NJTkdfQVJHUyA9IF9yZXF1aXJlJGNvZGVzLkVSUl9NSVNTSU5HX0FSR1MsXG4gICAgRVJSX1NUUkVBTV9ERVNUUk9ZRUQgPSBfcmVxdWlyZSRjb2Rlcy5FUlJfU1RSRUFNX0RFU1RST1lFRDtcblxuZnVuY3Rpb24gbm9vcChlcnIpIHtcbiAgLy8gUmV0aHJvdyB0aGUgZXJyb3IgaWYgaXQgZXhpc3RzIHRvIGF2b2lkIHN3YWxsb3dpbmcgaXRcbiAgaWYgKGVycikgdGhyb3cgZXJyO1xufVxuXG5mdW5jdGlvbiBpc1JlcXVlc3Qoc3RyZWFtKSB7XG4gIHJldHVybiBzdHJlYW0uc2V0SGVhZGVyICYmIHR5cGVvZiBzdHJlYW0uYWJvcnQgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3llcihzdHJlYW0sIHJlYWRpbmcsIHdyaXRpbmcsIGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrID0gb25jZShjYWxsYmFjayk7XG4gIHZhciBjbG9zZWQgPSBmYWxzZTtcbiAgc3RyZWFtLm9uKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICBjbG9zZWQgPSB0cnVlO1xuICB9KTtcbiAgaWYgKGVvcyA9PT0gdW5kZWZpbmVkKSBlb3MgPSByZXF1aXJlKCcuL2VuZC1vZi1zdHJlYW0nKTtcbiAgZW9zKHN0cmVhbSwge1xuICAgIHJlYWRhYmxlOiByZWFkaW5nLFxuICAgIHdyaXRhYmxlOiB3cml0aW5nXG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICBjbG9zZWQgPSB0cnVlO1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pO1xuICB2YXIgZGVzdHJveWVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGNsb3NlZCkgcmV0dXJuO1xuICAgIGlmIChkZXN0cm95ZWQpIHJldHVybjtcbiAgICBkZXN0cm95ZWQgPSB0cnVlOyAvLyByZXF1ZXN0LmRlc3Ryb3kganVzdCBkbyAuZW5kIC0gLmFib3J0IGlzIHdoYXQgd2Ugd2FudFxuXG4gICAgaWYgKGlzUmVxdWVzdChzdHJlYW0pKSByZXR1cm4gc3RyZWFtLmFib3J0KCk7XG4gICAgaWYgKHR5cGVvZiBzdHJlYW0uZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgY2FsbGJhY2soZXJyIHx8IG5ldyBFUlJfU1RSRUFNX0RFU1RST1lFRCgncGlwZScpKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2FsbChmbikge1xuICBmbigpO1xufVxuXG5mdW5jdGlvbiBwaXBlKGZyb20sIHRvKSB7XG4gIHJldHVybiBmcm9tLnBpcGUodG8pO1xufVxuXG5mdW5jdGlvbiBwb3BDYWxsYmFjayhzdHJlYW1zKSB7XG4gIGlmICghc3RyZWFtcy5sZW5ndGgpIHJldHVybiBub29wO1xuICBpZiAodHlwZW9mIHN0cmVhbXNbc3RyZWFtcy5sZW5ndGggLSAxXSAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIG5vb3A7XG4gIHJldHVybiBzdHJlYW1zLnBvcCgpO1xufVxuXG5mdW5jdGlvbiBwaXBlbGluZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHN0cmVhbXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc3RyZWFtc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBjYWxsYmFjayA9IHBvcENhbGxiYWNrKHN0cmVhbXMpO1xuICBpZiAoQXJyYXkuaXNBcnJheShzdHJlYW1zWzBdKSkgc3RyZWFtcyA9IHN0cmVhbXNbMF07XG5cbiAgaWYgKHN0cmVhbXMubGVuZ3RoIDwgMikge1xuICAgIHRocm93IG5ldyBFUlJfTUlTU0lOR19BUkdTKCdzdHJlYW1zJyk7XG4gIH1cblxuICB2YXIgZXJyb3I7XG4gIHZhciBkZXN0cm95cyA9IHN0cmVhbXMubWFwKGZ1bmN0aW9uIChzdHJlYW0sIGkpIHtcbiAgICB2YXIgcmVhZGluZyA9IGkgPCBzdHJlYW1zLmxlbmd0aCAtIDE7XG4gICAgdmFyIHdyaXRpbmcgPSBpID4gMDtcbiAgICByZXR1cm4gZGVzdHJveWVyKHN0cmVhbSwgcmVhZGluZywgd3JpdGluZywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gICAgICBpZiAoZXJyKSBkZXN0cm95cy5mb3JFYWNoKGNhbGwpO1xuICAgICAgaWYgKHJlYWRpbmcpIHJldHVybjtcbiAgICAgIGRlc3Ryb3lzLmZvckVhY2goY2FsbCk7XG4gICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gc3RyZWFtcy5yZWR1Y2UocGlwZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcGlwZWxpbmU7IiwgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmVhbTtcblxudmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxuaW5oZXJpdHMoU3RyZWFtLCBFRSk7XG5TdHJlYW0uUmVhZGFibGUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcmVhZGFibGUuanMnKTtcblN0cmVhbS5Xcml0YWJsZSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV93cml0YWJsZS5qcycpO1xuU3RyZWFtLkR1cGxleCA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9kdXBsZXguanMnKTtcblN0cmVhbS5UcmFuc2Zvcm0gPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzJyk7XG5TdHJlYW0uUGFzc1Rocm91Z2ggPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMnKTtcblN0cmVhbS5maW5pc2hlZCA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9lbmQtb2Ytc3RyZWFtLmpzJylcblN0cmVhbS5waXBlbGluZSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9saWIvaW50ZXJuYWwvc3RyZWFtcy9waXBlbGluZS5qcycpXG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuNC54XG5TdHJlYW0uU3RyZWFtID0gU3RyZWFtO1xuXG5cblxuLy8gb2xkLXN0eWxlIHN0cmVhbXMuICBOb3RlIHRoYXQgdGhlIHBpcGUgbWV0aG9kICh0aGUgb25seSByZWxldmFudFxuLy8gcGFydCBvZiB0aGlzIGNsYXNzKSBpcyBvdmVycmlkZGVuIGluIHRoZSBSZWFkYWJsZSBjbGFzcy5cblxuZnVuY3Rpb24gU3RyZWFtKCkge1xuICBFRS5jYWxsKHRoaXMpO1xufVxuXG5TdHJlYW0ucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbihkZXN0LCBvcHRpb25zKSB7XG4gIHZhciBzb3VyY2UgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGlmIChkZXN0LndyaXRhYmxlKSB7XG4gICAgICBpZiAoZmFsc2UgPT09IGRlc3Qud3JpdGUoY2h1bmspICYmIHNvdXJjZS5wYXVzZSkge1xuICAgICAgICBzb3VyY2UucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzb3VyY2Uub24oJ2RhdGEnLCBvbmRhdGEpO1xuXG4gIGZ1bmN0aW9uIG9uZHJhaW4oKSB7XG4gICAgaWYgKHNvdXJjZS5yZWFkYWJsZSAmJiBzb3VyY2UucmVzdW1lKSB7XG4gICAgICBzb3VyY2UucmVzdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICAvLyBJZiB0aGUgJ2VuZCcgb3B0aW9uIGlzIG5vdCBzdXBwbGllZCwgZGVzdC5lbmQoKSB3aWxsIGJlIGNhbGxlZCB3aGVuXG4gIC8vIHNvdXJjZSBnZXRzIHRoZSAnZW5kJyBvciAnY2xvc2UnIGV2ZW50cy4gIE9ubHkgZGVzdC5lbmQoKSBvbmNlLlxuICBpZiAoIWRlc3QuX2lzU3RkaW8gJiYgKCFvcHRpb25zIHx8IG9wdGlvbnMuZW5kICE9PSBmYWxzZSkpIHtcbiAgICBzb3VyY2Uub24oJ2VuZCcsIG9uZW5kKTtcbiAgICBzb3VyY2Uub24oJ2Nsb3NlJywgb25jbG9zZSk7XG4gIH1cblxuICB2YXIgZGlkT25FbmQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gb25lbmQoKSB7XG4gICAgaWYgKGRpZE9uRW5kKSByZXR1cm47XG4gICAgZGlkT25FbmQgPSB0cnVlO1xuXG4gICAgZGVzdC5lbmQoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBpZiAoZGlkT25FbmQpIHJldHVybjtcbiAgICBkaWRPbkVuZCA9IHRydWU7XG5cbiAgICBpZiAodHlwZW9mIGRlc3QuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgZGVzdC5kZXN0cm95KCk7XG4gIH1cblxuICAvLyBkb24ndCBsZWF2ZSBkYW5nbGluZyBwaXBlcyB3aGVuIHRoZXJlIGFyZSBlcnJvcnMuXG4gIGZ1bmN0aW9uIG9uZXJyb3IoZXIpIHtcbiAgICBjbGVhbnVwKCk7XG4gICAgaWYgKEVFLmxpc3RlbmVyQ291bnQodGhpcywgJ2Vycm9yJykgPT09IDApIHtcbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgc3RyZWFtIGVycm9yIGluIHBpcGUuXG4gICAgfVxuICB9XG5cbiAgc291cmNlLm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuICBkZXN0Lm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIHJlbW92ZSBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyB0aGF0IHdlcmUgYWRkZWQuXG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIGNsZWFudXApO1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbGVhbnVwKTtcblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7XG4gIH1cblxuICBzb3VyY2Uub24oJ2VuZCcsIGNsZWFudXApO1xuICBzb3VyY2Uub24oJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgZGVzdC5vbignY2xvc2UnLCBjbGVhbnVwKTtcblxuICBkZXN0LmVtaXQoJ3BpcGUnLCBzb3VyY2UpO1xuXG4gIC8vIEFsbG93IGZvciB1bml4LWxpa2UgdXNhZ2U6IEEucGlwZShCKS5waXBlKEMpXG4gIHJldHVybiBkZXN0O1xufTtcbiIsICJ2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbmV4cG9ydHMuZXh0ZW5kID0gZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICBmb3IodmFyIGtleSBpbiBiKSBhW2tleV0gPSBiW2tleV07XG5cbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDNcbiAgICAgICAgPyBhXG4gICAgICAgIDogZXh0ZW5kLmFwcGx5KG51bGwsIFthXS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKSk7XG59XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19zcHJlYWRBcnJheXMgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkQXJyYXlzKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xuICAgIHJldHVybiByO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIHByb21pc2lmeSh2b2wsIGZuLCBnZXRSZXN1bHQpIHtcbiAgICBpZiAoZ2V0UmVzdWx0ID09PSB2b2lkIDApIHsgZ2V0UmVzdWx0ID0gZnVuY3Rpb24gKGlucHV0KSB7IHJldHVybiBpbnB1dDsgfTsgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZvbFtmbl0uYmluZCh2b2wpLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheXMoYXJncywgW2Z1bmN0aW9uIChlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShnZXRSZXN1bHQocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgfV0pKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbnZhciBGaWxlSGFuZGxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpbGVIYW5kbGUodm9sLCBmZCkge1xuICAgICAgICB0aGlzLnZvbCA9IHZvbDtcbiAgICAgICAgdGhpcy5mZCA9IGZkO1xuICAgIH1cbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS5hcHBlbmRGaWxlID0gZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2FwcGVuZEZpbGUnKSh0aGlzLmZkLCBkYXRhLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIEZpbGVIYW5kbGUucHJvdG90eXBlLmNobW9kID0gZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2ZjaG1vZCcpKHRoaXMuZmQsIG1vZGUpO1xuICAgIH07XG4gICAgRmlsZUhhbmRsZS5wcm90b3R5cGUuY2hvd24gPSBmdW5jdGlvbiAodWlkLCBnaWQpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2ZjaG93bicpKHRoaXMuZmQsIHVpZCwgZ2lkKTtcbiAgICB9O1xuICAgIEZpbGVIYW5kbGUucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHRoaXMudm9sLCAnY2xvc2UnKSh0aGlzLmZkKTtcbiAgICB9O1xuICAgIEZpbGVIYW5kbGUucHJvdG90eXBlLmRhdGFzeW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHRoaXMudm9sLCAnZmRhdGFzeW5jJykodGhpcy5mZCk7XG4gICAgfTtcbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICdyZWFkJywgZnVuY3Rpb24gKGJ5dGVzUmVhZCkgeyByZXR1cm4gKHsgYnl0ZXNSZWFkOiBieXRlc1JlYWQsIGJ1ZmZlcjogYnVmZmVyIH0pOyB9KSh0aGlzLmZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS5yZWFkRmlsZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICdyZWFkRmlsZScpKHRoaXMuZmQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgRmlsZUhhbmRsZS5wcm90b3R5cGUuc3RhdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICdmc3RhdCcpKHRoaXMuZmQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgRmlsZUhhbmRsZS5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2ZzeW5jJykodGhpcy5mZCk7XG4gICAgfTtcbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS50cnVuY2F0ZSA9IGZ1bmN0aW9uIChsZW4pIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ2Z0cnVuY2F0ZScpKHRoaXMuZmQsIGxlbik7XG4gICAgfTtcbiAgICBGaWxlSGFuZGxlLnByb3RvdHlwZS51dGltZXMgPSBmdW5jdGlvbiAoYXRpbWUsIG10aW1lKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICdmdXRpbWVzJykodGhpcy5mZCwgYXRpbWUsIG10aW1lKTtcbiAgICB9O1xuICAgIEZpbGVIYW5kbGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnkodGhpcy52b2wsICd3cml0ZScsIGZ1bmN0aW9uIChieXRlc1dyaXR0ZW4pIHsgcmV0dXJuICh7IGJ5dGVzV3JpdHRlbjogYnl0ZXNXcml0dGVuLCBidWZmZXI6IGJ1ZmZlciB9KTsgfSkodGhpcy5mZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pO1xuICAgIH07XG4gICAgRmlsZUhhbmRsZS5wcm90b3R5cGUud3JpdGVGaWxlID0gZnVuY3Rpb24gKGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLnZvbCwgJ3dyaXRlRmlsZScpKHRoaXMuZmQsIGRhdGEsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbGVIYW5kbGU7XG59KCkpO1xuZXhwb3J0cy5GaWxlSGFuZGxlID0gRmlsZUhhbmRsZTtcbmZ1bmN0aW9uIGNyZWF0ZVByb21pc2VzQXBpKHZvbCkge1xuICAgIGlmICh0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIEZpbGVIYW5kbGU6IEZpbGVIYW5kbGUsXG4gICAgICAgIGFjY2VzczogZnVuY3Rpb24gKHBhdGgsIG1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnYWNjZXNzJykocGF0aCwgbW9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGVuZEZpbGU6IGZ1bmN0aW9uIChwYXRoLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ2FwcGVuZEZpbGUnKShwYXRoIGluc3RhbmNlb2YgRmlsZUhhbmRsZSA/IHBhdGguZmQgOiBwYXRoLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2htb2Q6IGZ1bmN0aW9uIChwYXRoLCBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ2NobW9kJykocGF0aCwgbW9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNob3duOiBmdW5jdGlvbiAocGF0aCwgdWlkLCBnaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnY2hvd24nKShwYXRoLCB1aWQsIGdpZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvcHlGaWxlOiBmdW5jdGlvbiAoc3JjLCBkZXN0LCBmbGFncykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdjb3B5RmlsZScpKHNyYywgZGVzdCwgZmxhZ3MpO1xuICAgICAgICB9LFxuICAgICAgICBsY2htb2Q6IGZ1bmN0aW9uIChwYXRoLCBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ2xjaG1vZCcpKHBhdGgsIG1vZGUpO1xuICAgICAgICB9LFxuICAgICAgICBsY2hvd246IGZ1bmN0aW9uIChwYXRoLCB1aWQsIGdpZCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdsY2hvd24nKShwYXRoLCB1aWQsIGdpZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChleGlzdGluZ1BhdGgsIG5ld1BhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnbGluaycpKGV4aXN0aW5nUGF0aCwgbmV3UGF0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxzdGF0OiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdsc3RhdCcpKHBhdGgsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICBta2RpcjogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnbWtkaXInKShwYXRoLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWtkdGVtcDogZnVuY3Rpb24gKHByZWZpeCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdta2R0ZW1wJykocHJlZml4LCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgb3BlbjogZnVuY3Rpb24gKHBhdGgsIGZsYWdzLCBtb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ29wZW4nLCBmdW5jdGlvbiAoZmQpIHsgcmV0dXJuIG5ldyBGaWxlSGFuZGxlKHZvbCwgZmQpOyB9KShwYXRoLCBmbGFncywgbW9kZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlYWRkaXI6IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3JlYWRkaXInKShwYXRoLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVhZEZpbGU6IGZ1bmN0aW9uIChpZCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdyZWFkRmlsZScpKGlkIGluc3RhbmNlb2YgRmlsZUhhbmRsZSA/IGlkLmZkIDogaWQsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgICAgICByZWFkbGluazogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAncmVhZGxpbmsnKShwYXRoLCBvcHRpb25zKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVhbHBhdGg6IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3JlYWxwYXRoJykocGF0aCwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmFtZTogZnVuY3Rpb24gKG9sZFBhdGgsIG5ld1BhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAncmVuYW1lJykob2xkUGF0aCwgbmV3UGF0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJtZGlyOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdybWRpcicpKHBhdGgpO1xuICAgICAgICB9LFxuICAgICAgICBzdGF0OiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICdzdGF0JykocGF0aCwgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIHN5bWxpbms6IGZ1bmN0aW9uICh0YXJnZXQsIHBhdGgsIHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNpZnkodm9sLCAnc3ltbGluaycpKHRhcmdldCwgcGF0aCwgdHlwZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRydW5jYXRlOiBmdW5jdGlvbiAocGF0aCwgbGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3RydW5jYXRlJykocGF0aCwgbGVuKTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5saW5rOiBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2lmeSh2b2wsICd1bmxpbmsnKShwYXRoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXRpbWVzOiBmdW5jdGlvbiAocGF0aCwgYXRpbWUsIG10aW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3V0aW1lcycpKHBhdGgsIGF0aW1lLCBtdGltZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHdyaXRlRmlsZTogZnVuY3Rpb24gKGlkLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzaWZ5KHZvbCwgJ3dyaXRlRmlsZScpKGlkIGluc3RhbmNlb2YgRmlsZUhhbmRsZSA/IGlkLmZkIDogaWQsIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVQcm9taXNlc0FwaTtcbiIsICIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnVuaXhpZnkgPSB1bml4aWZ5O1xuZXhwb3J0cy5jb3JyZWN0UGF0aCA9IGNvcnJlY3RQYXRoO1xudmFyIGlzV2luID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJztcblxuZnVuY3Rpb24gcmVtb3ZlVHJhaWxpbmdTZXBhcmF0b3Ioc3RyKSB7XG4gIHZhciBpID0gc3RyLmxlbmd0aCAtIDE7XG4gIGlmIChpIDwgMikge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgd2hpbGUgKGlzU2VwYXJhdG9yKHN0ciwgaSkpIHtcbiAgICBpLS07XG4gIH1cbiAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgaSArIDEpO1xufVxuXG5mdW5jdGlvbiBpc1NlcGFyYXRvcihzdHIsIGkpIHtcbiAgdmFyIGNoYXIgPSBzdHJbaV07XG4gIHJldHVybiBpID4gMCAmJiAoY2hhciA9PT0gJy8nIHx8IGlzV2luICYmIGNoYXIgPT09ICdcXFxcJyk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVBhdGgoc3RyLCBzdHJpcFRyYWlsaW5nKSB7XG4gIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4cGVjdGVkIGEgc3RyaW5nJyk7XG4gIH1cbiAgc3RyID0gc3RyLnJlcGxhY2UoL1tcXFxcXFwvXSsvZywgJy8nKTtcbiAgaWYgKHN0cmlwVHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgc3RyID0gcmVtb3ZlVHJhaWxpbmdTZXBhcmF0b3Ioc3RyKTtcbiAgfVxuICByZXR1cm4gc3RyO1xufVxuXG5mdW5jdGlvbiB1bml4aWZ5KGZpbGVwYXRoKSB7XG4gIHZhciBzdHJpcFRyYWlsaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuXG4gIGlmIChpc1dpbikge1xuICAgIGZpbGVwYXRoID0gbm9ybWFsaXplUGF0aChmaWxlcGF0aCwgc3RyaXBUcmFpbGluZyk7XG4gICAgcmV0dXJuIGZpbGVwYXRoLnJlcGxhY2UoL14oW2EtekEtWl0rOnxcXC5cXC8pLywgJycpO1xuICB9XG4gIHJldHVybiBmaWxlcGF0aDtcbn1cblxuZnVuY3Rpb24gY29ycmVjdFBhdGgoZmlsZXBhdGgpIHtcbiAgcmV0dXJuIHVuaXhpZnkoZmlsZXBhdGgucmVwbGFjZSgvXlxcXFxcXFxcXFw/XFxcXC46XFxcXC8sICdcXFxcJykpO1xufSIsICJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcbiAgICByZXR1cm4gcjtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcGF0aE1vZHVsZSA9IHJlcXVpcmUoXCJwYXRoXCIpO1xudmFyIG5vZGVfMSA9IHJlcXVpcmUoXCIuL25vZGVcIik7XG52YXIgU3RhdHNfMSA9IHJlcXVpcmUoXCIuL1N0YXRzXCIpO1xudmFyIERpcmVudF8xID0gcmVxdWlyZShcIi4vRGlyZW50XCIpO1xudmFyIGJ1ZmZlcl8xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwvYnVmZmVyXCIpO1xudmFyIHNldEltbWVkaWF0ZV8xID0gcmVxdWlyZShcIi4vc2V0SW1tZWRpYXRlXCIpO1xudmFyIHByb2Nlc3NfMSA9IHJlcXVpcmUoXCIuL3Byb2Nlc3NcIik7XG52YXIgc2V0VGltZW91dFVucmVmXzEgPSByZXF1aXJlKFwiLi9zZXRUaW1lb3V0VW5yZWZcIik7XG52YXIgc3RyZWFtXzEgPSByZXF1aXJlKFwic3RyZWFtXCIpO1xudmFyIGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcbnZhciBlbmNvZGluZ18xID0gcmVxdWlyZShcIi4vZW5jb2RpbmdcIik7XG52YXIgZXJyb3JzID0gcmVxdWlyZShcIi4vaW50ZXJuYWwvZXJyb3JzXCIpO1xudmFyIGV4dGVuZCA9IHJlcXVpcmUoJ2Zhc3QtZXh0ZW5kJykuZXh0ZW5kO1xudmFyIHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcbnZhciBwcm9taXNlc18xID0gcmVxdWlyZShcIi4vcHJvbWlzZXNcIik7XG52YXIgcmVzb2x2ZUNyb3NzUGxhdGZvcm0gPSBwYXRoTW9kdWxlLnJlc29sdmU7XG52YXIgT19SRE9OTFkgPSBjb25zdGFudHNfMS5jb25zdGFudHMuT19SRE9OTFksIE9fV1JPTkxZID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLk9fV1JPTkxZLCBPX1JEV1IgPSBjb25zdGFudHNfMS5jb25zdGFudHMuT19SRFdSLCBPX0NSRUFUID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLk9fQ1JFQVQsIE9fRVhDTCA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5PX0VYQ0wsIE9fVFJVTkMgPSBjb25zdGFudHNfMS5jb25zdGFudHMuT19UUlVOQywgT19BUFBFTkQgPSBjb25zdGFudHNfMS5jb25zdGFudHMuT19BUFBFTkQsIE9fU1lOQyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5PX1NZTkMsIE9fRElSRUNUT1JZID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLk9fRElSRUNUT1JZLCBGX09LID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLkZfT0ssIENPUFlGSUxFX0VYQ0wgPSBjb25zdGFudHNfMS5jb25zdGFudHMuQ09QWUZJTEVfRVhDTCwgQ09QWUZJTEVfRklDTE9ORV9GT1JDRSA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5DT1BZRklMRV9GSUNMT05FX0ZPUkNFO1xudmFyIHNlcDtcbnZhciByZWxhdGl2ZTtcbmlmIChwYXRoTW9kdWxlLnBvc2l4KSB7XG4gICAgdmFyIHBvc2l4ID0gcGF0aE1vZHVsZS5wb3NpeDtcbiAgICBzZXAgPSBwb3NpeC5zZXA7XG4gICAgcmVsYXRpdmUgPSBwb3NpeC5yZWxhdGl2ZTtcbn1cbmVsc2Uge1xuICAgIHNlcCA9IHBhdGhNb2R1bGUuc2VwO1xuICAgIHJlbGF0aXZlID0gcGF0aE1vZHVsZS5yZWxhdGl2ZTtcbn1cbnZhciBpc1dpbiA9IHByb2Nlc3NfMS5kZWZhdWx0LnBsYXRmb3JtID09PSAnd2luMzInO1xudmFyIGtNaW5Qb29sU3BhY2UgPSAxMjg7XG4vLyBjb25zdCBrTWF4TGVuZ3RoID0gcmVxdWlyZSgnYnVmZmVyJykua01heExlbmd0aDtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRXJyb3IgbWVzc2FnZXNcbi8vIFRPRE86IFVzZSBgaW50ZXJuYWwvZXJyb3JzLmpzYCBpbiB0aGUgZnV0dXJlLlxudmFyIEVSUlNUUiA9IHtcbiAgICBQQVRIX1NUUjogJ3BhdGggbXVzdCBiZSBhIHN0cmluZyBvciBCdWZmZXInLFxuICAgIC8vIEZEOiAgICAgICAgICAgICAnZmlsZSBkZXNjcmlwdG9yIG11c3QgYmUgYSB1bnNpZ25lZCAzMi1iaXQgaW50ZWdlcicsXG4gICAgRkQ6ICdmZCBtdXN0IGJlIGEgZmlsZSBkZXNjcmlwdG9yJyxcbiAgICBNT0RFX0lOVDogJ21vZGUgbXVzdCBiZSBhbiBpbnQnLFxuICAgIENCOiAnY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uJyxcbiAgICBVSUQ6ICd1aWQgbXVzdCBiZSBhbiB1bnNpZ25lZCBpbnQnLFxuICAgIEdJRDogJ2dpZCBtdXN0IGJlIGFuIHVuc2lnbmVkIGludCcsXG4gICAgTEVOOiAnbGVuIG11c3QgYmUgYW4gaW50ZWdlcicsXG4gICAgQVRJTUU6ICdhdGltZSBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgIE1USU1FOiAnbXRpbWUgbXVzdCBiZSBhbiBpbnRlZ2VyJyxcbiAgICBQUkVGSVg6ICdmaWxlbmFtZSBwcmVmaXggaXMgcmVxdWlyZWQnLFxuICAgIEJVRkZFUjogJ2J1ZmZlciBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIEJ1ZmZlciBvciBTdGF0aWNCdWZmZXInLFxuICAgIE9GRlNFVDogJ29mZnNldCBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgIExFTkdUSDogJ2xlbmd0aCBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgIFBPU0lUSU9OOiAncG9zaXRpb24gbXVzdCBiZSBhbiBpbnRlZ2VyJyxcbn07XG52YXIgRVJSU1RSX09QVFMgPSBmdW5jdGlvbiAodGlwZW9mKSB7IHJldHVybiBcIkV4cGVjdGVkIG9wdGlvbnMgdG8gYmUgZWl0aGVyIGFuIG9iamVjdCBvciBhIHN0cmluZywgYnV0IGdvdCBcIiArIHRpcGVvZiArIFwiIGluc3RlYWRcIjsgfTtcbi8vIGNvbnN0IEVSUlNUUl9GTEFHID0gZmxhZyA9PiBgVW5rbm93biBmaWxlIG9wZW4gZmxhZzogJHtmbGFnfWA7XG52YXIgRU5PRU5UID0gJ0VOT0VOVCc7XG52YXIgRUJBREYgPSAnRUJBREYnO1xudmFyIEVJTlZBTCA9ICdFSU5WQUwnO1xudmFyIEVQRVJNID0gJ0VQRVJNJztcbnZhciBFUFJPVE8gPSAnRVBST1RPJztcbnZhciBFRVhJU1QgPSAnRUVYSVNUJztcbnZhciBFTk9URElSID0gJ0VOT1RESVInO1xudmFyIEVNRklMRSA9ICdFTUZJTEUnO1xudmFyIEVBQ0NFUyA9ICdFQUNDRVMnO1xudmFyIEVJU0RJUiA9ICdFSVNESVInO1xudmFyIEVOT1RFTVBUWSA9ICdFTk9URU1QVFknO1xudmFyIEVOT1NZUyA9ICdFTk9TWVMnO1xuZnVuY3Rpb24gZm9ybWF0RXJyb3IoZXJyb3JDb2RlLCBmdW5jLCBwYXRoLCBwYXRoMikge1xuICAgIGlmIChmdW5jID09PSB2b2lkIDApIHsgZnVuYyA9ICcnOyB9XG4gICAgaWYgKHBhdGggPT09IHZvaWQgMCkgeyBwYXRoID0gJyc7IH1cbiAgICBpZiAocGF0aDIgPT09IHZvaWQgMCkgeyBwYXRoMiA9ICcnOyB9XG4gICAgdmFyIHBhdGhGb3JtYXR0ZWQgPSAnJztcbiAgICBpZiAocGF0aClcbiAgICAgICAgcGF0aEZvcm1hdHRlZCA9IFwiICdcIiArIHBhdGggKyBcIidcIjtcbiAgICBpZiAocGF0aDIpXG4gICAgICAgIHBhdGhGb3JtYXR0ZWQgKz0gXCIgLT4gJ1wiICsgcGF0aDIgKyBcIidcIjtcbiAgICBzd2l0Y2ggKGVycm9yQ29kZSkge1xuICAgICAgICBjYXNlIEVOT0VOVDpcbiAgICAgICAgICAgIHJldHVybiBcIkVOT0VOVDogbm8gc3VjaCBmaWxlIG9yIGRpcmVjdG9yeSwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFQkFERjpcbiAgICAgICAgICAgIHJldHVybiBcIkVCQURGOiBiYWQgZmlsZSBkZXNjcmlwdG9yLCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBjYXNlIEVJTlZBTDpcbiAgICAgICAgICAgIHJldHVybiBcIkVJTlZBTDogaW52YWxpZCBhcmd1bWVudCwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFUEVSTTpcbiAgICAgICAgICAgIHJldHVybiBcIkVQRVJNOiBvcGVyYXRpb24gbm90IHBlcm1pdHRlZCwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFUFJPVE86XG4gICAgICAgICAgICByZXR1cm4gXCJFUFJPVE86IHByb3RvY29sIGVycm9yLCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBjYXNlIEVFWElTVDpcbiAgICAgICAgICAgIHJldHVybiBcIkVFWElTVDogZmlsZSBhbHJlYWR5IGV4aXN0cywgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFTk9URElSOlxuICAgICAgICAgICAgcmV0dXJuIFwiRU5PVERJUjogbm90IGEgZGlyZWN0b3J5LCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBjYXNlIEVJU0RJUjpcbiAgICAgICAgICAgIHJldHVybiBcIkVJU0RJUjogaWxsZWdhbCBvcGVyYXRpb24gb24gYSBkaXJlY3RvcnksIFwiICsgZnVuYyArIHBhdGhGb3JtYXR0ZWQ7XG4gICAgICAgIGNhc2UgRUFDQ0VTOlxuICAgICAgICAgICAgcmV0dXJuIFwiRUFDQ0VTOiBwZXJtaXNzaW9uIGRlbmllZCwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICAgICAgY2FzZSBFTk9URU1QVFk6XG4gICAgICAgICAgICByZXR1cm4gXCJFTk9URU1QVFk6IGRpcmVjdG9yeSBub3QgZW1wdHksIFwiICsgZnVuYyArIHBhdGhGb3JtYXR0ZWQ7XG4gICAgICAgIGNhc2UgRU1GSUxFOlxuICAgICAgICAgICAgcmV0dXJuIFwiRU1GSUxFOiB0b28gbWFueSBvcGVuIGZpbGVzLCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBjYXNlIEVOT1NZUzpcbiAgICAgICAgICAgIHJldHVybiBcIkVOT1NZUzogZnVuY3Rpb24gbm90IGltcGxlbWVudGVkLCBcIiArIGZ1bmMgKyBwYXRoRm9ybWF0dGVkO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGVycm9yQ29kZSArIFwiOiBlcnJvciBvY2N1cnJlZCwgXCIgKyBmdW5jICsgcGF0aEZvcm1hdHRlZDtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVFcnJvcihlcnJvckNvZGUsIGZ1bmMsIHBhdGgsIHBhdGgyLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmIChmdW5jID09PSB2b2lkIDApIHsgZnVuYyA9ICcnOyB9XG4gICAgaWYgKHBhdGggPT09IHZvaWQgMCkgeyBwYXRoID0gJyc7IH1cbiAgICBpZiAocGF0aDIgPT09IHZvaWQgMCkgeyBwYXRoMiA9ICcnOyB9XG4gICAgaWYgKENvbnN0cnVjdG9yID09PSB2b2lkIDApIHsgQ29uc3RydWN0b3IgPSBFcnJvcjsgfVxuICAgIHZhciBlcnJvciA9IG5ldyBDb25zdHJ1Y3Rvcihmb3JtYXRFcnJvcihlcnJvckNvZGUsIGZ1bmMsIHBhdGgsIHBhdGgyKSk7XG4gICAgZXJyb3IuY29kZSA9IGVycm9yQ29kZTtcbiAgICByZXR1cm4gZXJyb3I7XG59XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEZsYWdzXG4vLyBMaXN0IG9mIGZpbGUgYGZsYWdzYCBhcyBkZWZpbmVkIGJ5IE5vZGUuXG52YXIgRkxBR1M7XG4oZnVuY3Rpb24gKEZMQUdTKSB7XG4gICAgLy8gT3BlbiBmaWxlIGZvciByZWFkaW5nLiBBbiBleGNlcHRpb24gb2NjdXJzIGlmIHRoZSBmaWxlIGRvZXMgbm90IGV4aXN0LlxuICAgIEZMQUdTW0ZMQUdTW1wiclwiXSA9IE9fUkRPTkxZXSA9IFwiclwiO1xuICAgIC8vIE9wZW4gZmlsZSBmb3IgcmVhZGluZyBhbmQgd3JpdGluZy4gQW4gZXhjZXB0aW9uIG9jY3VycyBpZiB0aGUgZmlsZSBkb2VzIG5vdCBleGlzdC5cbiAgICBGTEFHU1tGTEFHU1tcInIrXCJdID0gT19SRFdSXSA9IFwicitcIjtcbiAgICAvLyBPcGVuIGZpbGUgZm9yIHJlYWRpbmcgaW4gc3luY2hyb25vdXMgbW9kZS4gSW5zdHJ1Y3RzIHRoZSBvcGVyYXRpbmcgc3lzdGVtIHRvIGJ5cGFzcyB0aGUgbG9jYWwgZmlsZSBzeXN0ZW0gY2FjaGUuXG4gICAgRkxBR1NbRkxBR1NbXCJyc1wiXSA9IE9fUkRPTkxZIHwgT19TWU5DXSA9IFwicnNcIjtcbiAgICBGTEFHU1tGTEFHU1tcInNyXCJdID0gRkxBR1MucnNdID0gXCJzclwiO1xuICAgIC8vIE9wZW4gZmlsZSBmb3IgcmVhZGluZyBhbmQgd3JpdGluZywgdGVsbGluZyB0aGUgT1MgdG8gb3BlbiBpdCBzeW5jaHJvbm91c2x5LiBTZWUgbm90ZXMgZm9yICdycycgYWJvdXQgdXNpbmcgdGhpcyB3aXRoIGNhdXRpb24uXG4gICAgRkxBR1NbRkxBR1NbXCJycytcIl0gPSBPX1JEV1IgfCBPX1NZTkNdID0gXCJycytcIjtcbiAgICBGTEFHU1tGTEFHU1tcInNyK1wiXSA9IEZMQUdTWydycysnXV0gPSBcInNyK1wiO1xuICAgIC8vIE9wZW4gZmlsZSBmb3Igd3JpdGluZy4gVGhlIGZpbGUgaXMgY3JlYXRlZCAoaWYgaXQgZG9lcyBub3QgZXhpc3QpIG9yIHRydW5jYXRlZCAoaWYgaXQgZXhpc3RzKS5cbiAgICBGTEFHU1tGTEFHU1tcIndcIl0gPSBPX1dST05MWSB8IE9fQ1JFQVQgfCBPX1RSVU5DXSA9IFwid1wiO1xuICAgIC8vIExpa2UgJ3cnIGJ1dCBmYWlscyBpZiBwYXRoIGV4aXN0cy5cbiAgICBGTEFHU1tGTEFHU1tcInd4XCJdID0gT19XUk9OTFkgfCBPX0NSRUFUIHwgT19UUlVOQyB8IE9fRVhDTF0gPSBcInd4XCI7XG4gICAgRkxBR1NbRkxBR1NbXCJ4d1wiXSA9IEZMQUdTLnd4XSA9IFwieHdcIjtcbiAgICAvLyBPcGVuIGZpbGUgZm9yIHJlYWRpbmcgYW5kIHdyaXRpbmcuIFRoZSBmaWxlIGlzIGNyZWF0ZWQgKGlmIGl0IGRvZXMgbm90IGV4aXN0KSBvciB0cnVuY2F0ZWQgKGlmIGl0IGV4aXN0cykuXG4gICAgRkxBR1NbRkxBR1NbXCJ3K1wiXSA9IE9fUkRXUiB8IE9fQ1JFQVQgfCBPX1RSVU5DXSA9IFwidytcIjtcbiAgICAvLyBMaWtlICd3KycgYnV0IGZhaWxzIGlmIHBhdGggZXhpc3RzLlxuICAgIEZMQUdTW0ZMQUdTW1wid3grXCJdID0gT19SRFdSIHwgT19DUkVBVCB8IE9fVFJVTkMgfCBPX0VYQ0xdID0gXCJ3eCtcIjtcbiAgICBGTEFHU1tGTEFHU1tcInh3K1wiXSA9IEZMQUdTWyd3eCsnXV0gPSBcInh3K1wiO1xuICAgIC8vIE9wZW4gZmlsZSBmb3IgYXBwZW5kaW5nLiBUaGUgZmlsZSBpcyBjcmVhdGVkIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICAgIEZMQUdTW0ZMQUdTW1wiYVwiXSA9IE9fV1JPTkxZIHwgT19BUFBFTkQgfCBPX0NSRUFUXSA9IFwiYVwiO1xuICAgIC8vIExpa2UgJ2EnIGJ1dCBmYWlscyBpZiBwYXRoIGV4aXN0cy5cbiAgICBGTEFHU1tGTEFHU1tcImF4XCJdID0gT19XUk9OTFkgfCBPX0FQUEVORCB8IE9fQ1JFQVQgfCBPX0VYQ0xdID0gXCJheFwiO1xuICAgIEZMQUdTW0ZMQUdTW1wieGFcIl0gPSBGTEFHUy5heF0gPSBcInhhXCI7XG4gICAgLy8gT3BlbiBmaWxlIGZvciByZWFkaW5nIGFuZCBhcHBlbmRpbmcuIFRoZSBmaWxlIGlzIGNyZWF0ZWQgaWYgaXQgZG9lcyBub3QgZXhpc3QuXG4gICAgRkxBR1NbRkxBR1NbXCJhK1wiXSA9IE9fUkRXUiB8IE9fQVBQRU5EIHwgT19DUkVBVF0gPSBcImErXCI7XG4gICAgLy8gTGlrZSAnYSsnIGJ1dCBmYWlscyBpZiBwYXRoIGV4aXN0cy5cbiAgICBGTEFHU1tGTEFHU1tcImF4K1wiXSA9IE9fUkRXUiB8IE9fQVBQRU5EIHwgT19DUkVBVCB8IE9fRVhDTF0gPSBcImF4K1wiO1xuICAgIEZMQUdTW0ZMQUdTW1wieGErXCJdID0gRkxBR1NbJ2F4KyddXSA9IFwieGErXCI7XG59KShGTEFHUyA9IGV4cG9ydHMuRkxBR1MgfHwgKGV4cG9ydHMuRkxBR1MgPSB7fSkpO1xuZnVuY3Rpb24gZmxhZ3NUb051bWJlcihmbGFncykge1xuICAgIGlmICh0eXBlb2YgZmxhZ3MgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gZmxhZ3M7XG4gICAgaWYgKHR5cGVvZiBmbGFncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIGZsYWdzTnVtID0gRkxBR1NbZmxhZ3NdO1xuICAgICAgICBpZiAodHlwZW9mIGZsYWdzTnVtICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHJldHVybiBmbGFnc051bTtcbiAgICB9XG4gICAgLy8gdGhyb3cgbmV3IFR5cGVFcnJvcihmb3JtYXRFcnJvcihFUlJTVFJfRkxBRyhmbGFncykpKTtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLlR5cGVFcnJvcignRVJSX0lOVkFMSURfT1BUX1ZBTFVFJywgJ2ZsYWdzJywgZmxhZ3MpO1xufVxuZXhwb3J0cy5mbGFnc1RvTnVtYmVyID0gZmxhZ3NUb051bWJlcjtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gT3B0aW9uc1xuZnVuY3Rpb24gZ2V0T3B0aW9ucyhkZWZhdWx0cywgb3B0aW9ucykge1xuICAgIHZhciBvcHRzO1xuICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdGlwZW9mID0gdHlwZW9mIG9wdGlvbnM7XG4gICAgICAgIHN3aXRjaCAodGlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIG9wdHMgPSBleHRlbmQoe30sIGRlZmF1bHRzLCB7IGVuY29kaW5nOiBvcHRpb25zIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBvcHRzID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihFUlJTVFJfT1BUUyh0aXBlb2YpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0cy5lbmNvZGluZyAhPT0gJ2J1ZmZlcicpXG4gICAgICAgIGVuY29kaW5nXzEuYXNzZXJ0RW5jb2Rpbmcob3B0cy5lbmNvZGluZyk7XG4gICAgcmV0dXJuIG9wdHM7XG59XG5mdW5jdGlvbiBvcHRzR2VuZXJhdG9yKGRlZmF1bHRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvcHRpb25zKSB7IHJldHVybiBnZXRPcHRpb25zKGRlZmF1bHRzLCBvcHRpb25zKTsgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoRVJSU1RSLkNCKTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG59XG5mdW5jdGlvbiBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0T3B0cykge1xuICAgIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nID8gW2dldE9wdHMoKSwgb3B0aW9uc10gOiBbZ2V0T3B0cyhvcHRpb25zKSwgdmFsaWRhdGVDYWxsYmFjayhjYWxsYmFjayldO1xuICAgIH07XG59XG52YXIgb3B0c0RlZmF1bHRzID0ge1xuICAgIGVuY29kaW5nOiAndXRmOCcsXG59O1xudmFyIGdldERlZmF1bHRPcHRzID0gb3B0c0dlbmVyYXRvcihvcHRzRGVmYXVsdHMpO1xudmFyIGdldERlZmF1bHRPcHRzQW5kQ2IgPSBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0RGVmYXVsdE9wdHMpO1xudmFyIHJlYWRGaWxlT3B0c0RlZmF1bHRzID0ge1xuICAgIGZsYWc6ICdyJyxcbn07XG52YXIgZ2V0UmVhZEZpbGVPcHRpb25zID0gb3B0c0dlbmVyYXRvcihyZWFkRmlsZU9wdHNEZWZhdWx0cyk7XG52YXIgd3JpdGVGaWxlRGVmYXVsdHMgPSB7XG4gICAgZW5jb2Rpbmc6ICd1dGY4JyxcbiAgICBtb2RlOiA0MzggLyogREVGQVVMVCAqLyxcbiAgICBmbGFnOiBGTEFHU1tGTEFHUy53XSxcbn07XG52YXIgZ2V0V3JpdGVGaWxlT3B0aW9ucyA9IG9wdHNHZW5lcmF0b3Iod3JpdGVGaWxlRGVmYXVsdHMpO1xudmFyIGFwcGVuZEZpbGVEZWZhdWx0cyA9IHtcbiAgICBlbmNvZGluZzogJ3V0ZjgnLFxuICAgIG1vZGU6IDQzOCAvKiBERUZBVUxUICovLFxuICAgIGZsYWc6IEZMQUdTW0ZMQUdTLmFdLFxufTtcbnZhciBnZXRBcHBlbmRGaWxlT3B0cyA9IG9wdHNHZW5lcmF0b3IoYXBwZW5kRmlsZURlZmF1bHRzKTtcbnZhciBnZXRBcHBlbmRGaWxlT3B0c0FuZENiID0gb3B0c0FuZENiR2VuZXJhdG9yKGdldEFwcGVuZEZpbGVPcHRzKTtcbnZhciByZWFscGF0aERlZmF1bHRzID0gb3B0c0RlZmF1bHRzO1xudmFyIGdldFJlYWxwYXRoT3B0aW9ucyA9IG9wdHNHZW5lcmF0b3IocmVhbHBhdGhEZWZhdWx0cyk7XG52YXIgZ2V0UmVhbHBhdGhPcHRzQW5kQ2IgPSBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0UmVhbHBhdGhPcHRpb25zKTtcbnZhciBta2RpckRlZmF1bHRzID0ge1xuICAgIG1vZGU6IDUxMSAvKiBESVIgKi8sXG4gICAgcmVjdXJzaXZlOiBmYWxzZSxcbn07XG52YXIgZ2V0TWtkaXJPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBta2RpckRlZmF1bHRzLCB7IG1vZGU6IG9wdGlvbnMgfSk7XG4gICAgcmV0dXJuIGV4dGVuZCh7fSwgbWtkaXJEZWZhdWx0cywgb3B0aW9ucyk7XG59O1xudmFyIHJtZGlyRGVmYXVsdHMgPSB7XG4gICAgcmVjdXJzaXZlOiBmYWxzZSxcbn07XG52YXIgZ2V0Um1kaXJPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKHt9LCBybWRpckRlZmF1bHRzLCBvcHRpb25zKTtcbn07XG52YXIgcmVhZGRpckRlZmF1bHRzID0ge1xuICAgIGVuY29kaW5nOiAndXRmOCcsXG4gICAgd2l0aEZpbGVUeXBlczogZmFsc2UsXG59O1xudmFyIGdldFJlYWRkaXJPcHRpb25zID0gb3B0c0dlbmVyYXRvcihyZWFkZGlyRGVmYXVsdHMpO1xudmFyIGdldFJlYWRkaXJPcHRzQW5kQ2IgPSBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0UmVhZGRpck9wdGlvbnMpO1xudmFyIHN0YXREZWZhdWx0cyA9IHtcbiAgICBiaWdpbnQ6IGZhbHNlLFxufTtcbnZhciBnZXRTdGF0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICByZXR1cm4gZXh0ZW5kKHt9LCBzdGF0RGVmYXVsdHMsIG9wdGlvbnMpO1xufTtcbnZhciBnZXRTdGF0T3B0c0FuZENiID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nID8gW2dldFN0YXRPcHRpb25zKCksIG9wdGlvbnNdIDogW2dldFN0YXRPcHRpb25zKG9wdGlvbnMpLCB2YWxpZGF0ZUNhbGxiYWNrKGNhbGxiYWNrKV07XG59O1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVdGlsaXR5IGZ1bmN0aW9uc1xuZnVuY3Rpb24gZ2V0UGF0aEZyb21VUkxQb3NpeCh1cmwpIHtcbiAgICBpZiAodXJsLmhvc3RuYW1lICE9PSAnJykge1xuICAgICAgICB0aHJvdyBuZXcgZXJyb3JzLlR5cGVFcnJvcignRVJSX0lOVkFMSURfRklMRV9VUkxfSE9TVCcsIHByb2Nlc3NfMS5kZWZhdWx0LnBsYXRmb3JtKTtcbiAgICB9XG4gICAgdmFyIHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lO1xuICAgIGZvciAodmFyIG4gPSAwOyBuIDwgcGF0aG5hbWUubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgaWYgKHBhdGhuYW1lW25dID09PSAnJScpIHtcbiAgICAgICAgICAgIHZhciB0aGlyZCA9IHBhdGhuYW1lLmNvZGVQb2ludEF0KG4gKyAyKSB8IDB4MjA7XG4gICAgICAgICAgICBpZiAocGF0aG5hbWVbbiArIDFdID09PSAnMicgJiYgdGhpcmQgPT09IDEwMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcnMuVHlwZUVycm9yKCdFUlJfSU5WQUxJRF9GSUxFX1VSTF9QQVRIJywgJ211c3Qgbm90IGluY2x1ZGUgZW5jb2RlZCAvIGNoYXJhY3RlcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHBhdGhuYW1lKTtcbn1cbmZ1bmN0aW9uIHBhdGhUb0ZpbGVuYW1lKHBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnICYmICFidWZmZXJfMS5CdWZmZXIuaXNCdWZmZXIocGF0aCkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghKHBhdGggaW5zdGFuY2VvZiByZXF1aXJlKCd1cmwnKS5VUkwpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJSU1RSLlBBVEhfU1RSKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEVSUlNUUi5QQVRIX1NUUik7XG4gICAgICAgIH1cbiAgICAgICAgcGF0aCA9IGdldFBhdGhGcm9tVVJMUG9zaXgocGF0aCk7XG4gICAgfVxuICAgIHZhciBwYXRoU3RyaW5nID0gU3RyaW5nKHBhdGgpO1xuICAgIG51bGxDaGVjayhwYXRoU3RyaW5nKTtcbiAgICAvLyByZXR1cm4gc2xhc2gocGF0aFN0cmluZyk7XG4gICAgcmV0dXJuIHBhdGhTdHJpbmc7XG59XG5leHBvcnRzLnBhdGhUb0ZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWU7XG52YXIgcmVzb2x2ZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgYmFzZSkge1xuICAgIGlmIChiYXNlID09PSB2b2lkIDApIHsgYmFzZSA9IHByb2Nlc3NfMS5kZWZhdWx0LmN3ZCgpOyB9XG4gICAgcmV0dXJuIHJlc29sdmVDcm9zc1BsYXRmb3JtKGJhc2UsIGZpbGVuYW1lKTtcbn07XG5pZiAoaXNXaW4pIHtcbiAgICB2YXIgX3Jlc29sdmVfMSA9IHJlc29sdmU7XG4gICAgdmFyIHVuaXhpZnlfMSA9IHJlcXVpcmUoJ2ZzLW1vbmtleS9saWIvY29ycmVjdFBhdGgnKS51bml4aWZ5O1xuICAgIHJlc29sdmUgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGJhc2UpIHsgcmV0dXJuIHVuaXhpZnlfMShfcmVzb2x2ZV8xKGZpbGVuYW1lLCBiYXNlKSk7IH07XG59XG5mdW5jdGlvbiBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUsIGJhc2UpIHtcbiAgICB2YXIgZnVsbFBhdGggPSByZXNvbHZlKGZpbGVuYW1lLCBiYXNlKTtcbiAgICB2YXIgZnVsbFBhdGhTYW5zU2xhc2ggPSBmdWxsUGF0aC5zdWJzdHIoMSk7XG4gICAgaWYgKCFmdWxsUGF0aFNhbnNTbGFzaClcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIHJldHVybiBmdWxsUGF0aFNhbnNTbGFzaC5zcGxpdChzZXApO1xufVxuZXhwb3J0cy5maWxlbmFtZVRvU3RlcHMgPSBmaWxlbmFtZVRvU3RlcHM7XG5mdW5jdGlvbiBwYXRoVG9TdGVwcyhwYXRoKSB7XG4gICAgcmV0dXJuIGZpbGVuYW1lVG9TdGVwcyhwYXRoVG9GaWxlbmFtZShwYXRoKSk7XG59XG5leHBvcnRzLnBhdGhUb1N0ZXBzID0gcGF0aFRvU3RlcHM7XG5mdW5jdGlvbiBkYXRhVG9TdHIoZGF0YSwgZW5jb2RpbmcpIHtcbiAgICBpZiAoZW5jb2RpbmcgPT09IHZvaWQgMCkgeyBlbmNvZGluZyA9IGVuY29kaW5nXzEuRU5DT0RJTkdfVVRGODsgfVxuICAgIGlmIChidWZmZXJfMS5CdWZmZXIuaXNCdWZmZXIoZGF0YSkpXG4gICAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKGVuY29kaW5nKTtcbiAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcl8xLmJ1ZmZlckZyb20oZGF0YSkudG9TdHJpbmcoZW5jb2RpbmcpO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIFN0cmluZyhkYXRhKTtcbn1cbmV4cG9ydHMuZGF0YVRvU3RyID0gZGF0YVRvU3RyO1xuZnVuY3Rpb24gZGF0YVRvQnVmZmVyKGRhdGEsIGVuY29kaW5nKSB7XG4gICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBlbmNvZGluZ18xLkVOQ09ESU5HX1VURjg7IH1cbiAgICBpZiAoYnVmZmVyXzEuQnVmZmVyLmlzQnVmZmVyKGRhdGEpKVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcl8xLmJ1ZmZlckZyb20oZGF0YSk7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gYnVmZmVyXzEuYnVmZmVyRnJvbShTdHJpbmcoZGF0YSksIGVuY29kaW5nKTtcbn1cbmV4cG9ydHMuZGF0YVRvQnVmZmVyID0gZGF0YVRvQnVmZmVyO1xuZnVuY3Rpb24gYnVmZmVyVG9FbmNvZGluZyhidWZmZXIsIGVuY29kaW5nKSB7XG4gICAgaWYgKCFlbmNvZGluZyB8fCBlbmNvZGluZyA9PT0gJ2J1ZmZlcicpXG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gYnVmZmVyLnRvU3RyaW5nKGVuY29kaW5nKTtcbn1cbmV4cG9ydHMuYnVmZmVyVG9FbmNvZGluZyA9IGJ1ZmZlclRvRW5jb2Rpbmc7XG5mdW5jdGlvbiBudWxsQ2hlY2socGF0aCwgY2FsbGJhY2spIHtcbiAgICBpZiAoKCcnICsgcGF0aCkuaW5kZXhPZignXFx1MDAwMCcpICE9PSAtMSkge1xuICAgICAgICB2YXIgZXIgPSBuZXcgRXJyb3IoJ1BhdGggbXVzdCBiZSBhIHN0cmluZyB3aXRob3V0IG51bGwgYnl0ZXMnKTtcbiAgICAgICAgZXIuY29kZSA9IEVOT0VOVDtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHRocm93IGVyO1xuICAgICAgICBwcm9jZXNzXzEuZGVmYXVsdC5uZXh0VGljayhjYWxsYmFjaywgZXIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gX21vZGVUb051bWJlcihtb2RlLCBkZWYpIHtcbiAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gbW9kZTtcbiAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gcGFyc2VJbnQobW9kZSwgOCk7XG4gICAgaWYgKGRlZilcbiAgICAgICAgcmV0dXJuIG1vZGVUb051bWJlcihkZWYpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBtb2RlVG9OdW1iZXIobW9kZSwgZGVmKSB7XG4gICAgdmFyIHJlc3VsdCA9IF9tb2RlVG9OdW1iZXIobW9kZSwgZGVmKTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCAhPT0gJ251bWJlcicgfHwgaXNOYU4ocmVzdWx0KSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJTVFIuTU9ERV9JTlQpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBpc0ZkKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aCA+Pj4gMCA9PT0gcGF0aDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlRmQoZmQpIHtcbiAgICBpZiAoIWlzRmQoZmQpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoRVJSU1RSLkZEKTtcbn1cbi8vIGNvbnZlcnRzIERhdGUgb3IgbnVtYmVyIHRvIGEgZnJhY3Rpb25hbCBVTklYIHRpbWVzdGFtcFxuZnVuY3Rpb24gdG9Vbml4VGltZXN0YW1wKHRpbWUpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgdHJpcGxlLWVxdWFsc1xuICAgIGlmICh0eXBlb2YgdGltZSA9PT0gJ3N0cmluZycgJiYgK3RpbWUgPT0gdGltZSkge1xuICAgICAgICByZXR1cm4gK3RpbWU7XG4gICAgfVxuICAgIGlmICh0aW1lIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gdGltZS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgIH1cbiAgICBpZiAoaXNGaW5pdGUodGltZSkpIHtcbiAgICAgICAgaWYgKHRpbWUgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAvIDEwMDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbWU7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHBhcnNlIHRpbWU6ICcgKyB0aW1lKTtcbn1cbmV4cG9ydHMudG9Vbml4VGltZXN0YW1wID0gdG9Vbml4VGltZXN0YW1wO1xuZnVuY3Rpb24gdmFsaWRhdGVVaWQodWlkKSB7XG4gICAgaWYgKHR5cGVvZiB1aWQgIT09ICdudW1iZXInKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoRVJSU1RSLlVJRCk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUdpZChnaWQpIHtcbiAgICBpZiAodHlwZW9mIGdpZCAhPT0gJ251bWJlcicpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihFUlJTVFIuR0lEKTtcbn1cbi8qKlxuICogYFZvbHVtZWAgcmVwcmVzZW50cyBhIGZpbGUgc3lzdGVtLlxuICovXG52YXIgVm9sdW1lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZvbHVtZShwcm9wcykge1xuICAgICAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkgeyBwcm9wcyA9IHt9OyB9XG4gICAgICAgIC8vIEktbm9kZSBudW1iZXIgY291bnRlci5cbiAgICAgICAgdGhpcy5pbm8gPSAwO1xuICAgICAgICAvLyBBIG1hcHBpbmcgZm9yIGktbm9kZSBudW1iZXJzIHRvIGktbm9kZXMgKGBOb2RlYCk7XG4gICAgICAgIHRoaXMuaW5vZGVzID0ge307XG4gICAgICAgIC8vIExpc3Qgb2YgcmVsZWFzZWQgaS1ub2RlIG51bWJlcnMsIGZvciByZXVzZS5cbiAgICAgICAgdGhpcy5yZWxlYXNlZElub3MgPSBbXTtcbiAgICAgICAgLy8gQSBtYXBwaW5nIGZvciBmaWxlIGRlc2NyaXB0b3JzIHRvIGBGaWxlYHMuXG4gICAgICAgIHRoaXMuZmRzID0ge307XG4gICAgICAgIC8vIEEgbGlzdCBvZiByZXVzYWJsZSAob3BlbmVkIGFuZCBjbG9zZWQpIGZpbGUgZGVzY3JpcHRvcnMsIHRoYXQgc2hvdWxkIGJlXG4gICAgICAgIC8vIHVzZWQgZmlyc3QgYmVmb3JlIGNyZWF0aW5nIGEgbmV3IGZpbGUgZGVzY3JpcHRvci5cbiAgICAgICAgdGhpcy5yZWxlYXNlZEZkcyA9IFtdO1xuICAgICAgICAvLyBNYXggbnVtYmVyIG9mIG9wZW4gZmlsZXMuXG4gICAgICAgIHRoaXMubWF4RmlsZXMgPSAxMDAwMDtcbiAgICAgICAgLy8gQ3VycmVudCBudW1iZXIgb2Ygb3BlbiBmaWxlcy5cbiAgICAgICAgdGhpcy5vcGVuRmlsZXMgPSAwO1xuICAgICAgICB0aGlzLnByb21pc2VzQXBpID0gcHJvbWlzZXNfMS5kZWZhdWx0KHRoaXMpO1xuICAgICAgICB0aGlzLnN0YXRXYXRjaGVycyA9IHt9O1xuICAgICAgICB0aGlzLnByb3BzID0gZXh0ZW5kKHsgTm9kZTogbm9kZV8xLk5vZGUsIExpbms6IG5vZGVfMS5MaW5rLCBGaWxlOiBub2RlXzEuRmlsZSB9LCBwcm9wcyk7XG4gICAgICAgIHZhciByb290ID0gdGhpcy5jcmVhdGVMaW5rKCk7XG4gICAgICAgIHJvb3Quc2V0Tm9kZSh0aGlzLmNyZWF0ZU5vZGUodHJ1ZSkpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIHRzbGludDpkaXNhYmxlLWxpbmUgbm8tdGhpcy1hc3NpZ25tZW50XG4gICAgICAgIHRoaXMuU3RhdFdhdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoU3RhdFdhdGNoZXIsIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBTdGF0V2F0Y2hlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgc2VsZikgfHwgdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBTdGF0V2F0Y2hlcjtcbiAgICAgICAgfShTdGF0V2F0Y2hlcikpO1xuICAgICAgICB2YXIgX1JlYWRTdHJlYW0gPSBGc1JlYWRTdHJlYW07XG4gICAgICAgIHRoaXMuUmVhZFN0cmVhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhjbGFzc18xLCBfc3VwZXIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbc2VsZl0sIGFyZ3MpKSB8fCB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzXzE7XG4gICAgICAgIH0oX1JlYWRTdHJlYW0pKTtcbiAgICAgICAgdmFyIF9Xcml0ZVN0cmVhbSA9IEZzV3JpdGVTdHJlYW07XG4gICAgICAgIHRoaXMuV3JpdGVTdHJlYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoY2xhc3NfMiwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsYXNzXzIoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3NlbGZdLCBhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbGFzc18yO1xuICAgICAgICB9KF9Xcml0ZVN0cmVhbSkpO1xuICAgICAgICB0aGlzLkZTV2F0Y2hlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhGU1dhdGNoZXIsIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBGU1dhdGNoZXIoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHNlbGYpIHx8IHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gRlNXYXRjaGVyO1xuICAgICAgICB9KEZTV2F0Y2hlcikpO1xuICAgICAgICAvLyByb290LnNldENoaWxkKCcuJywgcm9vdCk7XG4gICAgICAgIC8vIHJvb3QuZ2V0Tm9kZSgpLm5saW5rKys7XG4gICAgICAgIC8vIHJvb3Quc2V0Q2hpbGQoJy4uJywgcm9vdCk7XG4gICAgICAgIC8vIHJvb3QuZ2V0Tm9kZSgpLm5saW5rKys7XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgfVxuICAgIFZvbHVtZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIChqc29uLCBjd2QpIHtcbiAgICAgICAgdmFyIHZvbCA9IG5ldyBWb2x1bWUoKTtcbiAgICAgICAgdm9sLmZyb21KU09OKGpzb24sIGN3ZCk7XG4gICAgICAgIHJldHVybiB2b2w7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVm9sdW1lLnByb3RvdHlwZSwgXCJwcm9taXNlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvbWlzZXNBcGkgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9taXNlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC4nKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb21pc2VzQXBpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNyZWF0ZUxpbmsgPSBmdW5jdGlvbiAocGFyZW50LCBuYW1lLCBpc0RpcmVjdG9yeSwgcGVybSkge1xuICAgICAgICBpZiAoaXNEaXJlY3RvcnkgPT09IHZvaWQgMCkgeyBpc0RpcmVjdG9yeSA9IGZhbHNlOyB9XG4gICAgICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMucHJvcHMuTGluayh0aGlzLCBudWxsLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyZWF0ZUxpbms6IG5hbWUgY2Fubm90IGJlIGVtcHR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmVudC5jcmVhdGVDaGlsZChuYW1lLCB0aGlzLmNyZWF0ZU5vZGUoaXNEaXJlY3RvcnksIHBlcm0pKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZGVsZXRlTGluayA9IGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBsaW5rLnBhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgcGFyZW50LmRlbGV0ZUNoaWxkKGxpbmspO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5uZXdJbm9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZWxlYXNlZEZkID0gdGhpcy5yZWxlYXNlZElub3MucG9wKCk7XG4gICAgICAgIGlmIChyZWxlYXNlZEZkKVxuICAgICAgICAgICAgcmV0dXJuIHJlbGVhc2VkRmQ7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbm8gPSAodGhpcy5pbm8gKyAxKSAlIDB4ZmZmZmZmZmY7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbm87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubmV3RmROdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZWxlYXNlZEZkID0gdGhpcy5yZWxlYXNlZEZkcy5wb3AoKTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiByZWxlYXNlZEZkID09PSAnbnVtYmVyJyA/IHJlbGVhc2VkRmQgOiBWb2x1bWUuZmQtLTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY3JlYXRlTm9kZSA9IGZ1bmN0aW9uIChpc0RpcmVjdG9yeSwgcGVybSkge1xuICAgICAgICBpZiAoaXNEaXJlY3RvcnkgPT09IHZvaWQgMCkgeyBpc0RpcmVjdG9yeSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBub2RlID0gbmV3IHRoaXMucHJvcHMuTm9kZSh0aGlzLm5ld0lub051bWJlcigpLCBwZXJtKTtcbiAgICAgICAgaWYgKGlzRGlyZWN0b3J5KVxuICAgICAgICAgICAgbm9kZS5zZXRJc0RpcmVjdG9yeSgpO1xuICAgICAgICB0aGlzLmlub2Rlc1tub2RlLmlub10gPSBub2RlO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0Tm9kZSA9IGZ1bmN0aW9uIChpbm8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5vZGVzW2lub107XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmRlbGV0ZU5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBub2RlLmRlbCgpO1xuICAgICAgICBkZWxldGUgdGhpcy5pbm9kZXNbbm9kZS5pbm9dO1xuICAgICAgICB0aGlzLnJlbGVhc2VkSW5vcy5wdXNoKG5vZGUuaW5vKTtcbiAgICB9O1xuICAgIC8vIEdlbmVyYXRlcyA2IGNoYXJhY3RlciBsb25nIHJhbmRvbSBzdHJpbmcsIHVzZWQgYnkgYG1rZHRlbXBgLlxuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2VuUm5kU3RyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RyID0gKE1hdGgucmFuZG9tKCkgKyAxKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDYpO1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gNilcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlblJuZFN0cigpO1xuICAgIH07XG4gICAgLy8gUmV0dXJucyBhIGBMaW5rYCAoaGFyZCBsaW5rKSByZWZlcmVuY2VkIGJ5IHBhdGggXCJzcGxpdFwiIGludG8gc3RlcHMuXG4gICAgVm9sdW1lLnByb3RvdHlwZS5nZXRMaW5rID0gZnVuY3Rpb24gKHN0ZXBzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Qud2FsayhzdGVwcyk7XG4gICAgfTtcbiAgICAvLyBKdXN0IGxpbmsgYGdldExpbmtgLCBidXQgdGhyb3dzIGEgY29ycmVjdCB1c2VyIGVycm9yLCBpZiBsaW5rIHRvIGZvdW5kLlxuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0TGlua09yVGhyb3cgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGZ1bmNOYW1lKSB7XG4gICAgICAgIHZhciBzdGVwcyA9IGZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZSk7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRMaW5rKHN0ZXBzKTtcbiAgICAgICAgaWYgKCFsaW5rKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCBmdW5jTmFtZSwgZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4gbGluaztcbiAgICB9O1xuICAgIC8vIEp1c3QgbGlrZSBgZ2V0TGlua2AsIGJ1dCBhbHNvIGRlcmVmZXJlbmNlL3Jlc29sdmVzIHN5bWJvbGljIGxpbmtzLlxuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0UmVzb2x2ZWRMaW5rID0gZnVuY3Rpb24gKGZpbGVuYW1lT3JTdGVwcykge1xuICAgICAgICB2YXIgc3RlcHMgPSB0eXBlb2YgZmlsZW5hbWVPclN0ZXBzID09PSAnc3RyaW5nJyA/IGZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZU9yU3RlcHMpIDogZmlsZW5hbWVPclN0ZXBzO1xuICAgICAgICB2YXIgbGluayA9IHRoaXMucm9vdDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHN0ZXAgPSBzdGVwc1tpXTtcbiAgICAgICAgICAgIGxpbmsgPSBsaW5rLmdldENoaWxkKHN0ZXApO1xuICAgICAgICAgICAgaWYgKCFsaW5rKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBsaW5rLmdldE5vZGUoKTtcbiAgICAgICAgICAgIGlmIChub2RlLmlzU3ltbGluaygpKSB7XG4gICAgICAgICAgICAgICAgc3RlcHMgPSBub2RlLnN5bWxpbmsuY29uY2F0KHN0ZXBzLnNsaWNlKGkgKyAxKSk7XG4gICAgICAgICAgICAgICAgbGluayA9IHRoaXMucm9vdDtcbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluaztcbiAgICB9O1xuICAgIC8vIEp1c3QgbGlrZSBgZ2V0TGlua09yVGhyb3dgLCBidXQgYWxzbyBkZXJlZmVyZW5jZS9yZXNvbHZlcyBzeW1ib2xpYyBsaW5rcy5cbiAgICBWb2x1bWUucHJvdG90eXBlLmdldFJlc29sdmVkTGlua09yVGhyb3cgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGZ1bmNOYW1lKSB7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoZmlsZW5hbWUpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsIGZ1bmNOYW1lLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZXNvbHZlU3ltbGlua3MgPSBmdW5jdGlvbiAobGluaykge1xuICAgICAgICAvLyBsZXQgbm9kZTogTm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICAvLyB3aGlsZShsaW5rICYmIG5vZGUuaXNTeW1saW5rKCkpIHtcbiAgICAgICAgLy8gICAgIGxpbmsgPSB0aGlzLmdldExpbmsobm9kZS5zeW1saW5rKTtcbiAgICAgICAgLy8gICAgIGlmKCFsaW5rKSByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gICAgIG5vZGUgPSBsaW5rLmdldE5vZGUoKTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyByZXR1cm4gbGluaztcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVzb2x2ZWRMaW5rKGxpbmsuc3RlcHMuc2xpY2UoMSkpO1xuICAgIH07XG4gICAgLy8gSnVzdCBsaWtlIGBnZXRMaW5rT3JUaHJvd2AsIGJ1dCBhbHNvIHZlcmlmaWVzIHRoYXQgdGhlIGxpbmsgaXMgYSBkaXJlY3RvcnkuXG4gICAgVm9sdW1lLnByb3RvdHlwZS5nZXRMaW5rQXNEaXJPclRocm93ID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBmdW5jTmFtZSkge1xuICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0TGlua09yVGhyb3coZmlsZW5hbWUsIGZ1bmNOYW1lKTtcbiAgICAgICAgaWYgKCFsaW5rLmdldE5vZGUoKS5pc0RpcmVjdG9yeSgpKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PVERJUiwgZnVuY05hbWUsIGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfTtcbiAgICAvLyBHZXQgdGhlIGltbWVkaWF0ZSBwYXJlbnQgZGlyZWN0b3J5IG9mIHRoZSBsaW5rLlxuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0TGlua1BhcmVudCA9IGZ1bmN0aW9uIChzdGVwcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LndhbGsoc3RlcHMsIHN0ZXBzLmxlbmd0aCAtIDEpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5nZXRMaW5rUGFyZW50QXNEaXJPclRocm93ID0gZnVuY3Rpb24gKGZpbGVuYW1lT3JTdGVwcywgZnVuY05hbWUpIHtcbiAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVPclN0ZXBzIGluc3RhbmNlb2YgQXJyYXkgPyBmaWxlbmFtZU9yU3RlcHMgOiBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWVPclN0ZXBzKTtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldExpbmtQYXJlbnQoc3RlcHMpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsIGZ1bmNOYW1lLCBzZXAgKyBzdGVwcy5qb2luKHNlcCkpO1xuICAgICAgICBpZiAoIWxpbmsuZ2V0Tm9kZSgpLmlzRGlyZWN0b3J5KCkpXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9URElSLCBmdW5jTmFtZSwgc2VwICsgc3RlcHMuam9pbihzZXApKTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmdldEZpbGVCeUZkID0gZnVuY3Rpb24gKGZkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZkc1tTdHJpbmcoZmQpXTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZ2V0RmlsZUJ5RmRPclRocm93ID0gZnVuY3Rpb24gKGZkLCBmdW5jTmFtZSkge1xuICAgICAgICBpZiAoIWlzRmQoZmQpKVxuICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKEVSUlNUUi5GRCk7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZChmZCk7XG4gICAgICAgIGlmICghZmlsZSlcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVCQURGLCBmdW5jTmFtZSk7XG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5nZXROb2RlQnlJZE9yQ3JlYXRlID0gZnVuY3Rpb24gKGlkLCBmbGFncywgcGVybSkge1xuICAgICAgICBpZiAodHlwZW9mIGlkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmdldEZpbGVCeUZkKGlkKTtcbiAgICAgICAgICAgIGlmICghZmlsZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignRmlsZSBudG8gZm91bmQnKTtcbiAgICAgICAgICAgIHJldHVybiBmaWxlLm5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3RlcHMgPSBwYXRoVG9TdGVwcyhpZCk7XG4gICAgICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0TGluayhzdGVwcyk7XG4gICAgICAgICAgICBpZiAobGluaylcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluay5nZXROb2RlKCk7XG4gICAgICAgICAgICAvLyBUcnkgY3JlYXRpbmcgYSBub2RlIGlmIG5vdCBmb3VuZC5cbiAgICAgICAgICAgIGlmIChmbGFncyAmIE9fQ1JFQVQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyTGluayA9IHRoaXMuZ2V0TGlua1BhcmVudChzdGVwcyk7XG4gICAgICAgICAgICAgICAgaWYgKGRpckxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVfMSA9IHN0ZXBzW3N0ZXBzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBsaW5rID0gdGhpcy5jcmVhdGVMaW5rKGRpckxpbmssIG5hbWVfMSwgZmFsc2UsIHBlcm0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGluay5nZXROb2RlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAnZ2V0Tm9kZUJ5SWRPckNyZWF0ZScsIHBhdGhUb0ZpbGVuYW1lKGlkKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUud3JhcEFzeW5jID0gZnVuY3Rpb24gKG1ldGhvZCwgYXJncywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFsaWRhdGVDYWxsYmFjayhjYWxsYmFjayk7XG4gICAgICAgIHNldEltbWVkaWF0ZV8xLmRlZmF1bHQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtZXRob2QuYXBwbHkoX3RoaXMsIGFyZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuX3RvSlNPTiA9IGZ1bmN0aW9uIChsaW5rLCBqc29uLCBwYXRoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGxpbmsgPT09IHZvaWQgMCkgeyBsaW5rID0gdGhpcy5yb290OyB9XG4gICAgICAgIGlmIChqc29uID09PSB2b2lkIDApIHsganNvbiA9IHt9OyB9XG4gICAgICAgIHZhciBpc0VtcHR5ID0gdHJ1ZTtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gbGluay5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGxpbmsuZ2V0Tm9kZSgpLmlzRmlsZSgpKSB7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IChfYSA9IHt9LCBfYVtsaW5rLmdldE5hbWUoKV0gPSBsaW5rLnBhcmVudC5nZXRDaGlsZChsaW5rLmdldE5hbWUoKSksIF9hKTtcbiAgICAgICAgICAgIGxpbmsgPSBsaW5rLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBuYW1lXzIgaW4gY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlzRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGxpbmsuZ2V0Q2hpbGQobmFtZV8yKTtcbiAgICAgICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ190b0pTT046IHVuZXhwZWN0ZWQgdW5kZWZpbmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbm9kZSA9IGNoaWxkLmdldE5vZGUoKTtcbiAgICAgICAgICAgIGlmIChub2RlLmlzRmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gY2hpbGQuZ2V0UGF0aCgpO1xuICAgICAgICAgICAgICAgIGlmIChwYXRoKVxuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHJlbGF0aXZlKHBhdGgsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBqc29uW2ZpbGVuYW1lXSA9IG5vZGUuZ2V0U3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90b0pTT04oY2hpbGQsIGpzb24sIHBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBkaXJQYXRoID0gbGluay5nZXRQYXRoKCk7XG4gICAgICAgIGlmIChwYXRoKVxuICAgICAgICAgICAgZGlyUGF0aCA9IHJlbGF0aXZlKHBhdGgsIGRpclBhdGgpO1xuICAgICAgICBpZiAoZGlyUGF0aCAmJiBpc0VtcHR5KSB7XG4gICAgICAgICAgICBqc29uW2RpclBhdGhdID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ganNvbjtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKHBhdGhzLCBqc29uLCBpc1JlbGF0aXZlKSB7XG4gICAgICAgIGlmIChqc29uID09PSB2b2lkIDApIHsganNvbiA9IHt9OyB9XG4gICAgICAgIGlmIChpc1JlbGF0aXZlID09PSB2b2lkIDApIHsgaXNSZWxhdGl2ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBsaW5rcyA9IFtdO1xuICAgICAgICBpZiAocGF0aHMpIHtcbiAgICAgICAgICAgIGlmICghKHBhdGhzIGluc3RhbmNlb2YgQXJyYXkpKVxuICAgICAgICAgICAgICAgIHBhdGhzID0gW3BhdGhzXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgcGF0aHNfMSA9IHBhdGhzOyBfaSA8IHBhdGhzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBwYXRoc18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0UmVzb2x2ZWRMaW5rKGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxpbmtzLnB1c2gobGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsaW5rcy5wdXNoKHRoaXMucm9vdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsaW5rcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBsaW5rc18xID0gbGlua3M7IF9hIDwgbGlua3NfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5rID0gbGlua3NfMVtfYV07XG4gICAgICAgICAgICB0aGlzLl90b0pTT04obGluaywganNvbiwgaXNSZWxhdGl2ZSA/IGxpbmsuZ2V0UGF0aCgpIDogJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH07XG4gICAgLy8gZnJvbUpTT04oanNvbjoge1tmaWxlbmFtZTogc3RyaW5nXTogc3RyaW5nfSwgY3dkOiBzdHJpbmcgPSAnLycpIHtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZyb21KU09OID0gZnVuY3Rpb24gKGpzb24sIGN3ZCkge1xuICAgICAgICBpZiAoY3dkID09PSB2b2lkIDApIHsgY3dkID0gcHJvY2Vzc18xLmRlZmF1bHQuY3dkKCk7IH1cbiAgICAgICAgZm9yICh2YXIgZmlsZW5hbWUgaW4ganNvbikge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBqc29uW2ZpbGVuYW1lXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHJlc29sdmUoZmlsZW5hbWUsIGN3ZCk7XG4gICAgICAgICAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RlcHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlybmFtZSA9IHNlcCArIHN0ZXBzLnNsaWNlKDAsIHN0ZXBzLmxlbmd0aCAtIDEpLmpvaW4oc2VwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ta2RpcnBCYXNlKGRpcm5hbWUsIDUxMSAvKiBESVIgKi8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlRmlsZVN5bmMoZmlsZW5hbWUsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ta2RpcnBCYXNlKGZpbGVuYW1lLCA1MTEgLyogRElSICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5pbm8gPSAwO1xuICAgICAgICB0aGlzLmlub2RlcyA9IHt9O1xuICAgICAgICB0aGlzLnJlbGVhc2VkSW5vcyA9IFtdO1xuICAgICAgICB0aGlzLmZkcyA9IHt9O1xuICAgICAgICB0aGlzLnJlbGVhc2VkRmRzID0gW107XG4gICAgICAgIHRoaXMub3BlbkZpbGVzID0gMDtcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5jcmVhdGVMaW5rKCk7XG4gICAgICAgIHRoaXMucm9vdC5zZXROb2RlKHRoaXMuY3JlYXRlTm9kZSh0cnVlKSk7XG4gICAgfTtcbiAgICAvLyBMZWdhY3kgaW50ZXJmYWNlXG4gICAgVm9sdW1lLnByb3RvdHlwZS5tb3VudFN5bmMgPSBmdW5jdGlvbiAobW91bnRwb2ludCwganNvbikge1xuICAgICAgICB0aGlzLmZyb21KU09OKGpzb24sIG1vdW50cG9pbnQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5vcGVuTGluayA9IGZ1bmN0aW9uIChsaW5rLCBmbGFnc051bSwgcmVzb2x2ZVN5bWxpbmtzKSB7XG4gICAgICAgIGlmIChyZXNvbHZlU3ltbGlua3MgPT09IHZvaWQgMCkgeyByZXNvbHZlU3ltbGlua3MgPSB0cnVlOyB9XG4gICAgICAgIGlmICh0aGlzLm9wZW5GaWxlcyA+PSB0aGlzLm1heEZpbGVzKSB7XG4gICAgICAgICAgICAvLyBUb28gbWFueSBvcGVuIGZpbGVzLlxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU1GSUxFLCAnb3BlbicsIGxpbmsuZ2V0UGF0aCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNvbHZlIHN5bWxpbmtzLlxuICAgICAgICB2YXIgcmVhbExpbmsgPSBsaW5rO1xuICAgICAgICBpZiAocmVzb2x2ZVN5bWxpbmtzKVxuICAgICAgICAgICAgcmVhbExpbmsgPSB0aGlzLnJlc29sdmVTeW1saW5rcyhsaW5rKTtcbiAgICAgICAgaWYgKCFyZWFsTGluaylcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCwgJ29wZW4nLCBsaW5rLmdldFBhdGgoKSk7XG4gICAgICAgIHZhciBub2RlID0gcmVhbExpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICAvLyBDaGVjayB3aGV0aGVyIG5vZGUgaXMgYSBkaXJlY3RvcnlcbiAgICAgICAgaWYgKG5vZGUuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgICAgaWYgKChmbGFnc051bSAmIChPX1JET05MWSB8IE9fUkRXUiB8IE9fV1JPTkxZKSkgIT09IE9fUkRPTkxZKVxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVJU0RJUiwgJ29wZW4nLCBsaW5rLmdldFBhdGgoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZmxhZ3NOdW0gJiBPX0RJUkVDVE9SWSlcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9URElSLCAnb3BlbicsIGxpbmsuZ2V0UGF0aCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBub2RlIHBlcm1pc3Npb25zXG4gICAgICAgIGlmICghKGZsYWdzTnVtICYgT19XUk9OTFkpKSB7XG4gICAgICAgICAgICBpZiAoIW5vZGUuY2FuUmVhZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRUFDQ0VTLCAnb3BlbicsIGxpbmsuZ2V0UGF0aCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmxhZ3NOdW0gJiBPX1JEV1IpIHtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmlsZSA9IG5ldyB0aGlzLnByb3BzLkZpbGUobGluaywgbm9kZSwgZmxhZ3NOdW0sIHRoaXMubmV3RmROdW1iZXIoKSk7XG4gICAgICAgIHRoaXMuZmRzW2ZpbGUuZmRdID0gZmlsZTtcbiAgICAgICAgdGhpcy5vcGVuRmlsZXMrKztcbiAgICAgICAgaWYgKGZsYWdzTnVtICYgT19UUlVOQylcbiAgICAgICAgICAgIGZpbGUudHJ1bmNhdGUoKTtcbiAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLm9wZW5GaWxlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBmbGFnc051bSwgbW9kZU51bSwgcmVzb2x2ZVN5bWxpbmtzKSB7XG4gICAgICAgIGlmIChyZXNvbHZlU3ltbGlua3MgPT09IHZvaWQgMCkgeyByZXNvbHZlU3ltbGlua3MgPSB0cnVlOyB9XG4gICAgICAgIHZhciBzdGVwcyA9IGZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZSk7XG4gICAgICAgIHZhciBsaW5rID0gcmVzb2x2ZVN5bWxpbmtzID8gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMpIDogdGhpcy5nZXRMaW5rKHN0ZXBzKTtcbiAgICAgICAgLy8gVHJ5IGNyZWF0aW5nIGEgbmV3IGZpbGUsIGlmIGl0IGRvZXMgbm90IGV4aXN0LlxuICAgICAgICBpZiAoIWxpbmsgJiYgZmxhZ3NOdW0gJiBPX0NSRUFUKSB7XG4gICAgICAgICAgICAvLyBjb25zdCBkaXJMaW5rOiBMaW5rID0gdGhpcy5nZXRMaW5rUGFyZW50KHN0ZXBzKTtcbiAgICAgICAgICAgIHZhciBkaXJMaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMuc2xpY2UoMCwgc3RlcHMubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgLy8gaWYoIWRpckxpbmspIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCwgJ29wZW4nLCBmaWxlbmFtZSk7XG4gICAgICAgICAgICBpZiAoIWRpckxpbmspXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAnb3BlbicsIHNlcCArIHN0ZXBzLmpvaW4oc2VwKSk7XG4gICAgICAgICAgICBpZiAoZmxhZ3NOdW0gJiBPX0NSRUFUICYmIHR5cGVvZiBtb2RlTnVtID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGxpbmsgPSB0aGlzLmNyZWF0ZUxpbmsoZGlyTGluaywgc3RlcHNbc3RlcHMubGVuZ3RoIC0gMV0sIGZhbHNlLCBtb2RlTnVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGluaylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5MaW5rKGxpbmssIGZsYWdzTnVtLCByZXNvbHZlU3ltbGlua3MpO1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdvcGVuJywgZmlsZW5hbWUpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5vcGVuQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgZmxhZ3NOdW0sIG1vZGVOdW0sIHJlc29sdmVTeW1saW5rcykge1xuICAgICAgICBpZiAocmVzb2x2ZVN5bWxpbmtzID09PSB2b2lkIDApIHsgcmVzb2x2ZVN5bWxpbmtzID0gdHJ1ZTsgfVxuICAgICAgICB2YXIgZmlsZSA9IHRoaXMub3BlbkZpbGUoZmlsZW5hbWUsIGZsYWdzTnVtLCBtb2RlTnVtLCByZXNvbHZlU3ltbGlua3MpO1xuICAgICAgICBpZiAoIWZpbGUpXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdvcGVuJywgZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4gZmlsZS5mZDtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUub3BlblN5bmMgPSBmdW5jdGlvbiAocGF0aCwgZmxhZ3MsIG1vZGUpIHtcbiAgICAgICAgaWYgKG1vZGUgPT09IHZvaWQgMCkgeyBtb2RlID0gNDM4IC8qIERFRkFVTFQgKi87IH1cbiAgICAgICAgLy8gVmFsaWRhdGUgKDEpIG1vZGU7ICgyKSBwYXRoOyAoMykgZmxhZ3MgLSBpbiB0aGF0IG9yZGVyLlxuICAgICAgICB2YXIgbW9kZU51bSA9IG1vZGVUb051bWJlcihtb2RlKTtcbiAgICAgICAgdmFyIGZpbGVOYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHZhciBmbGFnc051bSA9IGZsYWdzVG9OdW1iZXIoZmxhZ3MpO1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuQmFzZShmaWxlTmFtZSwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKHBhdGgsIGZsYWdzLCBhLCBiKSB7XG4gICAgICAgIHZhciBtb2RlID0gYTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYjtcbiAgICAgICAgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBtb2RlID0gNDM4IC8qIERFRkFVTFQgKi87XG4gICAgICAgICAgICBjYWxsYmFjayA9IGE7XG4gICAgICAgIH1cbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgNDM4IC8qIERFRkFVTFQgKi87XG4gICAgICAgIHZhciBtb2RlTnVtID0gbW9kZVRvTnVtYmVyKG1vZGUpO1xuICAgICAgICB2YXIgZmlsZU5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgdmFyIGZsYWdzTnVtID0gZmxhZ3NUb051bWJlcihmbGFncyk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMub3BlbkJhc2UsIFtmaWxlTmFtZSwgZmxhZ3NOdW0sIG1vZGVOdW1dLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNsb3NlRmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIGlmICghdGhpcy5mZHNbZmlsZS5mZF0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMub3BlbkZpbGVzLS07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZkc1tmaWxlLmZkXTtcbiAgICAgICAgdGhpcy5yZWxlYXNlZEZkcy5wdXNoKGZpbGUuZmQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5jbG9zZVN5bmMgPSBmdW5jdGlvbiAoZmQpIHtcbiAgICAgICAgdmFsaWRhdGVGZChmZCk7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICdjbG9zZScpO1xuICAgICAgICB0aGlzLmNsb3NlRmlsZShmaWxlKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZmQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhbGlkYXRlRmQoZmQpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmNsb3NlU3luYywgW2ZkXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5vcGVuRmlsZU9yR2V0QnlJZCA9IGZ1bmN0aW9uIChpZCwgZmxhZ3NOdW0sIG1vZGVOdW0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHZhciBmaWxlID0gdGhpcy5mZHNbaWRdO1xuICAgICAgICAgICAgaWYgKCFmaWxlKVxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCk7XG4gICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5GaWxlKHBhdGhUb0ZpbGVuYW1lKGlkKSwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWRCYXNlID0gZnVuY3Rpb24gKGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZ2V0RmlsZUJ5RmRPclRocm93KGZkKTtcbiAgICAgICAgcmV0dXJuIGZpbGUucmVhZChidWZmZXIsIE51bWJlcihvZmZzZXQpLCBOdW1iZXIobGVuZ3RoKSwgcG9zaXRpb24pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZWFkU3luYyA9IGZ1bmN0aW9uIChmZCwgYnVmZmVyLCBvZmZzZXQsIGxlbmd0aCwgcG9zaXRpb24pIHtcbiAgICAgICAgdmFsaWRhdGVGZChmZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRCYXNlKGZkLCBidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YWxpZGF0ZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICAgICAgLy8gVGhpcyBgaWZgIGJyYW5jaCBpcyBmcm9tIE5vZGUuanNcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NfMS5kZWZhdWx0Lm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIDAsIGJ1ZmZlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJbW1lZGlhdGVfMS5kZWZhdWx0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVzID0gX3RoaXMucmVhZEJhc2UoZmQsIGJ1ZmZlciwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBieXRlcywgYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVhZEZpbGVCYXNlID0gZnVuY3Rpb24gKGlkLCBmbGFnc051bSwgZW5jb2RpbmcpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdmFyIGlzVXNlckZkID0gdHlwZW9mIGlkID09PSAnbnVtYmVyJztcbiAgICAgICAgdmFyIHVzZXJPd25zRmQgPSBpc1VzZXJGZCAmJiBpc0ZkKGlkKTtcbiAgICAgICAgdmFyIGZkO1xuICAgICAgICBpZiAodXNlck93bnNGZClcbiAgICAgICAgICAgIGZkID0gaWQ7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUoaWQpO1xuICAgICAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMpO1xuICAgICAgICAgICAgaWYgKGxpbmspIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmlzRGlyZWN0b3J5KCkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVJU0RJUiwgJ29wZW4nLCBsaW5rLmdldFBhdGgoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmZCA9IHRoaXMub3BlblN5bmMoaWQsIGZsYWdzTnVtKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gYnVmZmVyVG9FbmNvZGluZyh0aGlzLmdldEZpbGVCeUZkT3JUaHJvdyhmZCkuZ2V0QnVmZmVyKCksIGVuY29kaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICghdXNlck93bnNGZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTeW5jKGZkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZWFkRmlsZVN5bmMgPSBmdW5jdGlvbiAoZmlsZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0cyA9IGdldFJlYWRGaWxlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdmFyIGZsYWdzTnVtID0gZmxhZ3NUb051bWJlcihvcHRzLmZsYWcpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkRmlsZUJhc2UoZmlsZSwgZmxhZ3NOdW0sIG9wdHMuZW5jb2RpbmcpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZWFkRmlsZSA9IGZ1bmN0aW9uIChpZCwgYSwgYikge1xuICAgICAgICB2YXIgX2EgPSBvcHRzQW5kQ2JHZW5lcmF0b3IoZ2V0UmVhZEZpbGVPcHRpb25zKShhLCBiKSwgb3B0cyA9IF9hWzBdLCBjYWxsYmFjayA9IF9hWzFdO1xuICAgICAgICB2YXIgZmxhZ3NOdW0gPSBmbGFnc1RvTnVtYmVyKG9wdHMuZmxhZyk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMucmVhZEZpbGVCYXNlLCBbaWQsIGZsYWdzTnVtLCBvcHRzLmVuY29kaW5nXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS53cml0ZUJhc2UgPSBmdW5jdGlvbiAoZmQsIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICd3cml0ZScpO1xuICAgICAgICByZXR1cm4gZmlsZS53cml0ZShidWYsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLndyaXRlU3luYyA9IGZ1bmN0aW9uIChmZCwgYSwgYiwgYywgZCkge1xuICAgICAgICB2YWxpZGF0ZUZkKGZkKTtcbiAgICAgICAgdmFyIGVuY29kaW5nO1xuICAgICAgICB2YXIgb2Zmc2V0O1xuICAgICAgICB2YXIgbGVuZ3RoO1xuICAgICAgICB2YXIgcG9zaXRpb247XG4gICAgICAgIHZhciBpc0J1ZmZlciA9IHR5cGVvZiBhICE9PSAnc3RyaW5nJztcbiAgICAgICAgaWYgKGlzQnVmZmVyKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAoYiB8fCAwKSB8IDA7XG4gICAgICAgICAgICBsZW5ndGggPSBjO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBiO1xuICAgICAgICAgICAgZW5jb2RpbmcgPSBjO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWYgPSBkYXRhVG9CdWZmZXIoYSwgZW5jb2RpbmcpO1xuICAgICAgICBpZiAoaXNCdWZmZXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IGJ1Zi5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICAgICAgbGVuZ3RoID0gYnVmLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJhc2UoZmQsIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoZmQsIGEsIGIsIGMsIGQsIGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFsaWRhdGVGZChmZCk7XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIHZhciBsZW5ndGg7XG4gICAgICAgIHZhciBwb3NpdGlvbjtcbiAgICAgICAgdmFyIGVuY29kaW5nO1xuICAgICAgICB2YXIgY2FsbGJhY2s7XG4gICAgICAgIHZhciB0aXBhID0gdHlwZW9mIGE7XG4gICAgICAgIHZhciB0aXBiID0gdHlwZW9mIGI7XG4gICAgICAgIHZhciB0aXBjID0gdHlwZW9mIGM7XG4gICAgICAgIHZhciB0aXBkID0gdHlwZW9mIGQ7XG4gICAgICAgIGlmICh0aXBhICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHRpcGIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aXBjID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gYiB8IDA7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGlwZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IGIgfCAwO1xuICAgICAgICAgICAgICAgIGxlbmd0aCA9IGM7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gYiB8IDA7XG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gYztcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGQ7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRpcGIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aXBjID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBiO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRpcGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGI7XG4gICAgICAgICAgICAgICAgZW5jb2RpbmcgPSBjO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmID0gZGF0YVRvQnVmZmVyKGEsIGVuY29kaW5nKTtcbiAgICAgICAgaWYgKHRpcGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gYnVmLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgICAgICBsZW5ndGggPSBidWYubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYiA9IHZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgICAgICBzZXRJbW1lZGlhdGVfMS5kZWZhdWx0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVzID0gX3RoaXMud3JpdGVCYXNlKGZkLCBidWYsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKHRpcGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNiKG51bGwsIGJ5dGVzLCBidWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2IobnVsbCwgYnl0ZXMsIGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUud3JpdGVGaWxlQmFzZSA9IGZ1bmN0aW9uIChpZCwgYnVmLCBmbGFnc051bSwgbW9kZU51bSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnd3JpdGVGaWxlQmFzZScsIGlkLCBidWYsIGZsYWdzTnVtLCBtb2RlTnVtKTtcbiAgICAgICAgLy8gY29uc3Qgbm9kZSA9IHRoaXMuZ2V0Tm9kZUJ5SWRPckNyZWF0ZShpZCwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgICAgICAvLyBub2RlLnNldEJ1ZmZlcihidWYpO1xuICAgICAgICB2YXIgaXNVc2VyRmQgPSB0eXBlb2YgaWQgPT09ICdudW1iZXInO1xuICAgICAgICB2YXIgZmQ7XG4gICAgICAgIGlmIChpc1VzZXJGZClcbiAgICAgICAgICAgIGZkID0gaWQ7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmQgPSB0aGlzLm9wZW5CYXNlKHBhdGhUb0ZpbGVuYW1lKGlkKSwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgICAgICAgICAgLy8gZmQgPSB0aGlzLm9wZW5TeW5jKGlkIGFzIFRGaWxlUGF0aCwgZmxhZ3NOdW0sIG1vZGVOdW0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICB2YXIgbGVuZ3RoID0gYnVmLmxlbmd0aDtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gZmxhZ3NOdW0gJiBPX0FQUEVORCA/IHVuZGVmaW5lZCA6IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciB3cml0dGVuID0gdGhpcy53cml0ZVN5bmMoZmQsIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gd3JpdHRlbjtcbiAgICAgICAgICAgICAgICBsZW5ndGggLT0gd3JpdHRlbjtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gd3JpdHRlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmICghaXNVc2VyRmQpXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZVN5bmMoZmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLndyaXRlRmlsZVN5bmMgPSBmdW5jdGlvbiAoaWQsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdHMgPSBnZXRXcml0ZUZpbGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB2YXIgZmxhZ3NOdW0gPSBmbGFnc1RvTnVtYmVyKG9wdHMuZmxhZyk7XG4gICAgICAgIHZhciBtb2RlTnVtID0gbW9kZVRvTnVtYmVyKG9wdHMubW9kZSk7XG4gICAgICAgIHZhciBidWYgPSBkYXRhVG9CdWZmZXIoZGF0YSwgb3B0cy5lbmNvZGluZyk7XG4gICAgICAgIHRoaXMud3JpdGVGaWxlQmFzZShpZCwgYnVmLCBmbGFnc051bSwgbW9kZU51bSk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLndyaXRlRmlsZSA9IGZ1bmN0aW9uIChpZCwgZGF0YSwgYSwgYikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGE7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGI7XG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHdyaXRlRmlsZURlZmF1bHRzO1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYiA9IHZhbGlkYXRlQ2FsbGJhY2soY2FsbGJhY2spO1xuICAgICAgICB2YXIgb3B0cyA9IGdldFdyaXRlRmlsZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHZhciBmbGFnc051bSA9IGZsYWdzVG9OdW1iZXIob3B0cy5mbGFnKTtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIob3B0cy5tb2RlKTtcbiAgICAgICAgdmFyIGJ1ZiA9IGRhdGFUb0J1ZmZlcihkYXRhLCBvcHRzLmVuY29kaW5nKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy53cml0ZUZpbGVCYXNlLCBbaWQsIGJ1ZiwgZmxhZ3NOdW0sIG1vZGVOdW1dLCBjYik7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmxpbmtCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lMSwgZmlsZW5hbWUyKSB7XG4gICAgICAgIHZhciBzdGVwczEgPSBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUxKTtcbiAgICAgICAgdmFyIGxpbmsxID0gdGhpcy5nZXRMaW5rKHN0ZXBzMSk7XG4gICAgICAgIGlmICghbGluazEpXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdsaW5rJywgZmlsZW5hbWUxLCBmaWxlbmFtZTIpO1xuICAgICAgICB2YXIgc3RlcHMyID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lMik7XG4gICAgICAgIC8vIENoZWNrIG5ldyBsaW5rIGRpcmVjdG9yeSBleGlzdHMuXG4gICAgICAgIHZhciBkaXIyID0gdGhpcy5nZXRMaW5rUGFyZW50KHN0ZXBzMik7XG4gICAgICAgIGlmICghZGlyMilcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCwgJ2xpbmsnLCBmaWxlbmFtZTEsIGZpbGVuYW1lMik7XG4gICAgICAgIHZhciBuYW1lID0gc3RlcHMyW3N0ZXBzMi5sZW5ndGggLSAxXTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgbmV3IGZpbGUgYWxyZWFkeSBleGlzdHMuXG4gICAgICAgIGlmIChkaXIyLmdldENoaWxkKG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRUVYSVNULCAnbGluaycsIGZpbGVuYW1lMSwgZmlsZW5hbWUyKTtcbiAgICAgICAgdmFyIG5vZGUgPSBsaW5rMS5nZXROb2RlKCk7XG4gICAgICAgIG5vZGUubmxpbmsrKztcbiAgICAgICAgZGlyMi5jcmVhdGVDaGlsZChuYW1lLCBub2RlKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY29weUZpbGVCYXNlID0gZnVuY3Rpb24gKHNyYywgZGVzdCwgZmxhZ3MpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMucmVhZEZpbGVTeW5jKHNyYyk7XG4gICAgICAgIGlmIChmbGFncyAmIENPUFlGSUxFX0VYQ0wpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmV4aXN0c1N5bmMoZGVzdCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFRVhJU1QsICdjb3B5RmlsZScsIHNyYywgZGVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzICYgQ09QWUZJTEVfRklDTE9ORV9GT1JDRSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PU1lTLCAnY29weUZpbGUnLCBzcmMsIGRlc3QpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud3JpdGVGaWxlQmFzZShkZXN0LCBidWYsIEZMQUdTLncsIDQzOCAvKiBERUZBVUxUICovKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY29weUZpbGVTeW5jID0gZnVuY3Rpb24gKHNyYywgZGVzdCwgZmxhZ3MpIHtcbiAgICAgICAgdmFyIHNyY0ZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUoc3JjKTtcbiAgICAgICAgdmFyIGRlc3RGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKGRlc3QpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RmlsZUJhc2Uoc3JjRmlsZW5hbWUsIGRlc3RGaWxlbmFtZSwgKGZsYWdzIHx8IDApIHwgMCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNvcHlGaWxlID0gZnVuY3Rpb24gKHNyYywgZGVzdCwgYSwgYikge1xuICAgICAgICB2YXIgc3JjRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShzcmMpO1xuICAgICAgICB2YXIgZGVzdEZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUoZGVzdCk7XG4gICAgICAgIHZhciBmbGFncztcbiAgICAgICAgdmFyIGNhbGxiYWNrO1xuICAgICAgICBpZiAodHlwZW9mIGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGZsYWdzID0gMDtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gYTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZsYWdzID0gYTtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gYjtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5jb3B5RmlsZUJhc2UsIFtzcmNGaWxlbmFtZSwgZGVzdEZpbGVuYW1lLCBmbGFnc10sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubGlua1N5bmMgPSBmdW5jdGlvbiAoZXhpc3RpbmdQYXRoLCBuZXdQYXRoKSB7XG4gICAgICAgIHZhciBleGlzdGluZ1BhdGhGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKGV4aXN0aW5nUGF0aCk7XG4gICAgICAgIHZhciBuZXdQYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShuZXdQYXRoKTtcbiAgICAgICAgdGhpcy5saW5rQmFzZShleGlzdGluZ1BhdGhGaWxlbmFtZSwgbmV3UGF0aEZpbGVuYW1lKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uIChleGlzdGluZ1BhdGgsIG5ld1BhdGgsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBleGlzdGluZ1BhdGhGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKGV4aXN0aW5nUGF0aCk7XG4gICAgICAgIHZhciBuZXdQYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShuZXdQYXRoKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5saW5rQmFzZSwgW2V4aXN0aW5nUGF0aEZpbGVuYW1lLCBuZXdQYXRoRmlsZW5hbWVdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnVubGlua0Jhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKTtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldExpbmsoc3RlcHMpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICd1bmxpbmsnLCBmaWxlbmFtZSk7XG4gICAgICAgIC8vIFRPRE86IENoZWNrIGlmIGl0IGlzIGZpbGUsIGRpciwgb3RoZXIuLi5cbiAgICAgICAgaWYgKGxpbmsubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0RpciBub3QgZW1wdHkuLi4nKTtcbiAgICAgICAgdGhpcy5kZWxldGVMaW5rKGxpbmspO1xuICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICBub2RlLm5saW5rLS07XG4gICAgICAgIC8vIFdoZW4gYWxsIGhhcmQgbGlua3MgdG8gaS1ub2RlIGFyZSBkZWxldGVkLCByZW1vdmUgdGhlIGktbm9kZSwgdG9vLlxuICAgICAgICBpZiAobm9kZS5ubGluayA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlbGV0ZU5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudW5saW5rU3luYyA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLnVubGlua0Jhc2UoZmlsZW5hbWUpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS51bmxpbmsgPSBmdW5jdGlvbiAocGF0aCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMudW5saW5rQmFzZSwgW2ZpbGVuYW1lXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5zeW1saW5rQmFzZSA9IGZ1bmN0aW9uICh0YXJnZXRGaWxlbmFtZSwgcGF0aEZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBwYXRoU3RlcHMgPSBmaWxlbmFtZVRvU3RlcHMocGF0aEZpbGVuYW1lKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZGlyZWN0b3J5IGV4aXN0cywgd2hlcmUgd2UgYWJvdXQgdG8gY3JlYXRlIGEgc3ltbGluay5cbiAgICAgICAgdmFyIGRpckxpbmsgPSB0aGlzLmdldExpbmtQYXJlbnQocGF0aFN0ZXBzKTtcbiAgICAgICAgaWYgKCFkaXJMaW5rKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAnc3ltbGluaycsIHRhcmdldEZpbGVuYW1lLCBwYXRoRmlsZW5hbWUpO1xuICAgICAgICB2YXIgbmFtZSA9IHBhdGhTdGVwc1twYXRoU3RlcHMubGVuZ3RoIC0gMV07XG4gICAgICAgIC8vIENoZWNrIGlmIG5ldyBmaWxlIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICBpZiAoZGlyTGluay5nZXRDaGlsZChuYW1lKSlcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVFWElTVCwgJ3N5bWxpbmsnLCB0YXJnZXRGaWxlbmFtZSwgcGF0aEZpbGVuYW1lKTtcbiAgICAgICAgLy8gQ3JlYXRlIHN5bWxpbmsuXG4gICAgICAgIHZhciBzeW1saW5rID0gZGlyTGluay5jcmVhdGVDaGlsZChuYW1lKTtcbiAgICAgICAgc3ltbGluay5nZXROb2RlKCkubWFrZVN5bWxpbmsoZmlsZW5hbWVUb1N0ZXBzKHRhcmdldEZpbGVuYW1lKSk7XG4gICAgICAgIHJldHVybiBzeW1saW5rO1xuICAgIH07XG4gICAgLy8gYHR5cGVgIGFyZ3VtZW50IHdvcmtzIG9ubHkgb24gV2luZG93cy5cbiAgICBWb2x1bWUucHJvdG90eXBlLnN5bWxpbmtTeW5jID0gZnVuY3Rpb24gKHRhcmdldCwgcGF0aCwgdHlwZSkge1xuICAgICAgICB2YXIgdGFyZ2V0RmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZSh0YXJnZXQpO1xuICAgICAgICB2YXIgcGF0aEZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMuc3ltbGlua0Jhc2UodGFyZ2V0RmlsZW5hbWUsIHBhdGhGaWxlbmFtZSk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnN5bWxpbmsgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2sodHlwZW9mIGEgPT09ICdmdW5jdGlvbicgPyBhIDogYik7XG4gICAgICAgIHZhciB0YXJnZXRGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHRhcmdldCk7XG4gICAgICAgIHZhciBwYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5zeW1saW5rQmFzZSwgW3RhcmdldEZpbGVuYW1lLCBwYXRoRmlsZW5hbWVdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWxwYXRoQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgZW5jb2RpbmcpIHtcbiAgICAgICAgdmFyIHN0ZXBzID0gZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKTtcbiAgICAgICAgdmFyIHJlYWxMaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMpO1xuICAgICAgICBpZiAoIXJlYWxMaW5rKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAncmVhbHBhdGgnLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiBlbmNvZGluZ18xLnN0clRvRW5jb2RpbmcocmVhbExpbmsuZ2V0UGF0aCgpLCBlbmNvZGluZyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWxwYXRoU3luYyA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWxwYXRoQmFzZShwYXRoVG9GaWxlbmFtZShwYXRoKSwgZ2V0UmVhbHBhdGhPcHRpb25zKG9wdGlvbnMpLmVuY29kaW5nKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVhbHBhdGggPSBmdW5jdGlvbiAocGF0aCwgYSwgYikge1xuICAgICAgICB2YXIgX2EgPSBnZXRSZWFscGF0aE9wdHNBbmRDYihhLCBiKSwgb3B0cyA9IF9hWzBdLCBjYWxsYmFjayA9IF9hWzFdO1xuICAgICAgICB2YXIgcGF0aEZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMucmVhbHBhdGhCYXNlLCBbcGF0aEZpbGVuYW1lLCBvcHRzLmVuY29kaW5nXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sc3RhdEJhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGJpZ2ludCkge1xuICAgICAgICBpZiAoYmlnaW50ID09PSB2b2lkIDApIHsgYmlnaW50ID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldExpbmsoZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKSk7XG4gICAgICAgIGlmICghbGluaylcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT0VOVCwgJ2xzdGF0JywgZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4gU3RhdHNfMS5kZWZhdWx0LmJ1aWxkKGxpbmsuZ2V0Tm9kZSgpLCBiaWdpbnQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sc3RhdFN5bmMgPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5sc3RhdEJhc2UocGF0aFRvRmlsZW5hbWUocGF0aCksIGdldFN0YXRPcHRpb25zKG9wdGlvbnMpLmJpZ2ludCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmxzdGF0ID0gZnVuY3Rpb24gKHBhdGgsIGEsIGIpIHtcbiAgICAgICAgdmFyIF9hID0gZ2V0U3RhdE9wdHNBbmRDYihhLCBiKSwgb3B0cyA9IF9hWzBdLCBjYWxsYmFjayA9IF9hWzFdO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmxzdGF0QmFzZSwgW3BhdGhUb0ZpbGVuYW1lKHBhdGgpLCBvcHRzLmJpZ2ludF0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuc3RhdEJhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGJpZ2ludCkge1xuICAgICAgICBpZiAoYmlnaW50ID09PSB2b2lkIDApIHsgYmlnaW50ID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldFJlc29sdmVkTGluayhmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUpKTtcbiAgICAgICAgaWYgKCFsaW5rKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PRU5ULCAnc3RhdCcsIGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIFN0YXRzXzEuZGVmYXVsdC5idWlsZChsaW5rLmdldE5vZGUoKSwgYmlnaW50KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuc3RhdFN5bmMgPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0QmFzZShwYXRoVG9GaWxlbmFtZShwYXRoKSwgZ2V0U3RhdE9wdGlvbnMob3B0aW9ucykuYmlnaW50KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuc3RhdCA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldFN0YXRPcHRzQW5kQ2IoYSwgYiksIG9wdHMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5zdGF0QmFzZSwgW3BhdGhUb0ZpbGVuYW1lKHBhdGgpLCBvcHRzLmJpZ2ludF0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZnN0YXRCYXNlID0gZnVuY3Rpb24gKGZkLCBiaWdpbnQpIHtcbiAgICAgICAgaWYgKGJpZ2ludCA9PT0gdm9pZCAwKSB7IGJpZ2ludCA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZChmZCk7XG4gICAgICAgIGlmICghZmlsZSlcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVCQURGLCAnZnN0YXQnKTtcbiAgICAgICAgcmV0dXJuIFN0YXRzXzEuZGVmYXVsdC5idWlsZChmaWxlLm5vZGUsIGJpZ2ludCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzdGF0U3luYyA9IGZ1bmN0aW9uIChmZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5mc3RhdEJhc2UoZmQsIGdldFN0YXRPcHRpb25zKG9wdGlvbnMpLmJpZ2ludCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzdGF0ID0gZnVuY3Rpb24gKGZkLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldFN0YXRPcHRzQW5kQ2IoYSwgYiksIG9wdHMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5mc3RhdEJhc2UsIFtmZCwgb3B0cy5iaWdpbnRdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlbmFtZUJhc2UgPSBmdW5jdGlvbiAob2xkUGF0aEZpbGVuYW1lLCBuZXdQYXRoRmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldExpbmsoZmlsZW5hbWVUb1N0ZXBzKG9sZFBhdGhGaWxlbmFtZSkpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdyZW5hbWUnLCBvbGRQYXRoRmlsZW5hbWUsIG5ld1BhdGhGaWxlbmFtZSk7XG4gICAgICAgIC8vIFRPRE86IENoZWNrIGlmIGl0IGlzIGRpcmVjdG9yeSwgaWYgbm9uLWVtcHR5LCB3ZSBjYW5ub3QgbW92ZSBpdCwgcmlnaHQ/XG4gICAgICAgIHZhciBuZXdQYXRoU3RlcHMgPSBmaWxlbmFtZVRvU3RlcHMobmV3UGF0aEZpbGVuYW1lKTtcbiAgICAgICAgLy8gQ2hlY2sgZGlyZWN0b3J5IGV4aXN0cyBmb3IgdGhlIG5ldyBsb2NhdGlvbi5cbiAgICAgICAgdmFyIG5ld1BhdGhEaXJMaW5rID0gdGhpcy5nZXRMaW5rUGFyZW50KG5ld1BhdGhTdGVwcyk7XG4gICAgICAgIGlmICghbmV3UGF0aERpckxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdyZW5hbWUnLCBvbGRQYXRoRmlsZW5hbWUsIG5ld1BhdGhGaWxlbmFtZSk7XG4gICAgICAgIC8vIFRPRE86IEFsc28gdHJlYXQgY2FzZXMgd2l0aCBkaXJlY3RvcmllcyBhbmQgc3ltYm9saWMgbGlua3MuXG4gICAgICAgIC8vIFRPRE86IFNlZTogaHR0cDovL21hbjcub3JnL2xpbnV4L21hbi1wYWdlcy9tYW4yL3JlbmFtZS4yLmh0bWxcbiAgICAgICAgLy8gUmVtb3ZlIGhhcmQgbGluayBmcm9tIG9sZCBmb2xkZXIuXG4gICAgICAgIHZhciBvbGRMaW5rUGFyZW50ID0gbGluay5wYXJlbnQ7XG4gICAgICAgIGlmIChvbGRMaW5rUGFyZW50KSB7XG4gICAgICAgICAgICBvbGRMaW5rUGFyZW50LmRlbGV0ZUNoaWxkKGxpbmspO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmFtZSBzaG91bGQgb3ZlcndyaXRlIHRoZSBuZXcgcGF0aCwgaWYgdGhhdCBleGlzdHMuXG4gICAgICAgIHZhciBuYW1lID0gbmV3UGF0aFN0ZXBzW25ld1BhdGhTdGVwcy5sZW5ndGggLSAxXTtcbiAgICAgICAgbGluay5zdGVwcyA9IF9fc3ByZWFkQXJyYXlzKG5ld1BhdGhEaXJMaW5rLnN0ZXBzLCBbbmFtZV0pO1xuICAgICAgICBuZXdQYXRoRGlyTGluay5zZXRDaGlsZChsaW5rLmdldE5hbWUoKSwgbGluayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlbmFtZVN5bmMgPSBmdW5jdGlvbiAob2xkUGF0aCwgbmV3UGF0aCkge1xuICAgICAgICB2YXIgb2xkUGF0aEZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUob2xkUGF0aCk7XG4gICAgICAgIHZhciBuZXdQYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShuZXdQYXRoKTtcbiAgICAgICAgdGhpcy5yZW5hbWVCYXNlKG9sZFBhdGhGaWxlbmFtZSwgbmV3UGF0aEZpbGVuYW1lKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVuYW1lID0gZnVuY3Rpb24gKG9sZFBhdGgsIG5ld1BhdGgsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBvbGRQYXRoRmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShvbGRQYXRoKTtcbiAgICAgICAgdmFyIG5ld1BhdGhGaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKG5ld1BhdGgpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLnJlbmFtZUJhc2UsIFtvbGRQYXRoRmlsZW5hbWUsIG5ld1BhdGhGaWxlbmFtZV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZXhpc3RzQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnN0YXRCYXNlKGZpbGVuYW1lKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZXhpc3RzU3luYyA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leGlzdHNCYXNlKHBhdGhUb0ZpbGVuYW1lKHBhdGgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZXhpc3RzID0gZnVuY3Rpb24gKHBhdGgsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoRVJSU1RSLkNCKTtcbiAgICAgICAgc2V0SW1tZWRpYXRlXzEuZGVmYXVsdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKF90aGlzLmV4aXN0c0Jhc2UoZmlsZW5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5hY2Nlc3NCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBtb2RlKSB7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRMaW5rT3JUaHJvdyhmaWxlbmFtZSwgJ2FjY2VzcycpO1xuICAgICAgICAvLyBUT0RPOiBWZXJpZnkgcGVybWlzc2lvbnNcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuYWNjZXNzU3luYyA9IGZ1bmN0aW9uIChwYXRoLCBtb2RlKSB7XG4gICAgICAgIGlmIChtb2RlID09PSB2b2lkIDApIHsgbW9kZSA9IEZfT0s7IH1cbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIG1vZGUgPSBtb2RlIHwgMDtcbiAgICAgICAgdGhpcy5hY2Nlc3NCYXNlKGZpbGVuYW1lLCBtb2RlKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuYWNjZXNzID0gZnVuY3Rpb24gKHBhdGgsIGEsIGIpIHtcbiAgICAgICAgdmFyIG1vZGUgPSBGX09LO1xuICAgICAgICB2YXIgY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgYSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgbW9kZSA9IGEgfCAwOyAvLyBjYXN0IHRvIG51bWJlclxuICAgICAgICAgICAgY2FsbGJhY2sgPSB2YWxpZGF0ZUNhbGxiYWNrKGIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmFjY2Vzc0Jhc2UsIFtmaWxlbmFtZSwgbW9kZV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuYXBwZW5kRmlsZVN5bmMgPSBmdW5jdGlvbiAoaWQsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0gYXBwZW5kRmlsZURlZmF1bHRzOyB9XG4gICAgICAgIHZhciBvcHRzID0gZ2V0QXBwZW5kRmlsZU9wdHMob3B0aW9ucyk7XG4gICAgICAgIC8vIGZvcmNlIGFwcGVuZCBiZWhhdmlvciB3aGVuIHVzaW5nIGEgc3VwcGxpZWQgZmlsZSBkZXNjcmlwdG9yXG4gICAgICAgIGlmICghb3B0cy5mbGFnIHx8IGlzRmQoaWQpKVxuICAgICAgICAgICAgb3B0cy5mbGFnID0gJ2EnO1xuICAgICAgICB0aGlzLndyaXRlRmlsZVN5bmMoaWQsIGRhdGEsIG9wdHMpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5hcHBlbmRGaWxlID0gZnVuY3Rpb24gKGlkLCBkYXRhLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldEFwcGVuZEZpbGVPcHRzQW5kQ2IoYSwgYiksIG9wdHMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgLy8gZm9yY2UgYXBwZW5kIGJlaGF2aW9yIHdoZW4gdXNpbmcgYSBzdXBwbGllZCBmaWxlIGRlc2NyaXB0b3JcbiAgICAgICAgaWYgKCFvcHRzLmZsYWcgfHwgaXNGZChpZCkpXG4gICAgICAgICAgICBvcHRzLmZsYWcgPSAnYSc7XG4gICAgICAgIHRoaXMud3JpdGVGaWxlKGlkLCBkYXRhLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWRkaXJCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzdGVwcyA9IGZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZSk7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRSZXNvbHZlZExpbmsoc3RlcHMpO1xuICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9FTlQsICdyZWFkZGlyJywgZmlsZW5hbWUpO1xuICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICBpZiAoIW5vZGUuaXNEaXJlY3RvcnkoKSlcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVOT1RESVIsICdzY2FuZGlyJywgZmlsZW5hbWUpO1xuICAgICAgICBpZiAob3B0aW9ucy53aXRoRmlsZVR5cGVzKSB7XG4gICAgICAgICAgICB2YXIgbGlzdF8xID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lXzMgaW4gbGluay5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGxpbmsuZ2V0Q2hpbGQobmFtZV8zKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsaXN0XzEucHVzaChEaXJlbnRfMS5kZWZhdWx0LmJ1aWxkKGNoaWxkLCBvcHRpb25zLmVuY29kaW5nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzV2luICYmIG9wdGlvbnMuZW5jb2RpbmcgIT09ICdidWZmZXInKVxuICAgICAgICAgICAgICAgIGxpc3RfMS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLm5hbWUgPCBiLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLm5hbWUgPiBiLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbGlzdF8xO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0ID0gW107XG4gICAgICAgIGZvciAodmFyIG5hbWVfNCBpbiBsaW5rLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBsaXN0LnB1c2goZW5jb2RpbmdfMS5zdHJUb0VuY29kaW5nKG5hbWVfNCwgb3B0aW9ucy5lbmNvZGluZykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNXaW4gJiYgb3B0aW9ucy5lbmNvZGluZyAhPT0gJ2J1ZmZlcicpXG4gICAgICAgICAgICBsaXN0LnNvcnQoKTtcbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWRkaXJTeW5jID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdHMgPSBnZXRSZWFkZGlyT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRkaXJCYXNlKGZpbGVuYW1lLCBvcHRzKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVhZGRpciA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldFJlYWRkaXJPcHRzQW5kQ2IoYSwgYiksIG9wdGlvbnMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMucmVhZGRpckJhc2UsIFtmaWxlbmFtZSwgb3B0aW9uc10sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucmVhZGxpbmtCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBlbmNvZGluZykge1xuICAgICAgICB2YXIgbGluayA9IHRoaXMuZ2V0TGlua09yVGhyb3coZmlsZW5hbWUsICdyZWFkbGluaycpO1xuICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICBpZiAoIW5vZGUuaXNTeW1saW5rKCkpXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFSU5WQUwsICdyZWFkbGluaycsIGZpbGVuYW1lKTtcbiAgICAgICAgdmFyIHN0ciA9IHNlcCArIG5vZGUuc3ltbGluay5qb2luKHNlcCk7XG4gICAgICAgIHJldHVybiBlbmNvZGluZ18xLnN0clRvRW5jb2Rpbmcoc3RyLCBlbmNvZGluZyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnJlYWRsaW5rU3luYyA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRzID0gZ2V0RGVmYXVsdE9wdHMob3B0aW9ucyk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkbGlua0Jhc2UoZmlsZW5hbWUsIG9wdHMuZW5jb2RpbmcpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5yZWFkbGluayA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldERlZmF1bHRPcHRzQW5kQ2IoYSwgYiksIG9wdHMgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMucmVhZGxpbmtCYXNlLCBbZmlsZW5hbWUsIG9wdHMuZW5jb2RpbmddLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzeW5jQmFzZSA9IGZ1bmN0aW9uIChmZCkge1xuICAgICAgICB0aGlzLmdldEZpbGVCeUZkT3JUaHJvdyhmZCwgJ2ZzeW5jJyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzeW5jU3luYyA9IGZ1bmN0aW9uIChmZCkge1xuICAgICAgICB0aGlzLmZzeW5jQmFzZShmZCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZzeW5jID0gZnVuY3Rpb24gKGZkLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmZzeW5jQmFzZSwgW2ZkXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mZGF0YXN5bmNCYXNlID0gZnVuY3Rpb24gKGZkKSB7XG4gICAgICAgIHRoaXMuZ2V0RmlsZUJ5RmRPclRocm93KGZkLCAnZmRhdGFzeW5jJyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZkYXRhc3luY1N5bmMgPSBmdW5jdGlvbiAoZmQpIHtcbiAgICAgICAgdGhpcy5mZGF0YXN5bmNCYXNlKGZkKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZmRhdGFzeW5jID0gZnVuY3Rpb24gKGZkLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmZkYXRhc3luY0Jhc2UsIFtmZF0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZnRydW5jYXRlQmFzZSA9IGZ1bmN0aW9uIChmZCwgbGVuKSB7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICdmdHJ1bmNhdGUnKTtcbiAgICAgICAgZmlsZS50cnVuY2F0ZShsZW4pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mdHJ1bmNhdGVTeW5jID0gZnVuY3Rpb24gKGZkLCBsZW4pIHtcbiAgICAgICAgdGhpcy5mdHJ1bmNhdGVCYXNlKGZkLCBsZW4pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mdHJ1bmNhdGUgPSBmdW5jdGlvbiAoZmQsIGEsIGIpIHtcbiAgICAgICAgdmFyIGxlbiA9IHR5cGVvZiBhID09PSAnbnVtYmVyJyA/IGEgOiAwO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB2YWxpZGF0ZUNhbGxiYWNrKHR5cGVvZiBhID09PSAnbnVtYmVyJyA/IGIgOiBhKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5mdHJ1bmNhdGVCYXNlLCBbZmQsIGxlbl0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudHJ1bmNhdGVCYXNlID0gZnVuY3Rpb24gKHBhdGgsIGxlbikge1xuICAgICAgICB2YXIgZmQgPSB0aGlzLm9wZW5TeW5jKHBhdGgsICdyKycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5mdHJ1bmNhdGVTeW5jKGZkLCBsZW4pO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVN5bmMoZmQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnRydW5jYXRlU3luYyA9IGZ1bmN0aW9uIChpZCwgbGVuKSB7XG4gICAgICAgIGlmIChpc0ZkKGlkKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZ0cnVuY2F0ZVN5bmMoaWQsIGxlbik7XG4gICAgICAgIHRoaXMudHJ1bmNhdGVCYXNlKGlkLCBsZW4pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS50cnVuY2F0ZSA9IGZ1bmN0aW9uIChpZCwgYSwgYikge1xuICAgICAgICB2YXIgbGVuID0gdHlwZW9mIGEgPT09ICdudW1iZXInID8gYSA6IDA7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2sodHlwZW9mIGEgPT09ICdudW1iZXInID8gYiA6IGEpO1xuICAgICAgICBpZiAoaXNGZChpZCkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mdHJ1bmNhdGUoaWQsIGxlbiwgY2FsbGJhY2spO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLnRydW5jYXRlQmFzZSwgW2lkLCBsZW5dLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZ1dGltZXNCYXNlID0gZnVuY3Rpb24gKGZkLCBhdGltZSwgbXRpbWUpIHtcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmdldEZpbGVCeUZkT3JUaHJvdyhmZCwgJ2Z1dGltZXMnKTtcbiAgICAgICAgdmFyIG5vZGUgPSBmaWxlLm5vZGU7XG4gICAgICAgIG5vZGUuYXRpbWUgPSBuZXcgRGF0ZShhdGltZSAqIDEwMDApO1xuICAgICAgICBub2RlLm10aW1lID0gbmV3IERhdGUobXRpbWUgKiAxMDAwKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZnV0aW1lc1N5bmMgPSBmdW5jdGlvbiAoZmQsIGF0aW1lLCBtdGltZSkge1xuICAgICAgICB0aGlzLmZ1dGltZXNCYXNlKGZkLCB0b1VuaXhUaW1lc3RhbXAoYXRpbWUpLCB0b1VuaXhUaW1lc3RhbXAobXRpbWUpKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZnV0aW1lcyA9IGZ1bmN0aW9uIChmZCwgYXRpbWUsIG10aW1lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmZ1dGltZXNCYXNlLCBbZmQsIHRvVW5peFRpbWVzdGFtcChhdGltZSksIHRvVW5peFRpbWVzdGFtcChtdGltZSldLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLnV0aW1lc0Jhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGF0aW1lLCBtdGltZSkge1xuICAgICAgICB2YXIgZmQgPSB0aGlzLm9wZW5TeW5jKGZpbGVuYW1lLCAncisnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZnV0aW1lc0Jhc2UoZmQsIGF0aW1lLCBtdGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlU3luYyhmZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudXRpbWVzU3luYyA9IGZ1bmN0aW9uIChwYXRoLCBhdGltZSwgbXRpbWUpIHtcbiAgICAgICAgdGhpcy51dGltZXNCYXNlKHBhdGhUb0ZpbGVuYW1lKHBhdGgpLCB0b1VuaXhUaW1lc3RhbXAoYXRpbWUpLCB0b1VuaXhUaW1lc3RhbXAobXRpbWUpKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUudXRpbWVzID0gZnVuY3Rpb24gKHBhdGgsIGF0aW1lLCBtdGltZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy51dGltZXNCYXNlLCBbcGF0aFRvRmlsZW5hbWUocGF0aCksIHRvVW5peFRpbWVzdGFtcChhdGltZSksIHRvVW5peFRpbWVzdGFtcChtdGltZSldLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLm1rZGlyQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgbW9kZU51bSkge1xuICAgICAgICB2YXIgc3RlcHMgPSBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUpO1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgaWYgdXNlciB0cmllcyB0byBjcmVhdGUgcm9vdCBkaXIgYGZzLm1rZGlyU3luYygnLycpYC5cbiAgICAgICAgaWYgKCFzdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKEVJU0RJUiwgJ21rZGlyJywgZmlsZW5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkaXIgPSB0aGlzLmdldExpbmtQYXJlbnRBc0Rpck9yVGhyb3coZmlsZW5hbWUsICdta2RpcicpO1xuICAgICAgICAvLyBDaGVjayBwYXRoIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICB2YXIgbmFtZSA9IHN0ZXBzW3N0ZXBzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoZGlyLmdldENoaWxkKG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRUVYSVNULCAnbWtkaXInLCBmaWxlbmFtZSk7XG4gICAgICAgIGRpci5jcmVhdGVDaGlsZChuYW1lLCB0aGlzLmNyZWF0ZU5vZGUodHJ1ZSwgbW9kZU51bSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBkaXJlY3RvcnkgdHJlZSByZWN1cnNpdmVseS5cbiAgICAgKiBAcGFyYW0gZmlsZW5hbWVcbiAgICAgKiBAcGFyYW0gbW9kZU51bVxuICAgICAqL1xuICAgIFZvbHVtZS5wcm90b3R5cGUubWtkaXJwQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgbW9kZU51bSkge1xuICAgICAgICB2YXIgc3RlcHMgPSBmaWxlbmFtZVRvU3RlcHMoZmlsZW5hbWUpO1xuICAgICAgICB2YXIgbGluayA9IHRoaXMucm9vdDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0ZXAgPSBzdGVwc1tpXTtcbiAgICAgICAgICAgIGlmICghbGluay5nZXROb2RlKCkuaXNEaXJlY3RvcnkoKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9URElSLCAnbWtkaXInLCBsaW5rLmdldFBhdGgoKSk7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBsaW5rLmdldENoaWxkKHN0ZXApO1xuICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmdldE5vZGUoKS5pc0RpcmVjdG9yeSgpKVxuICAgICAgICAgICAgICAgICAgICBsaW5rID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcihFTk9URElSLCAnbWtkaXInLCBjaGlsZC5nZXRQYXRoKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGluayA9IGxpbmsuY3JlYXRlQ2hpbGQoc3RlcCwgdGhpcy5jcmVhdGVOb2RlKHRydWUsIG1vZGVOdW0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ta2RpclN5bmMgPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0cyA9IGdldE1rZGlyT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIob3B0cy5tb2RlLCA1MTEpO1xuICAgICAgICB2YXIgZmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgaWYgKG9wdHMucmVjdXJzaXZlKVxuICAgICAgICAgICAgdGhpcy5ta2RpcnBCYXNlKGZpbGVuYW1lLCBtb2RlTnVtKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5ta2RpckJhc2UoZmlsZW5hbWUsIG1vZGVOdW0pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ta2RpciA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBvcHRzID0gZ2V0TWtkaXJPcHRpb25zKGEpO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB2YWxpZGF0ZUNhbGxiYWNrKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nID8gYSA6IGIpO1xuICAgICAgICB2YXIgbW9kZU51bSA9IG1vZGVUb051bWJlcihvcHRzLm1vZGUsIDUxMSk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICBpZiAob3B0cy5yZWN1cnNpdmUpXG4gICAgICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLm1rZGlycEJhc2UsIFtmaWxlbmFtZSwgbW9kZU51bV0sIGNhbGxiYWNrKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5ta2RpckJhc2UsIFtmaWxlbmFtZSwgbW9kZU51bV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8vIGxlZ2FjeSBpbnRlcmZhY2VcbiAgICBWb2x1bWUucHJvdG90eXBlLm1rZGlycFN5bmMgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSkge1xuICAgICAgICB0aGlzLm1rZGlyU3luYyhwYXRoLCB7IG1vZGU6IG1vZGUsIHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubWtkaXJwID0gZnVuY3Rpb24gKHBhdGgsIGEsIGIpIHtcbiAgICAgICAgdmFyIG1vZGUgPSB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyA/IHVuZGVmaW5lZCA6IGE7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2sodHlwZW9mIGEgPT09ICdmdW5jdGlvbicgPyBhIDogYik7XG4gICAgICAgIHRoaXMubWtkaXIocGF0aCwgeyBtb2RlOiBtb2RlLCByZWN1cnNpdmU6IHRydWUgfSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ta2R0ZW1wQmFzZSA9IGZ1bmN0aW9uIChwcmVmaXgsIGVuY29kaW5nLCByZXRyeSkge1xuICAgICAgICBpZiAocmV0cnkgPT09IHZvaWQgMCkgeyByZXRyeSA9IDU7IH1cbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcHJlZml4ICsgdGhpcy5nZW5SbmRTdHIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubWtkaXJCYXNlKGZpbGVuYW1lLCA1MTEgLyogRElSICovKTtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGluZ18xLnN0clRvRW5jb2RpbmcoZmlsZW5hbWUsIGVuY29kaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyLmNvZGUgPT09IEVFWElTVCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXRyeSA+IDEpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1rZHRlbXBCYXNlKHByZWZpeCwgZW5jb2RpbmcsIHJldHJ5IC0gMSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignQ291bGQgbm90IGNyZWF0ZSB0ZW1wIGRpci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubWtkdGVtcFN5bmMgPSBmdW5jdGlvbiAocHJlZml4LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBlbmNvZGluZyA9IGdldERlZmF1bHRPcHRzKG9wdGlvbnMpLmVuY29kaW5nO1xuICAgICAgICBpZiAoIXByZWZpeCB8fCB0eXBlb2YgcHJlZml4ICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ZpbGVuYW1lIHByZWZpeCBpcyByZXF1aXJlZCcpO1xuICAgICAgICBudWxsQ2hlY2socHJlZml4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWtkdGVtcEJhc2UocHJlZml4LCBlbmNvZGluZyk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLm1rZHRlbXAgPSBmdW5jdGlvbiAocHJlZml4LCBhLCBiKSB7XG4gICAgICAgIHZhciBfYSA9IGdldERlZmF1bHRPcHRzQW5kQ2IoYSwgYiksIGVuY29kaW5nID0gX2FbMF0uZW5jb2RpbmcsIGNhbGxiYWNrID0gX2FbMV07XG4gICAgICAgIGlmICghcHJlZml4IHx8IHR5cGVvZiBwcmVmaXggIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZmlsZW5hbWUgcHJlZml4IGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIGlmICghbnVsbENoZWNrKHByZWZpeCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMud3JhcEFzeW5jKHRoaXMubWtkdGVtcEJhc2UsIFtwcmVmaXgsIGVuY29kaW5nXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ybWRpckJhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdHMgPSBnZXRSbWRpck9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHZhciBsaW5rID0gdGhpcy5nZXRMaW5rQXNEaXJPclRocm93KGZpbGVuYW1lLCAncm1kaXInKTtcbiAgICAgICAgLy8gQ2hlY2sgZGlyZWN0b3J5IGlzIGVtcHR5LlxuICAgICAgICBpZiAobGluay5sZW5ndGggJiYgIW9wdHMucmVjdXJzaXZlKVxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoRU5PVEVNUFRZLCAncm1kaXInLCBmaWxlbmFtZSk7XG4gICAgICAgIHRoaXMuZGVsZXRlTGluayhsaW5rKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUucm1kaXJTeW5jID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5ybWRpckJhc2UocGF0aFRvRmlsZW5hbWUocGF0aCksIG9wdGlvbnMpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5ybWRpciA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBvcHRzID0gZ2V0Um1kaXJPcHRpb25zKGEpO1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB2YWxpZGF0ZUNhbGxiYWNrKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nID8gYSA6IGIpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLnJtZGlyQmFzZSwgW3BhdGhUb0ZpbGVuYW1lKHBhdGgpLCBvcHRzXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mY2htb2RCYXNlID0gZnVuY3Rpb24gKGZkLCBtb2RlTnVtKSB7XG4gICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICdmY2htb2QnKTtcbiAgICAgICAgZmlsZS5jaG1vZChtb2RlTnVtKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZmNobW9kU3luYyA9IGZ1bmN0aW9uIChmZCwgbW9kZSkge1xuICAgICAgICB0aGlzLmZjaG1vZEJhc2UoZmQsIG1vZGVUb051bWJlcihtb2RlKSk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZjaG1vZCA9IGZ1bmN0aW9uIChmZCwgbW9kZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5mY2htb2RCYXNlLCBbZmQsIG1vZGVUb051bWJlcihtb2RlKV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY2htb2RCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBtb2RlTnVtKSB7XG4gICAgICAgIHZhciBmZCA9IHRoaXMub3BlblN5bmMoZmlsZW5hbWUsICdyKycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5mY2htb2RCYXNlKGZkLCBtb2RlTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VTeW5jKGZkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5jaG1vZFN5bmMgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSkge1xuICAgICAgICB2YXIgbW9kZU51bSA9IG1vZGVUb051bWJlcihtb2RlKTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHRoaXMuY2htb2RCYXNlKGZpbGVuYW1lLCBtb2RlTnVtKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY2htb2QgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIobW9kZSk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmNobW9kQmFzZSwgW2ZpbGVuYW1lLCBtb2RlTnVtXSwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sY2htb2RCYXNlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBtb2RlTnVtKSB7XG4gICAgICAgIHZhciBmZCA9IHRoaXMub3BlbkJhc2UoZmlsZW5hbWUsIE9fUkRXUiwgMCwgZmFsc2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5mY2htb2RCYXNlKGZkLCBtb2RlTnVtKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VTeW5jKGZkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sY2htb2RTeW5jID0gZnVuY3Rpb24gKHBhdGgsIG1vZGUpIHtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIobW9kZSk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLmxjaG1vZEJhc2UoZmlsZW5hbWUsIG1vZGVOdW0pO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5sY2htb2QgPSBmdW5jdGlvbiAocGF0aCwgbW9kZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG1vZGVOdW0gPSBtb2RlVG9OdW1iZXIobW9kZSk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmxjaG1vZEJhc2UsIFtmaWxlbmFtZSwgbW9kZU51bV0sIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuZmNob3duQmFzZSA9IGZ1bmN0aW9uIChmZCwgdWlkLCBnaWQpIHtcbiAgICAgICAgdGhpcy5nZXRGaWxlQnlGZE9yVGhyb3coZmQsICdmY2hvd24nKS5jaG93bih1aWQsIGdpZCk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmZjaG93blN5bmMgPSBmdW5jdGlvbiAoZmQsIHVpZCwgZ2lkKSB7XG4gICAgICAgIHZhbGlkYXRlVWlkKHVpZCk7XG4gICAgICAgIHZhbGlkYXRlR2lkKGdpZCk7XG4gICAgICAgIHRoaXMuZmNob3duQmFzZShmZCwgdWlkLCBnaWQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5mY2hvd24gPSBmdW5jdGlvbiAoZmQsIHVpZCwgZ2lkLCBjYWxsYmFjaykge1xuICAgICAgICB2YWxpZGF0ZVVpZCh1aWQpO1xuICAgICAgICB2YWxpZGF0ZUdpZChnaWQpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmZjaG93bkJhc2UsIFtmZCwgdWlkLCBnaWRdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNob3duQmFzZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgdWlkLCBnaWQpIHtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldFJlc29sdmVkTGlua09yVGhyb3coZmlsZW5hbWUsICdjaG93bicpO1xuICAgICAgICB2YXIgbm9kZSA9IGxpbmsuZ2V0Tm9kZSgpO1xuICAgICAgICBub2RlLmNob3duKHVpZCwgZ2lkKTtcbiAgICAgICAgLy8gaWYobm9kZS5pc0ZpbGUoKSB8fCBub2RlLmlzU3ltbGluaygpKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIH0gZWxzZSBpZihub2RlLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETzogV2hhdCBkbyB3ZSBkbyBoZXJlP1xuICAgICAgICAvLyB9XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmNob3duU3luYyA9IGZ1bmN0aW9uIChwYXRoLCB1aWQsIGdpZCkge1xuICAgICAgICB2YWxpZGF0ZVVpZCh1aWQpO1xuICAgICAgICB2YWxpZGF0ZUdpZChnaWQpO1xuICAgICAgICB0aGlzLmNob3duQmFzZShwYXRoVG9GaWxlbmFtZShwYXRoKSwgdWlkLCBnaWQpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5jaG93biA9IGZ1bmN0aW9uIChwYXRoLCB1aWQsIGdpZCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFsaWRhdGVVaWQodWlkKTtcbiAgICAgICAgdmFsaWRhdGVHaWQoZ2lkKTtcbiAgICAgICAgdGhpcy53cmFwQXN5bmModGhpcy5jaG93bkJhc2UsIFtwYXRoVG9GaWxlbmFtZShwYXRoKSwgdWlkLCBnaWRdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLmxjaG93bkJhc2UgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIHVpZCwgZ2lkKSB7XG4gICAgICAgIHRoaXMuZ2V0TGlua09yVGhyb3coZmlsZW5hbWUsICdsY2hvd24nKVxuICAgICAgICAgICAgLmdldE5vZGUoKVxuICAgICAgICAgICAgLmNob3duKHVpZCwgZ2lkKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubGNob3duU3luYyA9IGZ1bmN0aW9uIChwYXRoLCB1aWQsIGdpZCkge1xuICAgICAgICB2YWxpZGF0ZVVpZCh1aWQpO1xuICAgICAgICB2YWxpZGF0ZUdpZChnaWQpO1xuICAgICAgICB0aGlzLmxjaG93bkJhc2UocGF0aFRvRmlsZW5hbWUocGF0aCksIHVpZCwgZ2lkKTtcbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUubGNob3duID0gZnVuY3Rpb24gKHBhdGgsIHVpZCwgZ2lkLCBjYWxsYmFjaykge1xuICAgICAgICB2YWxpZGF0ZVVpZCh1aWQpO1xuICAgICAgICB2YWxpZGF0ZUdpZChnaWQpO1xuICAgICAgICB0aGlzLndyYXBBc3luYyh0aGlzLmxjaG93bkJhc2UsIFtwYXRoVG9GaWxlbmFtZShwYXRoKSwgdWlkLCBnaWRdLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBWb2x1bWUucHJvdG90eXBlLndhdGNoRmlsZSA9IGZ1bmN0aW9uIChwYXRoLCBhLCBiKSB7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGE7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGI7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBhO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1wid2F0Y2hGaWxlKClcIiByZXF1aXJlcyBhIGxpc3RlbmVyIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVydmFsID0gNTAwNztcbiAgICAgICAgdmFyIHBlcnNpc3RlbnQgPSB0cnVlO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnRlcnZhbCA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnBlcnNpc3RlbnQgPT09ICdib29sZWFuJylcbiAgICAgICAgICAgICAgICBwZXJzaXN0ZW50ID0gb3B0aW9ucy5wZXJzaXN0ZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciB3YXRjaGVyID0gdGhpcy5zdGF0V2F0Y2hlcnNbZmlsZW5hbWVdO1xuICAgICAgICBpZiAoIXdhdGNoZXIpIHtcbiAgICAgICAgICAgIHdhdGNoZXIgPSBuZXcgdGhpcy5TdGF0V2F0Y2hlcigpO1xuICAgICAgICAgICAgd2F0Y2hlci5zdGFydChmaWxlbmFtZSwgcGVyc2lzdGVudCwgaW50ZXJ2YWwpO1xuICAgICAgICAgICAgdGhpcy5zdGF0V2F0Y2hlcnNbZmlsZW5hbWVdID0gd2F0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgICB3YXRjaGVyLmFkZExpc3RlbmVyKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiB3YXRjaGVyO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS51bndhdGNoRmlsZSA9IGZ1bmN0aW9uIChwYXRoLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgZmlsZW5hbWUgPSBwYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgdmFyIHdhdGNoZXIgPSB0aGlzLnN0YXRXYXRjaGVyc1tmaWxlbmFtZV07XG4gICAgICAgIGlmICghd2F0Y2hlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgd2F0Y2hlci5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2F0Y2hlci5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2NoYW5nZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3YXRjaGVyLmxpc3RlbmVyQ291bnQoJ2NoYW5nZScpID09PSAwKSB7XG4gICAgICAgICAgICB3YXRjaGVyLnN0b3AoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0YXRXYXRjaGVyc1tmaWxlbmFtZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZvbHVtZS5wcm90b3R5cGUuY3JlYXRlUmVhZFN0cmVhbSA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5SZWFkU3RyZWFtKHBhdGgsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgVm9sdW1lLnByb3RvdHlwZS5jcmVhdGVXcml0ZVN0cmVhbSA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5Xcml0ZVN0cmVhbShwYXRoLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8vIHdhdGNoKHBhdGg6IFRGaWxlUGF0aCk6IEZTV2F0Y2hlcjtcbiAgICAvLyB3YXRjaChwYXRoOiBURmlsZVBhdGgsIG9wdGlvbnM/OiBJV2F0Y2hPcHRpb25zIHwgc3RyaW5nKTogRlNXYXRjaGVyO1xuICAgIFZvbHVtZS5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucywgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGF0aFRvRmlsZW5hbWUocGF0aCk7XG4gICAgICAgIHZhciBnaXZlbk9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gb3B0aW9ucztcbiAgICAgICAgICAgIGdpdmVuT3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgICAgICB2YXIgX2EgPSBnZXREZWZhdWx0T3B0cyhnaXZlbk9wdGlvbnMpLCBwZXJzaXN0ZW50ID0gX2EucGVyc2lzdGVudCwgcmVjdXJzaXZlID0gX2EucmVjdXJzaXZlLCBlbmNvZGluZyA9IF9hLmVuY29kaW5nO1xuICAgICAgICBpZiAocGVyc2lzdGVudCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcGVyc2lzdGVudCA9IHRydWU7XG4gICAgICAgIGlmIChyZWN1cnNpdmUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJlY3Vyc2l2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgd2F0Y2hlciA9IG5ldyB0aGlzLkZTV2F0Y2hlcigpO1xuICAgICAgICB3YXRjaGVyLnN0YXJ0KGZpbGVuYW1lLCBwZXJzaXN0ZW50LCByZWN1cnNpdmUsIGVuY29kaW5nKTtcbiAgICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB3YXRjaGVyLmFkZExpc3RlbmVyKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdhdGNoZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHbG9iYWwgZmlsZSBkZXNjcmlwdG9yIGNvdW50ZXIuIFVOSVggZmlsZSBkZXNjcmlwdG9ycyBzdGFydCBmcm9tIDAgYW5kIGdvIHNlcXVlbnRpYWxseVxuICAgICAqIHVwLCBzbyBoZXJlLCBpbiBvcmRlciBub3QgdG8gY29uZmxpY3Qgd2l0aCB0aGVtLCB3ZSBjaG9vc2Ugc29tZSBiaWcgbnVtYmVyIGFuZCBkZXNjcmVhc2VcbiAgICAgKiB0aGUgZmlsZSBkZXNjcmlwdG9yIG9mIGV2ZXJ5IG5ldyBvcGVuZWQgZmlsZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEB0b2RvIFRoaXMgc2hvdWxkIG5vdCBiZSBzdGF0aWMsIHJpZ2h0P1xuICAgICAqL1xuICAgIFZvbHVtZS5mZCA9IDB4N2ZmZmZmZmY7XG4gICAgcmV0dXJuIFZvbHVtZTtcbn0oKSk7XG5leHBvcnRzLlZvbHVtZSA9IFZvbHVtZTtcbmZ1bmN0aW9uIGVtaXRTdG9wKHNlbGYpIHtcbiAgICBzZWxmLmVtaXQoJ3N0b3AnKTtcbn1cbnZhciBTdGF0V2F0Y2hlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU3RhdFdhdGNoZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RhdFdhdGNoZXIodm9sKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9uSW50ZXJ2YWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0cyA9IF90aGlzLnZvbC5zdGF0U3luYyhfdGhpcy5maWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmhhc0NoYW5nZWQoc3RhdHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ2NoYW5nZScsIHN0YXRzLCBfdGhpcy5wcmV2KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJldiA9IHN0YXRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIF90aGlzLmxvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMudm9sID0gdm9sO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN0YXRXYXRjaGVyLnByb3RvdHlwZS5sb29wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRpbWVvdXRSZWYgPSB0aGlzLnNldFRpbWVvdXQodGhpcy5vbkludGVydmFsLCB0aGlzLmludGVydmFsKTtcbiAgICB9O1xuICAgIFN0YXRXYXRjaGVyLnByb3RvdHlwZS5oYXNDaGFuZ2VkID0gZnVuY3Rpb24gKHN0YXRzKSB7XG4gICAgICAgIC8vIGlmKCF0aGlzLnByZXYpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHN0YXRzLm10aW1lTXMgPiB0aGlzLnByZXYubXRpbWVNcylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoc3RhdHMubmxpbmsgIT09IHRoaXMucHJldi5ubGluaylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBTdGF0V2F0Y2hlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAocGF0aCwgcGVyc2lzdGVudCwgaW50ZXJ2YWwpIHtcbiAgICAgICAgaWYgKHBlcnNpc3RlbnQgPT09IHZvaWQgMCkgeyBwZXJzaXN0ZW50ID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoaW50ZXJ2YWwgPT09IHZvaWQgMCkgeyBpbnRlcnZhbCA9IDUwMDc7IH1cbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLnNldFRpbWVvdXQgPSBwZXJzaXN0ZW50ID8gc2V0VGltZW91dCA6IHNldFRpbWVvdXRVbnJlZl8xLmRlZmF1bHQ7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICAgICAgdGhpcy5wcmV2ID0gdGhpcy52b2wuc3RhdFN5bmModGhpcy5maWxlbmFtZSk7XG4gICAgICAgIHRoaXMubG9vcCgpO1xuICAgIH07XG4gICAgU3RhdFdhdGNoZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRSZWYpO1xuICAgICAgICBwcm9jZXNzXzEuZGVmYXVsdC5uZXh0VGljayhlbWl0U3RvcCwgdGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RhdFdhdGNoZXI7XG59KGV2ZW50c18xLkV2ZW50RW1pdHRlcikpO1xuZXhwb3J0cy5TdGF0V2F0Y2hlciA9IFN0YXRXYXRjaGVyO1xudmFyIHBvb2w7XG5mdW5jdGlvbiBhbGxvY05ld1Bvb2wocG9vbFNpemUpIHtcbiAgICBwb29sID0gYnVmZmVyXzEuYnVmZmVyQWxsb2NVbnNhZmUocG9vbFNpemUpO1xuICAgIHBvb2wudXNlZCA9IDA7XG59XG51dGlsLmluaGVyaXRzKEZzUmVhZFN0cmVhbSwgc3RyZWFtXzEuUmVhZGFibGUpO1xuZXhwb3J0cy5SZWFkU3RyZWFtID0gRnNSZWFkU3RyZWFtO1xuZnVuY3Rpb24gRnNSZWFkU3RyZWFtKHZvbCwgcGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGc1JlYWRTdHJlYW0pKVxuICAgICAgICByZXR1cm4gbmV3IEZzUmVhZFN0cmVhbSh2b2wsIHBhdGgsIG9wdGlvbnMpO1xuICAgIHRoaXMuX3ZvbCA9IHZvbDtcbiAgICAvLyBhIGxpdHRsZSBiaXQgYmlnZ2VyIGJ1ZmZlciBhbmQgd2F0ZXIgbWFya3MgYnkgZGVmYXVsdFxuICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIGdldE9wdGlvbnMob3B0aW9ucywge30pKTtcbiAgICBpZiAob3B0aW9ucy5oaWdoV2F0ZXJNYXJrID09PSB1bmRlZmluZWQpXG4gICAgICAgIG9wdGlvbnMuaGlnaFdhdGVyTWFyayA9IDY0ICogMTAyNDtcbiAgICBzdHJlYW1fMS5SZWFkYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMucGF0aCA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgIHRoaXMuZmQgPSBvcHRpb25zLmZkID09PSB1bmRlZmluZWQgPyBudWxsIDogb3B0aW9ucy5mZDtcbiAgICB0aGlzLmZsYWdzID0gb3B0aW9ucy5mbGFncyA9PT0gdW5kZWZpbmVkID8gJ3InIDogb3B0aW9ucy5mbGFncztcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgPT09IHVuZGVmaW5lZCA/IDQzOCA6IG9wdGlvbnMubW9kZTtcbiAgICB0aGlzLnN0YXJ0ID0gb3B0aW9ucy5zdGFydDtcbiAgICB0aGlzLmVuZCA9IG9wdGlvbnMuZW5kO1xuICAgIHRoaXMuYXV0b0Nsb3NlID0gb3B0aW9ucy5hdXRvQ2xvc2UgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRpb25zLmF1dG9DbG9zZTtcbiAgICB0aGlzLnBvcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJ5dGVzUmVhZCA9IDA7XG4gICAgaWYgKHRoaXMuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInN0YXJ0XCIgb3B0aW9uIG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5lbmQgPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5lbmQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuZFwiIG9wdGlvbiBtdXN0IGJlIGEgTnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhcnQgPiB0aGlzLmVuZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcInN0YXJ0XCIgb3B0aW9uIG11c3QgYmUgPD0gXCJlbmRcIiBvcHRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcyA9IHRoaXMuc3RhcnQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpcy5mZCAhPT0gJ251bWJlcicpXG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgIHRoaXMub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95KVxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5Gc1JlYWRTdHJlYW0ucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIG5vLXRoaXMtYXNzaWdubWVudFxuICAgIHRoaXMuX3ZvbC5vcGVuKHRoaXMucGF0aCwgdGhpcy5mbGFncywgdGhpcy5tb2RlLCBmdW5jdGlvbiAoZXIsIGZkKSB7XG4gICAgICAgIGlmIChlcikge1xuICAgICAgICAgICAgaWYgKHNlbGYuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZGVzdHJveSlcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuZmQgPSBmZDtcbiAgICAgICAgc2VsZi5lbWl0KCdvcGVuJywgZmQpO1xuICAgICAgICAvLyBzdGFydCB0aGUgZmxvdyBvZiBkYXRhLlxuICAgICAgICBzZWxmLnJlYWQoKTtcbiAgICB9KTtcbn07XG5Gc1JlYWRTdHJlYW0ucHJvdG90eXBlLl9yZWFkID0gZnVuY3Rpb24gKG4pIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuZmQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uY2UoJ29wZW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWFkKG4pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKCFwb29sIHx8IHBvb2wubGVuZ3RoIC0gcG9vbC51c2VkIDwga01pblBvb2xTcGFjZSkge1xuICAgICAgICAvLyBkaXNjYXJkIHRoZSBvbGQgcG9vbC5cbiAgICAgICAgYWxsb2NOZXdQb29sKHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFyayk7XG4gICAgfVxuICAgIC8vIEdyYWIgYW5vdGhlciByZWZlcmVuY2UgdG8gdGhlIHBvb2wgaW4gdGhlIGNhc2UgdGhhdCB3aGlsZSB3ZSdyZVxuICAgIC8vIGluIHRoZSB0aHJlYWQgcG9vbCBhbm90aGVyIHJlYWQoKSBmaW5pc2hlcyB1cCB0aGUgcG9vbCwgYW5kXG4gICAgLy8gYWxsb2NhdGVzIGEgbmV3IG9uZS5cbiAgICB2YXIgdGhpc1Bvb2wgPSBwb29sO1xuICAgIHZhciB0b1JlYWQgPSBNYXRoLm1pbihwb29sLmxlbmd0aCAtIHBvb2wudXNlZCwgbik7XG4gICAgdmFyIHN0YXJ0ID0gcG9vbC51c2VkO1xuICAgIGlmICh0aGlzLnBvcyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB0b1JlYWQgPSBNYXRoLm1pbih0aGlzLmVuZCAtIHRoaXMucG9zICsgMSwgdG9SZWFkKTtcbiAgICAvLyBhbHJlYWR5IHJlYWQgZXZlcnl0aGluZyB3ZSB3ZXJlIHN1cHBvc2VkIHRvIHJlYWQhXG4gICAgLy8gdHJlYXQgYXMgRU9GLlxuICAgIGlmICh0b1JlYWQgPD0gMClcbiAgICAgICAgcmV0dXJuIHRoaXMucHVzaChudWxsKTtcbiAgICAvLyB0aGUgYWN0dWFsIHJlYWQuXG4gICAgdmFyIHNlbGYgPSB0aGlzOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lIG5vLXRoaXMtYXNzaWdubWVudFxuICAgIHRoaXMuX3ZvbC5yZWFkKHRoaXMuZmQsIHBvb2wsIHBvb2wudXNlZCwgdG9SZWFkLCB0aGlzLnBvcywgb25yZWFkKTtcbiAgICAvLyBtb3ZlIHRoZSBwb29sIHBvc2l0aW9ucywgYW5kIGludGVybmFsIHBvc2l0aW9uIGZvciByZWFkaW5nLlxuICAgIGlmICh0aGlzLnBvcyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB0aGlzLnBvcyArPSB0b1JlYWQ7XG4gICAgcG9vbC51c2VkICs9IHRvUmVhZDtcbiAgICBmdW5jdGlvbiBvbnJlYWQoZXIsIGJ5dGVzUmVhZCkge1xuICAgICAgICBpZiAoZXIpIHtcbiAgICAgICAgICAgIGlmIChzZWxmLmF1dG9DbG9zZSAmJiBzZWxmLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgYiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoYnl0ZXNSZWFkID4gMCkge1xuICAgICAgICAgICAgICAgIHNlbGYuYnl0ZXNSZWFkICs9IGJ5dGVzUmVhZDtcbiAgICAgICAgICAgICAgICBiID0gdGhpc1Bvb2wuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgYnl0ZXNSZWFkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYucHVzaChiKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5Gc1JlYWRTdHJlYW0ucHJvdG90eXBlLl9kZXN0cm95ID0gZnVuY3Rpb24gKGVyciwgY2IpIHtcbiAgICB0aGlzLmNsb3NlKGZ1bmN0aW9uIChlcnIyKSB7XG4gICAgICAgIGNiKGVyciB8fCBlcnIyKTtcbiAgICB9KTtcbn07XG5Gc1JlYWRTdHJlYW0ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAoY2IpXG4gICAgICAgIHRoaXMub25jZSgnY2xvc2UnLCBjYik7XG4gICAgaWYgKHRoaXMuY2xvc2VkIHx8IHR5cGVvZiB0aGlzLmZkICE9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuZmQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLm9uY2UoJ29wZW4nLCBjbG9zZU9uT3Blbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2Nlc3NfMS5kZWZhdWx0Lm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmVtaXQoJ2Nsb3NlJyk7IH0pO1xuICAgIH1cbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgdGhpcy5fdm9sLmNsb3NlKHRoaXMuZmQsIGZ1bmN0aW9uIChlcikge1xuICAgICAgICBpZiAoZXIpXG4gICAgICAgICAgICBfdGhpcy5lbWl0KCdlcnJvcicsIGVyKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgX3RoaXMuZW1pdCgnY2xvc2UnKTtcbiAgICB9KTtcbiAgICB0aGlzLmZkID0gbnVsbDtcbn07XG4vLyBuZWVkZWQgYmVjYXVzZSBhcyBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoIGFyZ3VtZW50c1xuLy8gdGhhdCBkb2VzIG5vdCBtYXRjaCB0aGlzLmNsb3NlKCkgc2lnbmF0dXJlXG5mdW5jdGlvbiBjbG9zZU9uT3BlbihmZCkge1xuICAgIHRoaXMuY2xvc2UoKTtcbn1cbnV0aWwuaW5oZXJpdHMoRnNXcml0ZVN0cmVhbSwgc3RyZWFtXzEuV3JpdGFibGUpO1xuZXhwb3J0cy5Xcml0ZVN0cmVhbSA9IEZzV3JpdGVTdHJlYW07XG5mdW5jdGlvbiBGc1dyaXRlU3RyZWFtKHZvbCwgcGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBGc1dyaXRlU3RyZWFtKSlcbiAgICAgICAgcmV0dXJuIG5ldyBGc1dyaXRlU3RyZWFtKHZvbCwgcGF0aCwgb3B0aW9ucyk7XG4gICAgdGhpcy5fdm9sID0gdm9sO1xuICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIGdldE9wdGlvbnMob3B0aW9ucywge30pKTtcbiAgICBzdHJlYW1fMS5Xcml0YWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMucGF0aCA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgIHRoaXMuZmQgPSBvcHRpb25zLmZkID09PSB1bmRlZmluZWQgPyBudWxsIDogb3B0aW9ucy5mZDtcbiAgICB0aGlzLmZsYWdzID0gb3B0aW9ucy5mbGFncyA9PT0gdW5kZWZpbmVkID8gJ3cnIDogb3B0aW9ucy5mbGFncztcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgPT09IHVuZGVmaW5lZCA/IDQzOCA6IG9wdGlvbnMubW9kZTtcbiAgICB0aGlzLnN0YXJ0ID0gb3B0aW9ucy5zdGFydDtcbiAgICB0aGlzLmF1dG9DbG9zZSA9IG9wdGlvbnMuYXV0b0Nsb3NlID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFvcHRpb25zLmF1dG9DbG9zZTtcbiAgICB0aGlzLnBvcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmJ5dGVzV3JpdHRlbiA9IDA7XG4gICAgaWYgKHRoaXMuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc3RhcnQgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInN0YXJ0XCIgb3B0aW9uIG11c3QgYmUgYSBOdW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGFydCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJzdGFydFwiIG11c3QgYmUgPj0gemVybycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zID0gdGhpcy5zdGFydDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZW5jb2RpbmcpXG4gICAgICAgIHRoaXMuc2V0RGVmYXVsdEVuY29kaW5nKG9wdGlvbnMuZW5jb2RpbmcpO1xuICAgIGlmICh0eXBlb2YgdGhpcy5mZCAhPT0gJ251bWJlcicpXG4gICAgICAgIHRoaXMub3BlbigpO1xuICAgIC8vIGRpc3Bvc2Ugb24gZmluaXNoLlxuICAgIHRoaXMub25jZSgnZmluaXNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuRnNXcml0ZVN0cmVhbS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl92b2wub3Blbih0aGlzLnBhdGgsIHRoaXMuZmxhZ3MsIHRoaXMubW9kZSwgZnVuY3Rpb24gKGVyLCBmZCkge1xuICAgICAgICBpZiAoZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9DbG9zZSAmJiB0aGlzLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mZCA9IGZkO1xuICAgICAgICB0aGlzLmVtaXQoJ29wZW4nLCBmZCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbn07XG5Gc1dyaXRlU3RyZWFtLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiAoZGF0YSwgZW5jb2RpbmcsIGNiKSB7XG4gICAgaWYgKCEoZGF0YSBpbnN0YW5jZW9mIGJ1ZmZlcl8xLkJ1ZmZlcikpXG4gICAgICAgIHJldHVybiB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdJbnZhbGlkIGRhdGEnKSk7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmZkICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdGhpcy5vbmNlKCdvcGVuJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5fd3JpdGUoZGF0YSwgZW5jb2RpbmcsIGNiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpczsgLy8gdHNsaW50OmRpc2FibGUtbGluZSBuby10aGlzLWFzc2lnbm1lbnRcbiAgICB0aGlzLl92b2wud3JpdGUodGhpcy5mZCwgZGF0YSwgMCwgZGF0YS5sZW5ndGgsIHRoaXMucG9zLCBmdW5jdGlvbiAoZXIsIGJ5dGVzKSB7XG4gICAgICAgIGlmIChlcikge1xuICAgICAgICAgICAgaWYgKHNlbGYuYXV0b0Nsb3NlICYmIHNlbGYuZGVzdHJveSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNiKGVyKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmJ5dGVzV3JpdHRlbiArPSBieXRlcztcbiAgICAgICAgY2IoKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wb3MgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdGhpcy5wb3MgKz0gZGF0YS5sZW5ndGg7XG59O1xuRnNXcml0ZVN0cmVhbS5wcm90b3R5cGUuX3dyaXRldiA9IGZ1bmN0aW9uIChkYXRhLCBjYikge1xuICAgIGlmICh0eXBlb2YgdGhpcy5mZCAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25jZSgnb3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuX3dyaXRldihkYXRhLCBjYik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIHRzbGludDpkaXNhYmxlLWxpbmUgbm8tdGhpcy1hc3NpZ25tZW50XG4gICAgdmFyIGxlbiA9IGRhdGEubGVuZ3RoO1xuICAgIHZhciBjaHVua3MgPSBuZXcgQXJyYXkobGVuKTtcbiAgICB2YXIgc2l6ZSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY2h1bmsgPSBkYXRhW2ldLmNodW5rO1xuICAgICAgICBjaHVua3NbaV0gPSBjaHVuaztcbiAgICAgICAgc2l6ZSArPSBjaHVuay5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBidWYgPSBidWZmZXJfMS5CdWZmZXIuY29uY2F0KGNodW5rcyk7XG4gICAgdGhpcy5fdm9sLndyaXRlKHRoaXMuZmQsIGJ1ZiwgMCwgYnVmLmxlbmd0aCwgdGhpcy5wb3MsIGZ1bmN0aW9uIChlciwgYnl0ZXMpIHtcbiAgICAgICAgaWYgKGVyKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5kZXN0cm95KVxuICAgICAgICAgICAgICAgIHNlbGYuZGVzdHJveSgpO1xuICAgICAgICAgICAgcmV0dXJuIGNiKGVyKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmJ5dGVzV3JpdHRlbiArPSBieXRlcztcbiAgICAgICAgY2IoKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5wb3MgIT09IHVuZGVmaW5lZClcbiAgICAgICAgdGhpcy5wb3MgKz0gc2l6ZTtcbn07XG5Gc1dyaXRlU3RyZWFtLnByb3RvdHlwZS5fZGVzdHJveSA9IEZzUmVhZFN0cmVhbS5wcm90b3R5cGUuX2Rlc3Ryb3k7XG5Gc1dyaXRlU3RyZWFtLnByb3RvdHlwZS5jbG9zZSA9IEZzUmVhZFN0cmVhbS5wcm90b3R5cGUuY2xvc2U7XG4vLyBUaGVyZSBpcyBubyBzaHV0ZG93bigpIGZvciBmaWxlcy5cbkZzV3JpdGVTdHJlYW0ucHJvdG90eXBlLmRlc3Ryb3lTb29uID0gRnNXcml0ZVN0cmVhbS5wcm90b3R5cGUuZW5kO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBGU1dhdGNoZXJcbnZhciBGU1dhdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZTV2F0Y2hlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGU1dhdGNoZXIodm9sKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9maWxlbmFtZSA9ICcnO1xuICAgICAgICBfdGhpcy5fZmlsZW5hbWVFbmNvZGVkID0gJyc7XG4gICAgICAgIC8vIF9wZXJzaXN0ZW50OiBib29sZWFuID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuX3JlY3Vyc2l2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fZW5jb2RpbmcgPSBlbmNvZGluZ18xLkVOQ09ESU5HX1VURjg7XG4gICAgICAgIF90aGlzLl9vbk5vZGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fZW1pdCgnY2hhbmdlJyk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLl9vblBhcmVudENoaWxkID0gZnVuY3Rpb24gKGxpbmspIHtcbiAgICAgICAgICAgIGlmIChsaW5rLmdldE5hbWUoKSA9PT0gX3RoaXMuX2dldE5hbWUoKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLl9lbWl0KCdyZW5hbWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuX2VtaXQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgX3RoaXMuZW1pdCgnY2hhbmdlJywgdHlwZSwgX3RoaXMuX2ZpbGVuYW1lRW5jb2RlZCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLl9wZXJzaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3RpbWVyID0gc2V0VGltZW91dChfdGhpcy5fcGVyc2lzdCwgMWU2KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuX3ZvbCA9IHZvbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAvLyBUT0RPOiBFbWl0IFwiZXJyb3JcIiBtZXNzYWdlcyB3aGVuIHdhdGNoaW5nLlxuICAgICAgICAvLyB0aGlzLl9oYW5kbGUub25jaGFuZ2UgPSBmdW5jdGlvbihzdGF0dXMsIGV2ZW50VHlwZSwgZmlsZW5hbWUpIHtcbiAgICAgICAgLy8gICAgIGlmIChzdGF0dXMgPCAwKSB7XG4gICAgICAgIC8vICAgICAgICAgc2VsZi5faGFuZGxlLmNsb3NlKCk7XG4gICAgICAgIC8vICAgICAgICAgY29uc3QgZXJyb3IgPSAhZmlsZW5hbWUgP1xuICAgICAgICAvLyAgICAgICAgICAgICBlcnJub0V4Y2VwdGlvbihzdGF0dXMsICdFcnJvciB3YXRjaGluZyBmaWxlIGZvciBjaGFuZ2VzOicpIDpcbiAgICAgICAgLy8gICAgICAgICAgICAgZXJybm9FeGNlcHRpb24oc3RhdHVzLCBgRXJyb3Igd2F0Y2hpbmcgZmlsZSAke2ZpbGVuYW1lfSBmb3IgY2hhbmdlczpgKTtcbiAgICAgICAgLy8gICAgICAgICBlcnJvci5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgICAgICAvLyAgICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgIHNlbGYuZW1pdCgnY2hhbmdlJywgZXZlbnRUeXBlLCBmaWxlbmFtZSk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH07XG4gICAgfVxuICAgIEZTV2F0Y2hlci5wcm90b3R5cGUuX2dldE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGVwc1t0aGlzLl9zdGVwcy5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIEZTV2F0Y2hlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAocGF0aCwgcGVyc2lzdGVudCwgcmVjdXJzaXZlLCBlbmNvZGluZykge1xuICAgICAgICBpZiAocGVyc2lzdGVudCA9PT0gdm9pZCAwKSB7IHBlcnNpc3RlbnQgPSB0cnVlOyB9XG4gICAgICAgIGlmIChyZWN1cnNpdmUgPT09IHZvaWQgMCkgeyByZWN1cnNpdmUgPSBmYWxzZTsgfVxuICAgICAgICBpZiAoZW5jb2RpbmcgPT09IHZvaWQgMCkgeyBlbmNvZGluZyA9IGVuY29kaW5nXzEuRU5DT0RJTkdfVVRGODsgfVxuICAgICAgICB0aGlzLl9maWxlbmFtZSA9IHBhdGhUb0ZpbGVuYW1lKHBhdGgpO1xuICAgICAgICB0aGlzLl9zdGVwcyA9IGZpbGVuYW1lVG9TdGVwcyh0aGlzLl9maWxlbmFtZSk7XG4gICAgICAgIHRoaXMuX2ZpbGVuYW1lRW5jb2RlZCA9IGVuY29kaW5nXzEuc3RyVG9FbmNvZGluZyh0aGlzLl9maWxlbmFtZSk7XG4gICAgICAgIC8vIHRoaXMuX3BlcnNpc3RlbnQgPSBwZXJzaXN0ZW50O1xuICAgICAgICB0aGlzLl9yZWN1cnNpdmUgPSByZWN1cnNpdmU7XG4gICAgICAgIHRoaXMuX2VuY29kaW5nID0gZW5jb2Rpbmc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9saW5rID0gdGhpcy5fdm9sLmdldExpbmtPclRocm93KHRoaXMuX2ZpbGVuYW1lLCAnRlNXYXRjaGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwid2F0Y2ggXCIgKyB0aGlzLl9maWxlbmFtZSArIFwiIFwiICsgZXJyLmNvZGUpO1xuICAgICAgICAgICAgZXJyb3IuY29kZSA9IGVyci5jb2RlO1xuICAgICAgICAgICAgZXJyb3IuZXJybm8gPSBlcnIuY29kZTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xpbmsuZ2V0Tm9kZSgpLm9uKCdjaGFuZ2UnLCB0aGlzLl9vbk5vZGVDaGFuZ2UpO1xuICAgICAgICB0aGlzLl9saW5rLm9uKCdjaGlsZDphZGQnLCB0aGlzLl9vbk5vZGVDaGFuZ2UpO1xuICAgICAgICB0aGlzLl9saW5rLm9uKCdjaGlsZDpkZWxldGUnLCB0aGlzLl9vbk5vZGVDaGFuZ2UpO1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5fbGluay5wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIC8vIHBhcmVudC5vbignY2hpbGQ6YWRkJywgdGhpcy5fb25QYXJlbnRDaGlsZCk7XG4gICAgICAgICAgICBwYXJlbnQuc2V0TWF4TGlzdGVuZXJzKHBhcmVudC5nZXRNYXhMaXN0ZW5lcnMoKSArIDEpO1xuICAgICAgICAgICAgcGFyZW50Lm9uKCdjaGlsZDpkZWxldGUnLCB0aGlzLl9vblBhcmVudENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVyc2lzdGVudClcbiAgICAgICAgICAgIHRoaXMuX3BlcnNpc3QoKTtcbiAgICB9O1xuICAgIEZTV2F0Y2hlci5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgICAgIHRoaXMuX2xpbmsuZ2V0Tm9kZSgpLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9vbk5vZGVDaGFuZ2UpO1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5fbGluay5wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIC8vIHBhcmVudC5yZW1vdmVMaXN0ZW5lcignY2hpbGQ6YWRkJywgdGhpcy5fb25QYXJlbnRDaGlsZCk7XG4gICAgICAgICAgICBwYXJlbnQucmVtb3ZlTGlzdGVuZXIoJ2NoaWxkOmRlbGV0ZScsIHRoaXMuX29uUGFyZW50Q2hpbGQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRlNXYXRjaGVyO1xufShldmVudHNfMS5FdmVudEVtaXR0ZXIpKTtcbmV4cG9ydHMuRlNXYXRjaGVyID0gRlNXYXRjaGVyO1xuIiwgIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGZzUHJvcHMgPSBleHBvcnRzLmZzUHJvcHMgPSBbJ2NvbnN0YW50cycsICdGX09LJywgJ1JfT0snLCAnV19PSycsICdYX09LJywgJ1N0YXRzJ107XG5cbnZhciBmc1N5bmNNZXRob2RzID0gZXhwb3J0cy5mc1N5bmNNZXRob2RzID0gWydyZW5hbWVTeW5jJywgJ2Z0cnVuY2F0ZVN5bmMnLCAndHJ1bmNhdGVTeW5jJywgJ2Nob3duU3luYycsICdmY2hvd25TeW5jJywgJ2xjaG93blN5bmMnLCAnY2htb2RTeW5jJywgJ2ZjaG1vZFN5bmMnLCAnbGNobW9kU3luYycsICdzdGF0U3luYycsICdsc3RhdFN5bmMnLCAnZnN0YXRTeW5jJywgJ2xpbmtTeW5jJywgJ3N5bWxpbmtTeW5jJywgJ3JlYWRsaW5rU3luYycsICdyZWFscGF0aFN5bmMnLCAndW5saW5rU3luYycsICdybWRpclN5bmMnLCAnbWtkaXJTeW5jJywgJ21rZGlycFN5bmMnLCAncmVhZGRpclN5bmMnLCAnY2xvc2VTeW5jJywgJ29wZW5TeW5jJywgJ3V0aW1lc1N5bmMnLCAnZnV0aW1lc1N5bmMnLCAnZnN5bmNTeW5jJywgJ3dyaXRlU3luYycsICdyZWFkU3luYycsICdyZWFkRmlsZVN5bmMnLCAnd3JpdGVGaWxlU3luYycsICdhcHBlbmRGaWxlU3luYycsICdleGlzdHNTeW5jJywgJ2FjY2Vzc1N5bmMnLCAnZmRhdGFzeW5jU3luYycsICdta2R0ZW1wU3luYycsICdjb3B5RmlsZVN5bmMnLCAnY3JlYXRlUmVhZFN0cmVhbScsICdjcmVhdGVXcml0ZVN0cmVhbSddO1xuXG52YXIgZnNBc3luY01ldGhvZHMgPSBleHBvcnRzLmZzQXN5bmNNZXRob2RzID0gWydyZW5hbWUnLCAnZnRydW5jYXRlJywgJ3RydW5jYXRlJywgJ2Nob3duJywgJ2ZjaG93bicsICdsY2hvd24nLCAnY2htb2QnLCAnZmNobW9kJywgJ2xjaG1vZCcsICdzdGF0JywgJ2xzdGF0JywgJ2ZzdGF0JywgJ2xpbmsnLCAnc3ltbGluaycsICdyZWFkbGluaycsICdyZWFscGF0aCcsICd1bmxpbmsnLCAncm1kaXInLCAnbWtkaXInLCAnbWtkaXJwJywgJ3JlYWRkaXInLCAnY2xvc2UnLCAnb3BlbicsICd1dGltZXMnLCAnZnV0aW1lcycsICdmc3luYycsICd3cml0ZScsICdyZWFkJywgJ3JlYWRGaWxlJywgJ3dyaXRlRmlsZScsICdhcHBlbmRGaWxlJywgJ2V4aXN0cycsICdhY2Nlc3MnLCAnZmRhdGFzeW5jJywgJ21rZHRlbXAnLCAnY29weUZpbGUnLCAnd2F0Y2hGaWxlJywgJ3Vud2F0Y2hGaWxlJywgJ3dhdGNoJ107IiwgIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBTdGF0c18xID0gcmVxdWlyZShcIi4vU3RhdHNcIik7XG52YXIgRGlyZW50XzEgPSByZXF1aXJlKFwiLi9EaXJlbnRcIik7XG52YXIgdm9sdW1lXzEgPSByZXF1aXJlKFwiLi92b2x1bWVcIik7XG52YXIgX2EgPSByZXF1aXJlKCdmcy1tb25rZXkvbGliL3V0aWwvbGlzdHMnKSwgZnNTeW5jTWV0aG9kcyA9IF9hLmZzU3luY01ldGhvZHMsIGZzQXN5bmNNZXRob2RzID0gX2EuZnNBc3luY01ldGhvZHM7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgRl9PSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5GX09LLCBSX09LID0gY29uc3RhbnRzXzEuY29uc3RhbnRzLlJfT0ssIFdfT0sgPSBjb25zdGFudHNfMS5jb25zdGFudHMuV19PSywgWF9PSyA9IGNvbnN0YW50c18xLmNvbnN0YW50cy5YX09LO1xuZXhwb3J0cy5Wb2x1bWUgPSB2b2x1bWVfMS5Wb2x1bWU7XG4vLyBEZWZhdWx0IHZvbHVtZS5cbmV4cG9ydHMudm9sID0gbmV3IHZvbHVtZV8xLlZvbHVtZSgpO1xuZnVuY3Rpb24gY3JlYXRlRnNGcm9tVm9sdW1lKHZvbCkge1xuICAgIHZhciBmcyA9IHsgRl9PSzogRl9PSywgUl9PSzogUl9PSywgV19PSzogV19PSywgWF9PSzogWF9PSywgY29uc3RhbnRzOiBjb25zdGFudHNfMS5jb25zdGFudHMsIFN0YXRzOiBTdGF0c18xLmRlZmF1bHQsIERpcmVudDogRGlyZW50XzEuZGVmYXVsdCB9O1xuICAgIC8vIEJpbmQgRlMgbWV0aG9kcy5cbiAgICBmb3IgKHZhciBfaSA9IDAsIGZzU3luY01ldGhvZHNfMSA9IGZzU3luY01ldGhvZHM7IF9pIDwgZnNTeW5jTWV0aG9kc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgbWV0aG9kID0gZnNTeW5jTWV0aG9kc18xW19pXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2b2xbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGZzW21ldGhvZF0gPSB2b2xbbWV0aG9kXS5iaW5kKHZvbCk7XG4gICAgfVxuICAgIGZvciAodmFyIF9hID0gMCwgZnNBc3luY01ldGhvZHNfMSA9IGZzQXN5bmNNZXRob2RzOyBfYSA8IGZzQXN5bmNNZXRob2RzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgIHZhciBtZXRob2QgPSBmc0FzeW5jTWV0aG9kc18xW19hXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2b2xbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGZzW21ldGhvZF0gPSB2b2xbbWV0aG9kXS5iaW5kKHZvbCk7XG4gICAgfVxuICAgIGZzLlN0YXRXYXRjaGVyID0gdm9sLlN0YXRXYXRjaGVyO1xuICAgIGZzLkZTV2F0Y2hlciA9IHZvbC5GU1dhdGNoZXI7XG4gICAgZnMuV3JpdGVTdHJlYW0gPSB2b2wuV3JpdGVTdHJlYW07XG4gICAgZnMuUmVhZFN0cmVhbSA9IHZvbC5SZWFkU3RyZWFtO1xuICAgIGZzLnByb21pc2VzID0gdm9sLnByb21pc2VzO1xuICAgIGZzLl90b1VuaXhUaW1lc3RhbXAgPSB2b2x1bWVfMS50b1VuaXhUaW1lc3RhbXA7XG4gICAgcmV0dXJuIGZzO1xufVxuZXhwb3J0cy5jcmVhdGVGc0Zyb21Wb2x1bWUgPSBjcmVhdGVGc0Zyb21Wb2x1bWU7XG5leHBvcnRzLmZzID0gY3JlYXRlRnNGcm9tVm9sdW1lKGV4cG9ydHMudm9sKTtcbm1vZHVsZS5leHBvcnRzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIG1vZHVsZS5leHBvcnRzKSwgZXhwb3J0cy5mcyk7XG5tb2R1bGUuZXhwb3J0cy5zZW1hbnRpYyA9IHRydWU7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBBIHZlcnkgc2ltcGxlIHdvcmthcm91bmQgZm9yIEJpZyBpbnQuIFdvcmtzIGluIGNvbmp1bmN0aW9uIHdpdGggb3VyIGN1c3RvbVxuLy8gQmlnSW50IHdvcmthcm91bmQgYXQgLi9iaWdpbnQudHNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGJpZ2ludF8xID0gcmVxdWlyZShcIi4vYmlnaW50XCIpO1xubGV0IGV4cG9ydGVkRGF0YVZpZXcgPSBEYXRhVmlldztcbmlmICghZXhwb3J0ZWREYXRhVmlldy5wcm90b3R5cGUuc2V0QmlnVWludDY0KSB7XG4gICAgLy8gVGFrZW4gZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9ncmF1cC84MTVjOWFjNjVjMmJhYzhhNTYzOTFmMGNhMjM2MzZmY1xuICAgIGV4cG9ydGVkRGF0YVZpZXcucHJvdG90eXBlLnNldEJpZ1VpbnQ2NCA9IGZ1bmN0aW9uIChieXRlT2Zmc2V0LCB2YWx1ZSwgbGl0dGxlRW5kaWFuKSB7XG4gICAgICAgIGxldCBsb3dXb3JkO1xuICAgICAgICBsZXQgaGlnaFdvcmQ7XG4gICAgICAgIGlmICh2YWx1ZSA8IDIgKiogMzIpIHtcbiAgICAgICAgICAgIGxvd1dvcmQgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgaGlnaFdvcmQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGJpZ051bWJlckFzQmluYXJ5U3RyID0gdmFsdWUudG9TdHJpbmcoMik7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IHRoZSBhYm92ZSBiaW5hcnkgc3RyIHRvIDY0IGJpdCAoYWN0dWFsbHkgNTIgYml0IHdpbGwgd29yaykgYnkgcGFkZGluZyB6ZXJvcyBpbiB0aGUgbGVmdFxuICAgICAgICAgICAgdmFyIGJpZ051bWJlckFzQmluYXJ5U3RyMiA9IFwiXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY0IC0gYmlnTnVtYmVyQXNCaW5hcnlTdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBiaWdOdW1iZXJBc0JpbmFyeVN0cjIgKz0gXCIwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaWdOdW1iZXJBc0JpbmFyeVN0cjIgKz0gYmlnTnVtYmVyQXNCaW5hcnlTdHI7XG4gICAgICAgICAgICBoaWdoV29yZCA9IHBhcnNlSW50KGJpZ051bWJlckFzQmluYXJ5U3RyMi5zdWJzdHJpbmcoMCwgMzIpLCAyKTtcbiAgICAgICAgICAgIGxvd1dvcmQgPSBwYXJzZUludChiaWdOdW1iZXJBc0JpbmFyeVN0cjIuc3Vic3RyaW5nKDMyKSwgMik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRVaW50MzIoYnl0ZU9mZnNldCArIChsaXR0bGVFbmRpYW4gPyAwIDogNCksIGxvd1dvcmQsIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHRoaXMuc2V0VWludDMyKGJ5dGVPZmZzZXQgKyAobGl0dGxlRW5kaWFuID8gNCA6IDApLCBoaWdoV29yZCwgbGl0dGxlRW5kaWFuKTtcbiAgICB9O1xuICAgIGV4cG9ydGVkRGF0YVZpZXcucHJvdG90eXBlLmdldEJpZ1VpbnQ2NCA9IGZ1bmN0aW9uIChieXRlT2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgICAgICAgbGV0IGxvd1dvcmQgPSB0aGlzLmdldFVpbnQzMihieXRlT2Zmc2V0ICsgKGxpdHRsZUVuZGlhbiA/IDAgOiA0KSwgbGl0dGxlRW5kaWFuKTtcbiAgICAgICAgbGV0IGhpZ2hXb3JkID0gdGhpcy5nZXRVaW50MzIoYnl0ZU9mZnNldCArIChsaXR0bGVFbmRpYW4gPyA0IDogMCksIGxpdHRsZUVuZGlhbik7XG4gICAgICAgIHZhciBsb3dXb3JkQXNCaW5hcnlTdHIgPSBsb3dXb3JkLnRvU3RyaW5nKDIpO1xuICAgICAgICB2YXIgaGlnaFdvcmRBc0JpbmFyeVN0ciA9IGhpZ2hXb3JkLnRvU3RyaW5nKDIpO1xuICAgICAgICAvLyBDb252ZXJ0IHRoZSBhYm92ZSBiaW5hcnkgc3RyIHRvIDY0IGJpdCAoYWN0dWFsbHkgNTIgYml0IHdpbGwgd29yaykgYnkgcGFkZGluZyB6ZXJvcyBpbiB0aGUgbGVmdFxuICAgICAgICB2YXIgbG93V29yZEFzQmluYXJ5U3RyUGFkZGVkID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMiAtIGxvd1dvcmRBc0JpbmFyeVN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbG93V29yZEFzQmluYXJ5U3RyUGFkZGVkICs9IFwiMFwiO1xuICAgICAgICB9XG4gICAgICAgIGxvd1dvcmRBc0JpbmFyeVN0clBhZGRlZCArPSBsb3dXb3JkQXNCaW5hcnlTdHI7XG4gICAgICAgIHJldHVybiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChcIjBiXCIgKyBoaWdoV29yZEFzQmluYXJ5U3RyICsgbG93V29yZEFzQmluYXJ5U3RyUGFkZGVkKTtcbiAgICB9O1xufVxuZXhwb3J0cy5EYXRhVmlld1BvbHlmaWxsID0gZXhwb3J0ZWREYXRhVmlldztcbiIsICJcInVzZSBzdHJpY3RcIjtcbi8vIFJldHVybiBvdXIgYnVmZmVyIGRlcGVuZGluZyBvbiBicm93c2VyIG9yIG5vZGVcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qUk9MTFVQX1JFUExBQ0VfQlJPV1NFUlxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSBcImJ1ZmZlci1lczZcIjtcblJPTExVUF9SRVBMQUNFX0JST1dTRVIqL1xuY29uc3QgaXNvbW9ycGhpY0J1ZmZlciA9IEJ1ZmZlcjtcbmV4cG9ydHMuZGVmYXVsdCA9IGlzb21vcnBoaWNCdWZmZXI7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYmlnaW50XzEgPSByZXF1aXJlKFwiLi9wb2x5ZmlsbHMvYmlnaW50XCIpO1xuY29uc3QgZGF0YXZpZXdfMSA9IHJlcXVpcmUoXCIuL3BvbHlmaWxscy9kYXRhdmlld1wiKTtcbmNvbnN0IGJ1ZmZlcl8xID0gcmVxdWlyZShcIi4vcG9seWZpbGxzL2J1ZmZlclwiKTtcbi8vIEltcG9ydCBvdXIgZGVmYXVsdCBiaW5kaW5ncyBkZXBlbmRpbmcgb24gdGhlIGVudmlyb25tZW50XG5sZXQgZGVmYXVsdEJpbmRpbmdzO1xuLypST0xMVVBfUkVQTEFDRV9OT0RFXG5pbXBvcnQgbm9kZUJpbmRpbmdzIGZyb20gXCIuL2JpbmRpbmdzL25vZGVcIjtcbmRlZmF1bHRCaW5kaW5ncyA9IG5vZGVCaW5kaW5ncztcblJPTExVUF9SRVBMQUNFX05PREUqL1xuLypST0xMVVBfUkVQTEFDRV9CUk9XU0VSXG5pbXBvcnQgYnJvd3NlckJpbmRpbmdzIGZyb20gXCIuL2JpbmRpbmdzL2Jyb3dzZXJcIjtcbmRlZmF1bHRCaW5kaW5ncyA9IGJyb3dzZXJCaW5kaW5ncztcblJPTExVUF9SRVBMQUNFX0JST1dTRVIqL1xuLypcblxuVGhpcyBwcm9qZWN0IGlzIGJhc2VkIGZyb20gdGhlIE5vZGUgaW1wbGVtZW50YXRpb24gbWFkZSBieSBHdXMgQ2FwbGFuXG5odHRwczovL2dpdGh1Yi5jb20vZGV2c25lay9ub2RlLXdhc2lcbkhvd2V2ZXIsIEphdmFTY3JpcHQgV0FTSSBpcyBmb2N1c2VkIG9uOlxuICogQnJpbmdpbmcgV0FTSSB0byB0aGUgQnJvd3NlcnNcbiAqIE1ha2UgZWFzeSB0byBwbHVnIGRpZmZlcmVudCBmaWxlc3lzdGVtc1xuICogUHJvdmlkZSBhIHR5cGUtc2FmZSBhcGkgdXNpbmcgVHlwZXNjcmlwdFxuICogUHJvdmlkaW5nIG11bHRpcGxlIG91dHB1dCB0YXJnZXRzIHRvIHN1cHBvcnQgYm90aCBicm93c2VycyBhbmQgbm9kZVxuICogVGhlIEFQSSBpcyBhZGFwdGVkIHRvIHRoZSBOb2RlLVdBU0kgQVBJOiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL3dhc2kvYmxvYi93YXNpL2xpYi93YXNpLmpzXG5cbkNvcHlyaWdodCAyMDE5IEd1cyBDYXBsYW5cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG9cbmRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlXG5yaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3JcbnNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HU1xuSU4gVEhFIFNPRlRXQVJFLlxuXG4gKi9cbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgU1RESU5fREVGQVVMVF9SSUdIVFMgPSBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0RBVEFTWU5DIHxcbiAgICBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1JFQUQgfFxuICAgIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfU1lOQyB8XG4gICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9BRFZJU0UgfFxuICAgIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfRklMRVNUQVRfR0VUIHxcbiAgICBjb25zdGFudHNfMS5XQVNJX1JJR0hUX1BPTExfRkRfUkVBRFdSSVRFO1xuY29uc3QgU1RET1VUX0RFRkFVTFRfUklHSFRTID0gY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9EQVRBU1lOQyB8XG4gICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9XUklURSB8XG4gICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9TWU5DIHxcbiAgICBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0FEVklTRSB8XG4gICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9HRVQgfFxuICAgIGNvbnN0YW50c18xLldBU0lfUklHSFRfUE9MTF9GRF9SRUFEV1JJVEU7XG5jb25zdCBTVERFUlJfREVGQVVMVF9SSUdIVFMgPSBTVERPVVRfREVGQVVMVF9SSUdIVFM7XG5jb25zdCBtc1RvTnMgPSAobXMpID0+IHtcbiAgICBjb25zdCBtc0ludCA9IE1hdGgudHJ1bmMobXMpO1xuICAgIGNvbnN0IGRlY2ltYWwgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChNYXRoLnJvdW5kKChtcyAtIG1zSW50KSAqIDEwMDAwMDApKTtcbiAgICBjb25zdCBucyA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKG1zSW50KSAqIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDEwMDAwMDApO1xuICAgIHJldHVybiBucyArIGRlY2ltYWw7XG59O1xuY29uc3QgbnNUb01zID0gKG5zKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBucyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgbnMgPSBNYXRoLnRydW5jKG5zKTtcbiAgICB9XG4gICAgY29uc3QgbnNJbnQgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChucyk7XG4gICAgcmV0dXJuIE51bWJlcihuc0ludCAvIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDEwMDAwMDApKTtcbn07XG5jb25zdCB3cmFwID0gKGYpID0+ICguLi5hcmdzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGYoLi4uYXJncyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIElmIGl0J3MgYW4gZXJyb3IgZnJvbSB0aGUgZnNcbiAgICAgICAgaWYgKGUgJiYgZS5jb2RlICYmIHR5cGVvZiBlLmNvZGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5FUlJPUl9NQVBbZS5jb2RlXSB8fCBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBpdCdzIGEgV0FTSSBlcnJvciwgd2UgcmV0dXJuIGl0IGRpcmVjdGx5XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgV0FTSUVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5lcnJubztcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgbGV0IHRoZSBlcnJvciBidWJibGUgdXBcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG59O1xuY29uc3Qgc3RhdCA9ICh3YXNpLCBmZCkgPT4ge1xuICAgIGNvbnN0IGVudHJ5ID0gd2FzaS5GRF9NQVAuZ2V0KGZkKTtcbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgIHRocm93IG5ldyBXQVNJRXJyb3IoY29uc3RhbnRzXzEuV0FTSV9FQkFERik7XG4gICAgfVxuICAgIGlmIChlbnRyeS5maWxldHlwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHN0YXRzID0gd2FzaS5iaW5kaW5ncy5mcy5mc3RhdFN5bmMoZW50cnkucmVhbCk7XG4gICAgICAgIGNvbnN0IHsgZmlsZXR5cGUsIHJpZ2h0c0Jhc2UsIHJpZ2h0c0luaGVyaXRpbmcgfSA9IHRyYW5zbGF0ZUZpbGVBdHRyaWJ1dGVzKHdhc2ksIGZkLCBzdGF0cyk7XG4gICAgICAgIGVudHJ5LmZpbGV0eXBlID0gZmlsZXR5cGU7XG4gICAgICAgIGlmICghZW50cnkucmlnaHRzKSB7XG4gICAgICAgICAgICBlbnRyeS5yaWdodHMgPSB7XG4gICAgICAgICAgICAgICAgYmFzZTogcmlnaHRzQmFzZSxcbiAgICAgICAgICAgICAgICBpbmhlcml0aW5nOiByaWdodHNJbmhlcml0aW5nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbnRyeTtcbn07XG5jb25zdCB0cmFuc2xhdGVGaWxlQXR0cmlidXRlcyA9ICh3YXNpLCBmZCwgc3RhdHMpID0+IHtcbiAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgY2FzZSBzdGF0cy5pc0Jsb2NrRGV2aWNlKCk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZpbGV0eXBlOiBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX0JMT0NLX0RFVklDRSxcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBjb25zdGFudHNfMS5SSUdIVFNfQkxPQ0tfREVWSUNFX0JBU0UsXG4gICAgICAgICAgICAgICAgcmlnaHRzSW5oZXJpdGluZzogY29uc3RhbnRzXzEuUklHSFRTX0JMT0NLX0RFVklDRV9JTkhFUklUSU5HXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIHN0YXRzLmlzQ2hhcmFjdGVyRGV2aWNlKCk6IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGV0eXBlID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9DSEFSQUNURVJfREVWSUNFO1xuICAgICAgICAgICAgaWYgKGZkICE9PSB1bmRlZmluZWQgJiYgd2FzaS5iaW5kaW5ncy5pc1RUWShmZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBmaWxldHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRzQmFzZTogY29uc3RhbnRzXzEuUklHSFRTX1RUWV9CQVNFLFxuICAgICAgICAgICAgICAgICAgICByaWdodHNJbmhlcml0aW5nOiBjb25zdGFudHNfMS5SSUdIVFNfVFRZX0lOSEVSSVRJTkdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWxldHlwZSxcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBjb25zdGFudHNfMS5SSUdIVFNfQ0hBUkFDVEVSX0RFVklDRV9CQVNFLFxuICAgICAgICAgICAgICAgIHJpZ2h0c0luaGVyaXRpbmc6IGNvbnN0YW50c18xLlJJR0hUU19DSEFSQUNURVJfREVWSUNFX0lOSEVSSVRJTkdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBzdGF0cy5pc0RpcmVjdG9yeSgpOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWxldHlwZTogY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9ESVJFQ1RPUlksXG4gICAgICAgICAgICAgICAgcmlnaHRzQmFzZTogY29uc3RhbnRzXzEuUklHSFRTX0RJUkVDVE9SWV9CQVNFLFxuICAgICAgICAgICAgICAgIHJpZ2h0c0luaGVyaXRpbmc6IGNvbnN0YW50c18xLlJJR0hUU19ESVJFQ1RPUllfSU5IRVJJVElOR1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBzdGF0cy5pc0ZJRk8oKTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfU09DS0VUX1NUUkVBTSxcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBjb25zdGFudHNfMS5SSUdIVFNfU09DS0VUX0JBU0UsXG4gICAgICAgICAgICAgICAgcmlnaHRzSW5oZXJpdGluZzogY29uc3RhbnRzXzEuUklHSFRTX1NPQ0tFVF9JTkhFUklUSU5HXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIHN0YXRzLmlzRmlsZSgpOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWxldHlwZTogY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9SRUdVTEFSX0ZJTEUsXG4gICAgICAgICAgICAgICAgcmlnaHRzQmFzZTogY29uc3RhbnRzXzEuUklHSFRTX1JFR1VMQVJfRklMRV9CQVNFLFxuICAgICAgICAgICAgICAgIHJpZ2h0c0luaGVyaXRpbmc6IGNvbnN0YW50c18xLlJJR0hUU19SRUdVTEFSX0ZJTEVfSU5IRVJJVElOR1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBzdGF0cy5pc1NvY2tldCgpOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWxldHlwZTogY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9TT0NLRVRfU1RSRUFNLFxuICAgICAgICAgICAgICAgIHJpZ2h0c0Jhc2U6IGNvbnN0YW50c18xLlJJR0hUU19TT0NLRVRfQkFTRSxcbiAgICAgICAgICAgICAgICByaWdodHNJbmhlcml0aW5nOiBjb25zdGFudHNfMS5SSUdIVFNfU09DS0VUX0lOSEVSSVRJTkdcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2Ugc3RhdHMuaXNTeW1ib2xpY0xpbmsoKTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfU1lNQk9MSUNfTElOSyxcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKSxcbiAgICAgICAgICAgICAgICByaWdodHNJbmhlcml0aW5nOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfVU5LTk9XTixcbiAgICAgICAgICAgICAgICByaWdodHNCYXNlOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKSxcbiAgICAgICAgICAgICAgICByaWdodHNJbmhlcml0aW5nOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKVxuICAgICAgICAgICAgfTtcbiAgICB9XG59O1xuY2xhc3MgV0FTSUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGVycm5vKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZXJybm8gPSBlcnJubztcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFdBU0lFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbn1cbmV4cG9ydHMuV0FTSUVycm9yID0gV0FTSUVycm9yO1xuY2xhc3MgV0FTSUV4aXRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2RlKSB7XG4gICAgICAgIHN1cGVyKGBXQVNJIEV4aXQgZXJyb3I6ICR7Y29kZX1gKTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFdBU0lFeGl0RXJyb3IucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnRzLldBU0lFeGl0RXJyb3IgPSBXQVNJRXhpdEVycm9yO1xuY2xhc3MgV0FTSUtpbGxFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihzaWduYWwpIHtcbiAgICAgICAgc3VwZXIoYFdBU0kgS2lsbCBzaWduYWw6ICR7c2lnbmFsfWApO1xuICAgICAgICB0aGlzLnNpZ25hbCA9IHNpZ25hbDtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFdBU0lLaWxsRXJyb3IucHJvdG90eXBlKTtcbiAgICB9XG59XG5leHBvcnRzLldBU0lLaWxsRXJyb3IgPSBXQVNJS2lsbEVycm9yO1xuY2xhc3MgV0FTSURlZmF1bHQge1xuICAgIGNvbnN0cnVjdG9yKHdhc2lDb25maWcpIHtcbiAgICAgICAgLy8gRGVzdHJ1Y3R1cmUgb3VyIHdhc2lDb25maWdcbiAgICAgICAgbGV0IHByZW9wZW5zID0ge307XG4gICAgICAgIGlmICh3YXNpQ29uZmlnICYmIHdhc2lDb25maWcucHJlb3BlbnMpIHtcbiAgICAgICAgICAgIHByZW9wZW5zID0gd2FzaUNvbmZpZy5wcmVvcGVucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3YXNpQ29uZmlnICYmIHdhc2lDb25maWcucHJlb3BlbkRpcmVjdG9yaWVzKSB7XG4gICAgICAgICAgICBwcmVvcGVucyA9IHdhc2lDb25maWdcbiAgICAgICAgICAgICAgICAucHJlb3BlbkRpcmVjdG9yaWVzO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbnYgPSB7fTtcbiAgICAgICAgaWYgKHdhc2lDb25maWcgJiYgd2FzaUNvbmZpZy5lbnYpIHtcbiAgICAgICAgICAgIGVudiA9IHdhc2lDb25maWcuZW52O1xuICAgICAgICB9XG4gICAgICAgIGxldCBhcmdzID0gW107XG4gICAgICAgIGlmICh3YXNpQ29uZmlnICYmIHdhc2lDb25maWcuYXJncykge1xuICAgICAgICAgICAgYXJncyA9IHdhc2lDb25maWcuYXJncztcbiAgICAgICAgfVxuICAgICAgICBsZXQgYmluZGluZ3MgPSBkZWZhdWx0QmluZGluZ3M7XG4gICAgICAgIGlmICh3YXNpQ29uZmlnICYmIHdhc2lDb25maWcuYmluZGluZ3MpIHtcbiAgICAgICAgICAgIGJpbmRpbmdzID0gd2FzaUNvbmZpZy5iaW5kaW5ncztcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMubWVtb3J5ID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMudmlldyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IGJpbmRpbmdzO1xuICAgICAgICB0aGlzLkZEX01BUCA9IG5ldyBNYXAoW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIGNvbnN0YW50c18xLldBU0lfU1RESU5fRklMRU5PLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhbDogMCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfQ0hBUkFDVEVSX0RFVklDRSxcbiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0OiBCaWdJbnQoMCksXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogU1RESU5fREVGQVVMVF9SSUdIVFMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0aW5nOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIGNvbnN0YW50c18xLldBU0lfU1RET1VUX0ZJTEVOTyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWw6IDEsXG4gICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlOiBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX0NIQVJBQ1RFUl9ERVZJQ0UsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldDogQmlnSW50KDApLFxuICAgICAgICAgICAgICAgICAgICByaWdodHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IFNURE9VVF9ERUZBVUxUX1JJR0hUUyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRpbmc6IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgY29uc3RhbnRzXzEuV0FTSV9TVERFUlJfRklMRU5PLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhbDogMixcbiAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGU6IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfQ0hBUkFDVEVSX0RFVklDRSxcbiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0OiBCaWdJbnQoMCksXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZTogU1RERVJSX0RFRkFVTFRfUklHSFRTLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdGluZzogYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMClcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICBdKTtcbiAgICAgICAgbGV0IGZzID0gdGhpcy5iaW5kaW5ncy5mcztcbiAgICAgICAgbGV0IHBhdGggPSB0aGlzLmJpbmRpbmdzLnBhdGg7XG4gICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKHByZW9wZW5zKSkge1xuICAgICAgICAgICAgY29uc3QgcmVhbCA9IGZzLm9wZW5TeW5jKHYsIGZzLmNvbnN0YW50cy5PX1JET05MWSk7XG4gICAgICAgICAgICBjb25zdCBuZXdmZCA9IFsuLi50aGlzLkZEX01BUC5rZXlzKCldLnJldmVyc2UoKVswXSArIDE7XG4gICAgICAgICAgICB0aGlzLkZEX01BUC5zZXQobmV3ZmQsIHtcbiAgICAgICAgICAgICAgICByZWFsLFxuICAgICAgICAgICAgICAgIGZpbGV0eXBlOiBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX0RJUkVDVE9SWSxcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXQ6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgICAgICByaWdodHM6IHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZTogY29uc3RhbnRzXzEuUklHSFRTX0RJUkVDVE9SWV9CQVNFLFxuICAgICAgICAgICAgICAgICAgICBpbmhlcml0aW5nOiBjb25zdGFudHNfMS5SSUdIVFNfRElSRUNUT1JZX0lOSEVSSVRJTkdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZha2VQYXRoOiBrLFxuICAgICAgICAgICAgICAgIHBhdGg6IHZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdldGlvdnMgPSAoaW92cywgaW92c0xlbikgPT4ge1xuICAgICAgICAgICAgLy8gaW92cyogLT4gW2lvdiwgaW92LCAuLi5dXG4gICAgICAgICAgICAvLyBfX3dhc2lfY2lvdmVjX3Qge1xuICAgICAgICAgICAgLy8gICB2b2lkKiBidWYsXG4gICAgICAgICAgICAvLyAgIHNpemVfdCBidWZfbGVuLFxuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogaW92c0xlbiB9LCAoXywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHB0ciA9IGlvdnMgKyBpICogODtcbiAgICAgICAgICAgICAgICBjb25zdCBidWYgPSB0aGlzLnZpZXcuZ2V0VWludDMyKHB0ciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmTGVuID0gdGhpcy52aWV3LmdldFVpbnQzMihwdHIgKyA0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5tZW1vcnkuYnVmZmVyLCBidWYsIGJ1Zkxlbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBDSEVDS19GRCA9IChmZCwgcmlnaHRzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGF0cyA9IHN0YXQodGhpcywgZmQpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYENIRUNLX0ZEOiBzdGF0cy5yZWFsOiAke3N0YXRzLnJlYWx9LCBzdGF0cy5wYXRoOmAsIHN0YXRzLnBhdGgpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0cyAhPT0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkgJiYgKHN0YXRzLnJpZ2h0cy5iYXNlICYgcmlnaHRzKSA9PT0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV0FTSUVycm9yKGNvbnN0YW50c18xLldBU0lfRVBFUk0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRzO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBDUFVUSU1FX1NUQVJUID0gYmluZGluZ3MuaHJ0aW1lKCk7XG4gICAgICAgIGNvbnN0IG5vdyA9IChjbG9ja0lkKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGNsb2NrSWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLldBU0lfQ0xPQ0tfTU9OT1RPTklDOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmluZGluZ3MuaHJ0aW1lKCk7XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX1JFQUxUSU1FOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNUb05zKERhdGUubm93KCkpO1xuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuV0FTSV9DTE9DS19QUk9DRVNTX0NQVVRJTUVfSUQ6XG4gICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX1RIUkVBRF9DUFVUSU1FX0lEOlxuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gYmluZGluZ3MuaHJ0aW1lKENQVVRJTUVfU1RBUlQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiaW5kaW5ncy5ocnRpbWUoKSAtIENQVVRJTUVfU1RBUlQ7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud2FzaUltcG9ydCA9IHtcbiAgICAgICAgICAgIGFyZ3NfZ2V0OiAoYXJndiwgYXJndkJ1ZikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGxldCBjb2Zmc2V0ID0gYXJndjtcbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gYXJndkJ1ZjtcbiAgICAgICAgICAgICAgICBhcmdzLmZvckVhY2goYSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoY29mZnNldCwgb2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlcikud3JpdGUoYCR7YX1cXDBgLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFyZ3Nfc2l6ZXNfZ2V0OiAoYXJnYywgYXJndkJ1ZlNpemUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDMyKGFyZ2MsIGFyZ3MubGVuZ3RoLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaXplID0gYXJncy5yZWR1Y2UoKGFjYywgYSkgPT4gYWNjICsgYnVmZmVyXzEuZGVmYXVsdC5ieXRlTGVuZ3RoKGEpICsgMSwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihhcmd2QnVmU2l6ZSwgc2l6ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW52aXJvbl9nZXQ6IChlbnZpcm9uLCBlbnZpcm9uQnVmKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgbGV0IGNvZmZzZXQgPSBlbnZpcm9uO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSBlbnZpcm9uQnVmO1xuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGVudikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoY29mZnNldCwgb2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgY29mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlcikud3JpdGUoYCR7a2V5fT0ke3ZhbHVlfVxcMGAsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW52aXJvbl9zaXplc19nZXQ6IChlbnZpcm9uQ291bnQsIGVudmlyb25CdWZTaXplKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW52UHJvY2Vzc2VkID0gT2JqZWN0LmVudHJpZXMoZW52KS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fT0ke3ZhbHVlfVxcMGApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSBlbnZQcm9jZXNzZWQucmVkdWNlKChhY2MsIGUpID0+IGFjYyArIGJ1ZmZlcl8xLmRlZmF1bHQuYnl0ZUxlbmd0aChlKSwgMCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihlbnZpcm9uQ291bnQsIGVudlByb2Nlc3NlZC5sZW5ndGgsIHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoZW52aXJvbkJ1ZlNpemUsIHNpemUsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb2NrX3Jlc19nZXQ6IChjbG9ja0lkLCByZXNvbHV0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHJlcztcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNsb2NrSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX01PTk9UT05JQzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX1BST0NFU1NfQ1BVVElNRV9JRDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX0NMT0NLX1RIUkVBRF9DUFVUSU1FX0lEOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuV0FTSV9DTE9DS19SRUFMVElNRToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KHJlc29sdXRpb24sIHJlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvY2tfdGltZV9nZXQ6IChjbG9ja0lkLCBwcmVjaXNpb24sIHRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gbm93KGNsb2NrSWQpO1xuICAgICAgICAgICAgICAgIGlmIChuID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NCh0aW1lLCBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChuKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmRfYWR2aXNlOiB3cmFwKChmZCwgb2Zmc2V0LCBsZW4sIGFkdmljZSkgPT4ge1xuICAgICAgICAgICAgICAgIENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0FEVklTRSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRU5PU1lTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9hbGxvY2F0ZTogd3JhcCgoZmQsIG9mZnNldCwgbGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfQUxMT0NBVEUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1NZUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfY2xvc2U6IHdyYXAoKGZkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkpO1xuICAgICAgICAgICAgICAgIGZzLmNsb3NlU3luYyhzdGF0cy5yZWFsKTtcbiAgICAgICAgICAgICAgICB0aGlzLkZEX01BUC5kZWxldGUoZmQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9kYXRhc3luYzogd3JhcCgoZmQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0RBVEFTWU5DKTtcbiAgICAgICAgICAgICAgICBmcy5mZGF0YXN5bmNTeW5jKHN0YXRzLnJlYWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9mZHN0YXRfZ2V0OiB3cmFwKChmZCwgYnVmUHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50OChidWZQdHIsIHN0YXRzLmZpbGV0eXBlKTsgLy8gRklMRVRZUEUgdThcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDE2KGJ1ZlB0ciArIDIsIDAsIHRydWUpOyAvLyBGREZMQUcgdTE2XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQxNihidWZQdHIgKyA0LCAwLCB0cnVlKTsgLy8gRkRGTEFHIHUxNlxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyICsgOCwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoc3RhdHMucmlnaHRzLmJhc2UpLCB0cnVlKTsgLy8gdTY0XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIgKyA4ICsgOCwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoc3RhdHMucmlnaHRzLmluaGVyaXRpbmcpLCB0cnVlKTsgLy8gdTY0XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX2Zkc3RhdF9zZXRfZmxhZ3M6IHdyYXAoKGZkLCBmbGFncykgPT4ge1xuICAgICAgICAgICAgICAgIENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0ZEU1RBVF9TRVRfRkxBR1MpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1NZUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfZmRzdGF0X3NldF9yaWdodHM6IHdyYXAoKGZkLCBmc1JpZ2h0c0Jhc2UsIGZzUmlnaHRzSW5oZXJpdGluZykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApKTtcbiAgICAgICAgICAgICAgICBjb25zdCBucmIgPSBzdGF0cy5yaWdodHMuYmFzZSB8IGZzUmlnaHRzQmFzZTtcbiAgICAgICAgICAgICAgICBpZiAobnJiID4gc3RhdHMucmlnaHRzLmJhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVBFUk07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG5yaSA9IHN0YXRzLnJpZ2h0cy5pbmhlcml0aW5nIHwgZnNSaWdodHNJbmhlcml0aW5nO1xuICAgICAgICAgICAgICAgIGlmIChucmkgPiBzdGF0cy5yaWdodHMuaW5oZXJpdGluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FUEVSTTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdHMucmlnaHRzLmJhc2UgPSBmc1JpZ2h0c0Jhc2U7XG4gICAgICAgICAgICAgICAgc3RhdHMucmlnaHRzLmluaGVyaXRpbmcgPSBmc1JpZ2h0c0luaGVyaXRpbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX2ZpbGVzdGF0X2dldDogd3JhcCgoZmQsIGJ1ZlB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfRklMRVNUQVRfR0VUKTtcbiAgICAgICAgICAgICAgICBjb25zdCByc3RhdHMgPSBmcy5mc3RhdFN5bmMoc3RhdHMucmVhbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKHJzdGF0cy5kZXYpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwocnN0YXRzLmlubyksIHRydWUpO1xuICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50OChidWZQdHIsIHN0YXRzLmZpbGV0eXBlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwocnN0YXRzLm5saW5rKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKHJzdGF0cy5zaXplKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIG1zVG9Ocyhyc3RhdHMuYXRpbWVNcyksIHRydWUpO1xuICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyLCBtc1RvTnMocnN0YXRzLm10aW1lTXMpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgbXNUb05zKHJzdGF0cy5jdGltZU1zKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX2ZpbGVzdGF0X3NldF9zaXplOiB3cmFwKChmZCwgc3RTaXplKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9GSUxFU1RBVF9TRVRfU0laRSk7XG4gICAgICAgICAgICAgICAgZnMuZnRydW5jYXRlU3luYyhzdGF0cy5yZWFsLCBOdW1iZXIoc3RTaXplKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX2ZpbGVzdGF0X3NldF90aW1lczogd3JhcCgoZmQsIHN0QXRpbSwgc3RNdGltLCBmc3RmbGFncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfRklMRVNUQVRfU0VUX1RJTUVTKTtcbiAgICAgICAgICAgICAgICBjb25zdCByc3RhdHMgPSBmcy5mc3RhdFN5bmMoc3RhdHMucmVhbCk7XG4gICAgICAgICAgICAgICAgbGV0IGF0aW0gPSByc3RhdHMuYXRpbWU7XG4gICAgICAgICAgICAgICAgbGV0IG10aW0gPSByc3RhdHMubXRpbWU7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IG5zVG9Ncyhub3coY29uc3RhbnRzXzEuV0FTSV9DTE9DS19SRUFMVElNRSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0aW1mbGFncyA9IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU0gfCBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9BVElNX05PVztcbiAgICAgICAgICAgICAgICBpZiAoKGZzdGZsYWdzICYgYXRpbWZsYWdzKSA9PT0gYXRpbWZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbXRpbWZsYWdzID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTSB8IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX01USU1fTk9XO1xuICAgICAgICAgICAgICAgIGlmICgoZnN0ZmxhZ3MgJiBtdGltZmxhZ3MpID09PSBtdGltZmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKGZzdGZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTSkgPT09IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXRpbSA9IG5zVG9NcyhzdEF0aW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZnN0ZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9BVElNX05PVykgPT09IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU1fTk9XKSB7XG4gICAgICAgICAgICAgICAgICAgIGF0aW0gPSBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKGZzdGZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTSkgPT09IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX01USU0pIHtcbiAgICAgICAgICAgICAgICAgICAgbXRpbSA9IG5zVG9NcyhzdE10aW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZnN0ZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9NVElNX05PVykgPT09IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX01USU1fTk9XKSB7XG4gICAgICAgICAgICAgICAgICAgIG10aW0gPSBuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmcy5mdXRpbWVzU3luYyhzdGF0cy5yZWFsLCBuZXcgRGF0ZShhdGltKSwgbmV3IERhdGUobXRpbSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9wcmVzdGF0X2dldDogd3JhcCgoZmQsIGJ1ZlB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRzLnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDgoYnVmUHRyLCBjb25zdGFudHNfMS5XQVNJX1BSRU9QRU5UWVBFX0RJUik7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihidWZQdHIgKyA0LCBidWZmZXJfMS5kZWZhdWx0LmJ5dGVMZW5ndGgoc3RhdHMuZmFrZVBhdGgpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfcHJlc3RhdF9kaXJfbmFtZTogd3JhcCgoZmQsIHBhdGhQdHIsIHBhdGhMZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IENIRUNLX0ZEKGZkLCBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0cy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlcikud3JpdGUoc3RhdHMuZmFrZVBhdGgsIHBhdGhQdHIsIHBhdGhMZW4sIFwidXRmOFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfcHdyaXRlOiB3cmFwKChmZCwgaW92cywgaW92c0xlbiwgb2Zmc2V0LCBud3JpdHRlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfV1JJVEUgfCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1NFRUspO1xuICAgICAgICAgICAgICAgIGxldCB3cml0dGVuID0gMDtcbiAgICAgICAgICAgICAgICBnZXRpb3ZzKGlvdnMsIGlvdnNMZW4pLmZvckVhY2goaW92ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHcgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodyA8IGlvdi5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ICs9IGZzLndyaXRlU3luYyhzdGF0cy5yZWFsLCBpb3YsIHcsIGlvdi5ieXRlTGVuZ3RoIC0gdywgTnVtYmVyKG9mZnNldCkgKyB3cml0dGVuICsgdyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd3JpdHRlbiArPSB3O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIobndyaXR0ZW4sIHdyaXR0ZW4sIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF93cml0ZTogd3JhcCgoZmQsIGlvdnMsIGlvdnNMZW4sIG53cml0dGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9XUklURSk7XG4gICAgICAgICAgICAgICAgbGV0IHdyaXR0ZW4gPSAwO1xuICAgICAgICAgICAgICAgIGdldGlvdnMoaW92cywgaW92c0xlbikuZm9yRWFjaChpb3YgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh3IDwgaW92LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBmcy53cml0ZVN5bmMoc3RhdHMucmVhbCwgaW92LCB3LCBpb3YuYnl0ZUxlbmd0aCAtIHcsIHN0YXRzLm9mZnNldCA/IE51bWJlcihzdGF0cy5vZmZzZXQpIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHMub2Zmc2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCArPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgKz0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3cml0dGVuICs9IHc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihud3JpdHRlbiwgd3JpdHRlbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3ByZWFkOiB3cmFwKChmZCwgaW92cywgaW92c0xlbiwgb2Zmc2V0LCBucmVhZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfUkVBRCB8IGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfU0VFSyk7XG4gICAgICAgICAgICAgICAgbGV0IHJlYWQgPSAwO1xuICAgICAgICAgICAgICAgIG91dGVyOiBmb3IgKGNvbnN0IGlvdiBvZiBnZXRpb3ZzKGlvdnMsIGlvdnNMZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHIgPCBpb3YuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gaW92LmJ5dGVMZW5ndGggLSByO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcnIgPSBmcy5yZWFkU3luYyhzdGF0cy5yZWFsLCBpb3YsIHIsIGlvdi5ieXRlTGVuZ3RoIC0gciwgTnVtYmVyKG9mZnNldCkgKyByZWFkICsgcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByICs9IHJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZCArPSBycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IHJlYWQgYW55dGhpbmcsIG9yIHdlIHJlY2VpdmUgbGVzcyB0aGFuIHJlcXVlc3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJyID09PSAwIHx8IHJyIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVhZCArPSByO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihucmVhZCwgcmVhZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3JlYWQ6IHdyYXAoKGZkLCBpb3ZzLCBpb3ZzTGVuLCBucmVhZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfUkVBRCk7XG4gICAgICAgICAgICAgICAgY29uc3QgSVNfU1RESU4gPSBzdGF0cy5yZWFsID09PSAwO1xuICAgICAgICAgICAgICAgIGxldCByZWFkID0gMDtcbiAgICAgICAgICAgICAgICBvdXRlcjogZm9yIChjb25zdCBpb3Ygb2YgZ2V0aW92cyhpb3ZzLCBpb3ZzTGVuKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyIDwgaW92LmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZW5ndGggPSBpb3YuYnl0ZUxlbmd0aCAtIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSBJU19TVERJTiB8fCBzdGF0cy5vZmZzZXQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTnVtYmVyKHN0YXRzLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcnIgPSBmcy5yZWFkU3luYyhzdGF0cy5yZWFsLCAvLyBmZFxuICAgICAgICAgICAgICAgICAgICAgICAgaW92LCAvLyBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHIsIC8vIG9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoLCAvLyBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uIC8vIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFJU19TVERJTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0cy5vZmZzZXQgPyBzdGF0cy5vZmZzZXQgOiBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbCgwKSkgKyBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByICs9IHJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZCArPSBycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IHJlYWQgYW55dGhpbmcsIG9yIHdlIHJlY2VpdmUgbGVzcyB0aGFuIHJlcXVlc3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJyID09PSAwIHx8IHJyIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkIG5vdCBtb2RpZnkgdGhlIG9mZnNldCBvZiBzdGRpblxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIobnJlYWQsIHJlYWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBmZF9yZWFkZGlyOiB3cmFwKChmZCwgYnVmUHRyLCBidWZMZW4sIGNvb2tpZSwgYnVmdXNlZFB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfUkVBRERJUik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGZzLnJlYWRkaXJTeW5jKHN0YXRzLnBhdGgsIHsgd2l0aEZpbGVUeXBlczogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydFB0ciA9IGJ1ZlB0cjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gTnVtYmVyKGNvb2tpZSk7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gZW50cmllc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWVMZW5ndGggPSBidWZmZXJfMS5kZWZhdWx0LmJ5dGVMZW5ndGgoZW50cnkubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZQdHIgLSBzdGFydFB0ciA+IGJ1Zkxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKGkgKyAxKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmUHRyIC0gc3RhcnRQdHIgPiBidWZMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJzdGF0cyA9IGZzLnN0YXRTeW5jKHBhdGgucmVzb2x2ZShzdGF0cy5wYXRoLCBlbnRyeS5uYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyLCBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChyc3RhdHMuaW5vKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmUHRyIC0gc3RhcnRQdHIgPiBidWZMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoYnVmUHRyLCBuYW1lTGVuZ3RoLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnVmUHRyICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZQdHIgLSBzdGFydFB0ciA+IGJ1Zkxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGV0eXBlO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcnN0YXRzLmlzQmxvY2tEZXZpY2UoKTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZSA9IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfQkxPQ0tfREVWSUNFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSByc3RhdHMuaXNDaGFyYWN0ZXJEZXZpY2UoKTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZSA9IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfQ0hBUkFDVEVSX0RFVklDRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcnN0YXRzLmlzRGlyZWN0b3J5KCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGUgPSBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX0RJUkVDVE9SWTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcnN0YXRzLmlzRklGTygpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9TT0NLRVRfU1RSRUFNO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSByc3RhdHMuaXNGaWxlKCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGUgPSBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX1JFR1VMQVJfRklMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgcnN0YXRzLmlzU29ja2V0KCk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGUgPSBjb25zdGFudHNfMS5XQVNJX0ZJTEVUWVBFX1NPQ0tFVF9TVFJFQU07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIHJzdGF0cy5pc1N5bWJvbGljTGluaygpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFVFlQRV9TWU1CT0xJQ19MSU5LO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZSA9IGNvbnN0YW50c18xLldBU0lfRklMRVRZUEVfVU5LTk9XTjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDgoYnVmUHRyLCBmaWxldHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSAxO1xuICAgICAgICAgICAgICAgICAgICBidWZQdHIgKz0gMzsgLy8gcGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmUHRyICsgbmFtZUxlbmd0aCA+PSBzdGFydFB0ciArIGJ1Zkxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXQgZG9lc24ndCBmaXQgaW4gdGhlIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lbW9yeV9idWZmZXIgPSBidWZmZXJfMS5kZWZhdWx0LmZyb20odGhpcy5tZW1vcnkuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgbWVtb3J5X2J1ZmZlci53cml0ZShlbnRyeS5uYW1lLCBidWZQdHIpO1xuICAgICAgICAgICAgICAgICAgICBidWZQdHIgKz0gbmFtZUxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmdXNlZCA9IGJ1ZlB0ciAtIHN0YXJ0UHRyO1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIoYnVmdXNlZFB0ciwgTWF0aC5taW4oYnVmdXNlZCwgYnVmTGVuKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3JlbnVtYmVyOiB3cmFwKChmcm9tLCB0bykgPT4ge1xuICAgICAgICAgICAgICAgIENIRUNLX0ZEKGZyb20sIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApKTtcbiAgICAgICAgICAgICAgICBDSEVDS19GRCh0bywgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCkpO1xuICAgICAgICAgICAgICAgIGZzLmNsb3NlU3luYyh0aGlzLkZEX01BUC5nZXQoZnJvbSkucmVhbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5GRF9NQVAuc2V0KGZyb20sIHRoaXMuRkRfTUFQLmdldCh0bykpO1xuICAgICAgICAgICAgICAgIHRoaXMuRkRfTUFQLmRlbGV0ZSh0byk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3NlZWs6IHdyYXAoKGZkLCBvZmZzZXQsIHdoZW5jZSwgbmV3T2Zmc2V0UHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9TRUVLKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHdoZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLldBU0lfV0hFTkNFX0NVUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRzLm9mZnNldCA/IHN0YXRzLm9mZnNldCA6IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApKSArIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5XQVNJX1dIRU5DRV9FTkQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNpemUgfSA9IGZzLmZzdGF0U3luYyhzdGF0cy5yZWFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKHNpemUpICsgYmlnaW50XzEuQmlnSW50UG9seWZpbGwob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLldBU0lfV0hFTkNFX1NFVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChuZXdPZmZzZXRQdHIsIHN0YXRzLm9mZnNldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGZkX3RlbGw6IHdyYXAoKGZkLCBvZmZzZXRQdHIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1RFTEwpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdHMub2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRzLm9mZnNldCA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KG9mZnNldFB0ciwgc3RhdHMub2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZmRfc3luYzogd3JhcCgoZmQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0cyA9IENIRUNLX0ZEKGZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1NZTkMpO1xuICAgICAgICAgICAgICAgIGZzLmZzeW5jU3luYyhzdGF0cy5yZWFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9jcmVhdGVfZGlyZWN0b3J5OiB3cmFwKChmZCwgcGF0aFB0ciwgcGF0aExlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9DUkVBVEVfRElSRUNUT1JZKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRzLnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgcGF0aFB0ciwgcGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBmcy5ta2RpclN5bmMocGF0aC5yZXNvbHZlKHN0YXRzLnBhdGgsIHApKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9maWxlc3RhdF9nZXQ6IHdyYXAoKGZkLCBmbGFncywgcGF0aFB0ciwgcGF0aExlbiwgYnVmUHRyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX0ZJTEVTVEFUX0dFVCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0cy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIHBhdGhQdHIsIHBhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcnN0YXRzID0gZnMuc3RhdFN5bmMocGF0aC5yZXNvbHZlKHN0YXRzLnBhdGgsIHApKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwocnN0YXRzLmRldiksIHRydWUpO1xuICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyLCBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChyc3RhdHMuaW5vKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQ4KGJ1ZlB0ciwgdHJhbnNsYXRlRmlsZUF0dHJpYnV0ZXModGhpcywgdW5kZWZpbmVkLCByc3RhdHMpLmZpbGV0eXBlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgYmlnaW50XzEuQmlnSW50UG9seWZpbGwocnN0YXRzLm5saW5rKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKHJzdGF0cy5zaXplKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnVmUHRyICs9IDg7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChidWZQdHIsIG1zVG9Ocyhyc3RhdHMuYXRpbWVNcyksIHRydWUpO1xuICAgICAgICAgICAgICAgIGJ1ZlB0ciArPSA4O1xuICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoYnVmUHRyLCBtc1RvTnMocnN0YXRzLm10aW1lTXMpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBidWZQdHIgKz0gODtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0QmlnVWludDY0KGJ1ZlB0ciwgbXNUb05zKHJzdGF0cy5jdGltZU1zKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHBhdGhfZmlsZXN0YXRfc2V0X3RpbWVzOiB3cmFwKChmZCwgZGlyZmxhZ3MsIHBhdGhQdHIsIHBhdGhMZW4sIHN0QXRpbSwgc3RNdGltLCBmc3RmbGFncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9GSUxFU1RBVF9TRVRfVElNRVMpO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdHMucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJzdGF0cyA9IGZzLmZzdGF0U3luYyhzdGF0cy5yZWFsKTtcbiAgICAgICAgICAgICAgICBsZXQgYXRpbSA9IHJzdGF0cy5hdGltZTtcbiAgICAgICAgICAgICAgICBsZXQgbXRpbSA9IHJzdGF0cy5tdGltZTtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gbnNUb01zKG5vdyhjb25zdGFudHNfMS5XQVNJX0NMT0NLX1JFQUxUSU1FKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYXRpbWZsYWdzID0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTSB8IGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU1fTk9XO1xuICAgICAgICAgICAgICAgIGlmICgoZnN0ZmxhZ3MgJiBhdGltZmxhZ3MpID09PSBhdGltZmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBtdGltZmxhZ3MgPSBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9NVElNIHwgY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTV9OT1c7XG4gICAgICAgICAgICAgICAgaWYgKChmc3RmbGFncyAmIG10aW1mbGFncykgPT09IG10aW1mbGFncykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoZnN0ZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9BVElNKSA9PT0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTSkge1xuICAgICAgICAgICAgICAgICAgICBhdGltID0gbnNUb01zKHN0QXRpbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChmc3RmbGFncyAmIGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX0FUSU1fTk9XKSA9PT0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfQVRJTV9OT1cpIHtcbiAgICAgICAgICAgICAgICAgICAgYXRpbSA9IG47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoZnN0ZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZJTEVTVEFUX1NFVF9NVElNKSA9PT0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTSkge1xuICAgICAgICAgICAgICAgICAgICBtdGltID0gbnNUb01zKHN0TXRpbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChmc3RmbGFncyAmIGNvbnN0YW50c18xLldBU0lfRklMRVNUQVRfU0VUX01USU1fTk9XKSA9PT0gY29uc3RhbnRzXzEuV0FTSV9GSUxFU1RBVF9TRVRfTVRJTV9OT1cpIHtcbiAgICAgICAgICAgICAgICAgICAgbXRpbSA9IG47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBidWZmZXJfMS5kZWZhdWx0LmZyb20odGhpcy5tZW1vcnkuYnVmZmVyLCBwYXRoUHRyLCBwYXRoTGVuKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGZzLnV0aW1lc1N5bmMocGF0aC5yZXNvbHZlKHN0YXRzLnBhdGgsIHApLCBuZXcgRGF0ZShhdGltKSwgbmV3IERhdGUobXRpbSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwYXRoX2xpbms6IHdyYXAoKG9sZEZkLCBvbGRGbGFncywgb2xkUGF0aCwgb2xkUGF0aExlbiwgbmV3RmQsIG5ld1BhdGgsIG5ld1BhdGhMZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvc3RhdHMgPSBDSEVDS19GRChvbGRGZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX0xJTktfU09VUkNFKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuc3RhdHMgPSBDSEVDS19GRChuZXdGZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX0xJTktfVEFSR0VUKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9zdGF0cy5wYXRoIHx8ICFuc3RhdHMucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgb2xkUGF0aCwgb2xkUGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBucCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIG5ld1BhdGgsIG5ld1BhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZnMubGlua1N5bmMocGF0aC5yZXNvbHZlKG9zdGF0cy5wYXRoLCBvcCksIHBhdGgucmVzb2x2ZShuc3RhdHMucGF0aCwgbnApKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9vcGVuOiB3cmFwKChkaXJmZCwgZGlyZmxhZ3MsIHBhdGhQdHIsIHBhdGhMZW4sIG9mbGFncywgZnNSaWdodHNCYXNlLCBmc1JpZ2h0c0luaGVyaXRpbmcsIGZzRmxhZ3MsIGZkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChkaXJmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX09QRU4pO1xuICAgICAgICAgICAgICAgIGZzUmlnaHRzQmFzZSA9IGJpZ2ludF8xLkJpZ0ludFBvbHlmaWxsKGZzUmlnaHRzQmFzZSk7XG4gICAgICAgICAgICAgICAgZnNSaWdodHNJbmhlcml0aW5nID0gYmlnaW50XzEuQmlnSW50UG9seWZpbGwoZnNSaWdodHNJbmhlcml0aW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkID0gKGZzUmlnaHRzQmFzZSAmIChjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1JFQUQgfCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1JFQURESVIpKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGUgPSAoZnNSaWdodHNCYXNlICZcbiAgICAgICAgICAgICAgICAgICAgKGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfREFUQVNZTkMgfFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9XUklURSB8XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX0FMTE9DQVRFIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0YW50c18xLldBU0lfUklHSFRfRkRfRklMRVNUQVRfU0VUX1NJWkUpKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgYmlnaW50XzEuQmlnSW50UG9seWZpbGwoMCk7XG4gICAgICAgICAgICAgICAgbGV0IG5vZmxhZ3M7XG4gICAgICAgICAgICAgICAgaWYgKHdyaXRlICYmIHJlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyA9IGZzLmNvbnN0YW50cy5PX1JEV1I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyA9IGZzLmNvbnN0YW50cy5PX1JET05MWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAod3JpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyA9IGZzLmNvbnN0YW50cy5PX1dST05MWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZnNSaWdodHNCYXNlIGlzIG5lZWRlZCBoZXJlIGJ1dCBwZXJoYXBzIHdlIHNob3VsZCBkbyBpdCBpbiBuZWVkZWRJbmhlcml0aW5nXG4gICAgICAgICAgICAgICAgbGV0IG5lZWRlZEJhc2UgPSBmc1JpZ2h0c0Jhc2UgfCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX1BBVEhfT1BFTjtcbiAgICAgICAgICAgICAgICBsZXQgbmVlZGVkSW5oZXJpdGluZyA9IGZzUmlnaHRzQmFzZSB8IGZzUmlnaHRzSW5oZXJpdGluZztcbiAgICAgICAgICAgICAgICBpZiAoKG9mbGFncyAmIGNvbnN0YW50c18xLldBU0lfT19DUkVBVCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyB8PSBmcy5jb25zdGFudHMuT19DUkVBVDtcbiAgICAgICAgICAgICAgICAgICAgbmVlZGVkQmFzZSB8PSBjb25zdGFudHNfMS5XQVNJX1JJR0hUX1BBVEhfQ1JFQVRFX0ZJTEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgob2ZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9PX0RJUkVDVE9SWSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbm9mbGFncyB8PSBmcy5jb25zdGFudHMuT19ESVJFQ1RPUlk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgob2ZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9PX0VYQ0wpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fRVhDTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChvZmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX09fVFJVTkMpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fVFJVTkM7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRlZEJhc2UgfD0gY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX0ZJTEVTVEFUX1NFVF9TSVpFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGZpbGUgZGVzY3JpcHRvciBmbGFncy5cbiAgICAgICAgICAgICAgICBpZiAoKGZzRmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZERkxBR19BUFBFTkQpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fQVBQRU5EO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKGZzRmxhZ3MgJiBjb25zdGFudHNfMS5XQVNJX0ZERkxBR19EU1lOQykgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZzLmNvbnN0YW50cy5PX0RTWU5DKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2ZsYWdzIHw9IGZzLmNvbnN0YW50cy5PX0RTWU5DO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9mbGFncyB8PSBmcy5jb25zdGFudHMuT19TWU5DO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5lZWRlZEluaGVyaXRpbmcgfD0gY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9EQVRBU1lOQztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChmc0ZsYWdzICYgY29uc3RhbnRzXzEuV0FTSV9GREZMQUdfTk9OQkxPQ0spICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fTk9OQkxPQ0s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoZnNGbGFncyAmIGNvbnN0YW50c18xLldBU0lfRkRGTEFHX1JTWU5DKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnMuY29uc3RhbnRzLk9fUlNZTkMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fUlNZTkM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2ZsYWdzIHw9IGZzLmNvbnN0YW50cy5PX1NZTkM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmVlZGVkSW5oZXJpdGluZyB8PSBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1NZTkM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoZnNGbGFncyAmIGNvbnN0YW50c18xLldBU0lfRkRGTEFHX1NZTkMpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZmxhZ3MgfD0gZnMuY29uc3RhbnRzLk9fU1lOQztcbiAgICAgICAgICAgICAgICAgICAgbmVlZGVkSW5oZXJpdGluZyB8PSBjb25zdGFudHNfMS5XQVNJX1JJR0hUX0ZEX1NZTkM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh3cml0ZSAmJlxuICAgICAgICAgICAgICAgICAgICAobm9mbGFncyAmIChmcy5jb25zdGFudHMuT19BUFBFTkQgfCBmcy5jb25zdGFudHMuT19UUlVOQykpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRlZEluaGVyaXRpbmcgfD0gY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9GRF9TRUVLO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgcGF0aFB0ciwgcGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsVW5yZXNvbHZlZCA9IHBhdGgucmVzb2x2ZShzdGF0cy5wYXRoLCBwKTtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5yZWxhdGl2ZShzdGF0cy5wYXRoLCBmdWxsVW5yZXNvbHZlZCkuc3RhcnRzV2l0aChcIi4uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1RDQVBBQkxFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZnVsbDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmdWxsID0gZnMucmVhbHBhdGhTeW5jKGZ1bGxVbnJlc29sdmVkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGgucmVsYXRpdmUoc3RhdHMucGF0aCwgZnVsbCkuc3RhcnRzV2l0aChcIi4uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FTk9UQ0FQQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jb2RlID09PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdWxsID0gZnVsbFVucmVzb2x2ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIGNoZWNrIGlmIHRoZSBmaWxlIGlzIGEgZGlyZWN0b3J5ICh1bmxlc3Mgb3BlbmluZyBmb3Igd3JpdGUsXG4gICAgICAgICAgICAgICAgICogaW4gd2hpY2ggY2FzZSB0aGUgZmlsZSBtYXkgbm90IGV4aXN0IGFuZCBzaG91bGQgYmUgY3JlYXRlZCkgKi9cbiAgICAgICAgICAgICAgICBsZXQgaXNEaXJlY3Rvcnk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaXNEaXJlY3RvcnkgPSBmcy5zdGF0U3luYyhmdWxsKS5pc0RpcmVjdG9yeSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgbGV0IHJlYWxmZDtcbiAgICAgICAgICAgICAgICBpZiAoIXdyaXRlICYmIGlzRGlyZWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWxmZCA9IGZzLm9wZW5TeW5jKGZ1bGwsIGZzLmNvbnN0YW50cy5PX1JET05MWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWFsZmQgPSBmcy5vcGVuU3luYyhmdWxsLCBub2ZsYWdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3ZmQgPSBbLi4udGhpcy5GRF9NQVAua2V5cygpXS5yZXZlcnNlKClbMF0gKyAxO1xuICAgICAgICAgICAgICAgIHRoaXMuRkRfTUFQLnNldChuZXdmZCwge1xuICAgICAgICAgICAgICAgICAgICByZWFsOiByZWFsZmQsXG4gICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldDogQmlnSW50KDApLFxuICAgICAgICAgICAgICAgICAgICByaWdodHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2U6IG5lZWRlZEJhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0aW5nOiBuZWVkZWRJbmhlcml0aW5nXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGZ1bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0KHRoaXMsIG5ld2ZkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDMyKGZkLCBuZXdmZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHBhdGhfcmVhZGxpbms6IHdyYXAoKGZkLCBwYXRoUHRyLCBwYXRoTGVuLCBidWYsIGJ1ZkxlbiwgYnVmdXNlZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9SRUFETElOSyk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0cy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIHBhdGhQdHIsIHBhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZnVsbCA9IHBhdGgucmVzb2x2ZShzdGF0cy5wYXRoLCBwKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gZnMucmVhZGxpbmtTeW5jKGZ1bGwpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZWQgPSBidWZmZXJfMS5kZWZhdWx0LmZyb20odGhpcy5tZW1vcnkuYnVmZmVyKS53cml0ZShyLCBidWYsIGJ1Zkxlbik7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldFVpbnQzMihidWZ1c2VkLCB1c2VkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9yZW1vdmVfZGlyZWN0b3J5OiB3cmFwKChmZCwgcGF0aFB0ciwgcGF0aExlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9SRU1PVkVfRElSRUNUT1JZKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRzLnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hNZW1vcnkoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgcGF0aFB0ciwgcGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBmcy5ybWRpclN5bmMocGF0aC5yZXNvbHZlKHN0YXRzLnBhdGgsIHApKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FU1VDQ0VTUztcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgcGF0aF9yZW5hbWU6IHdyYXAoKG9sZEZkLCBvbGRQYXRoLCBvbGRQYXRoTGVuLCBuZXdGZCwgbmV3UGF0aCwgbmV3UGF0aExlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9zdGF0cyA9IENIRUNLX0ZEKG9sZEZkLCBjb25zdGFudHNfMS5XQVNJX1JJR0hUX1BBVEhfUkVOQU1FX1NPVVJDRSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbnN0YXRzID0gQ0hFQ0tfRkQobmV3RmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9SRU5BTUVfVEFSR0VUKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9zdGF0cy5wYXRoIHx8ICFuc3RhdHMucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgb2xkUGF0aCwgb2xkUGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBucCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIG5ld1BhdGgsIG5ld1BhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZnMucmVuYW1lU3luYyhwYXRoLnJlc29sdmUob3N0YXRzLnBhdGgsIG9wKSwgcGF0aC5yZXNvbHZlKG5zdGF0cy5wYXRoLCBucCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwYXRoX3N5bWxpbms6IHdyYXAoKG9sZFBhdGgsIG9sZFBhdGhMZW4sIGZkLCBuZXdQYXRoLCBuZXdQYXRoTGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBDSEVDS19GRChmZCwgY29uc3RhbnRzXzEuV0FTSV9SSUdIVF9QQVRIX1NZTUxJTkspO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdHMucGF0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FSU5WQUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaE1lbW9yeSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wID0gYnVmZmVyXzEuZGVmYXVsdC5mcm9tKHRoaXMubWVtb3J5LmJ1ZmZlciwgb2xkUGF0aCwgb2xkUGF0aExlbikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBucCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIG5ld1BhdGgsIG5ld1BhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZnMuc3ltbGlua1N5bmMob3AsIHBhdGgucmVzb2x2ZShzdGF0cy5wYXRoLCBucCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwYXRoX3VubGlua19maWxlOiB3cmFwKChmZCwgcGF0aFB0ciwgcGF0aExlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRzID0gQ0hFQ0tfRkQoZmQsIGNvbnN0YW50c18xLldBU0lfUklHSFRfUEFUSF9VTkxJTktfRklMRSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0cy5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGJ1ZmZlcl8xLmRlZmF1bHQuZnJvbSh0aGlzLm1lbW9yeS5idWZmZXIsIHBhdGhQdHIsIHBhdGhMZW4pLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZnMudW5saW5rU3luYyhwYXRoLnJlc29sdmUoc3RhdHMucGF0aCwgcCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBwb2xsX29uZW9mZjogKHNpbiwgc291dCwgbnN1YnNjcmlwdGlvbnMsIG5ldmVudHMpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRjID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgd2FpdEVuZCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuc3Vic2NyaXB0aW9uczsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJkYXRhID0gdGhpcy52aWV3LmdldEJpZ1VpbnQ2NChzaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzaW4gKz0gODtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMudmlldy5nZXRVaW50OChzaW4pO1xuICAgICAgICAgICAgICAgICAgICBzaW4gKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLldBU0lfRVZFTlRUWVBFX0NMT0NLOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDc7IC8vIHBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZGVudGlmaWVyID0gdGhpcy52aWV3LmdldEJpZ1VpbnQ2NChzaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbiArPSA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb2NraWQgPSB0aGlzLnZpZXcuZ2V0VWludDMyKHNpbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDQ7IC8vIHBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSB0aGlzLnZpZXcuZ2V0QmlnVWludDY0KHNpbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy52aWV3LmdldEJpZ1VpbnQ2NChzaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbiArPSA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YmNsb2NrZmxhZ3MgPSB0aGlzLnZpZXcuZ2V0VWludDE2KHNpbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luICs9IDY7IC8vIHBhZGRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhYnNvbHV0ZSA9IHN1YmNsb2NrZmxhZ3MgPT09IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBiaWdpbnRfMS5CaWdJbnRQb2x5ZmlsbChub3coY2xvY2tpZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IGFic29sdXRlID8gdGltZXN0YW1wIDogbiArIHRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdEVuZCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPiB3YWl0RW5kID8gZW5kIDogd2FpdEVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChzb3V0LCB1c2VyZGF0YSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291dCArPSA4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50MTYoc291dCwgZSwgdHJ1ZSk7IC8vIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291dCArPSAyOyAvLyBwYWQgb2Zmc2V0IDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDgoc291dCwgY29uc3RhbnRzXzEuV0FTSV9FVkVOVFRZUEVfQ0xPQ0spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXQgKz0gMTsgLy8gcGFkIG9mZnNldCAzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291dCArPSA1OyAvLyBwYWRkaW5nIHRvIDhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudGMgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuV0FTSV9FVkVOVFRZUEVfRkRfUkVBRDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuV0FTSV9FVkVOVFRZUEVfRkRfV1JJVEU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW4gKz0gMzsgLy8gcGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZkID0gdGhpcy52aWV3LmdldFVpbnQzMihzaW4sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbiArPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRCaWdVaW50NjQoc291dCwgdXNlcmRhdGEsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXQgKz0gODtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDE2KHNvdXQsIGNvbnN0YW50c18xLldBU0lfRU5PU1lTLCB0cnVlKTsgLy8gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3V0ICs9IDI7IC8vIHBhZCBvZmZzZXQgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5zZXRVaW50OChzb3V0LCB0eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3V0ICs9IDE7IC8vIHBhZCBvZmZzZXQgM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXQgKz0gNTsgLy8gcGFkZGluZyB0byA4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRjICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VJTlZBTDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuc2V0VWludDMyKG5ldmVudHMsIGV2ZW50YywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGJpbmRpbmdzLmhydGltZSgpIDwgd2FpdEVuZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2NfZXhpdDogKHJ2YWwpID0+IHtcbiAgICAgICAgICAgICAgICBiaW5kaW5ncy5leGl0KHJ2YWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByb2NfcmFpc2U6IChzaWcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShzaWcgaW4gY29uc3RhbnRzXzEuU0lHTkFMX01BUCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRUlOVkFMO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiaW5kaW5ncy5raWxsKGNvbnN0YW50c18xLlNJR05BTF9NQVBbc2lnXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50c18xLldBU0lfRVNVQ0NFU1M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmFuZG9tX2dldDogKGJ1ZlB0ciwgYnVmTGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTWVtb3J5KCk7XG4gICAgICAgICAgICAgICAgYmluZGluZ3MucmFuZG9tRmlsbFN5bmMobmV3IFVpbnQ4QXJyYXkodGhpcy5tZW1vcnkuYnVmZmVyKSwgYnVmUHRyLCBidWZMZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjaGVkX3lpZWxkKCkge1xuICAgICAgICAgICAgICAgIC8vIFNpbmdsZSB0aHJlYWRlZCBlbnZpcm9ubWVudFxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBuby1vcCBpbiBKU1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VTVUNDRVNTO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNvY2tfcmVjdigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uc3RhbnRzXzEuV0FTSV9FTk9TWVM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc29ja19zZW5kKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1NZUztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzb2NrX3NodXRkb3duKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdGFudHNfMS5XQVNJX0VOT1NZUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gV3JhcCBlYWNoIG9mIHRoZSBpbXBvcnRzIHRvIHNob3cgdGhlIGNhbGxzIGluIHRoZSBjb25zb2xlXG4gICAgICAgIGlmICh3YXNpQ29uZmlnLnRyYWNlU3lzY2FsbHMpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMud2FzaUltcG9ydCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkltcG9ydCA9IHRoaXMud2FzaUltcG9ydFtrZXldO1xuICAgICAgICAgICAgICAgIHRoaXMud2FzaUltcG9ydFtrZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFdBU0k6IHdhc2lJbXBvcnQgY2FsbGVkOiAke2tleX0gKCR7YXJnc30pYCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcHJldkltcG9ydCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBXQVNJOiAgPT4gJHtyZXN1bHR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2F0Y2hlZCBlcnJvcjogJHtlfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZWZyZXNoTWVtb3J5KCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmICghdGhpcy52aWV3IHx8IHRoaXMudmlldy5idWZmZXIuYnl0ZUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy52aWV3ID0gbmV3IGRhdGF2aWV3XzEuRGF0YVZpZXdQb2x5ZmlsbCh0aGlzLm1lbW9yeS5idWZmZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldE1lbW9yeShtZW1vcnkpIHtcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBtZW1vcnk7XG4gICAgfVxuICAgIHN0YXJ0KGluc3RhbmNlKSB7XG4gICAgICAgIGNvbnN0IGV4cG9ydHMgPSBpbnN0YW5jZS5leHBvcnRzO1xuICAgICAgICBpZiAoZXhwb3J0cyA9PT0gbnVsbCB8fCB0eXBlb2YgZXhwb3J0cyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnN0YW5jZS5leHBvcnRzIG11c3QgYmUgYW4gT2JqZWN0LiBSZWNlaXZlZCAke2V4cG9ydHN9LmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgbWVtb3J5IH0gPSBleHBvcnRzO1xuICAgICAgICBpZiAoIShtZW1vcnkgaW5zdGFuY2VvZiBXZWJBc3NlbWJseS5NZW1vcnkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGluc3RhbmNlLmV4cG9ydHMubWVtb3J5IG11c3QgYmUgYSBXZWJBc3NlbWJseS5NZW1vcnkuIFJlY2NlaXZlZCAke21lbW9yeX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRNZW1vcnkobWVtb3J5KTtcbiAgICAgICAgaWYgKGV4cG9ydHMuX3N0YXJ0KSB7XG4gICAgICAgICAgICBleHBvcnRzLl9zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEltcG9ydE5hbWVzcGFjZShtb2R1bGUpIHtcbiAgICAgICAgbGV0IG5hbWVzcGFjZSA9IG51bGw7XG4gICAgICAgIGZvciAobGV0IGltcCBvZiBXZWJBc3NlbWJseS5Nb2R1bGUuaW1wb3J0cyhtb2R1bGUpKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGNoZWNrIGZvciB0aGUgZnVuY3Rpb25zXG4gICAgICAgICAgICBpZiAoaW1wLmtpbmQgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgYWxsb3cgZnVuY3Rpb25zIGluIG90aGVyIG5hbWVzcGFjZXMgb3RoZXIgdGhhbiB3YXNpXG4gICAgICAgICAgICBpZiAoIWltcC5tb2R1bGUuc3RhcnRzV2l0aChcIndhc2lfXCIpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIG5hbWVzcGFjZSA9IGltcC5tb2R1bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZXNwYWNlICE9PSBpbXAubW9kdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11bHRpcGxlIG5hbWVzcGFjZXMgZGV0ZWN0ZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZXNwYWNlO1xuICAgIH1cbiAgICBnZXRJbXBvcnRzKG1vZHVsZSkge1xuICAgICAgICBsZXQgbmFtZXNwYWNlID0gdGhpcy5nZXRJbXBvcnROYW1lc3BhY2UobW9kdWxlKTtcbiAgICAgICAgc3dpdGNoIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ3YXNpX3Vuc3RhYmxlXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgd2FzaV91bnN0YWJsZTogdGhpcy53YXNpSW1wb3J0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNhc2UgXCJ3YXNpX3NuYXBzaG90X3ByZXZpZXcxXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgd2FzaV9zbmFwc2hvdF9wcmV2aWV3MTogdGhpcy53YXNpSW1wb3J0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZGV0ZWN0IGEgV0FTSSBuYW1lc3BhY2UgZm9yIHRoZSBXZWJBc3NlbWJseSBNb2R1bGVcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBXQVNJRGVmYXVsdDtcbldBU0lEZWZhdWx0LmRlZmF1bHRCaW5kaW5ncyA9IGRlZmF1bHRCaW5kaW5ncztcbi8vIEFsc28gZXhwb3J0IGl0IGFzIGEgZmllbGQgaW4gdGhlIGV4cG9ydCBvYmplY3RcbmV4cG9ydHMuV0FTSSA9IFdBU0lEZWZhdWx0O1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgbm9kZV8xID0gcmVxdWlyZShcIm1lbWZzL2xpYi9ub2RlXCIpO1xuLy8gTWFrZSBlbWl0IHN5bmNocm9ub3VzXG5ub2RlXzEuTm9kZS5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudCwgLi4uYXJncykge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKGV2ZW50KTtcbiAgICBmb3IgKGxldCBsaXN0ZW5lciBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoID4gMDtcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vLyBBbiBhbHRlcm5hdGl2ZSBmcyBmb3IgdGhlIGJyb3dzZXIgYW5kIHRlc3RpbmdcbmNvbnN0IG1lbWZzXzEgPSByZXF1aXJlKFwibWVtZnNcIik7XG5jb25zdCB2b2x1bWVfMSA9IHJlcXVpcmUoXCJtZW1mcy9saWIvdm9sdW1lXCIpO1xuY29uc3QgcGF0aF8xID0gcmVxdWlyZShcInBhdGhcIik7XG5yZXF1aXJlKFwiLi9ub2RlX3N5bmNfZW1pdFwiKTtcbmNvbnN0IGFzc2VydCA9IChjb25kLCBtZXNzYWdlKSA9PiB7XG4gICAgaWYgKCFjb25kKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG59O1xuY2xhc3MgV2FzbUZzRGVmYXVsdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudm9sdW1lID0gbmV3IHZvbHVtZV8xLlZvbHVtZSgpO1xuICAgICAgICB0aGlzLmZzID0gbWVtZnNfMS5jcmVhdGVGc0Zyb21Wb2x1bWUodGhpcy52b2x1bWUpO1xuICAgICAgICB0aGlzLmZyb21KU09OKHtcbiAgICAgICAgICAgIFwiL2Rldi9zdGRpblwiOiBcIlwiLFxuICAgICAgICAgICAgXCIvZGV2L3N0ZG91dFwiOiBcIlwiLFxuICAgICAgICAgICAgXCIvZGV2L3N0ZGVyclwiOiBcIlwiXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfdG9KU09OKGxpbmssIGpzb24gPSB7fSwgcGF0aCkge1xuICAgICAgICBsZXQgaXNFbXB0eSA9IHRydWU7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBsaW5rLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpc0VtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IGxpbmsuZ2V0Q2hpbGQobmFtZSk7XG4gICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gY2hpbGQuZ2V0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlICYmIG5vZGUuaXNGaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lID0gY2hpbGQuZ2V0UGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lID0gcGF0aF8xLnJlbGF0aXZlKHBhdGgsIGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAganNvbltmaWxlbmFtZV0gPSBub2RlLmdldEJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChub2RlICYmIG5vZGUuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b0pTT04oY2hpbGQsIGpzb24sIHBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlyUGF0aCA9IGxpbmsuZ2V0UGF0aCgpO1xuICAgICAgICBpZiAocGF0aClcbiAgICAgICAgICAgIGRpclBhdGggPSBwYXRoXzEucmVsYXRpdmUocGF0aCwgZGlyUGF0aCk7XG4gICAgICAgIGlmIChkaXJQYXRoICYmIGlzRW1wdHkpIHtcbiAgICAgICAgICAgIGpzb25bZGlyUGF0aF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cbiAgICB0b0pTT04ocGF0aHMsIGpzb24gPSB7fSwgaXNSZWxhdGl2ZSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGxpbmtzID0gW107XG4gICAgICAgIGlmIChwYXRocykge1xuICAgICAgICAgICAgaWYgKCEocGF0aHMgaW5zdGFuY2VvZiBBcnJheSkpXG4gICAgICAgICAgICAgICAgcGF0aHMgPSBbcGF0aHNdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHBhdGhzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZW5hbWUgPSB2b2x1bWVfMS5wYXRoVG9GaWxlbmFtZShwYXRoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rID0gdGhpcy52b2x1bWUuZ2V0UmVzb2x2ZWRMaW5rKGZpbGVuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmspXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxpbmtzLnB1c2gobGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsaW5rcy5wdXNoKHRoaXMudm9sdW1lLnJvb3QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbGlua3MubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgIGZvciAoY29uc3QgbGluayBvZiBsaW5rcylcbiAgICAgICAgICAgIHRoaXMuX3RvSlNPTihsaW5rLCBqc29uLCBpc1JlbGF0aXZlID8gbGluay5nZXRQYXRoKCkgOiBcIlwiKTtcbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICAgIGZyb21KU09ORml4ZWQodm9sLCBqc29uKSB7XG4gICAgICAgIGNvbnN0IHNlcCA9IFwiL1wiO1xuICAgICAgICBmb3IgKGxldCBmaWxlbmFtZSBpbiBqc29uKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ganNvbltmaWxlbmFtZV07XG4gICAgICAgICAgICBjb25zdCBpc0RpciA9IGRhdGEgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZGF0YSkgPT09IG51bGwgOiBkYXRhID09PSBudWxsO1xuICAgICAgICAgICAgLy8gY29uc3QgaXNEaXIgPSB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiB8fCAoKGRhdGEgYXMgYW55KSBpbnN0YW5jZW9mIEJ1ZmZlciAmJiBkYXRhICE9PSBudWxsKTtcbiAgICAgICAgICAgIGlmICghaXNEaXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGVwcyA9IHZvbHVtZV8xLmZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZXBzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlybmFtZSA9IHNlcCArIHN0ZXBzLnNsaWNlKDAsIHN0ZXBzLmxlbmd0aCAtIDEpLmpvaW4oc2VwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICB2b2wubWtkaXJwQmFzZShkaXJuYW1lLCAwbzc3Nyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZvbC53cml0ZUZpbGVTeW5jKGZpbGVuYW1lLCBkYXRhIHx8IFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIHZvbC5ta2RpcnBCYXNlKGZpbGVuYW1lLCAwbzc3Nyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnJvbUpTT04oZnNKc29uKSB7XG4gICAgICAgIHRoaXMudm9sdW1lID0gbmV3IHZvbHVtZV8xLlZvbHVtZSgpO1xuICAgICAgICB0aGlzLmZyb21KU09ORml4ZWQodGhpcy52b2x1bWUsIGZzSnNvbik7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy5mcyA9IG1lbWZzXzEuY3JlYXRlRnNGcm9tVm9sdW1lKHRoaXMudm9sdW1lKTtcbiAgICAgICAgdGhpcy52b2x1bWUucmVsZWFzZWRGZHMgPSBbMCwgMSwgMl07XG4gICAgICAgIGNvbnN0IGZkRXJyID0gdGhpcy52b2x1bWUub3BlblN5bmMoXCIvZGV2L3N0ZGVyclwiLCBcIndcIik7XG4gICAgICAgIGNvbnN0IGZkT3V0ID0gdGhpcy52b2x1bWUub3BlblN5bmMoXCIvZGV2L3N0ZG91dFwiLCBcIndcIik7XG4gICAgICAgIGNvbnN0IGZkSW4gPSB0aGlzLnZvbHVtZS5vcGVuU3luYyhcIi9kZXYvc3RkaW5cIiwgXCJyXCIpO1xuICAgICAgICBhc3NlcnQoZmRFcnIgPT09IDIsIGBpbnZhbGlkIGhhbmRsZSBmb3Igc3RkZXJyOiAke2ZkRXJyfWApO1xuICAgICAgICBhc3NlcnQoZmRPdXQgPT09IDEsIGBpbnZhbGlkIGhhbmRsZSBmb3Igc3Rkb3V0OiAke2ZkT3V0fWApO1xuICAgICAgICBhc3NlcnQoZmRJbiA9PT0gMCwgYGludmFsaWQgaGFuZGxlIGZvciBzdGRpbjogJHtmZElufWApO1xuICAgIH1cbiAgICBhc3luYyBnZXRTdGRPdXQoKSB7XG4gICAgICAgIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMuZnMucmVhZEZpbGVTeW5jKFwiL2Rldi9zdGRvdXRcIiwgXCJ1dGY4XCIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFdhc21Gc0RlZmF1bHQ7XG5leHBvcnRzLldhc21GcyA9IFdhc21Gc0RlZmF1bHQ7XG4iLCAiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IEV4ZWNDb3JlIH0gZnJvbSBcIi4uL2V4ZWNcIjtcblxuXG5cbmNsYXNzIFR0eSBleHRlbmRzIEV2ZW50RW1pdHRlciB7XG5cbiAgICBjb3JlOiBFeGVjQ29yZVxuICAgIGZkczogbnVtYmVyW11cbiAgICBzdGRpbl9mbDogbnVtYmVyXG4gICAgdGVybWlvczoge2ZsYWdzOiBpMzJbXSwgd2luOiBVaW50MTZBcnJheX1cblxuICAgIGRlYnVnOiAoLi4uYXJnczogYW55KSA9PiB2b2lkO1xuXG4gICAgY29uc3RydWN0b3IoY29yZTogRXhlY0NvcmUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgdGhpcy5mZHMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGRpbl9mbCA9IDA7XG4gICAgICAgIHRoaXMudGVybWlvcyA9IHtcbiAgICAgICAgICAgIGZsYWdzOiBbMG80MDIsIDBvMywgMCwgMG8xMl0sICAvKiBzZWUgaW5jbHVkZS9iaXRzL3Rlcm1pb3MuaCAqL1xuICAgICAgICAgICAgd2luOiB0aGlzLmRlZmF1bHRXaW5kb3coKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY29yZS5vbignc3RyZWFtOm91dCcsIGV2ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZkcy5pbmNsdWRlcyhldi5mZCkpXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdkYXRhJywgZXYuZGF0YSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGVidWcgPSAoKSA9PiB7fTtcbiAgICB9XG5cbiAgICB0bygpOiBUdHlQcm9wcyB7IHJldHVybiB7dGVybWlvczoge3dpbjogdGhpcy50ZXJtaW9zLndpbn19OyB9XG5cbiAgICBtYWtlVHR5KGZkOiBudW1iZXIpIHtcbiAgICAgICAgLy8gTWFrZSBpc2F0dHkoZmQpIHJldHVybiBgdHJ1ZWBcbiAgICAgICAgdGhpcy5jb3JlLndhc2kuRkRfTUFQLmdldChmZCkuZmlsZXR5cGUgPSAyO1xuICAgICAgICB0aGlzLmNvcmUud2FzaS5GRF9NQVAuZ2V0KGZkKS5yaWdodHMuYmFzZSAmPSB+QmlnSW50KDB4MjQpO1xuICAgIH1cblxuICAgIHdyaXRlKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLmNvcmUuc3RkaW4ud3JpdGUoZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8gT3ZlcnJpZGVzIGZvciBXQVNJLndhc2lJbXBvcnRzXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICBmZF9mZHN0YXRfc2V0X2ZsYWdzKGZkOiBudW1iZXIsIGZsYWdzOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgZmRzdGF0X3NldF9mbGFncygke2ZkfSwgJHtmbGFnc30pXFxuYCk7XG4gICAgICAgIGlmIChmZCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGRpbl9mbCA9IGZsYWdzO1xuICAgICAgICAgICAgdGhpcy5jb3JlLnN0ZGluLmJsb2NraW5nID0gIShmbGFncyAmIDB4NCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgZmRfZmRzdGF0X2dldChmZDogbnVtYmVyLCBidWZQdHI6IG51bWJlcikge1xuICAgICAgICB2YXIgcmV0ID0gdGhpcy5jb3JlLndhc2kud2FzaUltcG9ydC5mZF9mZHN0YXRfZ2V0KGZkLCBidWZQdHIpO1xuICAgICAgICBpZiAoZmQgPT09IDApIHtcbiAgICAgICAgICAgIC8vIG92ZXJ3cml0ZTogc3RhdHMgRkRGTEFHIHUxNlxuICAgICAgICAgICAgdGhpcy5jb3JlLnByb2MubWVtLnNldFVpbnQxNihidWZQdHIgKyAyLCB0aGlzLnN0ZGluX2ZsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIGRlZmF1bHRXaW5kb3coKSB7XG4gICAgICAgIHZhciB3aW4gPSBuZXcgVWludDE2QXJyYXkobmV3IFNoYXJlZEFycmF5QnVmZmVyKDQpKTtcbiAgICAgICAgd2luWzBdID0gMjQ7ICAvLyByb3dzXG4gICAgICAgIHdpblsxXSA9IDgwOyAgLy8gY29sc1xuICAgICAgICByZXR1cm4gd2luO1xuICAgIH1cblxuICAgIGdldCBvdmVycmlkZUltcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRBbGwodGhpcywgWydmZF9mZHN0YXRfZ2V0JywgJ2ZkX2Zkc3RhdF9zZXRfZmxhZ3MnXSk7XG4gICAgfVxuXG4gICAgZ2V0IGltcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRBbGwodGhpcywgWyd0Y2dldGF0dHInLCAndGNzZXRhdHRyJywgJ3RnZXRlbnQnXSk7XG4gICAgfVxuXG4gICAgZ2V0IGV4dGxpYigpIHtcbiAgICAgICAgcmV0dXJuIGJpbmRBbGwodGhpcywgWyd0dHlfaW9jdGwnXSk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tXG4gICAgLy8gVGVybW9pcyBQYXJ0XG4gICAgLy8gLS0tLS0tLS0tLS0tXG5cbiAgICB0Y2dldGF0dHIoZmQ6IGkzMiwgdGVybWlvc19wOiBpMzIpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgdGNnZXRhdHRyKCR7ZmR9LCAke3Rlcm1pb3NfcH0pYCk7XG4gICAgICAgIGxldCBtZW0gPSB0aGlzLmNvcmUucHJvYy5tZW07XG4gICAgICAgIHRoaXMudGVybWlvcy5mbGFncy5mb3JFYWNoKChmbCwgaSkgPT4ge1xuICAgICAgICAgICAgbWVtLnNldFVpbnQzMih0ZXJtaW9zX3AgKyA0ICogaSwgZmwsIHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBtZW0uc2V0VWludDgodGVybWlvc19wICsgKDQgKiA0KSArIDEgKyA1LCAwKTsgIC8vIFZUSU1FXG4gICAgICAgIG1lbS5zZXRVaW50OCh0ZXJtaW9zX3AgKyAoNCAqIDQpICsgMSArIDYsIDEpOyAgLy8gVk1JTlxuXG4gICAgICAgIC8qIHNwZWVkIG90aGVyIGNvbnRyb2wgY2hhcmFjdGVycyBhcmUgc2tpcHBlZCA6XFwgKi9cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgdGNzZXRhdHRyKGZkOiBpMzIsIHdoZW46IGkzMiwgdGVybWlvc19wOiBpMzIpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgdGNzZXRhdHRyKCR7ZmR9LCAke3doZW59LCAke3Rlcm1pb3NfcH0pYCk7XG4gICAgICAgIGxldCBtZW0gPSB0aGlzLmNvcmUucHJvYy5tZW0sXG4gICAgICAgICAgICBmbGFncyA9IHJhbmdlKDQpLm1hcChpID0+IG1lbS5nZXRVaW50MzIodGVybWlvc19wICsgNCAqIGksIHRydWUpKSxcbiAgICAgICAgICAgIGNjID0gcmFuZ2UoMzIpLm1hcChpID0+IG1lbS5nZXRVaW50OCh0ZXJtaW9zX3AgKyAoNCAqIDQpICsgMSArIGkpKTtcbiAgICAgICAgdGhpcy5kZWJ1ZyhgICBbJHtmbGFncy5tYXAoaSA9PiAnMCcraS50b1N0cmluZyg4KSkuam9pbignLCAnKX1dIFske2NjfV1gKTtcbiAgICAgICAgdGhpcy50ZXJtaW9zLmZsYWdzID0gZmxhZ3M7XG4gICAgICAgIHRoaXMuY29yZS5zdGRpbi5ibG9ja2luZyA9IGNjWzZdID4gMDsgICAvLyBWTUlOXG4gICAgICAgIHRoaXMuY29yZS5wcm9jLmVtaXQoJ3N5c2NhbGwnLCB7XG4gICAgICAgICAgICBmdW5jOiAnaW9jdGw6dHR5JyxcbiAgICAgICAgICAgIGRhdGE6IHtmZCwgd2hlbiwgZmxhZ3N9XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHRnZXRlbnQoYnA6IGkzMiwgbmFtZTogaTMyKSB7XG4gICAgICAgIHRoaXMuZGVidWcoYHRnZXRlbnQoXywgJyR7dGhpcy5jb3JlLnByb2MudXNlckdldENTdHJpbmcobmFtZSl9JylgKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgdHR5X2lvY3RsKGZkOiBpMzIsIHJlcXVlc3Q6IGkzMiwgYnVmOiBpMzIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCd0dHlfaW9jdGwnLCBmZCwgcmVxdWVzdCwgYnVmKTtcbiAgICAgICAgaWYgKGZkID09IDEpIHtcbiAgICAgICAgICAgIHZhciBtZW0gPSB0aGlzLmNvcmUucHJvYy5tZW0sIHdpbiA9IHRoaXMudGVybWlvcy53aW47XG5cbiAgICAgICAgICAgIHN3aXRjaCAocmVxdWVzdCkge1xuICAgICAgICAgICAgY2FzZSBUdHlJb2N0bHMuVElPQ0dXSU5TWjpcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgbWVtLnNldFVpbnQxNihidWYgKyAyICogaSwgd2luW2ldLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHR5SW9jdGxzLlRJT0NTV0lOU1o6XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmcgPSB3aW4ubWFwKChfLGkpID0+IG1lbS5nZXRVaW50MTYoYnVmICsgMiAqIGkpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcmUucHJvYy5lbWl0KCdzeXNjYWxsJywge1xuICAgICAgICAgICAgICAgICAgICBmdW5jOiAnaW9jdGw6dHR5JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge2ZkLCByZXF1ZXN0LCB3aW46IHNldHRpbmd9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuXG50eXBlIGkzMiA9IG51bWJlcjtcblxudHlwZSBUdHlQcm9wcyA9IHtcbiAgICB0ZXJtaW9zOiB7IHdpbjogVWludDE2QXJyYXkgfVxufTtcblxuZW51bSBUdHlJb2N0bHMge1xuICAgIFRDU0VURkwgPSAxLFxuICAgIFRJT0NHV0lOU1ogPSAweDU0MTMsXG4gICAgVElPQ1NXSU5TWiA9IDB4NTQxNFxufTtcblxuZnVuY3Rpb24gYmluZEFsbChpbnN0YW5jZTogYW55LCBtZXRob2RzOiBzdHJpbmdbXSkge1xuICAgIHJldHVybiBtZXRob2RzLnJlZHVjZSgoZCwgbSkgPT5cbiAgICAgICAgT2JqZWN0LmFzc2lnbihkLCB7W21dOiBpbnN0YW5jZVttXS5iaW5kKGluc3RhbmNlKX0pLCB7fSk7XG59XG5cbmZ1bmN0aW9uIHJhbmdlKG46IG51bWJlcikgOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIFsuLi5BcnJheShuKS5rZXlzKCldO1xufVxuXG5cbmV4cG9ydCB7IFR0eSwgVHR5UHJvcHMgfVxuIiwgIid1c2Ugc3RyaWN0J1xuXG4vLyBsaW1pdCBvZiBDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKClcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DcnlwdG8vZ2V0UmFuZG9tVmFsdWVzXG52YXIgTUFYX0JZVEVTID0gNjU1MzZcblxuLy8gTm9kZSBzdXBwb3J0cyByZXF1ZXN0aW5nIHVwIHRvIHRoaXMgbnVtYmVyIG9mIGJ5dGVzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9tYXN0ZXIvbGliL2ludGVybmFsL2NyeXB0by9yYW5kb20uanMjTDQ4XG52YXIgTUFYX1VJTlQzMiA9IDQyOTQ5NjcyOTVcblxuZnVuY3Rpb24gb2xkQnJvd3NlciAoKSB7XG4gIHRocm93IG5ldyBFcnJvcignU2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci5cXG5Vc2UgQ2hyb21lLCBGaXJlZm94IG9yIEludGVybmV0IEV4cGxvcmVyIDExJylcbn1cblxudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJykuQnVmZmVyXG52YXIgY3J5cHRvID0gZ2xvYmFsLmNyeXB0byB8fCBnbG9iYWwubXNDcnlwdG9cblxuaWYgKGNyeXB0byAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmFuZG9tQnl0ZXNcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gb2xkQnJvd3NlclxufVxuXG5mdW5jdGlvbiByYW5kb21CeXRlcyAoc2l6ZSwgY2IpIHtcbiAgLy8gcGhhbnRvbWpzIG5lZWRzIHRvIHRocm93XG4gIGlmIChzaXplID4gTUFYX1VJTlQzMikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlcXVlc3RlZCB0b28gbWFueSByYW5kb20gYnl0ZXMnKVxuXG4gIHZhciBieXRlcyA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShzaXplKVxuXG4gIGlmIChzaXplID4gMCkgeyAgLy8gZ2V0UmFuZG9tVmFsdWVzIGZhaWxzIG9uIElFIGlmIHNpemUgPT0gMFxuICAgIGlmIChzaXplID4gTUFYX0JZVEVTKSB7IC8vIHRoaXMgaXMgdGhlIG1heCBieXRlcyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzXG4gICAgICAvLyBjYW4gZG8gYXQgb25jZSBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL3dpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzXG4gICAgICBmb3IgKHZhciBnZW5lcmF0ZWQgPSAwOyBnZW5lcmF0ZWQgPCBzaXplOyBnZW5lcmF0ZWQgKz0gTUFYX0JZVEVTKSB7XG4gICAgICAgIC8vIGJ1ZmZlci5zbGljZSBhdXRvbWF0aWNhbGx5IGNoZWNrcyBpZiB0aGUgZW5kIGlzIHBhc3QgdGhlIGVuZCBvZlxuICAgICAgICAvLyB0aGUgYnVmZmVyIHNvIHdlIGRvbid0IGhhdmUgdG8gaGVyZVxuICAgICAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGJ5dGVzLnNsaWNlKGdlbmVyYXRlZCwgZ2VuZXJhdGVkICsgTUFYX0JZVEVTKSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhieXRlcylcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgY2IobnVsbCwgYnl0ZXMpXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuIiwgIid1c2Ugc3RyaWN0J1xuXG5mdW5jdGlvbiBvbGRCcm93c2VyICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdzZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyXFxudXNlIGNocm9tZSwgRmlyZUZveCBvciBJbnRlcm5ldCBFeHBsb3JlciAxMScpXG59XG52YXIgc2FmZUJ1ZmZlciA9IHJlcXVpcmUoJ3NhZmUtYnVmZmVyJylcbnZhciByYW5kb21ieXRlcyA9IHJlcXVpcmUoJ3JhbmRvbWJ5dGVzJylcbnZhciBCdWZmZXIgPSBzYWZlQnVmZmVyLkJ1ZmZlclxudmFyIGtCdWZmZXJNYXhMZW5ndGggPSBzYWZlQnVmZmVyLmtNYXhMZW5ndGhcbnZhciBjcnlwdG8gPSBnbG9iYWwuY3J5cHRvIHx8IGdsb2JhbC5tc0NyeXB0b1xudmFyIGtNYXhVaW50MzIgPSBNYXRoLnBvdygyLCAzMikgLSAxXG5mdW5jdGlvbiBhc3NlcnRPZmZzZXQgKG9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2Ygb2Zmc2V0ICE9PSAnbnVtYmVyJyB8fCBvZmZzZXQgIT09IG9mZnNldCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29mZnNldCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmIChvZmZzZXQgPiBrTWF4VWludDMyIHx8IG9mZnNldCA8IDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvZmZzZXQgbXVzdCBiZSBhIHVpbnQzMicpXG4gIH1cblxuICBpZiAob2Zmc2V0ID4ga0J1ZmZlck1heExlbmd0aCB8fCBvZmZzZXQgPiBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IG91dCBvZiByYW5nZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJyB8fCBzaXplICE9PSBzaXplKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2l6ZSBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmIChzaXplID4ga01heFVpbnQzMiB8fCBzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3NpemUgbXVzdCBiZSBhIHVpbnQzMicpXG4gIH1cblxuICBpZiAoc2l6ZSArIG9mZnNldCA+IGxlbmd0aCB8fCBzaXplID4ga0J1ZmZlck1heExlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdidWZmZXIgdG9vIHNtYWxsJylcbiAgfVxufVxuaWYgKChjcnlwdG8gJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykgfHwgIXByb2Nlc3MuYnJvd3Nlcikge1xuICBleHBvcnRzLnJhbmRvbUZpbGwgPSByYW5kb21GaWxsXG4gIGV4cG9ydHMucmFuZG9tRmlsbFN5bmMgPSByYW5kb21GaWxsU3luY1xufSBlbHNlIHtcbiAgZXhwb3J0cy5yYW5kb21GaWxsID0gb2xkQnJvd3NlclxuICBleHBvcnRzLnJhbmRvbUZpbGxTeW5jID0gb2xkQnJvd3NlclxufVxuZnVuY3Rpb24gcmFuZG9tRmlsbCAoYnVmLCBvZmZzZXQsIHNpemUsIGNiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikgJiYgIShidWYgaW5zdGFuY2VvZiBnbG9iYWwuVWludDhBcnJheSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZlwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgb3IgVWludDhBcnJheScpXG4gIH1cblxuICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb2Zmc2V0XG4gICAgb2Zmc2V0ID0gMFxuICAgIHNpemUgPSBidWYubGVuZ3RoXG4gIH0gZWxzZSBpZiAodHlwZW9mIHNpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IHNpemVcbiAgICBzaXplID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICB9IGVsc2UgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiY2JcIiBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb24nKVxuICB9XG4gIGFzc2VydE9mZnNldChvZmZzZXQsIGJ1Zi5sZW5ndGgpXG4gIGFzc2VydFNpemUoc2l6ZSwgb2Zmc2V0LCBidWYubGVuZ3RoKVxuICByZXR1cm4gYWN0dWFsRmlsbChidWYsIG9mZnNldCwgc2l6ZSwgY2IpXG59XG5cbmZ1bmN0aW9uIGFjdHVhbEZpbGwgKGJ1Ziwgb2Zmc2V0LCBzaXplLCBjYikge1xuICBpZiAocHJvY2Vzcy5icm93c2VyKSB7XG4gICAgdmFyIG91ckJ1ZiA9IGJ1Zi5idWZmZXJcbiAgICB2YXIgdWludCA9IG5ldyBVaW50OEFycmF5KG91ckJ1Ziwgb2Zmc2V0LCBzaXplKVxuICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXModWludClcbiAgICBpZiAoY2IpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBjYihudWxsLCBidWYpXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHJldHVybiBidWZcbiAgfVxuICBpZiAoY2IpIHtcbiAgICByYW5kb21ieXRlcyhzaXplLCBmdW5jdGlvbiAoZXJyLCBieXRlcykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2IoZXJyKVxuICAgICAgfVxuICAgICAgYnl0ZXMuY29weShidWYsIG9mZnNldClcbiAgICAgIGNiKG51bGwsIGJ1ZilcbiAgICB9KVxuICAgIHJldHVyblxuICB9XG4gIHZhciBieXRlcyA9IHJhbmRvbWJ5dGVzKHNpemUpXG4gIGJ5dGVzLmNvcHkoYnVmLCBvZmZzZXQpXG4gIHJldHVybiBidWZcbn1cbmZ1bmN0aW9uIHJhbmRvbUZpbGxTeW5jIChidWYsIG9mZnNldCwgc2l6ZSkge1xuICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvZmZzZXQgPSAwXG4gIH1cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSAmJiAhKGJ1ZiBpbnN0YW5jZW9mIGdsb2JhbC5VaW50OEFycmF5KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBvciBVaW50OEFycmF5JylcbiAgfVxuXG4gIGFzc2VydE9mZnNldChvZmZzZXQsIGJ1Zi5sZW5ndGgpXG5cbiAgaWYgKHNpemUgPT09IHVuZGVmaW5lZCkgc2l6ZSA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcblxuICBhc3NlcnRTaXplKHNpemUsIG9mZnNldCwgYnVmLmxlbmd0aClcblxuICByZXR1cm4gYWN0dWFsRmlsbChidWYsIG9mZnNldCwgc2l6ZSlcbn1cbiIsICJcInVzZSBzdHJpY3RcIjtcbi8vIGhydGltZSBwb2x5ZmlsbCBmb3IgdGhlIGJyb3dzZXJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGJhc2VOb3cgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gcGVyZm9ybWFuY2Uubm93KCkpICogMWUtMyk7XG5mdW5jdGlvbiBocnRpbWUocHJldmlvdXNUaW1lc3RhbXApIHtcbiAgICAvLyBpbml0aWxhaXplIG91ciB2YXJpYWJsZXNcbiAgICBsZXQgY2xvY2t0aW1lID0gcGVyZm9ybWFuY2Uubm93KCkgKiAxZS0zO1xuICAgIGxldCBzZWNvbmRzID0gTWF0aC5mbG9vcihjbG9ja3RpbWUpICsgYmFzZU5vdztcbiAgICBsZXQgbmFub3NlY29uZHMgPSBNYXRoLmZsb29yKChjbG9ja3RpbWUgJSAxKSAqIDFlOSk7XG4gICAgLy8gQ29tcGFyZSB0byB0aGUgcHJ2aW91cyB0aW1lc3RhbXAgaWYgd2UgaGF2ZSBvbmVcbiAgICBpZiAocHJldmlvdXNUaW1lc3RhbXApIHtcbiAgICAgICAgc2Vjb25kcyA9IHNlY29uZHMgLSBwcmV2aW91c1RpbWVzdGFtcFswXTtcbiAgICAgICAgbmFub3NlY29uZHMgPSBuYW5vc2Vjb25kcyAtIHByZXZpb3VzVGltZXN0YW1wWzFdO1xuICAgICAgICBpZiAobmFub3NlY29uZHMgPCAwKSB7XG4gICAgICAgICAgICBzZWNvbmRzLS07XG4gICAgICAgICAgICBuYW5vc2Vjb25kcyArPSAxZTk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJuIG91ciBzZWNvbmRzIHR1cGxlXG4gICAgcmV0dXJuIFtzZWNvbmRzLCBuYW5vc2Vjb25kc107XG59XG5leHBvcnRzLmRlZmF1bHQgPSBocnRpbWU7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBTaW1wbHkgcG9seWZpbGwgZm9yIGhydGltZVxuLy8gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc19wcm9jZXNzX2hydGltZV90aW1lXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBOU19QRVJfU0VDID0gMWU5O1xuY29uc3QgZ2V0QmlnSW50SHJ0aW1lID0gKG5hdGl2ZUhydGltZSkgPT4ge1xuICAgIHJldHVybiAodGltZSkgPT4ge1xuICAgICAgICBjb25zdCBkaWZmID0gbmF0aXZlSHJ0aW1lKHRpbWUpO1xuICAgICAgICAvLyBSZXR1cm4gdGhlIHRpbWVcbiAgICAgICAgcmV0dXJuIChkaWZmWzBdICogTlNfUEVSX1NFQyArIGRpZmZbMV0pO1xuICAgIH07XG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0QmlnSW50SHJ0aW1lO1xuIiwgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8gQHRzLWlnbm9yZVxuY29uc3QgcmFuZG9tZmlsbCA9IHJlcXVpcmUoXCJyYW5kb21maWxsXCIpO1xuY29uc3QgYnJvd3Nlcl9ocnRpbWVfMSA9IHJlcXVpcmUoXCIuLi9wb2x5ZmlsbHMvYnJvd3Nlci1ocnRpbWVcIik7XG4vLyBAdHMtaWdub3JlXG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGgtYnJvd3NlcmlmeVwiKTtcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwiLi4vaW5kZXhcIik7XG5jb25zdCBocnRpbWVfYmlnaW50XzEgPSByZXF1aXJlKFwiLi4vcG9seWZpbGxzL2hydGltZS5iaWdpbnRcIik7XG5jb25zdCBiaW5kaW5ncyA9IHtcbiAgICBocnRpbWU6IGhydGltZV9iaWdpbnRfMS5kZWZhdWx0KGJyb3dzZXJfaHJ0aW1lXzEuZGVmYXVsdCksXG4gICAgZXhpdDogKGNvZGUpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IGluZGV4XzEuV0FTSUV4aXRFcnJvcihjb2RlKTtcbiAgICB9LFxuICAgIGtpbGw6IChzaWduYWwpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IGluZGV4XzEuV0FTSUtpbGxFcnJvcihzaWduYWwpO1xuICAgIH0sXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIHJhbmRvbUZpbGxTeW5jOiByYW5kb21maWxsLnJhbmRvbUZpbGxTeW5jLFxuICAgIGlzVFRZOiAoKSA9PiB0cnVlLFxuICAgIHBhdGg6IHBhdGgsXG4gICAgLy8gTGV0IHRoZSB1c2VyIGF0dGFjaCB0aGUgZnMgYXQgcnVudGltZVxuICAgIGZzOiBudWxsXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gYmluZGluZ3M7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKFwiY3J5cHRvXCIpO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCB7IGlzYXR0eTogaXNUVFkgfSA9IHJlcXVpcmUoXCJ0dHlcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5jb25zdCBocnRpbWVfYmlnaW50XzEgPSByZXF1aXJlKFwiLi4vcG9seWZpbGxzL2hydGltZS5iaWdpbnRcIik7XG5sZXQgYmlnSW50SHJ0aW1lID0gaHJ0aW1lX2JpZ2ludF8xLmRlZmF1bHQocHJvY2Vzcy5ocnRpbWUpO1xuaWYgKHByb2Nlc3MuaHJ0aW1lICYmIHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCkge1xuICAgIGJpZ0ludEhydGltZSA9IHByb2Nlc3MuaHJ0aW1lLmJpZ2ludDtcbn1cbmNvbnN0IGJpbmRpbmdzID0ge1xuICAgIGhydGltZTogYmlnSW50SHJ0aW1lLFxuICAgIGV4aXQ6IChjb2RlKSA9PiB7XG4gICAgICAgIHByb2Nlc3MuZXhpdChjb2RlKTtcbiAgICB9LFxuICAgIGtpbGw6IChzaWduYWwpID0+IHtcbiAgICAgICAgcHJvY2Vzcy5raWxsKHByb2Nlc3MucGlkLCBzaWduYWwpO1xuICAgIH0sXG4gICAgcmFuZG9tRmlsbFN5bmM6IGNyeXB0by5yYW5kb21GaWxsU3luYyxcbiAgICBpc1RUWTogaXNUVFksXG4gICAgZnM6IGZzLFxuICAgIHBhdGg6IHBhdGhcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBiaW5kaW5ncztcbiIsICJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHsgSUZzLCBjcmVhdGVGc0Zyb21Wb2x1bWUgfSBmcm9tICdtZW1mcyc7XG5cbi8vIEltcG9ydGluZyBXYXNtZXItanMgZnJvbSBgL2xpYmAgYXZvaWRzIHNvbWUgY29kZSBkdXBsaWNhdGlvbiBpblxuLy8gZ2VuZXJhdGVkIGJ1bmRsZSAoZXNwLiBgbWVtZnNgKS5cbmltcG9ydCB7IFdBU0ksIFdBU0lDb25maWcgfSBmcm9tICdAd2FzbWVyL3dhc2kvbGliJztcbmltcG9ydCB7IFdhc21GcyB9IGZyb20gJ0B3YXNtZXIvd2FzbWZzL2xpYic7XG4vL2ltcG9ydCAqIGFzIHRyYW5zZm9ybWVyIGZyb20gJ0B3YXNtZXIvd2FzbS10cmFuc2Zvcm1lcic7XG5cbmltcG9ydCB7IFNpbXBsZXhTdHJlYW0gfSBmcm9tICcuL3N0cmVhbXMnO1xuaW1wb3J0IHsgVHR5IH0gZnJvbSAnLi9iaXRzL3R0eSc7XG5pbXBvcnQgeyBQcm9jLCBQcm9jT3B0aW9ucyB9IGZyb20gJy4vYml0cy9wcm9jJztcbmltcG9ydCBzdHVicyBmcm9tICcuL2JpdHMvc3R1YnMnO1xuXG5pbXBvcnQgeyB1dGY4ZW5jb2RlLCB1dGY4ZGVjb2RlIH0gZnJvbSAnLi9iaW5kaW5ncy91dGY4JztcbmltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4uL2luZnJhL2FyY2gnO1xuaW1wb3J0IHsgU2hhcmVkVm9sdW1lIH0gZnJvbSAnLi9zZXJ2aWNlcy9zaGFyZWQtZnMnO1xuXG5XQVNJLmRlZmF1bHRCaW5kaW5ncyA9XG4gICAgaXNCcm93c2VyID8gcmVxdWlyZShcIkB3YXNtZXIvd2FzaS9saWIvYmluZGluZ3MvYnJvd3NlclwiKS5kZWZhdWx0XG4gICAgICAgICAgICAgIDogcmVxdWlyZShcIkB3YXNtZXIvd2FzaS9saWIvYmluZGluZ3Mvbm9kZVwiKS5kZWZhdWx0O1xuXG5cblxuY2xhc3MgRXhlY0NvcmUgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXG4gICAgb3B0czogRXhlY0NvcmVPcHRpb25zXG4gICAgc3RkaW46IFNpbXBsZXhTdHJlYW1cbiAgICB3YXNtRnM6IFdhc21Gc1xuICAgIGVudjogRW52aXJvblxuICAgIGFyZ3Y6IHN0cmluZ1tdXG4gICAgd2FzaTogV0FTSVxuICAgIHdhc206IFdlYkFzc2VtYmx5LldlYkFzc2VtYmx5SW5zdGFudGlhdGVkU291cmNlXG4gICAgc3RkaW9GZHM6IGFueVtdXG5cbiAgICB0dHk6IFR0eVxuICAgIHByb2M6IFByb2NcblxuICAgIGV4aXRlZDogYm9vbGVhblxuXG4gICAgY2FjaGVkOiBNYXA8c3RyaW5nLCBQcm9taXNlPFdlYkFzc2VtYmx5Lk1vZHVsZT4+IC8qIGNhY2hlZCBiaW5hcmllcyAqL1xuXG4gICAgZGVidWc6ICguLi5hcmdzOiBhbnkpID0+IHZvaWQgPSBub3BcbiAgICB0cmFjZToge3VzZXI6ICh1aThhOiBVaW50OEFycmF5KSA9PiB2b2lkLFxuICAgICAgICAgICAgc3lzY2FsbHM6ICguLi5hcmdzOiBhbnkpID0+IHZvaWR9ID0ge3VzZXI6IG5vcCwgc3lzY2FsbHM6IG5vcH1cblxuICAgIGNvbnN0cnVjdG9yKG9wdHM6IEV4ZWNDb3JlT3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0cyk7XG4gICAgICAgIFxuICAgICAgICAvLyBDb25maWd1cmUgZW52cmlvbm1lbnRcbiAgICAgICAgdGhpcy5zdGRpbiA9IG9wdHMuc3RkaW4gPyBuZXcgU2ltcGxleFN0cmVhbSgpIDogbnVsbDtcbiAgICAgICAgdGhpcy53YXNtRnMgPSBuZXcgV2FzbUZzKCk7XG5cbiAgICAgICAgdGhpcy5wb3B1bGF0ZVJvb3RGcygpO1xuXG4gICAgICAgIHRoaXMucHJvYyA9IG5ldyBQcm9jKHRoaXMsIG9wdHMucHJvYyk7XG4gICAgICAgIHRoaXMudHR5ID0gb3B0cy50dHkgPyBuZXcgVHR5KHRoaXMpIDogbnVsbDtcbiAgICAgICAgdGhpcy5jYWNoZWQgPSAob3B0cy5jYWNoZUJpbnMgIT09IGZhbHNlKSA/IG5ldyBNYXAoKSA6IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdFRyYWNlcygpIHtcbiAgICAgICAgLy8gRGVidWcgcHJpbnRzXG4gICAgICAgIGlmICh0aGlzLm9wdHMuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWcgPSB0aGlzLl9kZWJ1Z1ByaW50KCk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlLnVzZXIgPSB0aGlzLl90cmFjZVByaW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0cy50cmFjZT8uc3lzY2FsbHMpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2Uuc3lzY2FsbHMgPSB0aGlzLl90cmFjZVByaW50QW55KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHR5KVxuICAgICAgICAgICAgdGhpcy50dHkuZGVidWcgPSAoLi4uYSkgPT4gdGhpcy5kZWJ1ZyguLi5hKTtcbiAgICAgICAgdGhpcy5wcm9jLmRlYnVnID0gKC4uLmEpID0+IHRoaXMuZGVidWcoLi4uYSk7XG5cbiAgICAgICAgc3R1YnMuZGVidWcgPSB0aGlzLmRlYnVnOyAvLyBnbG9iYWwgOihcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLmFyZ3YgPSBbJy4nXTtcbiAgICAgICAgdGhpcy5lbnYgPSB0aGlzLmluaXRpYWxFbnYoKTtcblxuICAgICAgICAvLyBJbnN0YW50aWF0ZSBhIG5ldyBXQVNJIEluc3RhbmNlXG4gICAgICAgIHRoaXMud2FzaSA9IG5ldyBXQVNJKHtcbiAgICAgICAgICAgIGFyZ3M6IHRoaXMuYXJndixcbiAgICAgICAgICAgIGVudjogdGhpcy5lbnYsXG4gICAgICAgICAgICBiaW5kaW5nczoge1xuICAgICAgICAgICAgICAgIC4uLldBU0kuZGVmYXVsdEJpbmRpbmdzLFxuICAgICAgICAgICAgICAgIGV4aXQ6IGNvZGUgPT4geyB0aHJvdyBuZXcgV0FTSUV4aXRFcnJvcihjb2RlKSB9LFxuICAgICAgICAgICAgICAgIGZzOiB0aGlzLndhc21Gcy5mcyxcbiAgICAgICAgICAgICAgICBwYXRoOiB0aGlzLnByb2MucGF0aFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZW9wZW5zOiB7Jy8nOiAnLyd9LFxuICAgICAgICAgICAgLi4udGhpcy5leHRyYVdBU0lDb25maWcoKVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5leGl0ZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyU3RkaW8oKTtcbiAgICAgICAgdGhpcy5wcm9jLmluaXQoKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIHR0eSAoZm9yIHN0cmVhbWluZyBzdGRpbilcbiAgICAgICAgbGV0IHR0eSA9IHRoaXMub3B0cy50dHk7XG4gICAgICAgIGlmICh0dHkpIHtcbiAgICAgICAgICAgIHZhciBmZHMgPSAodHlwZW9mIHR0eSA9PSAnbnVtYmVyJykgPyBbdHR5XVxuICAgICAgICAgICAgICAgICAgICA6ICh0eXBlb2YgdHR5ID09ICdib29sZWFuJykgPyBbMCwxLDJdIDogdHR5O1xuICAgICAgICAgICAgdGhpcy50dHkuZmRzID0gZmRzO1xuICAgICAgICAgICAgZm9yIChsZXQgZmQgb2YgZmRzKVxuICAgICAgICAgICAgICAgIHRoaXMudHR5Lm1ha2VUdHkoZmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uZmlndXJlKG9wdHM6IEV4ZWNDb3JlT3B0aW9ucykge1xuICAgICAgICAvKiogQHRvZG8gcmVzZXQgaWYgbmVlZGVkICovXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5vcHRzLCBvcHRzKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RkaW4pIHRoaXMuc3RkaW4ucmVzZXQoKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3RhcnQod2FzbVVyaTogc3RyaW5nLCBhcmd2Pzogc3RyaW5nW10sIGVudj86IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLmV4aXRlZCkgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGlmIChhcmd2KSB0aGlzLmFyZ3Yuc3BsaWNlKDAsIEluZmluaXR5LCAuLi5hcmd2KTtcbiAgICAgICAgaWYgKGVudikgIE9iamVjdC5hc3NpZ24odGhpcy5lbnYsIGVudik7XG4gICAgICAgIHRoaXMucHJvYy5vcHRzID0gdGhpcy5vcHRzLnByb2MgfHwge307IC8vIGluIGNhc2UgbmV3IG9wdGlvbnMgd2hlcmUgc2V0XG4gICAgICAgIHRoaXMuaW5pdFRyYWNlcygpO1xuXG4gICAgICAgIC8vIEZldGNoIFdhc20gYmluYXJ5IGFuZCBpbnN0YW50aWF0ZSBXZWJBc3NlbWJseSBpbnN0YW5jZVxuICAgICAgICB2YXIgd2Ftb2R1bGUgPSBhd2FpdCB0aGlzLmZldGNoQ29tcGlsZSh3YXNtVXJpKSxcbiAgICAgICAgICAgIHdhaW5zdGFuY2UgPSBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZSh3YW1vZHVsZSxcbiAgICAgICAgICAgICAgICB0aGlzLmdldEltcG9ydHMod2Ftb2R1bGUpKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMud2FzbSA9IHttb2R1bGU6IHdhbW9kdWxlLCBpbnN0YW5jZTogd2FpbnN0YW5jZX07XG4gICAgXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBXZWJBc3NlbWJseSBXQVNJIGluc3RhbmNlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndhc2kuc3RhcnQodGhpcy53YXNtLmluc3RhbmNlKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFdBU0lFeGl0RXJyb3IpIHJldHVybiBlLmNvZGU7XG4gICAgICAgICAgICBlbHNlIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLmV4aXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgZnMoKTogSUZzIHsgcmV0dXJuIHRoaXMud2FzbUZzLmZzOyB9XG5cbiAgICBhc3luYyBmZXRjaCh1cmk6IHN0cmluZykge1xuICAgICAgICBpZiAodHlwZW9mIGZldGNoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmkpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuICAgICAgICAgICAgcmV0dXJuICgwfHxmcy5yZWFkRmlsZVN5bmMpKHVyaSk7ICAvLyBieXBhc3MgUGFyY2VsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmZXRjaENvbXBpbGUodXJpOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIG1lbW9pemVNYXliZSh0aGlzLmNhY2hlZCwgdXJpLCBhc3luYyAodXJpOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHZhciBieXRlcyA9IGF3YWl0IHRoaXMuZmV0Y2godXJpKTtcbiAgICAgICAgICAgIC8qKiBAdG9kbyBtYXliZSB1c2UgYHdhc20tZmVhdHVyZS1kZXRlY3RgIHRvIHJ1biB0aGUgdHJhbnNmb3JtZXIgKi9cbiAgICAgICAgICAgIC8qKiBvbiBkZW1hbmQgZGVwZW5kaW5nIG9uIHJ1bnRpbWUgc3VwcG9ydD8gKi9cbiAgICAgICAgICAgIC8vYnl0ZXMgPSBhd2FpdCB0cmFuc2Zvcm1lci5sb3dlckk2NEltcG9ydHMoYnl0ZXMpO1xuICAgICAgICAgICAgcmV0dXJuIFdlYkFzc2VtYmx5LmNvbXBpbGUoYnl0ZXMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdG9kbyB3YXJuIGFib3V0IHVucmVzb2x2ZWQgc3ltYm9scyBzdWNoIGFzIGBfX1NJR19JR05gIHRoYXQgc3RlbVxuICAgICAqICAgIGZyb20gbm90IGxpbmtpbmcgc29tZSB3YXNpLXNkayBlbXVsYXRpb24gbGliIChgLWx3YXNpLWVtdWxhdGVkLXNpZ25hbGApLlxuICAgICAqL1xuICAgIGdldEltcG9ydHMod2Ftb2R1bGU6IFdlYkFzc2VtYmx5Lk1vZHVsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udGhpcy53YXNpLmdldEltcG9ydHMod2Ftb2R1bGUpLFxuICAgICAgICAgICAgd2FzaWtfZXh0OiB7Li4udGhpcy5wcm9jLmV4dGxpYiwgLi4udGhpcy50dHk/LmV4dGxpYn0sXG4gICAgICAgICAgICBlbnY6IHsuLi50aGlzLnByb2MuaW1wb3J0LCAuLi50aGlzLnR0eT8uaW1wb3J0fVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHNoYXJlZCB3aXRoIGEgcGFyZW50IHRocmVhZFxuICAgICAqICh2aWEgZS5nLiBgV29ya2VyLnBvc3RNZXNzYWdlYCkgdG8gY29tbXVuaWNhdGUgd2l0aCB0aGlzIGNvcmUuXG4gICAgICovXG4gICAgc2hhcmUoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0ZGluOiB0aGlzLnN0ZGluLnRvKCksXG4gICAgICAgICAgICB0dHk6IHRoaXMudHR5LnRvKCksXG4gICAgICAgICAgICBzaWd2ZWM6IHRoaXMucHJvYy5zaWd2ZWMudG8oKSxcbiAgICAgICAgICAgIGNoaWxkcTogdGhpcy5wcm9jLmNoaWxkcS50bygpXG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIGVtaXRXcml0ZShmZDogbnVtYmVyLCBidWZmZXI6IEJ1ZmZlciB8IFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdzdHJlYW06b3V0Jywge2ZkOiBmZCwgZGF0YTogYnVmZmVyfSk7XG4gICAgICAgIHJldHVybiBidWZmZXIubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWwgZW52aXJvbm1lbnQgdmFyaWFibGVzXG4gICAgICovXG4gICAgaW5pdGlhbEVudigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0cy5lbnYgPyBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMuZW52KSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmRlZmF1bHRFbnYoKTtcbiAgICB9XG5cbiAgICBkZWZhdWx0RW52KCkge1xuICAgICAgICByZXR1cm4ge1BBVEg6ICcvYmluJywgUFdEOiAnL2hvbWUnfTtcbiAgICB9XG5cbiAgICBleHRyYVdBU0lDb25maWcoKTogV0FTSUNvbmZpZyB7XG4gICAgICAgIGxldCBvID0gdGhpcy5vcHRzO1xuICAgICAgICByZXR1cm4ge3RyYWNlU3lzY2FsbHM6IG8udHJhY2UgJiYgby50cmFjZS5zeXNjYWxsc31cbiAgICB9XG5cbiAgICByZWdpc3RlclN0ZGlvKCkge1xuICAgICAgICB2YXIgdm9sdW1lID0gdGhpcy53YXNtRnMudm9sdW1lO1xuXG4gICAgICAgIGlmICghKHZvbHVtZS5mZHNbMF0gJiYgdm9sdW1lLmZkc1sxXSAmJiB2b2x1bWUuZmRzWzJdKSkge1xuICAgICAgICAgICAgLy8gc3RkaW8gZmRzIGhhdmUgYmVlbiBjbG9zZWQuIHJlLWluaXRcbiAgICAgICAgICAgIHZvbHVtZS5yZWxlYXNlZEZkcyA9IFswLCAxLCAyXTtcbiAgICAgICAgICAgIGNvbnN0IGZkRXJyID0gdm9sdW1lLm9wZW5TeW5jKFwiL2Rldi9zdGRlcnJcIiwgXCJ3XCIpLFxuICAgICAgICAgICAgICAgICAgZmRPdXQgPSB2b2x1bWUub3BlblN5bmMoXCIvZGV2L3N0ZG91dFwiLCBcIndcIiksXG4gICAgICAgICAgICAgICAgICBmZEluID0gdm9sdW1lLm9wZW5TeW5jKFwiL2Rldi9zdGRpblwiLCBcInJcIik7XG4gICAgICAgICAgICBhc3NlcnQoZmRJbiA9PSAwICYmIGZkT3V0ID09IDEgJiYgZmRFcnIgPT0gMik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGRpbilcbiAgICAgICAgICAgIHZvbHVtZS5mZHNbMF0ucmVhZCA9IHRoaXMuc3RkaW4ucmVhZC5iaW5kKHRoaXMuc3RkaW4pO1xuICAgICAgICB2b2x1bWUuZmRzWzFdLndyaXRlID0gZCA9PiB0aGlzLmVtaXRXcml0ZSgxLCBkKTtcbiAgICAgICAgdm9sdW1lLmZkc1syXS53cml0ZSA9IGQgPT4gdGhpcy5lbWl0V3JpdGUoMiwgZCk7XG4gICAgfVxuXG4gICAgbW91bnRGcyh2b2x1bWU6IFNoYXJlZFZvbHVtZSkge1xuICAgICAgICB2b2x1bWUuZnJvbUpTT04odGhpcy53YXNtRnMudm9sdW1lLnRvSlNPTigpKTtcbiAgICAgICAgdGhpcy53YXNtRnMudm9sdW1lID0gdm9sdW1lO1xuICAgICAgICB0aGlzLndhc21Gcy5mcyA9IGNyZWF0ZUZzRnJvbVZvbHVtZSh2b2x1bWUpO1xuICAgICAgICAvLyBtdXN0IHJlY3JlYXRlIFdBU0kgbm93XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJvb3RzdHJhcHBpbmcgZmlsZXN5c3RlbSBjb250ZW50c1xuICAgICAqL1xuICAgIHBvcHVsYXRlUm9vdEZzKCkge1xuICAgICAgICB0aGlzLndhc21Gcy5mcy5ta2RpclN5bmMoXCIvaG9tZVwiKTtcbiAgICAgICAgdGhpcy53YXNtRnMuZnMubWtkaXJTeW5jKFwiL2JpblwiKTtcbiAgICB9XG5cbiAgICBfZGVidWdQcmludCgpIHtcbiAgICAgICAgcmV0dXJuIChnbG9iYWwucHJvY2VzcykgPyAvKiBjb25zb2xlIGlzIGZ1bmt5IGluIE5vZGUgd29ya2VyIHRocmVhZHMgKi9cbiAgICAgICAgICAgICguLi5hcmdzOiBhbnkpID0+IHRoaXMuZW1pdFdyaXRlKDIsIHV0ZjhlbmNvZGUoYXJncy5qb2luKFwiIFwiKSsnXFxuJykpXG4gICAgICAgICAgOiBjb25zb2xlLmxvZztcbiAgICB9XG5cbiAgICBfdHJhY2VQcmludCgpIHtcbiAgICAgICAgcmV0dXJuIChnbG9iYWwucHJvY2VzcykgPyAvKiBjb25zb2xlIGlzIGZ1bmt5IGluIE5vZGUgd29ya2VyIHRocmVhZHMgKi9cbiAgICAgICAgICAgICh1aThhOiBVaW50OEFycmF5KSA9PiB0aGlzLmVtaXRXcml0ZSgyLCB1aThhKVxuICAgICAgICAgIDogKHVpOGE6IFVpbnQ4QXJyYXkpID0+IGNvbnNvbGUud2FybignW3RyYWNlXScsIHV0ZjhkZWNvZGUodWk4YSksIHVpOGEpO1xuICAgIH1cblxuICAgIF90cmFjZVByaW50QW55KCkge1xuICAgICAgICByZXR1cm4gKGdsb2JhbC5wcm9jZXNzKSA/IC8qIGNvbnNvbGUgaXMgZnVua3kgaW4gTm9kZSB3b3JrZXIgdGhyZWFkcyAqL1xuICAgICAgICAgICAgKC4uLmFyZ3M6IGFueSkgPT4gdGhpcy5lbWl0V3JpdGUoMiwgdXRmOGVuY29kZShhcmdzLnRvU3RyaW5nKCkpKVxuICAgICAgICAgIDogKC4uLmFyZ3M6IGFueSkgPT4gY29uc29sZS53YXJuKCdbdHJhY2VdJywgLi4uYXJncyk7XG4gICAgfVxufVxuXG50eXBlIEV4ZWNDb3JlT3B0aW9ucyA9IHtcbiAgICBzdGRpbj8gOiBib29sZWFuLFxuICAgIHR0eT8gOiBib29sZWFuIHwgbnVtYmVyIHwgW251bWJlcl0sXG4gICAgcHJvYz86IFByb2NPcHRpb25zLFxuICAgIGVudj86IEVudmlyb24sXG4gICAgY2FjaGVCaW5zPzogYm9vbGVhbixcbiAgICBkZWJ1Zz86IGJvb2xlYW4sXG4gICAgdHJhY2U/OiB7c3lzY2FsbHM/OiBib29sZWFufVxufTtcblxudHlwZSBFbnZpcm9uID0ge1trOiBzdHJpbmddOiBzdHJpbmd9O1xuXG5jb25zdCBkZWZhdWx0czogRXhlY0NvcmVPcHRpb25zID0ge3N0ZGluOiB0cnVlfTtcblxuY29uc3Qgbm9wID0gKCkgPT4ge307XG5cblxuZnVuY3Rpb24gbWVtb2l6ZTxLLCBWPihjYWNoZTogTWFwPEssIFY+LCBrOiBLLCBmOiAoazogSykgPT4gVikge1xuICAgIGxldCB2ID0gY2FjaGUuZ2V0KGspO1xuICAgIGlmICghdikge1xuICAgICAgICB2ID0gZihrKTtcbiAgICAgICAgY2FjaGUuc2V0KGssIHYpO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cblxuZnVuY3Rpb24gbWVtb2l6ZU1heWJlPEssIFY+KGNhY2hlOiBNYXA8SywgVj4sIGs6IEssIGY6IChrOiBLKSA9PiBWKSB7XG4gICAgcmV0dXJuIGNhY2hlID8gbWVtb2l6ZShjYWNoZSwgaywgZikgOiBmKGspO1xufVxuXG5cbi8qKlxuICogYEB3YXNtZXIvd2FzaWAgZXhwb3J0cyB0aGlzIGNsYXNzIGFzIEVTNSAgOi9cbiAqIFRoaXMga2lsbHMgaW5zdGFuY2VvZi4gU28gcmVkZWZpbmluZyBpdCBoZXJlLiAtXy1cbiAqL1xuZXhwb3J0IGNsYXNzIFdBU0lFeGl0RXJyb3IgLyogZXh0ZW5kcyBFcnJvciovIHtcbiAgICBjb2RlOiBudW1iZXIgfCBudWxsO1xuICAgIGNvbnN0cnVjdG9yKGNvZGU6IG51bWJlciB8IG51bGwpIHtcbiAgICAgICAgLy9zdXBlcihgV0FTSSBFeGl0IGVycm9yOiAke2NvZGV9YCk7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxufVxuXG5cbmV4cG9ydCB7RXhlY0NvcmUsIEVudmlyb24sIEV4ZWNDb3JlT3B0aW9uc31cbiIsICJpbXBvcnQgeyBJY29xUG9kIH0gZnJvbSAnLi9jb3JlJztcblxuXG5cbmZ1bmN0aW9uIHBvc3RNZXNzYWdlKG1zZykge1xuICAgICg8YW55PnNlbGYpLnBvc3RNZXNzYWdlKG1zZyk7XG59XG5cblxuYXN5bmMgZnVuY3Rpb24gbWFpbigpIHtcbiAgICAvKiogQG5vdGUgd2hlbiBzZXJ2aW5nIGZyb20gc291cmNlIHRyZWUsIHRoZSBgbm9kZV9tb2R1bGVzYCByZWYgd29ya3MgYnkgY2hhbmNlICovXG4gICAgdmFyIGljb3EgPSBuZXcgSWNvcVBvZCgnLi4vYmFja2VuZC93YXNtJywgJy4uLy4uLy4uL25vZGVfbW9kdWxlcycpO1xuXG4gICAgcG9zdE1lc3NhZ2UoWydTdGFydGluZyddKTtcbiAgICBpY29xLm9uKCdtZXNzYWdlJywgcG9zdE1lc3NhZ2UpO1xuICAgIGljb3Eub24oJ3Byb2dyZXNzJywgZXYgPT4gcG9zdE1lc3NhZ2UoWydMaWJQcm9ncmVzcycsIGV2XSkpO1xuXG4gICAgYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChtc2cpID0+IHtcbiAgICAgICAgaWNvcS5jb21tYW5kKG1zZy5kYXRhKTtcbiAgICB9KTtcblxuICAgIGF3YWl0IGljb3EuYm9vdCgpO1xuXG4gICAgcG9zdE1lc3NhZ2UoWydCb290J10pO1xuXG4gICAgT2JqZWN0LmFzc2lnbihnbG9iYWwsIHtpY29xfSk7XG59XG5cbm1haW4oKTsiLCAiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCB7IHVuemlwU3luYyB9IGZyb20gJ2ZmbGF0ZSc7XG5pbXBvcnQgeyBpc0Jyb3dzZXIsIGlzV2ViV29ya2VyIH0gZnJvbSAnYnJvd3Nlci1vci1ub2RlJztcbmltcG9ydCB7IE9DYW1sRXhlY3V0YWJsZSwgT0NhbWxDQVBJIH0gZnJvbSAnLi9vY2FtbF9leGVjJztcbmltcG9ydCB7IFdvcmtlckludGVycnVwdHMgfSBmcm9tICcuL2ludGVycnVwdCc7XG5cbmNsYXNzIEljb3FQb2QgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXG4gICAgY29yZTogT0NhbWxFeGVjdXRhYmxlXG4gICAgaW50cjogV29ya2VySW50ZXJydXB0c1xuXG4gICAgYmluRGlyOiBzdHJpbmdcbiAgICBubURpcjogc3RyaW5nXG4gICAgaW86IElPXG5cbiAgICBjb25zdHJ1Y3RvcihiaW5EaXI/OiBzdHJpbmcsIG5tRGlyPzogc3RyaW5nLCBmZXRjaE1vZGU6IEZldGNoTW9kZSA9IERFRkFVTFRfRkVUQ0hfTU9ERSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBiaW5EaXIgPSBiaW5EaXIgfHwgKGZldGNoTW9kZSA9PT0gJ2ZzJyA/ICcuL2JpbicgOiAnLi4vYmluJyk7XG4gICAgICAgIHRoaXMuYmluRGlyID0gYmluRGlyO1xuICAgICAgICB0aGlzLm5tRGlyID0gbm1EaXIgPz8gJy4uL25vZGVfbW9kdWxlcyc7XG5cbiAgICAgICAgdGhpcy5jb3JlID0gbmV3IE9DYW1sRXhlY3V0YWJsZSh7c3RkaW46IGZhbHNlLCB0dHk6IGZhbHNlLCBiaW5EaXI6IGAke25tRGlyfS9vY2FtbC13YXNtL2JpbmB9KTtcblxuICAgICAgICB2YXIgdXRmOCA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgICB0aGlzLmNvcmUub24oJ3N0cmVhbTpvdXQnLCBldiA9PiBjb25zb2xlLmxvZyh1dGY4LmRlY29kZShldi5kYXRhKSkpO1xuXG4gICAgICAgIHRoaXMuaW8gPSBuZXcgSU8oZmV0Y2hNb2RlKTtcbiAgICAgICAgdGhpcy5pbnRyID0gbmV3IFdvcmtlckludGVycnVwdHMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBmaW5kbGliU3RhcnR1cCgpIHtcbiAgICAgICAgdGhpcy5wdXRGaWxlKCcvbGliL2ZpbmRsaWIuY29uZicsIGBwYXRoPVwiL2xpYi9vY2FtbFwiYCk7XG5cbiAgICAgICAgLy8gYXdhaXQgdGhpcy51bnppcCgnL3NjcmF0Y2gvbGliLnppcCcsICcvbGliL29jYW1sJyk7XG4gICAgfVxuXG4gICAgZ2V0IGZzKCkgeyByZXR1cm4gdGhpcy5jb3JlLmZzOyB9XG5cbiAgICBhc3luYyBib290KCkge1xuICAgICAgICBhd2FpdCB0aGlzLnVwbG9hZChgLi4vYmFja2VuZC93YXNtL3dhY29xX3dvcmtlci5iY2AsICcvbGliL2ljb3EuYmMnKTtcbiAgICAgICAgYXdhaXQgdGhpcy5maW5kbGliU3RhcnR1cCgpOyAvKiBAdG9kbyAqL1xuXG4gICAgICAgIHRoaXMuX3ByZWxvYWRTdHViKCk7XG4gICAgXG4gICAgICAgIGF3YWl0IHRoaXMuY29yZS5ydW4oJy9saWIvaWNvcS5iYycsIFtdLCBbJ3dhY29xX3Bvc3QnXSk7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBsb2FkKGZyb21Vcmk6IHN0cmluZywgdG9QYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBhd2FpdCB0aGlzLmlvLl9mZXRjaChmcm9tVXJpKTtcbiAgICAgICAgdGhpcy5wdXRGaWxlKHRvUGF0aCwgY29udGVudCk7XG4gICAgfVxuXG4gICAgbG9hZFBhY2thZ2UodXJpOiBzdHJpbmcsIHJlZnJlc2g6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRQYWNrYWdlcyhbdXJpXSwgcmVmcmVzaCk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFBhY2thZ2VzKHVyaXM6IHN0cmluZyB8IHN0cmluZ1tdLCByZWZyZXNoOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHVyaXMgPT0gJ3N0cmluZycpIHVyaXMgPSBbdXJpc107XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh1cmlzLm1hcChhc3luYyB1cmkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVuemlwKHVyaSwgJy9saWInKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuc3dlcihbWydMaWJMb2FkZWQnLCB1cmldXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5zd2VyKFtbJ0xpYkVycm9yJywgdXJpLCBlLnRvU3RyaW5nKCldXSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuXG4gICAgICAgIC8vaWYgKHJlZnJlc2gpXG4gICAgICAgIC8vICAgIHRoaXMuY29tbWFuZChbJ1JlZnJlc2hMb2FkUGF0aCddKTtcblxuICAgICAgICB0aGlzLmFuc3dlcihbWydMb2FkZWRQa2cnLCB1cmlzXV0pO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRTb3VyY2VzKHVyaTogc3RyaW5nLCBkaXJwYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgdmFyIHN1YmRpciA9IGRpcnBhdGgucmVwbGFjZSgvWy5dfChbXi9dKSQvZywgJyQxLycpO1xuICAgICAgICB0aGlzLnVuemlwKHVyaSwgYC9zcmMvJHtzdWJkaXJ9YCk7XG4gICAgfVxuXG4gICAgdW56aXAodXJpOiBzdHJpbmcsIGRpcjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlvLnVuemlwKHRoaXMuX3BrZ1VyaSh1cmkpLFxuICAgICAgICAgICAgICAgICAgICAoZm4sIHVpOGEpID0+IHRoaXMucHV0RmlsZShgJHtkaXJ9LyR7Zm59YCwgdWk4YSksXG4gICAgICAgICAgICAgICAgICAgIHAgPT4gdGhpcy5fcHJvZ3Jlc3ModXJpLCBwKSk7XG4gICAgfVxuXG4gICAgX3BrZ1VyaSh1cmk6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gKHVyaVswXSA9PSAnKycpID9cbiAgICAgICAgICAgIGAke3RoaXMuYmluRGlyfS9jb3EvJHt1cmkuc3Vic3RyaW5nKDEpfS5jb3EtcGtnYCA6IHVyaTtcbiAgICB9XG5cbiAgICBfcHJvZ3Jlc3ModXJpOiBzdHJpbmcsIGRvd25sb2FkOiBEb3dubG9hZFByb2dyZXNzKSB7XG4gICAgICAgIHRoaXMuZW1pdCgncHJvZ3Jlc3MnLCB7dXJpLCBkb3dubG9hZH0pO1xuICAgIH1cblxuICAgIHB1dEZpbGUoZmlsZW5hbWU6IHN0cmluZywgY29udGVudDogVWludDhBcnJheSB8IHN0cmluZykge1xuICAgICAgICBpZiAoIWZpbGVuYW1lLnN0YXJ0c1dpdGgoJy8nKSkgZmlsZW5hbWUgPSBgL2xpYi8ke2ZpbGVuYW1lfWA7XG4gICAgICAgIC8vIG5lZWRzIHRvIGJlIHN5bmNocm9ub3VzXG4gICAgICAgIHRoaXMuZnMubWtkaXJwU3luYyhmaWxlbmFtZS5yZXBsYWNlKC9bL11bXi9dKyQvLCAnJykpXG4gICAgICAgIHRoaXMuZnMud3JpdGVGaWxlU3luYyhmaWxlbmFtZSwgY29udGVudCk7XG4gICAgfVxuXG4gICAgZ2V0RmlsZShmaWxlbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICghZmlsZW5hbWUuc3RhcnRzV2l0aCgnLycpKSBmaWxlbmFtZSA9IGAvbGliLyR7ZmlsZW5hbWV9YDtcbiAgICAgICAgdmFyIGJ1ZjogVWludDhBcnJheSA9IG51bGw7XG4gICAgICAgIHRyeSB7IGJ1ZiA9IDxhbnk+dGhpcy5mcy5yZWFkRmlsZVN5bmMoZmlsZW5hbWUpOyB9IGNhdGNoIHsgfVxuICAgICAgICB0aGlzLmFuc3dlcihbWydHb3QnLCBmaWxlbmFtZSwgYnVmXV0pO1xuICAgIH1cblxuICAgIGNvbW1hbmQoY21kOiBhbnlbXSkge1xuICAgICAgICBzd2l0Y2ggKGNtZFswXSkge1xuICAgICAgICBjYXNlICdMb2FkUGtnJzogICAgICAgIHRoaXMubG9hZFBhY2thZ2VzKGNtZFsxXSk7ICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSAnUHV0JzogICAgICAgICAgICB0aGlzLnB1dEZpbGUoY21kWzFdLCBjbWRbMl0pOyAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgJ0dldCc6ICAgICAgICAgICAgdGhpcy5nZXRGaWxlKGNtZFsxXSk7ICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlICdJbnRlcnJ1cHRTZXR1cCc6IHRoaXMuaW50ci5zZXR1cChjbWRbMV0pOyAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdhY29xX3Bvc3QgPSB0aGlzLmNvcmUuY2FsbGJhY2tzICYmIHRoaXMuY29yZS5jYWxsYmFja3Mud2Fjb3FfcG9zdDtcbiAgICAgICAgaWYgKCF3YWNvcV9wb3N0KSByZXR1cm47XG5cbiAgICAgICAgdmFyIGpzb24gPSAodHlwZW9mIGNtZCA9PT0gJ3N0cmluZycpID8gY21kIDogSlNPTi5zdHJpbmdpZnkoY21kKSxcbiAgICAgICAgICAgIGFuc3dlciA9IHdhY29xX3Bvc3QodGhpcy5jb3JlLnRvX2NhbWxfc3RyaW5nKGpzb24pKTtcbiAgICAgICAgdGhpcy5fYW5zd2VyKGFuc3dlcik7XG4gICAgfVxuICAgIFxuICAgIGFuc3dlcihtc2dzOiBhbnlbXVtdKSB7XG4gICAgICAgIGZvciAobGV0IG1zZyBvZiBtc2dzKSB0aGlzLmVtaXQoJ21lc3NhZ2UnLCBtc2cpO1xuICAgIH1cbiAgICBcbiAgICBfYW5zd2VyKHB0cjogbnVtYmVyKSB7XG4gICAgICAgIHZhciBjc3RyID0gdGhpcy5jb3JlLnByb2MudXNlckdldENTdHJpbmcocHRyKTtcbiAgICAgICAgdGhpcy5hbnN3ZXIoSlNPTi5wYXJzZSg8YW55PmNzdHIpKTtcbiAgICB9XG5cbiAgICBfaW50ZXJydXB0X3BlbmRpbmcoKSB7XG4gICAgICAgIHJldHVybiBPQ2FtbENBUEkuVmFsX2Jvb2wodGhpcy5pbnRyLnBlbmRpbmcoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogKGludGVybmFsKSBJbml0aWFsaXplcyB0aGUgZGxsY29xcnVuX3N0dWIgc2hhcmVkIGxpYnJhcnkuXG4gICAgICovXG4gICAgX3ByZWxvYWRTdHViKCkge1xuICAgICAgICB0aGlzLmNvcmUucHJvYy5keWxkLnByZWxvYWQoXG4gICAgICAgICAgICAnZGxsemFyaXRoLnNvJywgYCR7dGhpcy5ubURpcn0vQG9jYW1sLXdhc20vNC4xMi0temFyaXRoL2Jpbi9kbGx6YXJpdGgud2FzbWApO1xuICAgICAgICB0aGlzLmNvcmUucHJvYy5keWxkLnByZWxvYWQoXG4gICAgICAgICAgICAnZGxsYmFzZV9zdHVicy5zbycsIGAke3RoaXMubm1EaXJ9L0BvY2FtbC13YXNtLzQuMTItLWphbmVzdHJlZXQtYmFzZS9iaW4vZGxsYmFzZV9zdHVicy53YXNtYCk7XG4gICAgICAgIHRoaXMuY29yZS5wcm9jLmR5bGQucHJlbG9hZChcbiAgICAgICAgICAgICdkbGxiYXNlX2ludGVybmFsaGFzaF90eXBlc19zdHVicy5zbycsIGAke3RoaXMubm1EaXJ9L0BvY2FtbC13YXNtLzQuMTItLWphbmVzdHJlZXQtYmFzZS9iaW4vZGxsYmFzZV9pbnRlcm5hbGhhc2hfdHlwZXNfc3R1YnMud2FzbWApO1xuICAgICAgICB0aGlzLmNvcmUucHJvYy5keWxkLnByZWxvYWQoXG4gICAgICAgICAgICAnZGxsY29xcnVuX3N0dWJzLnNvJywgYCR7dGhpcy5iaW5EaXJ9L2RsbGNvcXJ1bl9zdHVicy53YXNtYCk7XG4gICAgICAgIC8qKiBAb3VjaCB0aGVzZSBudWxsIHN0dWJzIGFyZSBuZWVkZWQgYmVjYXVzZSBvZiBzb21lIHNwdXJpb3VzIGRlcGVuZGVuY3kgKi9cbiAgICAgICAgdGhpcy5jb3JlLnByb2MuZHlsZC5wcmVsb2FkKFxuICAgICAgICAgICAgJ2RsbGJpZ3N0cmluZ2FmX3N0dWJzLnNvJywgYCR7dGhpcy5iaW5EaXJ9L2RsbGxpYl9zdHVicy53YXNtYCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBqczoge1xuICAgICAgICAgICAgICAgICAgICBiaWdzdHJpbmdhZl9ibGl0X3RvX2J5dGVzOiAodnNyYywgdnNyY19vZmYsIHZkc3QsIHZkc3Rfb2ZmLCB2bGVuKSA9PiB7IH0sXG4gICAgICAgICAgICAgICAgICAgIGJpZ3N0cmluZ2FmX2JsaXRfdG9fYmlnc3RyaW5nOiAodnNyYywgdnNyY19vZmYsIHZkc3QsIHZkc3Rfb2ZmLCB2bGVuKSA9PiB7fSxcbiAgICAgICAgICAgICAgICAgICAgYmlnc3RyaW5nYWZfYmxpdF9mcm9tX2J5dGVzOiAodnNyYywgdnNyY19vZmYsIHZkc3QsIHZkc3Rfb2ZmLCB2bGVuKSA9PiB7fSxcbiAgICAgICAgICAgICAgICAgICAgYmlnc3RyaW5nYWZfbWVtY21wX2JpZ3N0cmluZzogKHZiYTEsIHZiYTFfb2ZmLCB2YmEyLCB2YmEyX29mZiwgdmxlbikgPT4ge30sXG4gICAgICAgICAgICAgICAgICAgIGJpZ3N0cmluZ2FmX21lbWNtcF9zdHJpbmc6ICh2YmEsIHZiYV9vZmYsIHZzdHIsIHZzdHJfb2ZmLCB2bGVuKSA9PiB7fSxcbiAgICAgICAgICAgICAgICAgICAgYmlnc3RyaW5nYWZfbWVtY2hyOiAodmJhLCB2YmFfb2ZmLCB2Y2hyLCB2bGVuKSA9PiB7fSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb3JlLnByb2MuZHlsZC5wcmVsb2FkKFxuICAgICAgICAgICAgJ2RsbGxpYl9zdHVicy5zbycsIGAke3RoaXMuYmluRGlyfS9kbGxsaWJfc3R1YnMud2FzbWAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAganM6IHtcbiAgICAgICAgICAgICAgICAgICAgd2Fjb3FfZW1pdDogKHM6bnVtYmVyKSA9PiB0aGlzLl9hbnN3ZXIocyksXG4gICAgICAgICAgICAgICAgICAgIGludGVycnVwdF9wZW5kaW5nOiAoXzpudW1iZXIpID0+IHRoaXMuX2ludGVycnVwdF9wZW5kaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIGNvcV92bV90cmFwOiAodTp2b2lkKSA9PiBjb25zb2xlLndhcm4oJ2NvcSB2bSB0cmFwIScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0gICAgXG59XG5cblxuY2xhc3MgSU8ge1xuXG4gICAgcGVuZGluZyA9IG5ldyBTZXQ8UmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyPFVpbnQ4QXJyYXk+PigpXG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZmV0Y2hNb2RlOiBGZXRjaE1vZGUpIHsgfVxuXG4gICAgYXN5bmMgdW56aXAodXJpOiBzdHJpbmcsIHB1dDogKGZpbGVuYW1lOiBzdHJpbmcsIGNvbnRlbnQ6IFVpbnQ4QXJyYXkpID0+IHZvaWQsIHByb2dyZXNzPzogKHA6IGFueSkgPT4gdm9pZCkge1xuICAgICAgICB2YXIgemlwID0gdW56aXBTeW5jKGF3YWl0IHRoaXMuX2ZldGNoKHVyaSwgcHJvZ3Jlc3MpKTtcblxuICAgICAgICBmb3IgKGxldCBbZmlsZW5hbWUsIGRhdGFdIG9mIE9iamVjdC5lbnRyaWVzKHppcCkpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApICAvKiByZWd1bGFyIGZpbGU7IGFzc3VtZXMgbm8gZW1wdHkgZmlsZXM/ICovXG4gICAgICAgICAgICAgICAgcHV0KGZpbGVuYW1lLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIF9mZXRjaCh1cmk6IHN0cmluZywgcHJvZ3Jlc3M/OiAocDogYW55KSA9PiB2b2lkKSA6IFByb21pc2U8VWludDhBcnJheT4ge1xuICAgICAgICBpZiAocHJvZ3Jlc3MgJiYgdGhpcy5mZXRjaE1vZGUgPT09ICdicm93c2VyJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RvVThBKHRoaXMuX2ZldGNoV2l0aFByb2dyZXNzKHVyaSwgcHJvZ3Jlc3MpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHJldHVybiB0aGlzLl9mZXRjaFNpbXBsZSh1cmkpO1xuICAgIH1cblxuICAgIGFzeW5jIF90b1U4QShibG9iOiBQcm9taXNlPEJsb2I+KSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCAoYXdhaXQgYmxvYikuYXJyYXlCdWZmZXIoKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgX2ZldGNoU2ltcGxlKHVyaTogc3RyaW5nKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5mZXRjaE1vZGUpIHtcbiAgICAgICAgY2FzZSAnYnJvd3Nlcic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgKGF3YWl0IGZldGNoKHVyaSkpLmFycmF5QnVmZmVyKCkpO1xuICAgICAgICBjYXNlICdmcyc6XG4gICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gICAgICAgICAgICByZXR1cm4gKDB8fGZzLnJlYWRGaWxlU3luYykodXJpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGJvaWxlcnBsYXRlXG4gICAgYXN5bmMgX2ZldGNoV2l0aFByb2dyZXNzKHVyaTogc3RyaW5nLCBwcm9ncmVzczogKHA6IGFueSkgPT4gdm9pZCkge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmkpLFxuICAgICAgICAgICAgdG90YWwgPSArcmVzcG9uc2UuaGVhZGVycy5nZXQoJ0NvbnRlbnQtTGVuZ3RoJykgfHwgMTAwMCxcbiAgICAgICAgICAgIHIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpLCBjaHVua3MgPSBbXSwgZG93bmxvYWRlZCA9IDA7XG4gICAgICAgIHRoaXMucGVuZGluZy5hZGQocik7IC8vIHByZXZlbnQgcmVhZGVyIGZyb20gYmVpbmcgZGlzcG9zZWRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvcig7Oykge1xuICAgICAgICAgICAgICAgIHZhciB7dmFsdWUsIGRvbmV9ID0gYXdhaXQgci5yZWFkKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBkb3dubG9hZGVkICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBwcm9ncmVzcyh7dG90YWwsIGRvd25sb2FkZWR9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKGNodW5rcyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IHRoaXMucGVuZGluZy5kZWxldGUocik7IH1cbiAgICB9XG5cbn1cblxuXG50eXBlIEZldGNoTW9kZSA9ICdicm93c2VyJyB8ICdmcyc7XG50eXBlIERvd25sb2FkUHJvZ3Jlc3MgPSB7IHRvdGFsOiBudW1iZXIsIGRvd25sb2FkZWQ6IG51bWJlciB9O1xuXG5jb25zdCBERUZBVUxUX0ZFVENIX01PREU6IEZldGNoTW9kZSA9IChpc0Jyb3dzZXIgfHwgaXNXZWJXb3JrZXIpID8gJ2Jyb3dzZXInIDogJ2ZzJztcblxuXG5leHBvcnQgIHsgSWNvcVBvZCwgRG93bmxvYWRQcm9ncmVzcyB9XG4iLCAiLy8gREVGTEFURSBpcyBhIGNvbXBsZXggZm9ybWF0OyB0byByZWFkIHRoaXMgY29kZSwgeW91IHNob3VsZCBwcm9iYWJseSBjaGVjayB0aGUgUkZDIGZpcnN0OlxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzE5NTFcbi8vIFlvdSBtYXkgYWxzbyB3aXNoIHRvIHRha2UgYSBsb29rIGF0IHRoZSBndWlkZSBJIG1hZGUgYWJvdXQgdGhpcyBwcm9ncmFtOlxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTAxYXJyb3d6LzI1M2YzMWViNWFiYzNkOTI3NWFiOTQzMDAzZmZlY2FkXG4vLyBTb21lIG9mIHRoZSBmb2xsb3dpbmcgY29kZSBpcyBzaW1pbGFyIHRvIHRoYXQgb2YgVVpJUC5qczpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b3BlYS9VWklQLmpzXG4vLyBIb3dldmVyLCB0aGUgdmFzdCBtYWpvcml0eSBvZiB0aGUgY29kZWJhc2UgaGFzIGRpdmVyZ2VkIGZyb20gVVpJUC5qcyB0byBpbmNyZWFzZSBwZXJmb3JtYW5jZSBhbmQgcmVkdWNlIGJ1bmRsZSBzaXplLlxuLy8gU29tZXRpbWVzIDAgd2lsbCBhcHBlYXIgd2hlcmUgLTEgd291bGQgYmUgbW9yZSBhcHByb3ByaWF0ZS4gVGhpcyBpcyBiZWNhdXNlIHVzaW5nIGEgdWludFxuLy8gaXMgYmV0dGVyIGZvciBtZW1vcnkgaW4gbW9zdCBlbmdpbmVzIChJICp0aGluayopLlxudmFyIGNoMiA9IHt9O1xudmFyIHdrID0gKGZ1bmN0aW9uIChjLCBpZCwgbXNnLCB0cmFuc2ZlciwgY2IpIHtcbiAgICB2YXIgdyA9IG5ldyBXb3JrZXIoY2gyW2lkXSB8fCAoY2gyW2lkXSA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW1xuICAgICAgICBjICsgJzthZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixmdW5jdGlvbihlKXtlPWUuZXJyb3I7cG9zdE1lc3NhZ2UoeyRlJDpbZS5tZXNzYWdlLGUuY29kZSxlLnN0YWNrXX0pfSknXG4gICAgXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KSkpKTtcbiAgICB3Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBkID0gZS5kYXRhLCBlZCA9IGQuJGUkO1xuICAgICAgICBpZiAoZWQpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoZWRbMF0pO1xuICAgICAgICAgICAgZXJyWydjb2RlJ10gPSBlZFsxXTtcbiAgICAgICAgICAgIGVyci5zdGFjayA9IGVkWzJdO1xuICAgICAgICAgICAgY2IoZXJyLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjYihudWxsLCBkKTtcbiAgICB9O1xuICAgIHcucG9zdE1lc3NhZ2UobXNnLCB0cmFuc2Zlcik7XG4gICAgcmV0dXJuIHc7XG59KTtcblxuLy8gYWxpYXNlcyBmb3Igc2hvcnRlciBjb21wcmVzc2VkIGNvZGUgKG1vc3QgbWluaWZlcnMgZG9uJ3QgZG8gdGhpcylcbnZhciB1OCA9IFVpbnQ4QXJyYXksIHUxNiA9IFVpbnQxNkFycmF5LCB1MzIgPSBVaW50MzJBcnJheTtcbi8vIGZpeGVkIGxlbmd0aCBleHRyYSBiaXRzXG52YXIgZmxlYiA9IG5ldyB1OChbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMiwgMiwgMiwgMiwgMywgMywgMywgMywgNCwgNCwgNCwgNCwgNSwgNSwgNSwgNSwgMCwgLyogdW51c2VkICovIDAsIDAsIC8qIGltcG9zc2libGUgKi8gMF0pO1xuLy8gZml4ZWQgZGlzdGFuY2UgZXh0cmEgYml0c1xuLy8gc2VlIGZsZWIgbm90ZVxudmFyIGZkZWIgPSBuZXcgdTgoWzAsIDAsIDAsIDAsIDEsIDEsIDIsIDIsIDMsIDMsIDQsIDQsIDUsIDUsIDYsIDYsIDcsIDcsIDgsIDgsIDksIDksIDEwLCAxMCwgMTEsIDExLCAxMiwgMTIsIDEzLCAxMywgLyogdW51c2VkICovIDAsIDBdKTtcbi8vIGNvZGUgbGVuZ3RoIGluZGV4IG1hcFxudmFyIGNsaW0gPSBuZXcgdTgoWzE2LCAxNywgMTgsIDAsIDgsIDcsIDksIDYsIDEwLCA1LCAxMSwgNCwgMTIsIDMsIDEzLCAyLCAxNCwgMSwgMTVdKTtcbi8vIGdldCBiYXNlLCByZXZlcnNlIGluZGV4IG1hcCBmcm9tIGV4dHJhIGJpdHNcbnZhciBmcmViID0gZnVuY3Rpb24gKGViLCBzdGFydCkge1xuICAgIHZhciBiID0gbmV3IHUxNigzMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMTsgKytpKSB7XG4gICAgICAgIGJbaV0gPSBzdGFydCArPSAxIDw8IGViW2kgLSAxXTtcbiAgICB9XG4gICAgLy8gbnVtYmVycyBoZXJlIGFyZSBhdCBtYXggMTggYml0c1xuICAgIHZhciByID0gbmV3IHUzMihiWzMwXSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCAzMDsgKytpKSB7XG4gICAgICAgIGZvciAodmFyIGogPSBiW2ldOyBqIDwgYltpICsgMV07ICsraikge1xuICAgICAgICAgICAgcltqXSA9ICgoaiAtIGJbaV0pIDw8IDUpIHwgaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW2IsIHJdO1xufTtcbnZhciBfYSA9IGZyZWIoZmxlYiwgMiksIGZsID0gX2FbMF0sIHJldmZsID0gX2FbMV07XG4vLyB3ZSBjYW4gaWdub3JlIHRoZSBmYWN0IHRoYXQgdGhlIG90aGVyIG51bWJlcnMgYXJlIHdyb25nOyB0aGV5IG5ldmVyIGhhcHBlbiBhbnl3YXlcbmZsWzI4XSA9IDI1OCwgcmV2ZmxbMjU4XSA9IDI4O1xudmFyIF9iID0gZnJlYihmZGViLCAwKSwgZmQgPSBfYlswXSwgcmV2ZmQgPSBfYlsxXTtcbi8vIG1hcCBvZiB2YWx1ZSB0byByZXZlcnNlIChhc3N1bWluZyAxNiBiaXRzKVxudmFyIHJldiA9IG5ldyB1MTYoMzI3NjgpO1xuZm9yICh2YXIgaSA9IDA7IGkgPCAzMjc2ODsgKytpKSB7XG4gICAgLy8gcmV2ZXJzZSB0YWJsZSBhbGdvcml0aG0gZnJvbSBTT1xuICAgIHZhciB4ID0gKChpICYgMHhBQUFBKSA+Pj4gMSkgfCAoKGkgJiAweDU1NTUpIDw8IDEpO1xuICAgIHggPSAoKHggJiAweENDQ0MpID4+PiAyKSB8ICgoeCAmIDB4MzMzMykgPDwgMik7XG4gICAgeCA9ICgoeCAmIDB4RjBGMCkgPj4+IDQpIHwgKCh4ICYgMHgwRjBGKSA8PCA0KTtcbiAgICByZXZbaV0gPSAoKCh4ICYgMHhGRjAwKSA+Pj4gOCkgfCAoKHggJiAweDAwRkYpIDw8IDgpKSA+Pj4gMTtcbn1cbi8vIGNyZWF0ZSBodWZmbWFuIHRyZWUgZnJvbSB1OCBcIm1hcFwiOiBpbmRleCAtPiBjb2RlIGxlbmd0aCBmb3IgY29kZSBpbmRleFxuLy8gbWIgKG1heCBiaXRzKSBtdXN0IGJlIGF0IG1vc3QgMTVcbi8vIFRPRE86IG9wdGltaXplL3NwbGl0IHVwP1xudmFyIGhNYXAgPSAoZnVuY3Rpb24gKGNkLCBtYiwgcikge1xuICAgIHZhciBzID0gY2QubGVuZ3RoO1xuICAgIC8vIGluZGV4XG4gICAgdmFyIGkgPSAwO1xuICAgIC8vIHUxNiBcIm1hcFwiOiBpbmRleCAtPiAjIG9mIGNvZGVzIHdpdGggYml0IGxlbmd0aCA9IGluZGV4XG4gICAgdmFyIGwgPSBuZXcgdTE2KG1iKTtcbiAgICAvLyBsZW5ndGggb2YgY2QgbXVzdCBiZSAyODggKHRvdGFsICMgb2YgY29kZXMpXG4gICAgZm9yICg7IGkgPCBzOyArK2kpXG4gICAgICAgICsrbFtjZFtpXSAtIDFdO1xuICAgIC8vIHUxNiBcIm1hcFwiOiBpbmRleCAtPiBtaW5pbXVtIGNvZGUgZm9yIGJpdCBsZW5ndGggPSBpbmRleFxuICAgIHZhciBsZSA9IG5ldyB1MTYobWIpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBtYjsgKytpKSB7XG4gICAgICAgIGxlW2ldID0gKGxlW2kgLSAxXSArIGxbaSAtIDFdKSA8PCAxO1xuICAgIH1cbiAgICB2YXIgY287XG4gICAgaWYgKHIpIHtcbiAgICAgICAgLy8gdTE2IFwibWFwXCI6IGluZGV4IC0+IG51bWJlciBvZiBhY3R1YWwgYml0cywgc3ltYm9sIGZvciBjb2RlXG4gICAgICAgIGNvID0gbmV3IHUxNigxIDw8IG1iKTtcbiAgICAgICAgLy8gYml0cyB0byByZW1vdmUgZm9yIHJldmVyc2VyXG4gICAgICAgIHZhciBydmIgPSAxNSAtIG1iO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgczsgKytpKSB7XG4gICAgICAgICAgICAvLyBpZ25vcmUgMCBsZW5ndGhzXG4gICAgICAgICAgICBpZiAoY2RbaV0pIHtcbiAgICAgICAgICAgICAgICAvLyBudW0gZW5jb2RpbmcgYm90aCBzeW1ib2wgYW5kIGJpdHMgcmVhZFxuICAgICAgICAgICAgICAgIHZhciBzdiA9IChpIDw8IDQpIHwgY2RbaV07XG4gICAgICAgICAgICAgICAgLy8gZnJlZSBiaXRzXG4gICAgICAgICAgICAgICAgdmFyIHJfMSA9IG1iIC0gY2RbaV07XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgdiA9IGxlW2NkW2ldIC0gMV0rKyA8PCByXzE7XG4gICAgICAgICAgICAgICAgLy8gbSBpcyBlbmQgdmFsdWVcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBtID0gdiB8ICgoMSA8PCByXzEpIC0gMSk7IHYgPD0gbTsgKyt2KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZXJ5IDE2IGJpdCB2YWx1ZSBzdGFydGluZyB3aXRoIHRoZSBjb2RlIHlpZWxkcyB0aGUgc2FtZSByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgY29bcmV2W3ZdID4+PiBydmJdID0gc3Y7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjbyA9IG5ldyB1MTYocyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChjZFtpXSkge1xuICAgICAgICAgICAgICAgIGNvW2ldID0gcmV2W2xlW2NkW2ldIC0gMV0rK10gPj4+ICgxNSAtIGNkW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY287XG59KTtcbi8vIGZpeGVkIGxlbmd0aCB0cmVlXG52YXIgZmx0ID0gbmV3IHU4KDI4OCk7XG5mb3IgKHZhciBpID0gMDsgaSA8IDE0NDsgKytpKVxuICAgIGZsdFtpXSA9IDg7XG5mb3IgKHZhciBpID0gMTQ0OyBpIDwgMjU2OyArK2kpXG4gICAgZmx0W2ldID0gOTtcbmZvciAodmFyIGkgPSAyNTY7IGkgPCAyODA7ICsraSlcbiAgICBmbHRbaV0gPSA3O1xuZm9yICh2YXIgaSA9IDI4MDsgaSA8IDI4ODsgKytpKVxuICAgIGZsdFtpXSA9IDg7XG4vLyBmaXhlZCBkaXN0YW5jZSB0cmVlXG52YXIgZmR0ID0gbmV3IHU4KDMyKTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMzI7ICsraSlcbiAgICBmZHRbaV0gPSA1O1xuLy8gZml4ZWQgbGVuZ3RoIG1hcFxudmFyIGZsbSA9IC8qI19fUFVSRV9fKi8gaE1hcChmbHQsIDksIDApLCBmbHJtID0gLyojX19QVVJFX18qLyBoTWFwKGZsdCwgOSwgMSk7XG4vLyBmaXhlZCBkaXN0YW5jZSBtYXBcbnZhciBmZG0gPSAvKiNfX1BVUkVfXyovIGhNYXAoZmR0LCA1LCAwKSwgZmRybSA9IC8qI19fUFVSRV9fKi8gaE1hcChmZHQsIDUsIDEpO1xuLy8gZmluZCBtYXggb2YgYXJyYXlcbnZhciBtYXggPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBtID0gYVswXTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFbaV0gPiBtKVxuICAgICAgICAgICAgbSA9IGFbaV07XG4gICAgfVxuICAgIHJldHVybiBtO1xufTtcbi8vIHJlYWQgZCwgc3RhcnRpbmcgYXQgYml0IHAgYW5kIG1hc2sgd2l0aCBtXG52YXIgYml0cyA9IGZ1bmN0aW9uIChkLCBwLCBtKSB7XG4gICAgdmFyIG8gPSAocCAvIDgpIHwgMDtcbiAgICByZXR1cm4gKChkW29dIHwgKGRbbyArIDFdIDw8IDgpKSA+PiAocCAmIDcpKSAmIG07XG59O1xuLy8gcmVhZCBkLCBzdGFydGluZyBhdCBiaXQgcCBjb250aW51aW5nIGZvciBhdCBsZWFzdCAxNiBiaXRzXG52YXIgYml0czE2ID0gZnVuY3Rpb24gKGQsIHApIHtcbiAgICB2YXIgbyA9IChwIC8gOCkgfCAwO1xuICAgIHJldHVybiAoKGRbb10gfCAoZFtvICsgMV0gPDwgOCkgfCAoZFtvICsgMl0gPDwgMTYpKSA+PiAocCAmIDcpKTtcbn07XG4vLyBnZXQgZW5kIG9mIGJ5dGVcbnZhciBzaGZ0ID0gZnVuY3Rpb24gKHApIHsgcmV0dXJuICgocCArIDcpIC8gOCkgfCAwOyB9O1xuLy8gdHlwZWQgYXJyYXkgc2xpY2UgLSBhbGxvd3MgZ2FyYmFnZSBjb2xsZWN0b3IgdG8gZnJlZSBvcmlnaW5hbCByZWZlcmVuY2UsXG4vLyB3aGlsZSBiZWluZyBtb3JlIGNvbXBhdGlibGUgdGhhbiAuc2xpY2VcbnZhciBzbGMgPSBmdW5jdGlvbiAodiwgcywgZSkge1xuICAgIGlmIChzID09IG51bGwgfHwgcyA8IDApXG4gICAgICAgIHMgPSAwO1xuICAgIGlmIChlID09IG51bGwgfHwgZSA+IHYubGVuZ3RoKVxuICAgICAgICBlID0gdi5sZW5ndGg7XG4gICAgLy8gY2FuJ3QgdXNlIC5jb25zdHJ1Y3RvciBpbiBjYXNlIHVzZXItc3VwcGxpZWRcbiAgICB2YXIgbiA9IG5ldyAodiBpbnN0YW5jZW9mIHUxNiA/IHUxNiA6IHYgaW5zdGFuY2VvZiB1MzIgPyB1MzIgOiB1OCkoZSAtIHMpO1xuICAgIG4uc2V0KHYuc3ViYXJyYXkocywgZSkpO1xuICAgIHJldHVybiBuO1xufTtcbi8qKlxuICogQ29kZXMgZm9yIGVycm9ycyBnZW5lcmF0ZWQgd2l0aGluIHRoaXMgbGlicmFyeVxuICovXG5leHBvcnQgdmFyIEZsYXRlRXJyb3JDb2RlID0ge1xuICAgIFVuZXhwZWN0ZWRFT0Y6IDAsXG4gICAgSW52YWxpZEJsb2NrVHlwZTogMSxcbiAgICBJbnZhbGlkTGVuZ3RoTGl0ZXJhbDogMixcbiAgICBJbnZhbGlkRGlzdGFuY2U6IDMsXG4gICAgU3RyZWFtRmluaXNoZWQ6IDQsXG4gICAgTm9TdHJlYW1IYW5kbGVyOiA1LFxuICAgIEludmFsaWRIZWFkZXI6IDYsXG4gICAgTm9DYWxsYmFjazogNyxcbiAgICBJbnZhbGlkVVRGODogOCxcbiAgICBFeHRyYUZpZWxkVG9vTG9uZzogOSxcbiAgICBJbnZhbGlkRGF0ZTogMTAsXG4gICAgRmlsZW5hbWVUb29Mb25nOiAxMSxcbiAgICBTdHJlYW1GaW5pc2hpbmc6IDEyLFxuICAgIEludmFsaWRaaXBEYXRhOiAxMyxcbiAgICBVbmtub3duQ29tcHJlc3Npb25NZXRob2Q6IDE0XG59O1xuLy8gZXJyb3IgY29kZXNcbnZhciBlYyA9IFtcbiAgICAndW5leHBlY3RlZCBFT0YnLFxuICAgICdpbnZhbGlkIGJsb2NrIHR5cGUnLFxuICAgICdpbnZhbGlkIGxlbmd0aC9saXRlcmFsJyxcbiAgICAnaW52YWxpZCBkaXN0YW5jZScsXG4gICAgJ3N0cmVhbSBmaW5pc2hlZCcsXG4gICAgJ25vIHN0cmVhbSBoYW5kbGVyJyxcbiAgICAsXG4gICAgJ25vIGNhbGxiYWNrJyxcbiAgICAnaW52YWxpZCBVVEYtOCBkYXRhJyxcbiAgICAnZXh0cmEgZmllbGQgdG9vIGxvbmcnLFxuICAgICdkYXRlIG5vdCBpbiByYW5nZSAxOTgwLTIwOTknLFxuICAgICdmaWxlbmFtZSB0b28gbG9uZycsXG4gICAgJ3N0cmVhbSBmaW5pc2hpbmcnLFxuICAgICdpbnZhbGlkIHppcCBkYXRhJ1xuICAgIC8vIGRldGVybWluZWQgYnkgdW5rbm93biBjb21wcmVzc2lvbiBtZXRob2Rcbl07XG47XG52YXIgZXJyID0gZnVuY3Rpb24gKGluZCwgbXNnLCBudCkge1xuICAgIHZhciBlID0gbmV3IEVycm9yKG1zZyB8fCBlY1tpbmRdKTtcbiAgICBlLmNvZGUgPSBpbmQ7XG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKVxuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlLCBlcnIpO1xuICAgIGlmICghbnQpXG4gICAgICAgIHRocm93IGU7XG4gICAgcmV0dXJuIGU7XG59O1xuLy8gZXhwYW5kcyByYXcgREVGTEFURSBkYXRhXG52YXIgaW5mbHQgPSBmdW5jdGlvbiAoZGF0LCBidWYsIHN0KSB7XG4gICAgLy8gc291cmNlIGxlbmd0aFxuICAgIHZhciBzbCA9IGRhdC5sZW5ndGg7XG4gICAgaWYgKCFzbCB8fCAoc3QgJiYgc3QuZiAmJiAhc3QubCkpXG4gICAgICAgIHJldHVybiBidWYgfHwgbmV3IHU4KDApO1xuICAgIC8vIGhhdmUgdG8gZXN0aW1hdGUgc2l6ZVxuICAgIHZhciBub0J1ZiA9ICFidWYgfHwgc3Q7XG4gICAgLy8gbm8gc3RhdGVcbiAgICB2YXIgbm9TdCA9ICFzdCB8fCBzdC5pO1xuICAgIGlmICghc3QpXG4gICAgICAgIHN0ID0ge307XG4gICAgLy8gQXNzdW1lcyByb3VnaGx5IDMzJSBjb21wcmVzc2lvbiByYXRpbyBhdmVyYWdlXG4gICAgaWYgKCFidWYpXG4gICAgICAgIGJ1ZiA9IG5ldyB1OChzbCAqIDMpO1xuICAgIC8vIGVuc3VyZSBidWZmZXIgY2FuIGZpdCBhdCBsZWFzdCBsIGVsZW1lbnRzXG4gICAgdmFyIGNidWYgPSBmdW5jdGlvbiAobCkge1xuICAgICAgICB2YXIgYmwgPSBidWYubGVuZ3RoO1xuICAgICAgICAvLyBuZWVkIHRvIGluY3JlYXNlIHNpemUgdG8gZml0XG4gICAgICAgIGlmIChsID4gYmwpIHtcbiAgICAgICAgICAgIC8vIERvdWJsZSBvciBzZXQgdG8gbmVjZXNzYXJ5LCB3aGljaGV2ZXIgaXMgZ3JlYXRlclxuICAgICAgICAgICAgdmFyIG5idWYgPSBuZXcgdTgoTWF0aC5tYXgoYmwgKiAyLCBsKSk7XG4gICAgICAgICAgICBuYnVmLnNldChidWYpO1xuICAgICAgICAgICAgYnVmID0gbmJ1ZjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gIGxhc3QgY2h1bmsgICAgICAgICBiaXRwb3MgICAgICAgICAgIGJ5dGVzXG4gICAgdmFyIGZpbmFsID0gc3QuZiB8fCAwLCBwb3MgPSBzdC5wIHx8IDAsIGJ0ID0gc3QuYiB8fCAwLCBsbSA9IHN0LmwsIGRtID0gc3QuZCwgbGJ0ID0gc3QubSwgZGJ0ID0gc3QubjtcbiAgICAvLyB0b3RhbCBiaXRzXG4gICAgdmFyIHRidHMgPSBzbCAqIDg7XG4gICAgZG8ge1xuICAgICAgICBpZiAoIWxtKSB7XG4gICAgICAgICAgICAvLyBCRklOQUwgLSB0aGlzIGlzIG9ubHkgMSB3aGVuIGxhc3QgY2h1bmsgaXMgbmV4dFxuICAgICAgICAgICAgZmluYWwgPSBiaXRzKGRhdCwgcG9zLCAxKTtcbiAgICAgICAgICAgIC8vIHR5cGU6IDAgPSBubyBjb21wcmVzc2lvbiwgMSA9IGZpeGVkIGh1ZmZtYW4sIDIgPSBkeW5hbWljIGh1ZmZtYW5cbiAgICAgICAgICAgIHZhciB0eXBlID0gYml0cyhkYXQsIHBvcyArIDEsIDMpO1xuICAgICAgICAgICAgcG9zICs9IDM7XG4gICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBnbyB0byBlbmQgb2YgYnl0ZSBib3VuZGFyeVxuICAgICAgICAgICAgICAgIHZhciBzID0gc2hmdChwb3MpICsgNCwgbCA9IGRhdFtzIC0gNF0gfCAoZGF0W3MgLSAzXSA8PCA4KSwgdCA9IHMgKyBsO1xuICAgICAgICAgICAgICAgIGlmICh0ID4gc2wpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vU3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnIoMCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgc2l6ZVxuICAgICAgICAgICAgICAgIGlmIChub0J1ZilcbiAgICAgICAgICAgICAgICAgICAgY2J1ZihidCArIGwpO1xuICAgICAgICAgICAgICAgIC8vIENvcHkgb3ZlciB1bmNvbXByZXNzZWQgZGF0YVxuICAgICAgICAgICAgICAgIGJ1Zi5zZXQoZGF0LnN1YmFycmF5KHMsIHQpLCBidCk7XG4gICAgICAgICAgICAgICAgLy8gR2V0IG5ldyBiaXRwb3MsIHVwZGF0ZSBieXRlIGNvdW50XG4gICAgICAgICAgICAgICAgc3QuYiA9IGJ0ICs9IGwsIHN0LnAgPSBwb3MgPSB0ICogOCwgc3QuZiA9IGZpbmFsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAxKVxuICAgICAgICAgICAgICAgIGxtID0gZmxybSwgZG0gPSBmZHJtLCBsYnQgPSA5LCBkYnQgPSA1O1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gIGxpdGVyYWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3Roc1xuICAgICAgICAgICAgICAgIHZhciBoTGl0ID0gYml0cyhkYXQsIHBvcywgMzEpICsgMjU3LCBoY0xlbiA9IGJpdHMoZGF0LCBwb3MgKyAxMCwgMTUpICsgNDtcbiAgICAgICAgICAgICAgICB2YXIgdGwgPSBoTGl0ICsgYml0cyhkYXQsIHBvcyArIDUsIDMxKSArIDE7XG4gICAgICAgICAgICAgICAgcG9zICs9IDE0O1xuICAgICAgICAgICAgICAgIC8vIGxlbmd0aCtkaXN0YW5jZSB0cmVlXG4gICAgICAgICAgICAgICAgdmFyIGxkdCA9IG5ldyB1OCh0bCk7XG4gICAgICAgICAgICAgICAgLy8gY29kZSBsZW5ndGggdHJlZVxuICAgICAgICAgICAgICAgIHZhciBjbHQgPSBuZXcgdTgoMTkpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGNMZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB1c2UgaW5kZXggbWFwIHRvIGdldCByZWFsIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgY2x0W2NsaW1baV1dID0gYml0cyhkYXQsIHBvcyArIGkgKiAzLCA3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9zICs9IGhjTGVuICogMztcbiAgICAgICAgICAgICAgICAvLyBjb2RlIGxlbmd0aHMgYml0c1xuICAgICAgICAgICAgICAgIHZhciBjbGIgPSBtYXgoY2x0KSwgY2xibXNrID0gKDEgPDwgY2xiKSAtIDE7XG4gICAgICAgICAgICAgICAgLy8gY29kZSBsZW5ndGhzIG1hcFxuICAgICAgICAgICAgICAgIHZhciBjbG0gPSBoTWFwKGNsdCwgY2xiLCAxKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRsOykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IGNsbVtiaXRzKGRhdCwgcG9zLCBjbGJtc2spXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYml0cyByZWFkXG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSByICYgMTU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN5bWJvbFxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHIgPj4+IDQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvZGUgbGVuZ3RoIHRvIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGR0W2krK10gPSBzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIGNvcHkgICBjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSAwLCBuID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09IDE2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAzICsgYml0cyhkYXQsIHBvcywgMyksIHBvcyArPSAyLCBjID0gbGR0W2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMgPT0gMTcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IDMgKyBiaXRzKGRhdCwgcG9zLCA3KSwgcG9zICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzID09IDE4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4gPSAxMSArIGJpdHMoZGF0LCBwb3MsIDEyNyksIHBvcyArPSA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4tLSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZHRbaSsrXSA9IGM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgbGVuZ3RoIHRyZWUgICAgICAgICAgICAgICAgIGRpc3RhbmNlIHRyZWVcbiAgICAgICAgICAgICAgICB2YXIgbHQgPSBsZHQuc3ViYXJyYXkoMCwgaExpdCksIGR0ID0gbGR0LnN1YmFycmF5KGhMaXQpO1xuICAgICAgICAgICAgICAgIC8vIG1heCBsZW5ndGggYml0c1xuICAgICAgICAgICAgICAgIGxidCA9IG1heChsdCk7XG4gICAgICAgICAgICAgICAgLy8gbWF4IGRpc3QgYml0c1xuICAgICAgICAgICAgICAgIGRidCA9IG1heChkdCk7XG4gICAgICAgICAgICAgICAgbG0gPSBoTWFwKGx0LCBsYnQsIDEpO1xuICAgICAgICAgICAgICAgIGRtID0gaE1hcChkdCwgZGJ0LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBlcnIoMSk7XG4gICAgICAgICAgICBpZiAocG9zID4gdGJ0cykge1xuICAgICAgICAgICAgICAgIGlmIChub1N0KVxuICAgICAgICAgICAgICAgICAgICBlcnIoMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBidWZmZXIgY2FuIGhvbGQgdGhpcyArIHRoZSBsYXJnZXN0IHBvc3NpYmxlIGFkZGl0aW9uXG4gICAgICAgIC8vIE1heGltdW0gY2h1bmsgc2l6ZSAocHJhY3RpY2FsbHksIHRoZW9yZXRpY2FsbHkgaW5maW5pdGUpIGlzIDJeMTc7XG4gICAgICAgIGlmIChub0J1ZilcbiAgICAgICAgICAgIGNidWYoYnQgKyAxMzEwNzIpO1xuICAgICAgICB2YXIgbG1zID0gKDEgPDwgbGJ0KSAtIDEsIGRtcyA9ICgxIDw8IGRidCkgLSAxO1xuICAgICAgICB2YXIgbHBvcyA9IHBvcztcbiAgICAgICAgZm9yICg7OyBscG9zID0gcG9zKSB7XG4gICAgICAgICAgICAvLyBiaXRzIHJlYWQsIGNvZGVcbiAgICAgICAgICAgIHZhciBjID0gbG1bYml0czE2KGRhdCwgcG9zKSAmIGxtc10sIHN5bSA9IGMgPj4+IDQ7XG4gICAgICAgICAgICBwb3MgKz0gYyAmIDE1O1xuICAgICAgICAgICAgaWYgKHBvcyA+IHRidHMpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgZXJyKDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjKVxuICAgICAgICAgICAgICAgIGVycigyKTtcbiAgICAgICAgICAgIGlmIChzeW0gPCAyNTYpXG4gICAgICAgICAgICAgICAgYnVmW2J0KytdID0gc3ltO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3ltID09IDI1Nikge1xuICAgICAgICAgICAgICAgIGxwb3MgPSBwb3MsIGxtID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBhZGQgPSBzeW0gLSAyNTQ7XG4gICAgICAgICAgICAgICAgLy8gbm8gZXh0cmEgYml0cyBuZWVkZWQgaWYgbGVzc1xuICAgICAgICAgICAgICAgIGlmIChzeW0gPiAyNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBzeW0gLSAyNTcsIGIgPSBmbGViW2ldO1xuICAgICAgICAgICAgICAgICAgICBhZGQgPSBiaXRzKGRhdCwgcG9zLCAoMSA8PCBiKSAtIDEpICsgZmxbaV07XG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkaXN0XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBkbVtiaXRzMTYoZGF0LCBwb3MpICYgZG1zXSwgZHN5bSA9IGQgPj4+IDQ7XG4gICAgICAgICAgICAgICAgaWYgKCFkKVxuICAgICAgICAgICAgICAgICAgICBlcnIoMyk7XG4gICAgICAgICAgICAgICAgcG9zICs9IGQgJiAxNTtcbiAgICAgICAgICAgICAgICB2YXIgZHQgPSBmZFtkc3ltXTtcbiAgICAgICAgICAgICAgICBpZiAoZHN5bSA+IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSBmZGViW2RzeW1dO1xuICAgICAgICAgICAgICAgICAgICBkdCArPSBiaXRzMTYoZGF0LCBwb3MpICYgKCgxIDw8IGIpIC0gMSksIHBvcyArPSBiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocG9zID4gdGJ0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9TdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycigwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub0J1ZilcbiAgICAgICAgICAgICAgICAgICAgY2J1ZihidCArIDEzMTA3Mik7XG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IGJ0ICsgYWRkO1xuICAgICAgICAgICAgICAgIGZvciAoOyBidCA8IGVuZDsgYnQgKz0gNCkge1xuICAgICAgICAgICAgICAgICAgICBidWZbYnRdID0gYnVmW2J0IC0gZHRdO1xuICAgICAgICAgICAgICAgICAgICBidWZbYnQgKyAxXSA9IGJ1ZltidCArIDEgLSBkdF07XG4gICAgICAgICAgICAgICAgICAgIGJ1ZltidCArIDJdID0gYnVmW2J0ICsgMiAtIGR0XTtcbiAgICAgICAgICAgICAgICAgICAgYnVmW2J0ICsgM10gPSBidWZbYnQgKyAzIC0gZHRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidCA9IGVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdC5sID0gbG0sIHN0LnAgPSBscG9zLCBzdC5iID0gYnQsIHN0LmYgPSBmaW5hbDtcbiAgICAgICAgaWYgKGxtKVxuICAgICAgICAgICAgZmluYWwgPSAxLCBzdC5tID0gbGJ0LCBzdC5kID0gZG0sIHN0Lm4gPSBkYnQ7XG4gICAgfSB3aGlsZSAoIWZpbmFsKTtcbiAgICByZXR1cm4gYnQgPT0gYnVmLmxlbmd0aCA/IGJ1ZiA6IHNsYyhidWYsIDAsIGJ0KTtcbn07XG4vLyBzdGFydGluZyBhdCBwLCB3cml0ZSB0aGUgbWluaW11bSBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBob2xkIHYgdG8gZFxudmFyIHdiaXRzID0gZnVuY3Rpb24gKGQsIHAsIHYpIHtcbiAgICB2IDw8PSBwICYgNztcbiAgICB2YXIgbyA9IChwIC8gOCkgfCAwO1xuICAgIGRbb10gfD0gdjtcbiAgICBkW28gKyAxXSB8PSB2ID4+PiA4O1xufTtcbi8vIHN0YXJ0aW5nIGF0IHAsIHdyaXRlIHRoZSBtaW5pbXVtIG51bWJlciBvZiBiaXRzICg+OCkgdGhhdCBjYW4gaG9sZCB2IHRvIGRcbnZhciB3Yml0czE2ID0gZnVuY3Rpb24gKGQsIHAsIHYpIHtcbiAgICB2IDw8PSBwICYgNztcbiAgICB2YXIgbyA9IChwIC8gOCkgfCAwO1xuICAgIGRbb10gfD0gdjtcbiAgICBkW28gKyAxXSB8PSB2ID4+PiA4O1xuICAgIGRbbyArIDJdIHw9IHYgPj4+IDE2O1xufTtcbi8vIGNyZWF0ZXMgY29kZSBsZW5ndGhzIGZyb20gYSBmcmVxdWVuY3kgdGFibGVcbnZhciBoVHJlZSA9IGZ1bmN0aW9uIChkLCBtYikge1xuICAgIC8vIE5lZWQgZXh0cmEgaW5mbyB0byBtYWtlIGEgdHJlZVxuICAgIHZhciB0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChkW2ldKVxuICAgICAgICAgICAgdC5wdXNoKHsgczogaSwgZjogZFtpXSB9KTtcbiAgICB9XG4gICAgdmFyIHMgPSB0Lmxlbmd0aDtcbiAgICB2YXIgdDIgPSB0LnNsaWNlKCk7XG4gICAgaWYgKCFzKVxuICAgICAgICByZXR1cm4gW2V0LCAwXTtcbiAgICBpZiAocyA9PSAxKSB7XG4gICAgICAgIHZhciB2ID0gbmV3IHU4KHRbMF0ucyArIDEpO1xuICAgICAgICB2W3RbMF0uc10gPSAxO1xuICAgICAgICByZXR1cm4gW3YsIDFdO1xuICAgIH1cbiAgICB0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuZiAtIGIuZjsgfSk7XG4gICAgLy8gYWZ0ZXIgaTIgcmVhY2hlcyBsYXN0IGluZCwgd2lsbCBiZSBzdG9wcGVkXG4gICAgLy8gZnJlcSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBsYXJnZXN0IHBvc3NpYmxlIG51bWJlciBvZiBzeW1ib2xzXG4gICAgdC5wdXNoKHsgczogLTEsIGY6IDI1MDAxIH0pO1xuICAgIHZhciBsID0gdFswXSwgciA9IHRbMV0sIGkwID0gMCwgaTEgPSAxLCBpMiA9IDI7XG4gICAgdFswXSA9IHsgczogLTEsIGY6IGwuZiArIHIuZiwgbDogbCwgcjogciB9O1xuICAgIC8vIGVmZmljaWVudCBhbGdvcml0aG0gZnJvbSBVWklQLmpzXG4gICAgLy8gaTAgaXMgbG9va2JlaGluZCwgaTIgaXMgbG9va2FoZWFkIC0gYWZ0ZXIgcHJvY2Vzc2luZyB0d28gbG93LWZyZXFcbiAgICAvLyBzeW1ib2xzIHRoYXQgY29tYmluZWQgaGF2ZSBoaWdoIGZyZXEsIHdpbGwgc3RhcnQgcHJvY2Vzc2luZyBpMiAoaGlnaC1mcmVxLFxuICAgIC8vIG5vbi1jb21wb3NpdGUpIHN5bWJvbHMgaW5zdGVhZFxuICAgIC8vIHNlZSBodHRwczovL3JlZGRpdC5jb20vci9waG90b3BlYS9jb21tZW50cy9pa2VraHQvdXppcGpzX3F1ZXN0aW9ucy9cbiAgICB3aGlsZSAoaTEgIT0gcyAtIDEpIHtcbiAgICAgICAgbCA9IHRbdFtpMF0uZiA8IHRbaTJdLmYgPyBpMCsrIDogaTIrK107XG4gICAgICAgIHIgPSB0W2kwICE9IGkxICYmIHRbaTBdLmYgPCB0W2kyXS5mID8gaTArKyA6IGkyKytdO1xuICAgICAgICB0W2kxKytdID0geyBzOiAtMSwgZjogbC5mICsgci5mLCBsOiBsLCByOiByIH07XG4gICAgfVxuICAgIHZhciBtYXhTeW0gPSB0MlswXS5zO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgczsgKytpKSB7XG4gICAgICAgIGlmICh0MltpXS5zID4gbWF4U3ltKVxuICAgICAgICAgICAgbWF4U3ltID0gdDJbaV0ucztcbiAgICB9XG4gICAgLy8gY29kZSBsZW5ndGhzXG4gICAgdmFyIHRyID0gbmV3IHUxNihtYXhTeW0gKyAxKTtcbiAgICAvLyBtYXggYml0cyBpbiB0cmVlXG4gICAgdmFyIG1idCA9IGxuKHRbaTEgLSAxXSwgdHIsIDApO1xuICAgIGlmIChtYnQgPiBtYikge1xuICAgICAgICAvLyBtb3JlIGFsZ29yaXRobXMgZnJvbSBVWklQLmpzXG4gICAgICAgIC8vIFRPRE86IGZpbmQgb3V0IGhvdyB0aGlzIGNvZGUgd29ya3MgKGRlYnQpXG4gICAgICAgIC8vICBpbmQgICAgZGVidFxuICAgICAgICB2YXIgaSA9IDAsIGR0ID0gMDtcbiAgICAgICAgLy8gICAgbGVmdCAgICAgICAgICAgIGNvc3RcbiAgICAgICAgdmFyIGxmdCA9IG1idCAtIG1iLCBjc3QgPSAxIDw8IGxmdDtcbiAgICAgICAgdDIuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gdHJbYi5zXSAtIHRyW2Euc10gfHwgYS5mIC0gYi5mOyB9KTtcbiAgICAgICAgZm9yICg7IGkgPCBzOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpMl8xID0gdDJbaV0ucztcbiAgICAgICAgICAgIGlmICh0cltpMl8xXSA+IG1iKSB7XG4gICAgICAgICAgICAgICAgZHQgKz0gY3N0IC0gKDEgPDwgKG1idCAtIHRyW2kyXzFdKSk7XG4gICAgICAgICAgICAgICAgdHJbaTJfMV0gPSBtYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkdCA+Pj49IGxmdDtcbiAgICAgICAgd2hpbGUgKGR0ID4gMCkge1xuICAgICAgICAgICAgdmFyIGkyXzIgPSB0MltpXS5zO1xuICAgICAgICAgICAgaWYgKHRyW2kyXzJdIDwgbWIpXG4gICAgICAgICAgICAgICAgZHQgLT0gMSA8PCAobWIgLSB0cltpMl8yXSsrIC0gMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgKytpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoOyBpID49IDAgJiYgZHQ7IC0taSkge1xuICAgICAgICAgICAgdmFyIGkyXzMgPSB0MltpXS5zO1xuICAgICAgICAgICAgaWYgKHRyW2kyXzNdID09IG1iKSB7XG4gICAgICAgICAgICAgICAgLS10cltpMl8zXTtcbiAgICAgICAgICAgICAgICArK2R0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1idCA9IG1iO1xuICAgIH1cbiAgICByZXR1cm4gW25ldyB1OCh0ciksIG1idF07XG59O1xuLy8gZ2V0IHRoZSBtYXggbGVuZ3RoIGFuZCBhc3NpZ24gbGVuZ3RoIGNvZGVzXG52YXIgbG4gPSBmdW5jdGlvbiAobiwgbCwgZCkge1xuICAgIHJldHVybiBuLnMgPT0gLTFcbiAgICAgICAgPyBNYXRoLm1heChsbihuLmwsIGwsIGQgKyAxKSwgbG4obi5yLCBsLCBkICsgMSkpXG4gICAgICAgIDogKGxbbi5zXSA9IGQpO1xufTtcbi8vIGxlbmd0aCBjb2RlcyBnZW5lcmF0aW9uXG52YXIgbGMgPSBmdW5jdGlvbiAoYykge1xuICAgIHZhciBzID0gYy5sZW5ndGg7XG4gICAgLy8gTm90ZSB0aGF0IHRoZSBzZW1pY29sb24gd2FzIGludGVudGlvbmFsXG4gICAgd2hpbGUgKHMgJiYgIWNbLS1zXSlcbiAgICAgICAgO1xuICAgIHZhciBjbCA9IG5ldyB1MTYoKytzKTtcbiAgICAvLyAgaW5kICAgICAgbnVtICAgICAgICAgc3RyZWFrXG4gICAgdmFyIGNsaSA9IDAsIGNsbiA9IGNbMF0sIGNscyA9IDE7XG4gICAgdmFyIHcgPSBmdW5jdGlvbiAodikgeyBjbFtjbGkrK10gPSB2OyB9O1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHM7ICsraSkge1xuICAgICAgICBpZiAoY1tpXSA9PSBjbG4gJiYgaSAhPSBzKVxuICAgICAgICAgICAgKytjbHM7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFjbG4gJiYgY2xzID4gMikge1xuICAgICAgICAgICAgICAgIGZvciAoOyBjbHMgPiAxMzg7IGNscyAtPSAxMzgpXG4gICAgICAgICAgICAgICAgICAgIHcoMzI3NTQpO1xuICAgICAgICAgICAgICAgIGlmIChjbHMgPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHcoY2xzID4gMTAgPyAoKGNscyAtIDExKSA8PCA1KSB8IDI4NjkwIDogKChjbHMgLSAzKSA8PCA1KSB8IDEyMzA1KTtcbiAgICAgICAgICAgICAgICAgICAgY2xzID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjbHMgPiAzKSB7XG4gICAgICAgICAgICAgICAgdyhjbG4pLCAtLWNscztcbiAgICAgICAgICAgICAgICBmb3IgKDsgY2xzID4gNjsgY2xzIC09IDYpXG4gICAgICAgICAgICAgICAgICAgIHcoODMwNCk7XG4gICAgICAgICAgICAgICAgaWYgKGNscyA+IDIpXG4gICAgICAgICAgICAgICAgICAgIHcoKChjbHMgLSAzKSA8PCA1KSB8IDgyMDgpLCBjbHMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGNscy0tKVxuICAgICAgICAgICAgICAgIHcoY2xuKTtcbiAgICAgICAgICAgIGNscyA9IDE7XG4gICAgICAgICAgICBjbG4gPSBjW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbY2wuc3ViYXJyYXkoMCwgY2xpKSwgc107XG59O1xuLy8gY2FsY3VsYXRlIHRoZSBsZW5ndGggb2Ygb3V0cHV0IGZyb20gdHJlZSwgY29kZSBsZW5ndGhzXG52YXIgY2xlbiA9IGZ1bmN0aW9uIChjZiwgY2wpIHtcbiAgICB2YXIgbCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbC5sZW5ndGg7ICsraSlcbiAgICAgICAgbCArPSBjZltpXSAqIGNsW2ldO1xuICAgIHJldHVybiBsO1xufTtcbi8vIHdyaXRlcyBhIGZpeGVkIGJsb2NrXG4vLyByZXR1cm5zIHRoZSBuZXcgYml0IHBvc1xudmFyIHdmYmxrID0gZnVuY3Rpb24gKG91dCwgcG9zLCBkYXQpIHtcbiAgICAvLyBubyBuZWVkIHRvIHdyaXRlIDAwIGFzIHR5cGU6IFR5cGVkQXJyYXkgZGVmYXVsdHMgdG8gMFxuICAgIHZhciBzID0gZGF0Lmxlbmd0aDtcbiAgICB2YXIgbyA9IHNoZnQocG9zICsgMik7XG4gICAgb3V0W29dID0gcyAmIDI1NTtcbiAgICBvdXRbbyArIDFdID0gcyA+Pj4gODtcbiAgICBvdXRbbyArIDJdID0gb3V0W29dIF4gMjU1O1xuICAgIG91dFtvICsgM10gPSBvdXRbbyArIDFdIF4gMjU1O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgKytpKVxuICAgICAgICBvdXRbbyArIGkgKyA0XSA9IGRhdFtpXTtcbiAgICByZXR1cm4gKG8gKyA0ICsgcykgKiA4O1xufTtcbi8vIHdyaXRlcyBhIGJsb2NrXG52YXIgd2JsayA9IGZ1bmN0aW9uIChkYXQsIG91dCwgZmluYWwsIHN5bXMsIGxmLCBkZiwgZWIsIGxpLCBicywgYmwsIHApIHtcbiAgICB3Yml0cyhvdXQsIHArKywgZmluYWwpO1xuICAgICsrbGZbMjU2XTtcbiAgICB2YXIgX2EgPSBoVHJlZShsZiwgMTUpLCBkbHQgPSBfYVswXSwgbWxiID0gX2FbMV07XG4gICAgdmFyIF9iID0gaFRyZWUoZGYsIDE1KSwgZGR0ID0gX2JbMF0sIG1kYiA9IF9iWzFdO1xuICAgIHZhciBfYyA9IGxjKGRsdCksIGxjbHQgPSBfY1swXSwgbmxjID0gX2NbMV07XG4gICAgdmFyIF9kID0gbGMoZGR0KSwgbGNkdCA9IF9kWzBdLCBuZGMgPSBfZFsxXTtcbiAgICB2YXIgbGNmcmVxID0gbmV3IHUxNigxOSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsY2x0Lmxlbmd0aDsgKytpKVxuICAgICAgICBsY2ZyZXFbbGNsdFtpXSAmIDMxXSsrO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGNkdC5sZW5ndGg7ICsraSlcbiAgICAgICAgbGNmcmVxW2xjZHRbaV0gJiAzMV0rKztcbiAgICB2YXIgX2UgPSBoVHJlZShsY2ZyZXEsIDcpLCBsY3QgPSBfZVswXSwgbWxjYiA9IF9lWzFdO1xuICAgIHZhciBubGNjID0gMTk7XG4gICAgZm9yICg7IG5sY2MgPiA0ICYmICFsY3RbY2xpbVtubGNjIC0gMV1dOyAtLW5sY2MpXG4gICAgICAgIDtcbiAgICB2YXIgZmxlbiA9IChibCArIDUpIDw8IDM7XG4gICAgdmFyIGZ0bGVuID0gY2xlbihsZiwgZmx0KSArIGNsZW4oZGYsIGZkdCkgKyBlYjtcbiAgICB2YXIgZHRsZW4gPSBjbGVuKGxmLCBkbHQpICsgY2xlbihkZiwgZGR0KSArIGViICsgMTQgKyAzICogbmxjYyArIGNsZW4obGNmcmVxLCBsY3QpICsgKDIgKiBsY2ZyZXFbMTZdICsgMyAqIGxjZnJlcVsxN10gKyA3ICogbGNmcmVxWzE4XSk7XG4gICAgaWYgKGZsZW4gPD0gZnRsZW4gJiYgZmxlbiA8PSBkdGxlbilcbiAgICAgICAgcmV0dXJuIHdmYmxrKG91dCwgcCwgZGF0LnN1YmFycmF5KGJzLCBicyArIGJsKSk7XG4gICAgdmFyIGxtLCBsbCwgZG0sIGRsO1xuICAgIHdiaXRzKG91dCwgcCwgMSArIChkdGxlbiA8IGZ0bGVuKSksIHAgKz0gMjtcbiAgICBpZiAoZHRsZW4gPCBmdGxlbikge1xuICAgICAgICBsbSA9IGhNYXAoZGx0LCBtbGIsIDApLCBsbCA9IGRsdCwgZG0gPSBoTWFwKGRkdCwgbWRiLCAwKSwgZGwgPSBkZHQ7XG4gICAgICAgIHZhciBsbG0gPSBoTWFwKGxjdCwgbWxjYiwgMCk7XG4gICAgICAgIHdiaXRzKG91dCwgcCwgbmxjIC0gMjU3KTtcbiAgICAgICAgd2JpdHMob3V0LCBwICsgNSwgbmRjIC0gMSk7XG4gICAgICAgIHdiaXRzKG91dCwgcCArIDEwLCBubGNjIC0gNCk7XG4gICAgICAgIHAgKz0gMTQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmxjYzsgKytpKVxuICAgICAgICAgICAgd2JpdHMob3V0LCBwICsgMyAqIGksIGxjdFtjbGltW2ldXSk7XG4gICAgICAgIHAgKz0gMyAqIG5sY2M7XG4gICAgICAgIHZhciBsY3RzID0gW2xjbHQsIGxjZHRdO1xuICAgICAgICBmb3IgKHZhciBpdCA9IDA7IGl0IDwgMjsgKytpdCkge1xuICAgICAgICAgICAgdmFyIGNsY3QgPSBsY3RzW2l0XTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xjdC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBjbGN0W2ldICYgMzE7XG4gICAgICAgICAgICAgICAgd2JpdHMob3V0LCBwLCBsbG1bbGVuXSksIHAgKz0gbGN0W2xlbl07XG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IDE1KVxuICAgICAgICAgICAgICAgICAgICB3Yml0cyhvdXQsIHAsIChjbGN0W2ldID4+PiA1KSAmIDEyNyksIHAgKz0gY2xjdFtpXSA+Pj4gMTI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxtID0gZmxtLCBsbCA9IGZsdCwgZG0gPSBmZG0sIGRsID0gZmR0O1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpOyArK2kpIHtcbiAgICAgICAgaWYgKHN5bXNbaV0gPiAyNTUpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSAoc3ltc1tpXSA+Pj4gMTgpICYgMzE7XG4gICAgICAgICAgICB3Yml0czE2KG91dCwgcCwgbG1bbGVuICsgMjU3XSksIHAgKz0gbGxbbGVuICsgMjU3XTtcbiAgICAgICAgICAgIGlmIChsZW4gPiA3KVxuICAgICAgICAgICAgICAgIHdiaXRzKG91dCwgcCwgKHN5bXNbaV0gPj4+IDIzKSAmIDMxKSwgcCArPSBmbGViW2xlbl07XG4gICAgICAgICAgICB2YXIgZHN0ID0gc3ltc1tpXSAmIDMxO1xuICAgICAgICAgICAgd2JpdHMxNihvdXQsIHAsIGRtW2RzdF0pLCBwICs9IGRsW2RzdF07XG4gICAgICAgICAgICBpZiAoZHN0ID4gMylcbiAgICAgICAgICAgICAgICB3Yml0czE2KG91dCwgcCwgKHN5bXNbaV0gPj4+IDUpICYgODE5MSksIHAgKz0gZmRlYltkc3RdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2JpdHMxNihvdXQsIHAsIGxtW3N5bXNbaV1dKSwgcCArPSBsbFtzeW1zW2ldXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3Yml0czE2KG91dCwgcCwgbG1bMjU2XSk7XG4gICAgcmV0dXJuIHAgKyBsbFsyNTZdO1xufTtcbi8vIGRlZmxhdGUgb3B0aW9ucyAobmljZSA8PCAxMykgfCBjaGFpblxudmFyIGRlbyA9IC8qI19fUFVSRV9fKi8gbmV3IHUzMihbNjU1NDAsIDEzMTA4MCwgMTMxMDg4LCAxMzExMDQsIDI2MjE3NiwgMTA0ODcwNCwgMTA0ODgzMiwgMjExNDU2MCwgMjExNzYzMl0pO1xuLy8gZW1wdHlcbnZhciBldCA9IC8qI19fUFVSRV9fKi8gbmV3IHU4KDApO1xuLy8gY29tcHJlc3NlcyBkYXRhIGludG8gYSByYXcgREVGTEFURSBidWZmZXJcbnZhciBkZmx0ID0gZnVuY3Rpb24gKGRhdCwgbHZsLCBwbHZsLCBwcmUsIHBvc3QsIGxzdCkge1xuICAgIHZhciBzID0gZGF0Lmxlbmd0aDtcbiAgICB2YXIgbyA9IG5ldyB1OChwcmUgKyBzICsgNSAqICgxICsgTWF0aC5jZWlsKHMgLyA3MDAwKSkgKyBwb3N0KTtcbiAgICAvLyB3cml0aW5nIHRvIHRoaXMgd3JpdGVzIHRvIHRoZSBvdXRwdXQgYnVmZmVyXG4gICAgdmFyIHcgPSBvLnN1YmFycmF5KHByZSwgby5sZW5ndGggLSBwb3N0KTtcbiAgICB2YXIgcG9zID0gMDtcbiAgICBpZiAoIWx2bCB8fCBzIDwgOCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzOyBpICs9IDY1NTM1KSB7XG4gICAgICAgICAgICAvLyBlbmRcbiAgICAgICAgICAgIHZhciBlID0gaSArIDY1NTM1O1xuICAgICAgICAgICAgaWYgKGUgPCBzKSB7XG4gICAgICAgICAgICAgICAgLy8gd3JpdGUgZnVsbCBibG9ja1xuICAgICAgICAgICAgICAgIHBvcyA9IHdmYmxrKHcsIHBvcywgZGF0LnN1YmFycmF5KGksIGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHdyaXRlIGZpbmFsIGJsb2NrXG4gICAgICAgICAgICAgICAgd1tpXSA9IGxzdDtcbiAgICAgICAgICAgICAgICBwb3MgPSB3ZmJsayh3LCBwb3MsIGRhdC5zdWJhcnJheShpLCBzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBvcHQgPSBkZW9bbHZsIC0gMV07XG4gICAgICAgIHZhciBuID0gb3B0ID4+PiAxMywgYyA9IG9wdCAmIDgxOTE7XG4gICAgICAgIHZhciBtc2tfMSA9ICgxIDw8IHBsdmwpIC0gMTtcbiAgICAgICAgLy8gICAgcHJldiAyLWJ5dGUgdmFsIG1hcCAgICBjdXJyIDItYnl0ZSB2YWwgbWFwXG4gICAgICAgIHZhciBwcmV2ID0gbmV3IHUxNigzMjc2OCksIGhlYWQgPSBuZXcgdTE2KG1za18xICsgMSk7XG4gICAgICAgIHZhciBiczFfMSA9IE1hdGguY2VpbChwbHZsIC8gMyksIGJzMl8xID0gMiAqIGJzMV8xO1xuICAgICAgICB2YXIgaHNoID0gZnVuY3Rpb24gKGkpIHsgcmV0dXJuIChkYXRbaV0gXiAoZGF0W2kgKyAxXSA8PCBiczFfMSkgXiAoZGF0W2kgKyAyXSA8PCBiczJfMSkpICYgbXNrXzE7IH07XG4gICAgICAgIC8vIDI0NTc2IGlzIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgbWF4aW11bSBzeW1ib2xzIHBlciBibG9ja1xuICAgICAgICAvLyA0MjQgYnVmZmVyIGZvciBsYXN0IGJsb2NrXG4gICAgICAgIHZhciBzeW1zID0gbmV3IHUzMigyNTAwMCk7XG4gICAgICAgIC8vIGxlbmd0aC9saXRlcmFsIGZyZXEgICBkaXN0YW5jZSBmcmVxXG4gICAgICAgIHZhciBsZiA9IG5ldyB1MTYoMjg4KSwgZGYgPSBuZXcgdTE2KDMyKTtcbiAgICAgICAgLy8gIGwvbGNudCAgZXhiaXRzICBpbmRleCAgbC9saW5kICB3YWl0ZHggIGJpdHBvc1xuICAgICAgICB2YXIgbGNfMSA9IDAsIGViID0gMCwgaSA9IDAsIGxpID0gMCwgd2kgPSAwLCBicyA9IDA7XG4gICAgICAgIGZvciAoOyBpIDwgczsgKytpKSB7XG4gICAgICAgICAgICAvLyBoYXNoIHZhbHVlXG4gICAgICAgICAgICAvLyBkZW9wdCB3aGVuIGkgPiBzIC0gMyAtIGF0IGVuZCwgZGVvcHQgYWNjZXB0YWJsZVxuICAgICAgICAgICAgdmFyIGh2ID0gaHNoKGkpO1xuICAgICAgICAgICAgLy8gaW5kZXggbW9kIDMyNzY4ICAgIHByZXZpb3VzIGluZGV4IG1vZFxuICAgICAgICAgICAgdmFyIGltb2QgPSBpICYgMzI3NjcsIHBpbW9kID0gaGVhZFtodl07XG4gICAgICAgICAgICBwcmV2W2ltb2RdID0gcGltb2Q7XG4gICAgICAgICAgICBoZWFkW2h2XSA9IGltb2Q7XG4gICAgICAgICAgICAvLyBXZSBhbHdheXMgc2hvdWxkIG1vZGlmeSBoZWFkIGFuZCBwcmV2LCBidXQgb25seSBhZGQgc3ltYm9scyBpZlxuICAgICAgICAgICAgLy8gdGhpcyBkYXRhIGlzIG5vdCB5ZXQgcHJvY2Vzc2VkIChcIndhaXRcIiBmb3Igd2FpdCBpbmRleClcbiAgICAgICAgICAgIGlmICh3aSA8PSBpKSB7XG4gICAgICAgICAgICAgICAgLy8gYnl0ZXMgcmVtYWluaW5nXG4gICAgICAgICAgICAgICAgdmFyIHJlbSA9IHMgLSBpO1xuICAgICAgICAgICAgICAgIGlmICgobGNfMSA+IDcwMDAgfHwgbGkgPiAyNDU3NikgJiYgcmVtID4gNDIzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IHdibGsoZGF0LCB3LCAwLCBzeW1zLCBsZiwgZGYsIGViLCBsaSwgYnMsIGkgLSBicywgcG9zKTtcbiAgICAgICAgICAgICAgICAgICAgbGkgPSBsY18xID0gZWIgPSAwLCBicyA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMjg2OyArK2opXG4gICAgICAgICAgICAgICAgICAgICAgICBsZltqXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzA7ICsrailcbiAgICAgICAgICAgICAgICAgICAgICAgIGRmW2pdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gIGxlbiAgICBkaXN0ICAgY2hhaW5cbiAgICAgICAgICAgICAgICB2YXIgbCA9IDIsIGQgPSAwLCBjaF8xID0gYywgZGlmID0gKGltb2QgLSBwaW1vZCkgJiAzMjc2NztcbiAgICAgICAgICAgICAgICBpZiAocmVtID4gMiAmJiBodiA9PSBoc2goaSAtIGRpZikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heG4gPSBNYXRoLm1pbihuLCByZW0pIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heGQgPSBNYXRoLm1pbigzMjc2NywgaSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1heCBwb3NzaWJsZSBsZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IGNhcHBlZCBhdCBkaWYgYmVjYXVzZSBkZWNvbXByZXNzb3JzIGltcGxlbWVudCBcInJvbGxpbmdcIiBpbmRleCBwb3B1bGF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBtbCA9IE1hdGgubWluKDI1OCwgcmVtKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRpZiA8PSBtYXhkICYmIC0tY2hfMSAmJiBpbW9kICE9IHBpbW9kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0W2kgKyBsXSA9PSBkYXRbaSArIGwgLSBkaWZdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5sID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgbmwgPCBtbCAmJiBkYXRbaSArIG5sXSA9PSBkYXRbaSArIG5sIC0gZGlmXTsgKytubClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChubCA+IGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IG5sLCBkID0gZGlmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBicmVhayBvdXQgZWFybHkgd2hlbiB3ZSByZWFjaCBcIm5pY2VcIiAod2UgYXJlIHNhdGlzZmllZCBlbm91Z2gpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChubCA+IG1heG4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm93LCBmaW5kIHRoZSByYXJlc3QgMi1ieXRlIHNlcXVlbmNlIHdpdGhpbiB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxlbmd0aCBvZiBsaXRlcmFscyBhbmQgc2VhcmNoIGZvciB0aGF0IGluc3RlYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11Y2ggZmFzdGVyIHRoYW4ganVzdCB1c2luZyB0aGUgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1tZCA9IE1hdGgubWluKGRpZiwgbmwgLSAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1kID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtbWQ7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpID0gKGkgLSBkaWYgKyBqICsgMzI3NjgpICYgMzI3Njc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHRpID0gcHJldlt0aV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2QgPSAodGkgLSBwdGkgKyAzMjc2OCkgJiAzMjc2NztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZCA+IG1kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1kID0gY2QsIHBpbW9kID0gdGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGUgcHJldmlvdXMgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIGltb2QgPSBwaW1vZCwgcGltb2QgPSBwcmV2W2ltb2RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlmICs9IChpbW9kIC0gcGltb2QgKyAzMjc2OCkgJiAzMjc2NztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkIHdpbGwgYmUgbm9uemVybyBvbmx5IHdoZW4gYSBtYXRjaCB3YXMgZm91bmRcbiAgICAgICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBib3RoIGRpc3QgYW5kIGxlbiBkYXRhIGluIG9uZSBVaW50MzJcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgaXMgcmVjb2duaXplZCBhcyBhIGxlbi9kaXN0IHdpdGggMjh0aCBiaXQgKDJeMjgpXG4gICAgICAgICAgICAgICAgICAgIHN5bXNbbGkrK10gPSAyNjg0MzU0NTYgfCAocmV2ZmxbbF0gPDwgMTgpIHwgcmV2ZmRbZF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW4gPSByZXZmbFtsXSAmIDMxLCBkaW4gPSByZXZmZFtkXSAmIDMxO1xuICAgICAgICAgICAgICAgICAgICBlYiArPSBmbGViW2xpbl0gKyBmZGViW2Rpbl07XG4gICAgICAgICAgICAgICAgICAgICsrbGZbMjU3ICsgbGluXTtcbiAgICAgICAgICAgICAgICAgICAgKytkZltkaW5dO1xuICAgICAgICAgICAgICAgICAgICB3aSA9IGkgKyBsO1xuICAgICAgICAgICAgICAgICAgICArK2xjXzE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzeW1zW2xpKytdID0gZGF0W2ldO1xuICAgICAgICAgICAgICAgICAgICArK2xmW2RhdFtpXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcyA9IHdibGsoZGF0LCB3LCBsc3QsIHN5bXMsIGxmLCBkZiwgZWIsIGxpLCBicywgaSAtIGJzLCBwb3MpO1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBlYXNpZXN0IHdheSB0byBhdm9pZCBuZWVkaW5nIHRvIG1haW50YWluIHN0YXRlXG4gICAgICAgIGlmICghbHN0ICYmIHBvcyAmIDcpXG4gICAgICAgICAgICBwb3MgPSB3ZmJsayh3LCBwb3MgKyAxLCBldCk7XG4gICAgfVxuICAgIHJldHVybiBzbGMobywgMCwgcHJlICsgc2hmdChwb3MpICsgcG9zdCk7XG59O1xuLy8gQ1JDMzIgdGFibGVcbnZhciBjcmN0ID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ID0gbmV3IEludDMyQXJyYXkoMjU2KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgICAgIHZhciBjID0gaSwgayA9IDk7XG4gICAgICAgIHdoaWxlICgtLWspXG4gICAgICAgICAgICBjID0gKChjICYgMSkgJiYgLTMwNjY3NDkxMikgXiAoYyA+Pj4gMSk7XG4gICAgICAgIHRbaV0gPSBjO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbn0pKCk7XG4vLyBDUkMzMlxudmFyIGNyYyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYyA9IC0xO1xuICAgIHJldHVybiB7XG4gICAgICAgIHA6IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAvLyBjbG9zdXJlcyBoYXZlIGF3ZnVsIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICB2YXIgY3IgPSBjO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIGNyID0gY3JjdFsoY3IgJiAyNTUpIF4gZFtpXV0gXiAoY3IgPj4+IDgpO1xuICAgICAgICAgICAgYyA9IGNyO1xuICAgICAgICB9LFxuICAgICAgICBkOiBmdW5jdGlvbiAoKSB7IHJldHVybiB+YzsgfVxuICAgIH07XG59O1xuLy8gQWxkZXIzMlxudmFyIGFkbGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gMSwgYiA9IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcDogZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIC8vIGNsb3N1cmVzIGhhdmUgYXdmdWwgcGVyZm9ybWFuY2VcbiAgICAgICAgICAgIHZhciBuID0gYSwgbSA9IGI7XG4gICAgICAgICAgICB2YXIgbCA9IGQubGVuZ3RoIHwgMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpICE9IGw7KSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBNYXRoLm1pbihpICsgMjY1NSwgbCk7XG4gICAgICAgICAgICAgICAgZm9yICg7IGkgPCBlOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIG0gKz0gbiArPSBkW2ldO1xuICAgICAgICAgICAgICAgIG4gPSAobiAmIDY1NTM1KSArIDE1ICogKG4gPj4gMTYpLCBtID0gKG0gJiA2NTUzNSkgKyAxNSAqIChtID4+IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEgPSBuLCBiID0gbTtcbiAgICAgICAgfSxcbiAgICAgICAgZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYSAlPSA2NTUyMSwgYiAlPSA2NTUyMTtcbiAgICAgICAgICAgIHJldHVybiAoYSAmIDI1NSkgPDwgMjQgfCAoYSA+Pj4gOCkgPDwgMTYgfCAoYiAmIDI1NSkgPDwgOCB8IChiID4+PiA4KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuO1xuLy8gZGVmbGF0ZSB3aXRoIG9wdHNcbnZhciBkb3B0ID0gZnVuY3Rpb24gKGRhdCwgb3B0LCBwcmUsIHBvc3QsIHN0KSB7XG4gICAgcmV0dXJuIGRmbHQoZGF0LCBvcHQubGV2ZWwgPT0gbnVsbCA/IDYgOiBvcHQubGV2ZWwsIG9wdC5tZW0gPT0gbnVsbCA/IE1hdGguY2VpbChNYXRoLm1heCg4LCBNYXRoLm1pbigxMywgTWF0aC5sb2coZGF0Lmxlbmd0aCkpKSAqIDEuNSkgOiAoMTIgKyBvcHQubWVtKSwgcHJlLCBwb3N0LCAhc3QpO1xufTtcbi8vIFdhbG1hcnQgb2JqZWN0IHNwcmVhZFxudmFyIG1yZyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIG8gPSB7fTtcbiAgICBmb3IgKHZhciBrIGluIGEpXG4gICAgICAgIG9ba10gPSBhW2tdO1xuICAgIGZvciAodmFyIGsgaW4gYilcbiAgICAgICAgb1trXSA9IGJba107XG4gICAgcmV0dXJuIG87XG59O1xuLy8gd29ya2VyIGNsb25lXG4vLyBUaGlzIGlzIHBvc3NpYmx5IHRoZSBjcmF6aWVzdCBwYXJ0IG9mIHRoZSBlbnRpcmUgY29kZWJhc2UsIGRlc3BpdGUgaG93IHNpbXBsZSBpdCBtYXkgc2VlbS5cbi8vIFRoZSBvbmx5IHBhcmFtZXRlciB0byB0aGlzIGZ1bmN0aW9uIGlzIGEgY2xvc3VyZSB0aGF0IHJldHVybnMgYW4gYXJyYXkgb2YgdmFyaWFibGVzIG91dHNpZGUgb2YgdGhlIGZ1bmN0aW9uIHNjb3BlLlxuLy8gV2UncmUgZ29pbmcgdG8gdHJ5IHRvIGZpZ3VyZSBvdXQgdGhlIHZhcmlhYmxlIG5hbWVzIHVzZWQgaW4gdGhlIGNsb3N1cmUgYXMgc3RyaW5ncyBiZWNhdXNlIHRoYXQgaXMgY3J1Y2lhbCBmb3Igd29ya2VyaXphdGlvbi5cbi8vIFdlIHdpbGwgcmV0dXJuIGFuIG9iamVjdCBtYXBwaW5nIG9mIHRydWUgdmFyaWFibGUgbmFtZSB0byB2YWx1ZSAoYmFzaWNhbGx5LCB0aGUgY3VycmVudCBzY29wZSBhcyBhIEpTIG9iamVjdCkuXG4vLyBUaGUgcmVhc29uIHdlIGNhbid0IGp1c3QgdXNlIHRoZSBvcmlnaW5hbCB2YXJpYWJsZSBuYW1lcyBpcyBtaW5pZmllcnMgbWFuZ2xpbmcgdGhlIHRvcGxldmVsIHNjb3BlLlxuLy8gVGhpcyB0b29rIG1lIHRocmVlIHdlZWtzIHRvIGZpZ3VyZSBvdXQgaG93IHRvIGRvLlxudmFyIHdjbG4gPSBmdW5jdGlvbiAoZm4sIGZuU3RyLCB0ZCkge1xuICAgIHZhciBkdCA9IGZuKCk7XG4gICAgdmFyIHN0ID0gZm4udG9TdHJpbmcoKTtcbiAgICB2YXIga3MgPSBzdC5zbGljZShzdC5pbmRleE9mKCdbJykgKyAxLCBzdC5sYXN0SW5kZXhPZignXScpKS5yZXBsYWNlKC8gL2csICcnKS5zcGxpdCgnLCcpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZHQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHYgPSBkdFtpXSwgayA9IGtzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHYgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZm5TdHIgKz0gJzsnICsgayArICc9JztcbiAgICAgICAgICAgIHZhciBzdF8xID0gdi50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKHYucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIGdsb2JhbCBvYmplY3RzXG4gICAgICAgICAgICAgICAgaWYgKHN0XzEuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcEluZCA9IHN0XzEuaW5kZXhPZignICcsIDgpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgZm5TdHIgKz0gc3RfMS5zbGljZShzcEluZCwgc3RfMS5pbmRleE9mKCcoJywgc3BJbmQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZuU3RyICs9IHN0XzE7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHQgaW4gdi5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBmblN0ciArPSAnOycgKyBrICsgJy5wcm90b3R5cGUuJyArIHQgKyAnPScgKyB2LnByb3RvdHlwZVt0XS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBmblN0ciArPSBzdF8xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRkW2tdID0gdjtcbiAgICB9XG4gICAgcmV0dXJuIFtmblN0ciwgdGRdO1xufTtcbnZhciBjaCA9IFtdO1xuLy8gY2xvbmUgYnVmc1xudmFyIGNiZnMgPSBmdW5jdGlvbiAodikge1xuICAgIHZhciB0bCA9IFtdO1xuICAgIGZvciAodmFyIGsgaW4gdikge1xuICAgICAgICBpZiAodltrXSBpbnN0YW5jZW9mIHU4IHx8IHZba10gaW5zdGFuY2VvZiB1MTYgfHwgdltrXSBpbnN0YW5jZW9mIHUzMilcbiAgICAgICAgICAgIHRsLnB1c2goKHZba10gPSBuZXcgdltrXS5jb25zdHJ1Y3Rvcih2W2tdKSkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRsO1xufTtcbi8vIHVzZSBhIHdvcmtlciB0byBleGVjdXRlIGNvZGVcbnZhciB3cmtyID0gZnVuY3Rpb24gKGZucywgaW5pdCwgaWQsIGNiKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghY2hbaWRdKSB7XG4gICAgICAgIHZhciBmblN0ciA9ICcnLCB0ZF8xID0ge30sIG0gPSBmbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtOyArK2kpXG4gICAgICAgICAgICBfYSA9IHdjbG4oZm5zW2ldLCBmblN0ciwgdGRfMSksIGZuU3RyID0gX2FbMF0sIHRkXzEgPSBfYVsxXTtcbiAgICAgICAgY2hbaWRdID0gd2NsbihmbnNbbV0sIGZuU3RyLCB0ZF8xKTtcbiAgICB9XG4gICAgdmFyIHRkID0gbXJnKHt9LCBjaFtpZF1bMV0pO1xuICAgIHJldHVybiB3ayhjaFtpZF1bMF0gKyAnO29ubWVzc2FnZT1mdW5jdGlvbihlKXtmb3IodmFyIGsgaW4gZS5kYXRhKXNlbGZba109ZS5kYXRhW2tdO29ubWVzc2FnZT0nICsgaW5pdC50b1N0cmluZygpICsgJ30nLCBpZCwgdGQsIGNiZnModGQpLCBjYik7XG59O1xuLy8gYmFzZSBhc3luYyBpbmZsYXRlIGZuXG52YXIgYkluZmx0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW3U4LCB1MTYsIHUzMiwgZmxlYiwgZmRlYiwgY2xpbSwgZmwsIGZkLCBmbHJtLCBmZHJtLCByZXYsIGVjLCBoTWFwLCBtYXgsIGJpdHMsIGJpdHMxNiwgc2hmdCwgc2xjLCBlcnIsIGluZmx0LCBpbmZsYXRlU3luYywgcGJmLCBndThdOyB9O1xudmFyIGJEZmx0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW3U4LCB1MTYsIHUzMiwgZmxlYiwgZmRlYiwgY2xpbSwgcmV2ZmwsIHJldmZkLCBmbG0sIGZsdCwgZmRtLCBmZHQsIHJldiwgZGVvLCBldCwgaE1hcCwgd2JpdHMsIHdiaXRzMTYsIGhUcmVlLCBsbiwgbGMsIGNsZW4sIHdmYmxrLCB3YmxrLCBzaGZ0LCBzbGMsIGRmbHQsIGRvcHQsIGRlZmxhdGVTeW5jLCBwYmZdOyB9O1xuLy8gZ3ppcCBleHRyYVxudmFyIGd6ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFtnemgsIGd6aGwsIHdieXRlcywgY3JjLCBjcmN0XTsgfTtcbi8vIGd1bnppcCBleHRyYVxudmFyIGd1emUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBbZ3pzLCBnemxdOyB9O1xuLy8gemxpYiBleHRyYVxudmFyIHpsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt6bGgsIHdieXRlcywgYWRsZXJdOyB9O1xuLy8gdW56bGliIGV4dHJhXG52YXIgenVsZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFt6bHZdOyB9O1xuLy8gcG9zdCBidWZcbnZhciBwYmYgPSBmdW5jdGlvbiAobXNnKSB7IHJldHVybiBwb3N0TWVzc2FnZShtc2csIFttc2cuYnVmZmVyXSk7IH07XG4vLyBnZXQgdThcbnZhciBndTggPSBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBvLnNpemUgJiYgbmV3IHU4KG8uc2l6ZSk7IH07XG4vLyBhc3luYyBoZWxwZXJcbnZhciBjYmlmeSA9IGZ1bmN0aW9uIChkYXQsIG9wdHMsIGZucywgaW5pdCwgaWQsIGNiKSB7XG4gICAgdmFyIHcgPSB3cmtyKGZucywgaW5pdCwgaWQsIGZ1bmN0aW9uIChlcnIsIGRhdCkge1xuICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICBjYihlcnIsIGRhdCk7XG4gICAgfSk7XG4gICAgdy5wb3N0TWVzc2FnZShbZGF0LCBvcHRzXSwgb3B0cy5jb25zdW1lID8gW2RhdC5idWZmZXJdIDogW10pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHcudGVybWluYXRlKCk7IH07XG59O1xuLy8gYXV0byBzdHJlYW1cbnZhciBhc3RybSA9IGZ1bmN0aW9uIChzdHJtKSB7XG4gICAgc3RybS5vbmRhdGEgPSBmdW5jdGlvbiAoZGF0LCBmaW5hbCkgeyByZXR1cm4gcG9zdE1lc3NhZ2UoW2RhdCwgZmluYWxdLCBbZGF0LmJ1ZmZlcl0pOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIHN0cm0ucHVzaChldi5kYXRhWzBdLCBldi5kYXRhWzFdKTsgfTtcbn07XG4vLyBhc3luYyBzdHJlYW0gYXR0YWNoXG52YXIgYXN0cm1pZnkgPSBmdW5jdGlvbiAoZm5zLCBzdHJtLCBvcHRzLCBpbml0LCBpZCkge1xuICAgIHZhciB0O1xuICAgIHZhciB3ID0gd3JrcihmbnMsIGluaXQsIGlkLCBmdW5jdGlvbiAoZXJyLCBkYXQpIHtcbiAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgIHcudGVybWluYXRlKCksIHN0cm0ub25kYXRhLmNhbGwoc3RybSwgZXJyKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZGF0WzFdKVxuICAgICAgICAgICAgICAgIHcudGVybWluYXRlKCk7XG4gICAgICAgICAgICBzdHJtLm9uZGF0YS5jYWxsKHN0cm0sIGVyciwgZGF0WzBdLCBkYXRbMV0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdy5wb3N0TWVzc2FnZShvcHRzKTtcbiAgICBzdHJtLnB1c2ggPSBmdW5jdGlvbiAoZCwgZikge1xuICAgICAgICBpZiAoIXN0cm0ub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodClcbiAgICAgICAgICAgIHN0cm0ub25kYXRhKGVycig0LCAwLCAxKSwgbnVsbCwgISFmKTtcbiAgICAgICAgdy5wb3N0TWVzc2FnZShbZCwgdCA9IGZdLCBbZC5idWZmZXJdKTtcbiAgICB9O1xuICAgIHN0cm0udGVybWluYXRlID0gZnVuY3Rpb24gKCkgeyB3LnRlcm1pbmF0ZSgpOyB9O1xufTtcbi8vIHJlYWQgMiBieXRlc1xudmFyIGIyID0gZnVuY3Rpb24gKGQsIGIpIHsgcmV0dXJuIGRbYl0gfCAoZFtiICsgMV0gPDwgOCk7IH07XG4vLyByZWFkIDQgYnl0ZXNcbnZhciBiNCA9IGZ1bmN0aW9uIChkLCBiKSB7IHJldHVybiAoZFtiXSB8IChkW2IgKyAxXSA8PCA4KSB8IChkW2IgKyAyXSA8PCAxNikgfCAoZFtiICsgM10gPDwgMjQpKSA+Pj4gMDsgfTtcbnZhciBiOCA9IGZ1bmN0aW9uIChkLCBiKSB7IHJldHVybiBiNChkLCBiKSArIChiNChkLCBiICsgNCkgKiA0Mjk0OTY3Mjk2KTsgfTtcbi8vIHdyaXRlIGJ5dGVzXG52YXIgd2J5dGVzID0gZnVuY3Rpb24gKGQsIGIsIHYpIHtcbiAgICBmb3IgKDsgdjsgKytiKVxuICAgICAgICBkW2JdID0gdiwgdiA+Pj49IDg7XG59O1xuLy8gZ3ppcCBoZWFkZXJcbnZhciBnemggPSBmdW5jdGlvbiAoYywgbykge1xuICAgIHZhciBmbiA9IG8uZmlsZW5hbWU7XG4gICAgY1swXSA9IDMxLCBjWzFdID0gMTM5LCBjWzJdID0gOCwgY1s4XSA9IG8ubGV2ZWwgPCAyID8gNCA6IG8ubGV2ZWwgPT0gOSA/IDIgOiAwLCBjWzldID0gMzsgLy8gYXNzdW1lIFVuaXhcbiAgICBpZiAoby5tdGltZSAhPSAwKVxuICAgICAgICB3Ynl0ZXMoYywgNCwgTWF0aC5mbG9vcihuZXcgRGF0ZShvLm10aW1lIHx8IERhdGUubm93KCkpIC8gMTAwMCkpO1xuICAgIGlmIChmbikge1xuICAgICAgICBjWzNdID0gODtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gZm4ubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBjW2kgKyAxMF0gPSBmbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbn07XG4vLyBnemlwIGZvb3RlcjogLTggdG8gLTQgPSBDUkMsIC00IHRvIC0wIGlzIGxlbmd0aFxuLy8gZ3ppcCBzdGFydFxudmFyIGd6cyA9IGZ1bmN0aW9uIChkKSB7XG4gICAgaWYgKGRbMF0gIT0gMzEgfHwgZFsxXSAhPSAxMzkgfHwgZFsyXSAhPSA4KVxuICAgICAgICBlcnIoNiwgJ2ludmFsaWQgZ3ppcCBkYXRhJyk7XG4gICAgdmFyIGZsZyA9IGRbM107XG4gICAgdmFyIHN0ID0gMTA7XG4gICAgaWYgKGZsZyAmIDQpXG4gICAgICAgIHN0ICs9IGRbMTBdIHwgKGRbMTFdIDw8IDgpICsgMjtcbiAgICBmb3IgKHZhciB6cyA9IChmbGcgPj4gMyAmIDEpICsgKGZsZyA+PiA0ICYgMSk7IHpzID4gMDsgenMgLT0gIWRbc3QrK10pXG4gICAgICAgIDtcbiAgICByZXR1cm4gc3QgKyAoZmxnICYgMik7XG59O1xuLy8gZ3ppcCBsZW5ndGhcbnZhciBnemwgPSBmdW5jdGlvbiAoZCkge1xuICAgIHZhciBsID0gZC5sZW5ndGg7XG4gICAgcmV0dXJuICgoZFtsIC0gNF0gfCBkW2wgLSAzXSA8PCA4IHwgZFtsIC0gMl0gPDwgMTYpIHwgKGRbbCAtIDFdIDw8IDI0KSkgPj4+IDA7XG59O1xuLy8gZ3ppcCBoZWFkZXIgbGVuZ3RoXG52YXIgZ3pobCA9IGZ1bmN0aW9uIChvKSB7IHJldHVybiAxMCArICgoby5maWxlbmFtZSAmJiAoby5maWxlbmFtZS5sZW5ndGggKyAxKSkgfHwgMCk7IH07XG4vLyB6bGliIGhlYWRlclxudmFyIHpsaCA9IGZ1bmN0aW9uIChjLCBvKSB7XG4gICAgdmFyIGx2ID0gby5sZXZlbCwgZmwgPSBsdiA9PSAwID8gMCA6IGx2IDwgNiA/IDEgOiBsdiA9PSA5ID8gMyA6IDI7XG4gICAgY1swXSA9IDEyMCwgY1sxXSA9IChmbCA8PCA2KSB8IChmbCA/ICgzMiAtIDIgKiBmbCkgOiAxKTtcbn07XG4vLyB6bGliIHZhbGlkXG52YXIgemx2ID0gZnVuY3Rpb24gKGQpIHtcbiAgICBpZiAoKGRbMF0gJiAxNSkgIT0gOCB8fCAoZFswXSA+Pj4gNCkgPiA3IHx8ICgoZFswXSA8PCA4IHwgZFsxXSkgJSAzMSkpXG4gICAgICAgIGVycig2LCAnaW52YWxpZCB6bGliIGRhdGEnKTtcbiAgICBpZiAoZFsxXSAmIDMyKVxuICAgICAgICBlcnIoNiwgJ2ludmFsaWQgemxpYiBkYXRhOiBwcmVzZXQgZGljdGlvbmFyaWVzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5mdW5jdGlvbiBBc3luY0NtcFN0cm0ob3B0cywgY2IpIHtcbiAgICBpZiAoIWNiICYmIHR5cGVvZiBvcHRzID09ICdmdW5jdGlvbicpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgcmV0dXJuIG9wdHM7XG59XG4vLyB6bGliIGZvb3RlcjogLTQgdG8gLTAgaXMgQWRsZXIzMlxuLyoqXG4gKiBTdHJlYW1pbmcgREVGTEFURSBjb21wcmVzc2lvblxuICovXG52YXIgRGVmbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWZsYXRlKG9wdHMsIGNiKSB7XG4gICAgICAgIGlmICghY2IgJiYgdHlwZW9mIG9wdHMgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICB0aGlzLm8gPSBvcHRzIHx8IHt9O1xuICAgIH1cbiAgICBEZWZsYXRlLnByb3RvdHlwZS5wID0gZnVuY3Rpb24gKGMsIGYpIHtcbiAgICAgICAgdGhpcy5vbmRhdGEoZG9wdChjLCB0aGlzLm8sIDAsIDAsICFmKSwgZik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSBkZWZsYXRlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBEZWZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBpZiAodGhpcy5kKVxuICAgICAgICAgICAgZXJyKDQpO1xuICAgICAgICB0aGlzLmQgPSBmaW5hbDtcbiAgICAgICAgdGhpcy5wKGNodW5rLCBmaW5hbCB8fCBmYWxzZSk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVmbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBEZWZsYXRlIH07XG4vKipcbiAqIEFzeW5jaHJvbm91cyBzdHJlYW1pbmcgREVGTEFURSBjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNEZWZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFzeW5jRGVmbGF0ZShvcHRzLCBjYikge1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiRGZsdCxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFthc3RybSwgRGVmbGF0ZV07IH1cbiAgICAgICAgXSwgdGhpcywgQXN5bmNDbXBTdHJtLmNhbGwodGhpcywgb3B0cywgY2IpLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IERlZmxhdGUoZXYuZGF0YSk7XG4gICAgICAgICAgICBvbm1lc3NhZ2UgPSBhc3RybShzdHJtKTtcbiAgICAgICAgfSwgNik7XG4gICAgfVxuICAgIHJldHVybiBBc3luY0RlZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgQXN5bmNEZWZsYXRlIH07XG5leHBvcnQgZnVuY3Rpb24gZGVmbGF0ZShkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJEZmx0LFxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKGRlZmxhdGVTeW5jKGV2LmRhdGFbMF0sIGV2LmRhdGFbMV0pKTsgfSwgMCwgY2IpO1xufVxuLyoqXG4gKiBDb21wcmVzc2VzIGRhdGEgd2l0aCBERUZMQVRFIHdpdGhvdXQgYW55IHdyYXBwZXJcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGNvbXByZXNzXG4gKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGRlZmxhdGVkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmxhdGVTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICByZXR1cm4gZG9wdChkYXRhLCBvcHRzIHx8IHt9LCAwLCAwKTtcbn1cbi8qKlxuICogU3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgSW5mbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluZmxhdGlvbiBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBpbmZsYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEluZmxhdGUoY2IpIHtcbiAgICAgICAgdGhpcy5zID0ge307XG4gICAgICAgIHRoaXMucCA9IG5ldyB1OCgwKTtcbiAgICAgICAgdGhpcy5vbmRhdGEgPSBjYjtcbiAgICB9XG4gICAgSW5mbGF0ZS5wcm90b3R5cGUuZSA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIGlmICghdGhpcy5vbmRhdGEpXG4gICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHZhciBsID0gdGhpcy5wLmxlbmd0aDtcbiAgICAgICAgdmFyIG4gPSBuZXcgdTgobCArIGMubGVuZ3RoKTtcbiAgICAgICAgbi5zZXQodGhpcy5wKSwgbi5zZXQoYywgbCksIHRoaXMucCA9IG47XG4gICAgfTtcbiAgICBJbmZsYXRlLnByb3RvdHlwZS5jID0gZnVuY3Rpb24gKGZpbmFsKSB7XG4gICAgICAgIHRoaXMuZCA9IHRoaXMucy5pID0gZmluYWwgfHwgZmFsc2U7XG4gICAgICAgIHZhciBidHMgPSB0aGlzLnMuYjtcbiAgICAgICAgdmFyIGR0ID0gaW5mbHQodGhpcy5wLCB0aGlzLm8sIHRoaXMucyk7XG4gICAgICAgIHRoaXMub25kYXRhKHNsYyhkdCwgYnRzLCB0aGlzLnMuYiksIHRoaXMuZCk7XG4gICAgICAgIHRoaXMubyA9IHNsYyhkdCwgdGhpcy5zLmIgLSAzMjc2OCksIHRoaXMucy5iID0gdGhpcy5vLmxlbmd0aDtcbiAgICAgICAgdGhpcy5wID0gc2xjKHRoaXMucCwgKHRoaXMucy5wIC8gOCkgfCAwKSwgdGhpcy5zLnAgJj0gNztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGluZmxhdGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgZmluYWwgY2h1bmtcbiAgICAgKi9cbiAgICBJbmZsYXRlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICB0aGlzLmUoY2h1bmspLCB0aGlzLmMoZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIEluZmxhdGU7XG59KCkpO1xuZXhwb3J0IHsgSW5mbGF0ZSB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIERFRkxBVEUgZGVjb21wcmVzc2lvblxuICovXG52YXIgQXN5bmNJbmZsYXRlID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXN5bmNocm9ub3VzIGluZmxhdGlvbiBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBkZWZsYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzeW5jSW5mbGF0ZShjYikge1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiSW5mbHQsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIEluZmxhdGVdOyB9XG4gICAgICAgIF0sIHRoaXMsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IEluZmxhdGUoKTtcbiAgICAgICAgICAgIG9ubWVzc2FnZSA9IGFzdHJtKHN0cm0pO1xuICAgICAgICB9LCA3KTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jSW5mbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBBc3luY0luZmxhdGUgfTtcbmV4cG9ydCBmdW5jdGlvbiBpbmZsYXRlKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkluZmx0XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYoaW5mbGF0ZVN5bmMoZXYuZGF0YVswXSwgZ3U4KGV2LmRhdGFbMV0pKSk7IH0sIDEsIGNiKTtcbn1cbi8qKlxuICogRXhwYW5kcyBERUZMQVRFIGRhdGEgd2l0aCBubyB3cmFwcGVyXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBkZWNvbXByZXNzXG4gKiBAcGFyYW0gb3V0IFdoZXJlIHRvIHdyaXRlIHRoZSBkYXRhLiBTYXZlcyBtZW1vcnkgaWYgeW91IGtub3cgdGhlIGRlY29tcHJlc3NlZCBzaXplIGFuZCBwcm92aWRlIGFuIG91dHB1dCBidWZmZXIgb2YgdGhhdCBsZW5ndGguXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmxhdGVTeW5jKGRhdGEsIG91dCkge1xuICAgIHJldHVybiBpbmZsdChkYXRhLCBvdXQpO1xufVxuLy8gYmVmb3JlIHlvdSB5ZWxsIGF0IG1lIGZvciBub3QganVzdCB1c2luZyBleHRlbmRzLCBteSByZWFzb24gaXMgdGhhdCBUUyBpbmhlcml0YW5jZSBpcyBoYXJkIHRvIHdvcmtlcml6ZS5cbi8qKlxuICogU3RyZWFtaW5nIEdaSVAgY29tcHJlc3Npb25cbiAqL1xudmFyIEd6aXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR3ppcChvcHRzLCBjYikge1xuICAgICAgICB0aGlzLmMgPSBjcmMoKTtcbiAgICAgICAgdGhpcy5sID0gMDtcbiAgICAgICAgdGhpcy52ID0gMTtcbiAgICAgICAgRGVmbGF0ZS5jYWxsKHRoaXMsIG9wdHMsIGNiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgR1pJUHBlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBHemlwLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBEZWZsYXRlLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIEd6aXAucHJvdG90eXBlLnAgPSBmdW5jdGlvbiAoYywgZikge1xuICAgICAgICB0aGlzLmMucChjKTtcbiAgICAgICAgdGhpcy5sICs9IGMubGVuZ3RoO1xuICAgICAgICB2YXIgcmF3ID0gZG9wdChjLCB0aGlzLm8sIHRoaXMudiAmJiBnemhsKHRoaXMubyksIGYgJiYgOCwgIWYpO1xuICAgICAgICBpZiAodGhpcy52KVxuICAgICAgICAgICAgZ3poKHJhdywgdGhpcy5vKSwgdGhpcy52ID0gMDtcbiAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICB3Ynl0ZXMocmF3LCByYXcubGVuZ3RoIC0gOCwgdGhpcy5jLmQoKSksIHdieXRlcyhyYXcsIHJhdy5sZW5ndGggLSA0LCB0aGlzLmwpO1xuICAgICAgICB0aGlzLm9uZGF0YShyYXcsIGYpO1xuICAgIH07XG4gICAgcmV0dXJuIEd6aXA7XG59KCkpO1xuZXhwb3J0IHsgR3ppcCB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIEdaSVAgY29tcHJlc3Npb25cbiAqL1xudmFyIEFzeW5jR3ppcCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3luY0d6aXAob3B0cywgY2IpIHtcbiAgICAgICAgYXN0cm1pZnkoW1xuICAgICAgICAgICAgYkRmbHQsXG4gICAgICAgICAgICBnemUsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIERlZmxhdGUsIEd6aXBdOyB9XG4gICAgICAgIF0sIHRoaXMsIEFzeW5jQ21wU3RybS5jYWxsKHRoaXMsIG9wdHMsIGNiKSwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgc3RybSA9IG5ldyBHemlwKGV2LmRhdGEpO1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDgpO1xuICAgIH1cbiAgICByZXR1cm4gQXN5bmNHemlwO1xufSgpKTtcbmV4cG9ydCB7IEFzeW5jR3ppcCB9O1xuZXhwb3J0IGZ1bmN0aW9uIGd6aXAoZGF0YSwgb3B0cywgY2IpIHtcbiAgICBpZiAoIWNiKVxuICAgICAgICBjYiA9IG9wdHMsIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIGNiICE9ICdmdW5jdGlvbicpXG4gICAgICAgIGVycig3KTtcbiAgICByZXR1cm4gY2JpZnkoZGF0YSwgb3B0cywgW1xuICAgICAgICBiRGZsdCxcbiAgICAgICAgZ3plLFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbZ3ppcFN5bmNdOyB9XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYoZ3ppcFN5bmMoZXYuZGF0YVswXSwgZXYuZGF0YVsxXSkpOyB9LCAyLCBjYik7XG59XG4vKipcbiAqIENvbXByZXNzZXMgZGF0YSB3aXRoIEdaSVBcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGNvbXByZXNzXG4gKiBAcGFyYW0gb3B0cyBUaGUgY29tcHJlc3Npb24gb3B0aW9uc1xuICogQHJldHVybnMgVGhlIGd6aXBwZWQgdmVyc2lvbiBvZiB0aGUgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3ppcFN5bmMoZGF0YSwgb3B0cykge1xuICAgIGlmICghb3B0cylcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgIHZhciBjID0gY3JjKCksIGwgPSBkYXRhLmxlbmd0aDtcbiAgICBjLnAoZGF0YSk7XG4gICAgdmFyIGQgPSBkb3B0KGRhdGEsIG9wdHMsIGd6aGwob3B0cyksIDgpLCBzID0gZC5sZW5ndGg7XG4gICAgcmV0dXJuIGd6aChkLCBvcHRzKSwgd2J5dGVzKGQsIHMgLSA4LCBjLmQoKSksIHdieXRlcyhkLCBzIC0gNCwgbCksIGQ7XG59XG4vKipcbiAqIFN0cmVhbWluZyBHWklQIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIEd1bnppcCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgR1VOWklQIHN0cmVhbVxuICAgICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBkYXRhIGlzIGluZmxhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3VuemlwKGNiKSB7XG4gICAgICAgIHRoaXMudiA9IDE7XG4gICAgICAgIEluZmxhdGUuY2FsbCh0aGlzLCBjYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIEdVTlpJUHBlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBHdW56aXAucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmUuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIGlmICh0aGlzLnYpIHtcbiAgICAgICAgICAgIHZhciBzID0gdGhpcy5wLmxlbmd0aCA+IDMgPyBnenModGhpcy5wKSA6IDQ7XG4gICAgICAgICAgICBpZiAocyA+PSB0aGlzLnAubGVuZ3RoICYmICFmaW5hbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLnAgPSB0aGlzLnAuc3ViYXJyYXkocyksIHRoaXMudiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbmFsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wLmxlbmd0aCA8IDgpXG4gICAgICAgICAgICAgICAgZXJyKDYsICdpbnZhbGlkIGd6aXAgZGF0YScpO1xuICAgICAgICAgICAgdGhpcy5wID0gdGhpcy5wLnN1YmFycmF5KDAsIC04KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBuZWNlc3NhcnkgdG8gcHJldmVudCBUUyBmcm9tIHVzaW5nIHRoZSBjbG9zdXJlIHZhbHVlXG4gICAgICAgIC8vIFRoaXMgYWxsb3dzIGZvciB3b3JrZXJpemF0aW9uIHRvIGZ1bmN0aW9uIGNvcnJlY3RseVxuICAgICAgICBJbmZsYXRlLnByb3RvdHlwZS5jLmNhbGwodGhpcywgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIEd1bnppcDtcbn0oKSk7XG5leHBvcnQgeyBHdW56aXAgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBHWklQIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIEFzeW5jR3VuemlwID0gLyojX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXN5bmNocm9ub3VzIEdVTlpJUCBzdHJlYW1cbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBpcyBkZWZsYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzeW5jR3VuemlwKGNiKSB7XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgICAgIGFzdHJtaWZ5KFtcbiAgICAgICAgICAgIGJJbmZsdCxcbiAgICAgICAgICAgIGd1emUsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIEluZmxhdGUsIEd1bnppcF07IH1cbiAgICAgICAgXSwgdGhpcywgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0cm0gPSBuZXcgR3VuemlwKCk7XG4gICAgICAgICAgICBvbm1lc3NhZ2UgPSBhc3RybShzdHJtKTtcbiAgICAgICAgfSwgOSk7XG4gICAgfVxuICAgIHJldHVybiBBc3luY0d1bnppcDtcbn0oKSk7XG5leHBvcnQgeyBBc3luY0d1bnppcCB9O1xuZXhwb3J0IGZ1bmN0aW9uIGd1bnppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHJldHVybiBjYmlmeShkYXRhLCBvcHRzLCBbXG4gICAgICAgIGJJbmZsdCxcbiAgICAgICAgZ3V6ZSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW2d1bnppcFN5bmNdOyB9XG4gICAgXSwgZnVuY3Rpb24gKGV2KSB7IHJldHVybiBwYmYoZ3VuemlwU3luYyhldi5kYXRhWzBdKSk7IH0sIDMsIGNiKTtcbn1cbi8qKlxuICogRXhwYW5kcyBHWklQIGRhdGFcbiAqIEBwYXJhbSBkYXRhIFRoZSBkYXRhIHRvIGRlY29tcHJlc3NcbiAqIEBwYXJhbSBvdXQgV2hlcmUgdG8gd3JpdGUgdGhlIGRhdGEuIEdaSVAgYWxyZWFkeSBlbmNvZGVzIHRoZSBvdXRwdXQgc2l6ZSwgc28gcHJvdmlkaW5nIHRoaXMgZG9lc24ndCBzYXZlIG1lbW9yeS5cbiAqIEByZXR1cm5zIFRoZSBkZWNvbXByZXNzZWQgdmVyc2lvbiBvZiB0aGUgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3VuemlwU3luYyhkYXRhLCBvdXQpIHtcbiAgICByZXR1cm4gaW5mbHQoZGF0YS5zdWJhcnJheShnenMoZGF0YSksIC04KSwgb3V0IHx8IG5ldyB1OChnemwoZGF0YSkpKTtcbn1cbi8qKlxuICogU3RyZWFtaW5nIFpsaWIgY29tcHJlc3Npb25cbiAqL1xudmFyIFpsaWIgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWmxpYihvcHRzLCBjYikge1xuICAgICAgICB0aGlzLmMgPSBhZGxlcigpO1xuICAgICAgICB0aGlzLnYgPSAxO1xuICAgICAgICBEZWZsYXRlLmNhbGwodGhpcywgb3B0cywgY2IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQdXNoZXMgYSBjaHVuayB0byBiZSB6bGliYmVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFpsaWIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIERlZmxhdGUucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgWmxpYi5wcm90b3R5cGUucCA9IGZ1bmN0aW9uIChjLCBmKSB7XG4gICAgICAgIHRoaXMuYy5wKGMpO1xuICAgICAgICB2YXIgcmF3ID0gZG9wdChjLCB0aGlzLm8sIHRoaXMudiAmJiAyLCBmICYmIDQsICFmKTtcbiAgICAgICAgaWYgKHRoaXMudilcbiAgICAgICAgICAgIHpsaChyYXcsIHRoaXMubyksIHRoaXMudiA9IDA7XG4gICAgICAgIGlmIChmKVxuICAgICAgICAgICAgd2J5dGVzKHJhdywgcmF3Lmxlbmd0aCAtIDQsIHRoaXMuYy5kKCkpO1xuICAgICAgICB0aGlzLm9uZGF0YShyYXcsIGYpO1xuICAgIH07XG4gICAgcmV0dXJuIFpsaWI7XG59KCkpO1xuZXhwb3J0IHsgWmxpYiB9O1xuLyoqXG4gKiBBc3luY2hyb25vdXMgc3RyZWFtaW5nIFpsaWIgY29tcHJlc3Npb25cbiAqL1xudmFyIEFzeW5jWmxpYiA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBc3luY1psaWIob3B0cywgY2IpIHtcbiAgICAgICAgYXN0cm1pZnkoW1xuICAgICAgICAgICAgYkRmbHQsXG4gICAgICAgICAgICB6bGUsXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbYXN0cm0sIERlZmxhdGUsIFpsaWJdOyB9XG4gICAgICAgIF0sIHRoaXMsIEFzeW5jQ21wU3RybS5jYWxsKHRoaXMsIG9wdHMsIGNiKSwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIgc3RybSA9IG5ldyBabGliKGV2LmRhdGEpO1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDEwKTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jWmxpYjtcbn0oKSk7XG5leHBvcnQgeyBBc3luY1psaWIgfTtcbmV4cG9ydCBmdW5jdGlvbiB6bGliKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkRmbHQsXG4gICAgICAgIHpsZSxcbiAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW3psaWJTeW5jXTsgfVxuICAgIF0sIGZ1bmN0aW9uIChldikgeyByZXR1cm4gcGJmKHpsaWJTeW5jKGV2LmRhdGFbMF0sIGV2LmRhdGFbMV0pKTsgfSwgNCwgY2IpO1xufVxuLyoqXG4gKiBDb21wcmVzcyBkYXRhIHdpdGggWmxpYlxuICogQHBhcmFtIGRhdGEgVGhlIGRhdGEgdG8gY29tcHJlc3NcbiAqIEBwYXJhbSBvcHRzIFRoZSBjb21wcmVzc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgemxpYi1jb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHpsaWJTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpXG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICB2YXIgYSA9IGFkbGVyKCk7XG4gICAgYS5wKGRhdGEpO1xuICAgIHZhciBkID0gZG9wdChkYXRhLCBvcHRzLCAyLCA0KTtcbiAgICByZXR1cm4gemxoKGQsIG9wdHMpLCB3Ynl0ZXMoZCwgZC5sZW5ndGggLSA0LCBhLmQoKSksIGQ7XG59XG4vKipcbiAqIFN0cmVhbWluZyBabGliIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIFVuemxpYiA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgWmxpYiBkZWNvbXByZXNzaW9uIHN0cmVhbVxuICAgICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBkYXRhIGlzIGluZmxhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gVW56bGliKGNiKSB7XG4gICAgICAgIHRoaXMudiA9IDE7XG4gICAgICAgIEluZmxhdGUuY2FsbCh0aGlzLCBjYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIHVuemxpYmJlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBVbnpsaWIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIEluZmxhdGUucHJvdG90eXBlLmUuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgIGlmICh0aGlzLnYpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnAubGVuZ3RoIDwgMiAmJiAhZmluYWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5wID0gdGhpcy5wLnN1YmFycmF5KDIpLCB0aGlzLnYgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucC5sZW5ndGggPCA0KVxuICAgICAgICAgICAgICAgIGVycig2LCAnaW52YWxpZCB6bGliIGRhdGEnKTtcbiAgICAgICAgICAgIHRoaXMucCA9IHRoaXMucC5zdWJhcnJheSgwLCAtNCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmVjZXNzYXJ5IHRvIHByZXZlbnQgVFMgZnJvbSB1c2luZyB0aGUgY2xvc3VyZSB2YWx1ZVxuICAgICAgICAvLyBUaGlzIGFsbG93cyBmb3Igd29ya2VyaXphdGlvbiB0byBmdW5jdGlvbiBjb3JyZWN0bHlcbiAgICAgICAgSW5mbGF0ZS5wcm90b3R5cGUuYy5jYWxsKHRoaXMsIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBVbnpsaWI7XG59KCkpO1xuZXhwb3J0IHsgVW56bGliIH07XG4vKipcbiAqIEFzeW5jaHJvbm91cyBzdHJlYW1pbmcgWmxpYiBkZWNvbXByZXNzaW9uXG4gKi9cbnZhciBBc3luY1VuemxpYiA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFzeW5jaHJvbm91cyBabGliIGRlY29tcHJlc3Npb24gc3RyZWFtXG4gICAgICogQHBhcmFtIGNiIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW5ldmVyIGRhdGEgaXMgZGVmbGF0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY1VuemxpYihjYikge1xuICAgICAgICB0aGlzLm9uZGF0YSA9IGNiO1xuICAgICAgICBhc3RybWlmeShbXG4gICAgICAgICAgICBiSW5mbHQsXG4gICAgICAgICAgICB6dWxlLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gW2FzdHJtLCBJbmZsYXRlLCBVbnpsaWJdOyB9XG4gICAgICAgIF0sIHRoaXMsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdHJtID0gbmV3IFVuemxpYigpO1xuICAgICAgICAgICAgb25tZXNzYWdlID0gYXN0cm0oc3RybSk7XG4gICAgICAgIH0sIDExKTtcbiAgICB9XG4gICAgcmV0dXJuIEFzeW5jVW56bGliO1xufSgpKTtcbmV4cG9ydCB7IEFzeW5jVW56bGliIH07XG5leHBvcnQgZnVuY3Rpb24gdW56bGliKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIGNiaWZ5KGRhdGEsIG9wdHMsIFtcbiAgICAgICAgYkluZmx0LFxuICAgICAgICB6dWxlLFxuICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBbdW56bGliU3luY107IH1cbiAgICBdLCBmdW5jdGlvbiAoZXYpIHsgcmV0dXJuIHBiZih1bnpsaWJTeW5jKGV2LmRhdGFbMF0sIGd1OChldi5kYXRhWzFdKSkpOyB9LCA1LCBjYik7XG59XG4vKipcbiAqIEV4cGFuZHMgWmxpYiBkYXRhXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBkZWNvbXByZXNzXG4gKiBAcGFyYW0gb3V0IFdoZXJlIHRvIHdyaXRlIHRoZSBkYXRhLiBTYXZlcyBtZW1vcnkgaWYgeW91IGtub3cgdGhlIGRlY29tcHJlc3NlZCBzaXplIGFuZCBwcm92aWRlIGFuIG91dHB1dCBidWZmZXIgb2YgdGhhdCBsZW5ndGguXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuemxpYlN5bmMoZGF0YSwgb3V0KSB7XG4gICAgcmV0dXJuIGluZmx0KCh6bHYoZGF0YSksIGRhdGEuc3ViYXJyYXkoMiwgLTQpKSwgb3V0KTtcbn1cbi8vIERlZmF1bHQgYWxnb3JpdGhtIGZvciBjb21wcmVzc2lvbiAodXNlZCBiZWNhdXNlIGhhdmluZyBhIGtub3duIG91dHB1dCBzaXplIGFsbG93cyBmYXN0ZXIgZGVjb21wcmVzc2lvbilcbmV4cG9ydCB7IGd6aXAgYXMgY29tcHJlc3MsIEFzeW5jR3ppcCBhcyBBc3luY0NvbXByZXNzIH07XG4vLyBEZWZhdWx0IGFsZ29yaXRobSBmb3IgY29tcHJlc3Npb24gKHVzZWQgYmVjYXVzZSBoYXZpbmcgYSBrbm93biBvdXRwdXQgc2l6ZSBhbGxvd3MgZmFzdGVyIGRlY29tcHJlc3Npb24pXG5leHBvcnQgeyBnemlwU3luYyBhcyBjb21wcmVzc1N5bmMsIEd6aXAgYXMgQ29tcHJlc3MgfTtcbi8qKlxuICogU3RyZWFtaW5nIEdaSVAsIFpsaWIsIG9yIHJhdyBERUZMQVRFIGRlY29tcHJlc3Npb25cbiAqL1xudmFyIERlY29tcHJlc3MgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGRlY29tcHJlc3Npb24gc3RyZWFtXG4gICAgICogQHBhcmFtIGNiIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW5ldmVyIGRhdGEgaXMgZGVjb21wcmVzc2VkXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGVjb21wcmVzcyhjYikge1xuICAgICAgICB0aGlzLkcgPSBHdW56aXA7XG4gICAgICAgIHRoaXMuSSA9IEluZmxhdGU7XG4gICAgICAgIHRoaXMuWiA9IFVuemxpYjtcbiAgICAgICAgdGhpcy5vbmRhdGEgPSBjYjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgZGVjb21wcmVzc2VkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIERlY29tcHJlc3MucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIGlmICghdGhpcy5vbmRhdGEpXG4gICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgIGlmICghdGhpcy5zKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wICYmIHRoaXMucC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IG5ldyB1OCh0aGlzLnAubGVuZ3RoICsgY2h1bmsubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBuLnNldCh0aGlzLnApLCBuLnNldChjaHVuaywgdGhpcy5wLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5wID0gY2h1bms7XG4gICAgICAgICAgICBpZiAodGhpcy5wLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXNfMSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gKCkgeyBfdGhpc18xLm9uZGF0YS5hcHBseShfdGhpc18xLCBhcmd1bWVudHMpOyB9O1xuICAgICAgICAgICAgICAgIHRoaXMucyA9ICh0aGlzLnBbMF0gPT0gMzEgJiYgdGhpcy5wWzFdID09IDEzOSAmJiB0aGlzLnBbMl0gPT0gOClcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgdGhpcy5HKGNiKVxuICAgICAgICAgICAgICAgICAgICA6ICgodGhpcy5wWzBdICYgMTUpICE9IDggfHwgKHRoaXMucFswXSA+PiA0KSA+IDcgfHwgKCh0aGlzLnBbMF0gPDwgOCB8IHRoaXMucFsxXSkgJSAzMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyB0aGlzLkkoY2IpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyB0aGlzLlooY2IpO1xuICAgICAgICAgICAgICAgIHRoaXMucy5wdXNoKHRoaXMucCwgZmluYWwpO1xuICAgICAgICAgICAgICAgIHRoaXMucCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5zLnB1c2goY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBEZWNvbXByZXNzO1xufSgpKTtcbmV4cG9ydCB7IERlY29tcHJlc3MgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBHWklQLCBabGliLCBvciByYXcgREVGTEFURSBkZWNvbXByZXNzaW9uXG4gKi9cbnZhciBBc3luY0RlY29tcHJlc3MgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXN5bmNocm9ub3VzIGRlY29tcHJlc3Npb24gc3RyZWFtXG4gICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBkYXRhIGlzIGRlY29tcHJlc3NlZFxuICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY0RlY29tcHJlc3MoY2IpIHtcbiAgICAgICAgdGhpcy5HID0gQXN5bmNHdW56aXA7XG4gICAgICAgIHRoaXMuSSA9IEFzeW5jSW5mbGF0ZTtcbiAgICAgICAgdGhpcy5aID0gQXN5bmNVbnpsaWI7XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGRlY29tcHJlc3NlZFxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBBc3luY0RlY29tcHJlc3MucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIERlY29tcHJlc3MucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jRGVjb21wcmVzcztcbn0oKSk7XG5leHBvcnQgeyBBc3luY0RlY29tcHJlc3MgfTtcbmV4cG9ydCBmdW5jdGlvbiBkZWNvbXByZXNzKGRhdGEsIG9wdHMsIGNiKSB7XG4gICAgaWYgKCFjYilcbiAgICAgICAgY2IgPSBvcHRzLCBvcHRzID0ge307XG4gICAgaWYgKHR5cGVvZiBjYiAhPSAnZnVuY3Rpb24nKVxuICAgICAgICBlcnIoNyk7XG4gICAgcmV0dXJuIChkYXRhWzBdID09IDMxICYmIGRhdGFbMV0gPT0gMTM5ICYmIGRhdGFbMl0gPT0gOClcbiAgICAgICAgPyBndW56aXAoZGF0YSwgb3B0cywgY2IpXG4gICAgICAgIDogKChkYXRhWzBdICYgMTUpICE9IDggfHwgKGRhdGFbMF0gPj4gNCkgPiA3IHx8ICgoZGF0YVswXSA8PCA4IHwgZGF0YVsxXSkgJSAzMSkpXG4gICAgICAgICAgICA/IGluZmxhdGUoZGF0YSwgb3B0cywgY2IpXG4gICAgICAgICAgICA6IHVuemxpYihkYXRhLCBvcHRzLCBjYik7XG59XG4vKipcbiAqIEV4cGFuZHMgY29tcHJlc3NlZCBHWklQLCBabGliLCBvciByYXcgREVGTEFURSBkYXRhLCBhdXRvbWF0aWNhbGx5IGRldGVjdGluZyB0aGUgZm9ybWF0XG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBkZWNvbXByZXNzXG4gKiBAcGFyYW0gb3V0IFdoZXJlIHRvIHdyaXRlIHRoZSBkYXRhLiBTYXZlcyBtZW1vcnkgaWYgeW91IGtub3cgdGhlIGRlY29tcHJlc3NlZCBzaXplIGFuZCBwcm92aWRlIGFuIG91dHB1dCBidWZmZXIgb2YgdGhhdCBsZW5ndGguXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIHZlcnNpb24gb2YgdGhlIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29tcHJlc3NTeW5jKGRhdGEsIG91dCkge1xuICAgIHJldHVybiAoZGF0YVswXSA9PSAzMSAmJiBkYXRhWzFdID09IDEzOSAmJiBkYXRhWzJdID09IDgpXG4gICAgICAgID8gZ3VuemlwU3luYyhkYXRhLCBvdXQpXG4gICAgICAgIDogKChkYXRhWzBdICYgMTUpICE9IDggfHwgKGRhdGFbMF0gPj4gNCkgPiA3IHx8ICgoZGF0YVswXSA8PCA4IHwgZGF0YVsxXSkgJSAzMSkpXG4gICAgICAgICAgICA/IGluZmxhdGVTeW5jKGRhdGEsIG91dClcbiAgICAgICAgICAgIDogdW56bGliU3luYyhkYXRhLCBvdXQpO1xufVxuLy8gZmxhdHRlbiBhIGRpcmVjdG9yeSBzdHJ1Y3R1cmVcbnZhciBmbHRuID0gZnVuY3Rpb24gKGQsIHAsIHQsIG8pIHtcbiAgICBmb3IgKHZhciBrIGluIGQpIHtcbiAgICAgICAgdmFyIHZhbCA9IGRba10sIG4gPSBwICsgaztcbiAgICAgICAgaWYgKHZhbCBpbnN0YW5jZW9mIHU4KVxuICAgICAgICAgICAgdFtuXSA9IFt2YWwsIG9dO1xuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbCkpXG4gICAgICAgICAgICB0W25dID0gW3ZhbFswXSwgbXJnKG8sIHZhbFsxXSldO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBmbHRuKHZhbCwgbiArICcvJywgdCwgbyk7XG4gICAgfVxufTtcbi8vIHRleHQgZW5jb2RlclxudmFyIHRlID0gdHlwZW9mIFRleHRFbmNvZGVyICE9ICd1bmRlZmluZWQnICYmIC8qI19fUFVSRV9fKi8gbmV3IFRleHRFbmNvZGVyKCk7XG4vLyB0ZXh0IGRlY29kZXJcbnZhciB0ZCA9IHR5cGVvZiBUZXh0RGVjb2RlciAhPSAndW5kZWZpbmVkJyAmJiAvKiNfX1BVUkVfXyovIG5ldyBUZXh0RGVjb2RlcigpO1xuLy8gdGV4dCBkZWNvZGVyIHN0cmVhbVxudmFyIHRkcyA9IDA7XG50cnkge1xuICAgIHRkLmRlY29kZShldCwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgdGRzID0gMTtcbn1cbmNhdGNoIChlKSB7IH1cbi8vIGRlY29kZSBVVEY4XG52YXIgZHV0ZjggPSBmdW5jdGlvbiAoZCkge1xuICAgIGZvciAodmFyIHIgPSAnJywgaSA9IDA7Oykge1xuICAgICAgICB2YXIgYyA9IGRbaSsrXTtcbiAgICAgICAgdmFyIGViID0gKGMgPiAxMjcpICsgKGMgPiAyMjMpICsgKGMgPiAyMzkpO1xuICAgICAgICBpZiAoaSArIGViID4gZC5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gW3IsIHNsYyhkLCBpIC0gMSldO1xuICAgICAgICBpZiAoIWViKVxuICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgICBlbHNlIGlmIChlYiA9PSAzKSB7XG4gICAgICAgICAgICBjID0gKChjICYgMTUpIDw8IDE4IHwgKGRbaSsrXSAmIDYzKSA8PCAxMiB8IChkW2krK10gJiA2MykgPDwgNiB8IChkW2krK10gJiA2MykpIC0gNjU1MzYsXG4gICAgICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2IHwgKGMgPj4gMTApLCA1NjMyMCB8IChjICYgMTAyMykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGViICYgMSlcbiAgICAgICAgICAgIHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDMxKSA8PCA2IHwgKGRbaSsrXSAmIDYzKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDE1KSA8PCAxMiB8IChkW2krK10gJiA2MykgPDwgNiB8IChkW2krK10gJiA2MykpO1xuICAgIH1cbn07XG4vKipcbiAqIFN0cmVhbWluZyBVVEYtOCBkZWNvZGluZ1xuICovXG52YXIgRGVjb2RlVVRGOCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVVRGLTggZGVjb2Rpbmcgc3RyZWFtXG4gICAgICogQHBhcmFtIGNiIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW5ldmVyIGRhdGEgaXMgZGVjb2RlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERlY29kZVVURjgoY2IpIHtcbiAgICAgICAgdGhpcy5vbmRhdGEgPSBjYjtcbiAgICAgICAgaWYgKHRkcylcbiAgICAgICAgICAgIHRoaXMudCA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnAgPSBldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgZGVjb2RlZCBmcm9tIFVURi04IGJpbmFyeVxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHVzaFxuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBEZWNvZGVVVEY4LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBmaW5hbCkge1xuICAgICAgICBpZiAoIXRoaXMub25kYXRhKVxuICAgICAgICAgICAgZXJyKDUpO1xuICAgICAgICBmaW5hbCA9ICEhZmluYWw7XG4gICAgICAgIGlmICh0aGlzLnQpIHtcbiAgICAgICAgICAgIHRoaXMub25kYXRhKHRoaXMudC5kZWNvZGUoY2h1bmssIHsgc3RyZWFtOiB0cnVlIH0pLCBmaW5hbCk7XG4gICAgICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50LmRlY29kZSgpLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgZXJyKDgpO1xuICAgICAgICAgICAgICAgIHRoaXMudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnApXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIHZhciBkYXQgPSBuZXcgdTgodGhpcy5wLmxlbmd0aCArIGNodW5rLmxlbmd0aCk7XG4gICAgICAgIGRhdC5zZXQodGhpcy5wKTtcbiAgICAgICAgZGF0LnNldChjaHVuaywgdGhpcy5wLmxlbmd0aCk7XG4gICAgICAgIHZhciBfYSA9IGR1dGY4KGRhdCksIGNoID0gX2FbMF0sIG5wID0gX2FbMV07XG4gICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgaWYgKG5wLmxlbmd0aClcbiAgICAgICAgICAgICAgICBlcnIoOCk7XG4gICAgICAgICAgICB0aGlzLnAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucCA9IG5wO1xuICAgICAgICB0aGlzLm9uZGF0YShjaCwgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIERlY29kZVVURjg7XG59KCkpO1xuZXhwb3J0IHsgRGVjb2RlVVRGOCB9O1xuLyoqXG4gKiBTdHJlYW1pbmcgVVRGLTggZW5jb2RpbmdcbiAqL1xudmFyIEVuY29kZVVURjggPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFVURi04IGRlY29kaW5nIHN0cmVhbVxuICAgICAqIEBwYXJhbSBjYiBUaGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuZXZlciBkYXRhIGlzIGVuY29kZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbmNvZGVVVEY4KGNiKSB7XG4gICAgICAgIHRoaXMub25kYXRhID0gY2I7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGVuY29kZWQgdG8gVVRGLThcbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIHN0cmluZyBkYXRhIHRvIHB1c2hcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgRW5jb2RlVVRGOC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9uZGF0YSlcbiAgICAgICAgICAgIGVycig1KTtcbiAgICAgICAgaWYgKHRoaXMuZClcbiAgICAgICAgICAgIGVycig0KTtcbiAgICAgICAgdGhpcy5vbmRhdGEoc3RyVG9VOChjaHVuayksIHRoaXMuZCA9IGZpbmFsIHx8IGZhbHNlKTtcbiAgICB9O1xuICAgIHJldHVybiBFbmNvZGVVVEY4O1xufSgpKTtcbmV4cG9ydCB7IEVuY29kZVVURjggfTtcbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgaW50byBhIFVpbnQ4QXJyYXkgZm9yIHVzZSB3aXRoIGNvbXByZXNzaW9uL2RlY29tcHJlc3Npb24gbWV0aG9kc1xuICogQHBhcmFtIHN0ciBUaGUgc3RyaW5nIHRvIGVuY29kZVxuICogQHBhcmFtIGxhdGluMSBXaGV0aGVyIG9yIG5vdCB0byBpbnRlcnByZXQgdGhlIGRhdGEgYXMgTGF0aW4tMS4gVGhpcyBzaG91bGRcbiAqICAgICAgICAgICAgICAgbm90IG5lZWQgdG8gYmUgdHJ1ZSB1bmxlc3MgZGVjb2RpbmcgYSBiaW5hcnkgc3RyaW5nLlxuICogQHJldHVybnMgVGhlIHN0cmluZyBlbmNvZGVkIGluIFVURi04L0xhdGluLTEgYmluYXJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJUb1U4KHN0ciwgbGF0aW4xKSB7XG4gICAgaWYgKGxhdGluMSkge1xuICAgICAgICB2YXIgYXJfMSA9IG5ldyB1OChzdHIubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBhcl8xW2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIHJldHVybiBhcl8xO1xuICAgIH1cbiAgICBpZiAodGUpXG4gICAgICAgIHJldHVybiB0ZS5lbmNvZGUoc3RyKTtcbiAgICB2YXIgbCA9IHN0ci5sZW5ndGg7XG4gICAgdmFyIGFyID0gbmV3IHU4KHN0ci5sZW5ndGggKyAoc3RyLmxlbmd0aCA+PiAxKSk7XG4gICAgdmFyIGFpID0gMDtcbiAgICB2YXIgdyA9IGZ1bmN0aW9uICh2KSB7IGFyW2FpKytdID0gdjsgfTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7ICsraSkge1xuICAgICAgICBpZiAoYWkgKyA1ID4gYXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbiA9IG5ldyB1OChhaSArIDggKyAoKGwgLSBpKSA8PCAxKSk7XG4gICAgICAgICAgICBuLnNldChhcik7XG4gICAgICAgICAgICBhciA9IG47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPCAxMjggfHwgbGF0aW4xKVxuICAgICAgICAgICAgdyhjKTtcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpXG4gICAgICAgICAgICB3KDE5MiB8IChjID4+IDYpKSwgdygxMjggfCAoYyAmIDYzKSk7XG4gICAgICAgIGVsc2UgaWYgKGMgPiA1NTI5NSAmJiBjIDwgNTczNDQpXG4gICAgICAgICAgICBjID0gNjU1MzYgKyAoYyAmIDEwMjMgPDwgMTApIHwgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAxMDIzKSxcbiAgICAgICAgICAgICAgICB3KDI0MCB8IChjID4+IDE4KSksIHcoMTI4IHwgKChjID4+IDEyKSAmIDYzKSksIHcoMTI4IHwgKChjID4+IDYpICYgNjMpKSwgdygxMjggfCAoYyAmIDYzKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHcoMjI0IHwgKGMgPj4gMTIpKSwgdygxMjggfCAoKGMgPj4gNikgJiA2MykpLCB3KDEyOCB8IChjICYgNjMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNsYyhhciwgMCwgYWkpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIFVpbnQ4QXJyYXkgdG8gYSBzdHJpbmdcbiAqIEBwYXJhbSBkYXQgVGhlIGRhdGEgdG8gZGVjb2RlIHRvIHN0cmluZ1xuICogQHBhcmFtIGxhdGluMSBXaGV0aGVyIG9yIG5vdCB0byBpbnRlcnByZXQgdGhlIGRhdGEgYXMgTGF0aW4tMS4gVGhpcyBzaG91bGRcbiAqICAgICAgICAgICAgICAgbm90IG5lZWQgdG8gYmUgdHJ1ZSB1bmxlc3MgZW5jb2RpbmcgdG8gYmluYXJ5IHN0cmluZy5cbiAqIEByZXR1cm5zIFRoZSBvcmlnaW5hbCBVVEYtOC9MYXRpbi0xIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyRnJvbVU4KGRhdCwgbGF0aW4xKSB7XG4gICAgaWYgKGxhdGluMSkge1xuICAgICAgICB2YXIgciA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdC5sZW5ndGg7IGkgKz0gMTYzODQpXG4gICAgICAgICAgICByICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgZGF0LnN1YmFycmF5KGksIGkgKyAxNjM4NCkpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgZWxzZSBpZiAodGQpXG4gICAgICAgIHJldHVybiB0ZC5kZWNvZGUoZGF0KTtcbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIF9hID0gZHV0ZjgoZGF0KSwgb3V0ID0gX2FbMF0sIGV4dCA9IF9hWzFdO1xuICAgICAgICBpZiAoZXh0Lmxlbmd0aClcbiAgICAgICAgICAgIGVycig4KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9XG59XG47XG4vLyBkZWZsYXRlIGJpdCBmbGFnXG52YXIgZGJmID0gZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwgPT0gMSA/IDMgOiBsIDwgNiA/IDIgOiBsID09IDkgPyAxIDogMDsgfTtcbi8vIHNraXAgbG9jYWwgemlwIGhlYWRlclxudmFyIHNsemggPSBmdW5jdGlvbiAoZCwgYikgeyByZXR1cm4gYiArIDMwICsgYjIoZCwgYiArIDI2KSArIGIyKGQsIGIgKyAyOCk7IH07XG4vLyByZWFkIHppcCBoZWFkZXJcbnZhciB6aCA9IGZ1bmN0aW9uIChkLCBiLCB6KSB7XG4gICAgdmFyIGZubCA9IGIyKGQsIGIgKyAyOCksIGZuID0gc3RyRnJvbVU4KGQuc3ViYXJyYXkoYiArIDQ2LCBiICsgNDYgKyBmbmwpLCAhKGIyKGQsIGIgKyA4KSAmIDIwNDgpKSwgZXMgPSBiICsgNDYgKyBmbmwsIGJzID0gYjQoZCwgYiArIDIwKTtcbiAgICB2YXIgX2EgPSB6ICYmIGJzID09IDQyOTQ5NjcyOTUgPyB6NjRlKGQsIGVzKSA6IFticywgYjQoZCwgYiArIDI0KSwgYjQoZCwgYiArIDQyKV0sIHNjID0gX2FbMF0sIHN1ID0gX2FbMV0sIG9mZiA9IF9hWzJdO1xuICAgIHJldHVybiBbYjIoZCwgYiArIDEwKSwgc2MsIHN1LCBmbiwgZXMgKyBiMihkLCBiICsgMzApICsgYjIoZCwgYiArIDMyKSwgb2ZmXTtcbn07XG4vLyByZWFkIHppcDY0IGV4dHJhIGZpZWxkXG52YXIgejY0ZSA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgZm9yICg7IGIyKGQsIGIpICE9IDE7IGIgKz0gNCArIGIyKGQsIGIgKyAyKSlcbiAgICAgICAgO1xuICAgIHJldHVybiBbYjgoZCwgYiArIDEyKSwgYjgoZCwgYiArIDQpLCBiOChkLCBiICsgMjApXTtcbn07XG4vLyBleHRyYSBmaWVsZCBsZW5ndGhcbnZhciBleGZsID0gZnVuY3Rpb24gKGV4KSB7XG4gICAgdmFyIGxlID0gMDtcbiAgICBpZiAoZXgpIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBleCkge1xuICAgICAgICAgICAgdmFyIGwgPSBleFtrXS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobCA+IDY1NTM1KVxuICAgICAgICAgICAgICAgIGVycig5KTtcbiAgICAgICAgICAgIGxlICs9IGwgKyA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsZTtcbn07XG4vLyB3cml0ZSB6aXAgaGVhZGVyXG52YXIgd3poID0gZnVuY3Rpb24gKGQsIGIsIGYsIGZuLCB1LCBjLCBjZSwgY28pIHtcbiAgICB2YXIgZmwgPSBmbi5sZW5ndGgsIGV4ID0gZi5leHRyYSwgY29sID0gY28gJiYgY28ubGVuZ3RoO1xuICAgIHZhciBleGwgPSBleGZsKGV4KTtcbiAgICB3Ynl0ZXMoZCwgYiwgY2UgIT0gbnVsbCA/IDB4MjAxNEI1MCA6IDB4NDAzNEI1MCksIGIgKz0gNDtcbiAgICBpZiAoY2UgIT0gbnVsbClcbiAgICAgICAgZFtiKytdID0gMjAsIGRbYisrXSA9IGYub3M7XG4gICAgZFtiXSA9IDIwLCBiICs9IDI7IC8vIHNwZWMgY29tcGxpYW5jZT8gd2hhdCdzIHRoYXQ/XG4gICAgZFtiKytdID0gKGYuZmxhZyA8PCAxKSB8IChjID09IG51bGwgJiYgOCksIGRbYisrXSA9IHUgJiYgODtcbiAgICBkW2IrK10gPSBmLmNvbXByZXNzaW9uICYgMjU1LCBkW2IrK10gPSBmLmNvbXByZXNzaW9uID4+IDg7XG4gICAgdmFyIGR0ID0gbmV3IERhdGUoZi5tdGltZSA9PSBudWxsID8gRGF0ZS5ub3coKSA6IGYubXRpbWUpLCB5ID0gZHQuZ2V0RnVsbFllYXIoKSAtIDE5ODA7XG4gICAgaWYgKHkgPCAwIHx8IHkgPiAxMTkpXG4gICAgICAgIGVycigxMCk7XG4gICAgd2J5dGVzKGQsIGIsICh5IDw8IDI1KSB8ICgoZHQuZ2V0TW9udGgoKSArIDEpIDw8IDIxKSB8IChkdC5nZXREYXRlKCkgPDwgMTYpIHwgKGR0LmdldEhvdXJzKCkgPDwgMTEpIHwgKGR0LmdldE1pbnV0ZXMoKSA8PCA1KSB8IChkdC5nZXRTZWNvbmRzKCkgPj4+IDEpKSwgYiArPSA0O1xuICAgIGlmIChjICE9IG51bGwpIHtcbiAgICAgICAgd2J5dGVzKGQsIGIsIGYuY3JjKTtcbiAgICAgICAgd2J5dGVzKGQsIGIgKyA0LCBjKTtcbiAgICAgICAgd2J5dGVzKGQsIGIgKyA4LCBmLnNpemUpO1xuICAgIH1cbiAgICB3Ynl0ZXMoZCwgYiArIDEyLCBmbCk7XG4gICAgd2J5dGVzKGQsIGIgKyAxNCwgZXhsKSwgYiArPSAxNjtcbiAgICBpZiAoY2UgIT0gbnVsbCkge1xuICAgICAgICB3Ynl0ZXMoZCwgYiwgY29sKTtcbiAgICAgICAgd2J5dGVzKGQsIGIgKyA2LCBmLmF0dHJzKTtcbiAgICAgICAgd2J5dGVzKGQsIGIgKyAxMCwgY2UpLCBiICs9IDE0O1xuICAgIH1cbiAgICBkLnNldChmbiwgYik7XG4gICAgYiArPSBmbDtcbiAgICBpZiAoZXhsKSB7XG4gICAgICAgIGZvciAodmFyIGsgaW4gZXgpIHtcbiAgICAgICAgICAgIHZhciBleGYgPSBleFtrXSwgbCA9IGV4Zi5sZW5ndGg7XG4gICAgICAgICAgICB3Ynl0ZXMoZCwgYiwgK2spO1xuICAgICAgICAgICAgd2J5dGVzKGQsIGIgKyAyLCBsKTtcbiAgICAgICAgICAgIGQuc2V0KGV4ZiwgYiArIDQpLCBiICs9IDQgKyBsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjb2wpXG4gICAgICAgIGQuc2V0KGNvLCBiKSwgYiArPSBjb2w7XG4gICAgcmV0dXJuIGI7XG59O1xuLy8gd3JpdGUgemlwIGZvb3RlciAoZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5KVxudmFyIHd6ZiA9IGZ1bmN0aW9uIChvLCBiLCBjLCBkLCBlKSB7XG4gICAgd2J5dGVzKG8sIGIsIDB4NjA1NEI1MCk7IC8vIHNraXAgZGlza1xuICAgIHdieXRlcyhvLCBiICsgOCwgYyk7XG4gICAgd2J5dGVzKG8sIGIgKyAxMCwgYyk7XG4gICAgd2J5dGVzKG8sIGIgKyAxMiwgZCk7XG4gICAgd2J5dGVzKG8sIGIgKyAxNiwgZSk7XG59O1xuLyoqXG4gKiBBIHBhc3MtdGhyb3VnaCBzdHJlYW0gdG8ga2VlcCBkYXRhIHVuY29tcHJlc3NlZCBpbiBhIFpJUCBhcmNoaXZlLlxuICovXG52YXIgWmlwUGFzc1Rocm91Z2ggPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBhc3MtdGhyb3VnaCBzdHJlYW0gdGhhdCBjYW4gYmUgYWRkZWQgdG8gWklQIGFyY2hpdmVzXG4gICAgICogQHBhcmFtIGZpbGVuYW1lIFRoZSBmaWxlbmFtZSB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIGRhdGEgc3RyZWFtXG4gICAgICovXG4gICAgZnVuY3Rpb24gWmlwUGFzc1Rocm91Z2goZmlsZW5hbWUpIHtcbiAgICAgICAgdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgICAgICB0aGlzLmMgPSBjcmMoKTtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5jb21wcmVzc2lvbiA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyBhIGNodW5rIGFuZCBwdXNoZXMgdG8gdGhlIG91dHB1dCBzdHJlYW0uIFlvdSBjYW4gb3ZlcnJpZGUgdGhpc1xuICAgICAqIG1ldGhvZCBpbiBhIHN1YmNsYXNzIGZvciBjdXN0b20gYmVoYXZpb3IsIGJ1dCBieSBkZWZhdWx0IHRoaXMgcGFzc2VzXG4gICAgICogdGhlIGRhdGEgdGhyb3VnaC4gWW91IG11c3QgY2FsbCB0aGlzLm9uZGF0YShlcnIsIGNodW5rLCBmaW5hbCkgYXQgc29tZVxuICAgICAqIHBvaW50IGluIHRoaXMgbWV0aG9kLlxuICAgICAqIEBwYXJhbSBjaHVuayBUaGUgY2h1bmsgdG8gcHJvY2Vzc1xuICAgICAqIEBwYXJhbSBmaW5hbCBXaGV0aGVyIHRoaXMgaXMgdGhlIGxhc3QgY2h1bmtcbiAgICAgKi9cbiAgICBaaXBQYXNzVGhyb3VnaC5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgdGhpcy5vbmRhdGEobnVsbCwgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGFkZGVkLiBJZiB5b3UgYXJlIHN1YmNsYXNzaW5nIHRoaXMgd2l0aCBhIGN1c3RvbVxuICAgICAqIGNvbXByZXNzaW9uIGFsZ29yaXRobSwgbm90ZSB0aGF0IHlvdSBtdXN0IHB1c2ggZGF0YSBmcm9tIHRoZSBzb3VyY2VcbiAgICAgKiBmaWxlIG9ubHksIHByZS1jb21wcmVzc2lvbi5cbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIGNodW5rIHRvIHB1c2hcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgWmlwUGFzc1Rocm91Z2gucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIGlmICghdGhpcy5vbmRhdGEpXG4gICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgIHRoaXMuYy5wKGNodW5rKTtcbiAgICAgICAgdGhpcy5zaXplICs9IGNodW5rLmxlbmd0aDtcbiAgICAgICAgaWYgKGZpbmFsKVxuICAgICAgICAgICAgdGhpcy5jcmMgPSB0aGlzLmMuZCgpO1xuICAgICAgICB0aGlzLnByb2Nlc3MoY2h1bmssIGZpbmFsIHx8IGZhbHNlKTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBQYXNzVGhyb3VnaDtcbn0oKSk7XG5leHBvcnQgeyBaaXBQYXNzVGhyb3VnaCB9O1xuLy8gSSBkb24ndCBleHRlbmQgYmVjYXVzZSBUeXBlU2NyaXB0IGV4dGVuc2lvbiBhZGRzIDFrQiBvZiBydW50aW1lIGJsb2F0XG4vKipcbiAqIFN0cmVhbWluZyBERUZMQVRFIGNvbXByZXNzaW9uIGZvciBaSVAgYXJjaGl2ZXMuIFByZWZlciB1c2luZyBBc3luY1ppcERlZmxhdGVcbiAqIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAqL1xudmFyIFppcERlZmxhdGUgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIERFRkxBVEUgc3RyZWFtIHRoYXQgY2FuIGJlIGFkZGVkIHRvIFpJUCBhcmNoaXZlc1xuICAgICAqIEBwYXJhbSBmaWxlbmFtZSBUaGUgZmlsZW5hbWUgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBkYXRhIHN0cmVhbVxuICAgICAqIEBwYXJhbSBvcHRzIFRoZSBjb21wcmVzc2lvbiBvcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gWmlwRGVmbGF0ZShmaWxlbmFtZSwgb3B0cykge1xuICAgICAgICB2YXIgX3RoaXNfMSA9IHRoaXM7XG4gICAgICAgIGlmICghb3B0cylcbiAgICAgICAgICAgIG9wdHMgPSB7fTtcbiAgICAgICAgWmlwUGFzc1Rocm91Z2guY2FsbCh0aGlzLCBmaWxlbmFtZSk7XG4gICAgICAgIHRoaXMuZCA9IG5ldyBEZWZsYXRlKG9wdHMsIGZ1bmN0aW9uIChkYXQsIGZpbmFsKSB7XG4gICAgICAgICAgICBfdGhpc18xLm9uZGF0YShudWxsLCBkYXQsIGZpbmFsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29tcHJlc3Npb24gPSA4O1xuICAgICAgICB0aGlzLmZsYWcgPSBkYmYob3B0cy5sZXZlbCk7XG4gICAgfVxuICAgIFppcERlZmxhdGUucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmQucHVzaChjaHVuaywgZmluYWwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLm9uZGF0YShlLCBudWxsLCBmaW5hbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGRlZmxhdGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIFppcERlZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIFppcFBhc3NUaHJvdWdoLnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBEZWZsYXRlO1xufSgpKTtcbmV4cG9ydCB7IFppcERlZmxhdGUgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBERUZMQVRFIGNvbXByZXNzaW9uIGZvciBaSVAgYXJjaGl2ZXNcbiAqL1xudmFyIEFzeW5jWmlwRGVmbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgREVGTEFURSBzdHJlYW0gdGhhdCBjYW4gYmUgYWRkZWQgdG8gWklQIGFyY2hpdmVzXG4gICAgICogQHBhcmFtIGZpbGVuYW1lIFRoZSBmaWxlbmFtZSB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIGRhdGEgc3RyZWFtXG4gICAgICogQHBhcmFtIG9wdHMgVGhlIGNvbXByZXNzaW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY1ppcERlZmxhdGUoZmlsZW5hbWUsIG9wdHMpIHtcbiAgICAgICAgdmFyIF90aGlzXzEgPSB0aGlzO1xuICAgICAgICBpZiAoIW9wdHMpXG4gICAgICAgICAgICBvcHRzID0ge307XG4gICAgICAgIFppcFBhc3NUaHJvdWdoLmNhbGwodGhpcywgZmlsZW5hbWUpO1xuICAgICAgICB0aGlzLmQgPSBuZXcgQXN5bmNEZWZsYXRlKG9wdHMsIGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgIF90aGlzXzEub25kYXRhKGVyciwgZGF0LCBmaW5hbCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbXByZXNzaW9uID0gODtcbiAgICAgICAgdGhpcy5mbGFnID0gZGJmKG9wdHMubGV2ZWwpO1xuICAgICAgICB0aGlzLnRlcm1pbmF0ZSA9IHRoaXMuZC50ZXJtaW5hdGU7XG4gICAgfVxuICAgIEFzeW5jWmlwRGVmbGF0ZS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgdGhpcy5kLnB1c2goY2h1bmssIGZpbmFsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFB1c2hlcyBhIGNodW5rIHRvIGJlIGRlZmxhdGVkXG4gICAgICogQHBhcmFtIGNodW5rIFRoZSBjaHVuayB0byBwdXNoXG4gICAgICogQHBhcmFtIGZpbmFsIFdoZXRoZXIgdGhpcyBpcyB0aGUgbGFzdCBjaHVua1xuICAgICAqL1xuICAgIEFzeW5jWmlwRGVmbGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZmluYWwpIHtcbiAgICAgICAgWmlwUGFzc1Rocm91Z2gucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLCBjaHVuaywgZmluYWwpO1xuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jWmlwRGVmbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBBc3luY1ppcERlZmxhdGUgfTtcbi8vIFRPRE86IEJldHRlciB0cmVlIHNoYWtpbmdcbi8qKlxuICogQSB6aXBwYWJsZSBhcmNoaXZlIHRvIHdoaWNoIGZpbGVzIGNhbiBpbmNyZW1lbnRhbGx5IGJlIGFkZGVkXG4gKi9cbnZhciBaaXAgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbXB0eSBaSVAgYXJjaGl2ZSB0byB3aGljaCBmaWxlcyBjYW4gYmUgYWRkZWRcbiAgICAgKiBAcGFyYW0gY2IgVGhlIGNhbGxiYWNrIHRvIGNhbGwgd2hlbmV2ZXIgZGF0YSBmb3IgdGhlIGdlbmVyYXRlZCBaSVAgYXJjaGl2ZVxuICAgICAqICAgICAgICAgICBpcyBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaaXAoY2IpIHtcbiAgICAgICAgdGhpcy5vbmRhdGEgPSBjYjtcbiAgICAgICAgdGhpcy51ID0gW107XG4gICAgICAgIHRoaXMuZCA9IDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBmaWxlIHRvIHRoZSBaSVAgYXJjaGl2ZVxuICAgICAqIEBwYXJhbSBmaWxlIFRoZSBmaWxlIHN0cmVhbSB0byBhZGRcbiAgICAgKi9cbiAgICBaaXAucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgIHZhciBfdGhpc18xID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLm9uZGF0YSlcbiAgICAgICAgICAgIGVycig1KTtcbiAgICAgICAgLy8gZmluaXNoaW5nIG9yIGZpbmlzaGVkXG4gICAgICAgIGlmICh0aGlzLmQgJiAyKVxuICAgICAgICAgICAgdGhpcy5vbmRhdGEoZXJyKDQgKyAodGhpcy5kICYgMSkgKiA4LCAwLCAxKSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmID0gc3RyVG9VOChmaWxlLmZpbGVuYW1lKSwgZmxfMSA9IGYubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGNvbSA9IGZpbGUuY29tbWVudCwgbyA9IGNvbSAmJiBzdHJUb1U4KGNvbSk7XG4gICAgICAgICAgICB2YXIgdSA9IGZsXzEgIT0gZmlsZS5maWxlbmFtZS5sZW5ndGggfHwgKG8gJiYgKGNvbS5sZW5ndGggIT0gby5sZW5ndGgpKTtcbiAgICAgICAgICAgIHZhciBobF8xID0gZmxfMSArIGV4ZmwoZmlsZS5leHRyYSkgKyAzMDtcbiAgICAgICAgICAgIGlmIChmbF8xID4gNjU1MzUpXG4gICAgICAgICAgICAgICAgdGhpcy5vbmRhdGEoZXJyKDExLCAwLCAxKSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgdmFyIGhlYWRlciA9IG5ldyB1OChobF8xKTtcbiAgICAgICAgICAgIHd6aChoZWFkZXIsIDAsIGZpbGUsIGYsIHUpO1xuICAgICAgICAgICAgdmFyIGNoa3NfMSA9IFtoZWFkZXJdO1xuICAgICAgICAgICAgdmFyIHBBbGxfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGNoa3NfMiA9IGNoa3NfMTsgX2kgPCBjaGtzXzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGsgPSBjaGtzXzJbX2ldO1xuICAgICAgICAgICAgICAgICAgICBfdGhpc18xLm9uZGF0YShudWxsLCBjaGssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2hrc18xID0gW107XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHRyXzEgPSB0aGlzLmQ7XG4gICAgICAgICAgICB0aGlzLmQgPSAwO1xuICAgICAgICAgICAgdmFyIGluZF8xID0gdGhpcy51Lmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB1Zl8xID0gbXJnKGZpbGUsIHtcbiAgICAgICAgICAgICAgICBmOiBmLFxuICAgICAgICAgICAgICAgIHU6IHUsXG4gICAgICAgICAgICAgICAgbzogbyxcbiAgICAgICAgICAgICAgICB0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnRlcm1pbmF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBBbGxfMSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG54dCA9IF90aGlzXzEudVtpbmRfMSArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG54dClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBueHQucigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzXzEuZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJfMSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2xfMSA9IDA7XG4gICAgICAgICAgICBmaWxlLm9uZGF0YSA9IGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzXzEub25kYXRhKGVyciwgZGF0LCBmaW5hbCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzXzEudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbF8xICs9IGRhdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGNoa3NfMS5wdXNoKGRhdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRkID0gbmV3IHU4KDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdieXRlcyhkZCwgMCwgMHg4MDc0QjUwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdieXRlcyhkZCwgNCwgZmlsZS5jcmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2J5dGVzKGRkLCA4LCBjbF8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdieXRlcyhkZCwgMTIsIGZpbGUuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGtzXzEucHVzaChkZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1Zl8xLmMgPSBjbF8xLCB1Zl8xLmIgPSBobF8xICsgY2xfMSArIDE2LCB1Zl8xLmNyYyA9IGZpbGUuY3JjLCB1Zl8xLnNpemUgPSBmaWxlLnNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJfMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1Zl8xLnIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyXzEgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRyXzEpXG4gICAgICAgICAgICAgICAgICAgICAgICBwQWxsXzEoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy51LnB1c2godWZfMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEVuZHMgdGhlIHByb2Nlc3Mgb2YgYWRkaW5nIGZpbGVzIGFuZCBwcmVwYXJlcyB0byBlbWl0IHRoZSBmaW5hbCBjaHVua3MuXG4gICAgICogVGhpcyAqbXVzdCogYmUgY2FsbGVkIGFmdGVyIGFkZGluZyBhbGwgZGVzaXJlZCBmaWxlcyBmb3IgdGhlIHJlc3VsdGluZ1xuICAgICAqIFpJUCBmaWxlIHRvIHdvcmsgcHJvcGVybHkuXG4gICAgICovXG4gICAgWmlwLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpc18xID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuZCAmIDIpIHtcbiAgICAgICAgICAgIHRoaXMub25kYXRhKGVycig0ICsgKHRoaXMuZCAmIDEpICogOCwgMCwgMSksIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmQpXG4gICAgICAgICAgICB0aGlzLmUoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy51LnB1c2goe1xuICAgICAgICAgICAgICAgIHI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXNfMS5kICYgMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIF90aGlzXzEudS5zcGxpY2UoLTEsIDEpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpc18xLmUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHQ6IGZ1bmN0aW9uICgpIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZCA9IDM7XG4gICAgfTtcbiAgICBaaXAucHJvdG90eXBlLmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidCA9IDAsIGwgPSAwLCB0bCA9IDA7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLnU7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9hW19pXTtcbiAgICAgICAgICAgIHRsICs9IDQ2ICsgZi5mLmxlbmd0aCArIGV4ZmwoZi5leHRyYSkgKyAoZi5vID8gZi5vLmxlbmd0aCA6IDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXQgPSBuZXcgdTgodGwgKyAyMik7XG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSB0aGlzLnU7IF9iIDwgX2MubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICB2YXIgZiA9IF9jW19iXTtcbiAgICAgICAgICAgIHd6aChvdXQsIGJ0LCBmLCBmLmYsIGYudSwgZi5jLCBsLCBmLm8pO1xuICAgICAgICAgICAgYnQgKz0gNDYgKyBmLmYubGVuZ3RoICsgZXhmbChmLmV4dHJhKSArIChmLm8gPyBmLm8ubGVuZ3RoIDogMCksIGwgKz0gZi5iO1xuICAgICAgICB9XG4gICAgICAgIHd6ZihvdXQsIGJ0LCB0aGlzLnUubGVuZ3RoLCB0bCwgbCk7XG4gICAgICAgIHRoaXMub25kYXRhKG51bGwsIG91dCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZCA9IDI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIG1ldGhvZCB0byB0ZXJtaW5hdGUgYW55IGludGVybmFsIHdvcmtlcnMgdXNlZCBieSB0aGUgc3RyZWFtLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gYWRkKCkgd2lsbCBmYWlsLlxuICAgICAqL1xuICAgIFppcC5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy51OyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGYgPSBfYVtfaV07XG4gICAgICAgICAgICBmLnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmQgPSAyO1xuICAgIH07XG4gICAgcmV0dXJuIFppcDtcbn0oKSk7XG5leHBvcnQgeyBaaXAgfTtcbmV4cG9ydCBmdW5jdGlvbiB6aXAoZGF0YSwgb3B0cywgY2IpIHtcbiAgICBpZiAoIWNiKVxuICAgICAgICBjYiA9IG9wdHMsIG9wdHMgPSB7fTtcbiAgICBpZiAodHlwZW9mIGNiICE9ICdmdW5jdGlvbicpXG4gICAgICAgIGVycig3KTtcbiAgICB2YXIgciA9IHt9O1xuICAgIGZsdG4oZGF0YSwgJycsIHIsIG9wdHMpO1xuICAgIHZhciBrID0gT2JqZWN0LmtleXMocik7XG4gICAgdmFyIGxmdCA9IGsubGVuZ3RoLCBvID0gMCwgdG90ID0gMDtcbiAgICB2YXIgc2xmdCA9IGxmdCwgZmlsZXMgPSBuZXcgQXJyYXkobGZ0KTtcbiAgICB2YXIgdGVybSA9IFtdO1xuICAgIHZhciB0QWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlcm0ubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB0ZXJtW2ldKCk7XG4gICAgfTtcbiAgICB2YXIgY2JkID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgbXQoZnVuY3Rpb24gKCkgeyBjYihhLCBiKTsgfSk7XG4gICAgfTtcbiAgICBtdChmdW5jdGlvbiAoKSB7IGNiZCA9IGNiOyB9KTtcbiAgICB2YXIgY2JmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3V0ID0gbmV3IHU4KHRvdCArIDIyKSwgb2UgPSBvLCBjZGwgPSB0b3QgLSBvO1xuICAgICAgICB0b3QgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsZnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIGYgPSBmaWxlc1tpXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGwgPSBmLmMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHd6aChvdXQsIHRvdCwgZiwgZi5mLCBmLnUsIGwpO1xuICAgICAgICAgICAgICAgIHZhciBiYWRkID0gMzAgKyBmLmYubGVuZ3RoICsgZXhmbChmLmV4dHJhKTtcbiAgICAgICAgICAgICAgICB2YXIgbG9jID0gdG90ICsgYmFkZDtcbiAgICAgICAgICAgICAgICBvdXQuc2V0KGYuYywgbG9jKTtcbiAgICAgICAgICAgICAgICB3emgob3V0LCBvLCBmLCBmLmYsIGYudSwgbCwgdG90LCBmLm0pLCBvICs9IDE2ICsgYmFkZCArIChmLm0gPyBmLm0ubGVuZ3RoIDogMCksIHRvdCA9IGxvYyArIGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYmQoZSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd3pmKG91dCwgbywgZmlsZXMubGVuZ3RoLCBjZGwsIG9lKTtcbiAgICAgICAgY2JkKG51bGwsIG91dCk7XG4gICAgfTtcbiAgICBpZiAoIWxmdClcbiAgICAgICAgY2JmKCk7XG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICB2YXIgZm4gPSBrW2ldO1xuICAgICAgICB2YXIgX2EgPSByW2ZuXSwgZmlsZSA9IF9hWzBdLCBwID0gX2FbMV07XG4gICAgICAgIHZhciBjID0gY3JjKCksIHNpemUgPSBmaWxlLmxlbmd0aDtcbiAgICAgICAgYy5wKGZpbGUpO1xuICAgICAgICB2YXIgZiA9IHN0clRvVTgoZm4pLCBzID0gZi5sZW5ndGg7XG4gICAgICAgIHZhciBjb20gPSBwLmNvbW1lbnQsIG0gPSBjb20gJiYgc3RyVG9VOChjb20pLCBtcyA9IG0gJiYgbS5sZW5ndGg7XG4gICAgICAgIHZhciBleGwgPSBleGZsKHAuZXh0cmEpO1xuICAgICAgICB2YXIgY29tcHJlc3Npb24gPSBwLmxldmVsID09IDAgPyAwIDogODtcbiAgICAgICAgdmFyIGNibCA9IGZ1bmN0aW9uIChlLCBkKSB7XG4gICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgIHRBbGwoKTtcbiAgICAgICAgICAgICAgICBjYmQoZSwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IGQubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZpbGVzW2ldID0gbXJnKHAsIHtcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgY3JjOiBjLmQoKSxcbiAgICAgICAgICAgICAgICAgICAgYzogZCxcbiAgICAgICAgICAgICAgICAgICAgZjogZixcbiAgICAgICAgICAgICAgICAgICAgbTogbSxcbiAgICAgICAgICAgICAgICAgICAgdTogcyAhPSBmbi5sZW5ndGggfHwgKG0gJiYgKGNvbS5sZW5ndGggIT0gbXMpKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcHJlc3Npb246IGNvbXByZXNzaW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbyArPSAzMCArIHMgKyBleGwgKyBsO1xuICAgICAgICAgICAgICAgIHRvdCArPSA3NiArIDIgKiAocyArIGV4bCkgKyAobXMgfHwgMCkgKyBsO1xuICAgICAgICAgICAgICAgIGlmICghLS1sZnQpXG4gICAgICAgICAgICAgICAgICAgIGNiZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAocyA+IDY1NTM1KVxuICAgICAgICAgICAgY2JsKGVycigxMSwgMCwgMSksIG51bGwpO1xuICAgICAgICBpZiAoIWNvbXByZXNzaW9uKVxuICAgICAgICAgICAgY2JsKG51bGwsIGZpbGUpO1xuICAgICAgICBlbHNlIGlmIChzaXplIDwgMTYwMDAwKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNibChudWxsLCBkZWZsYXRlU3luYyhmaWxlLCBwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNibChlLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0ZXJtLnB1c2goZGVmbGF0ZShmaWxlLCBwLCBjYmwpKTtcbiAgICB9O1xuICAgIC8vIENhbm5vdCB1c2UgbGZ0IGJlY2F1c2UgaXQgY2FuIGRlY3JlYXNlXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGZ0OyArK2kpIHtcbiAgICAgICAgX2xvb3BfMShpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRBbGw7XG59XG4vKipcbiAqIFN5bmNocm9ub3VzbHkgY3JlYXRlcyBhIFpJUCBmaWxlLiBQcmVmZXIgdXNpbmcgYHppcGAgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICogd2l0aCBtb3JlIHRoYW4gb25lIGZpbGUuXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGlyZWN0b3J5IHN0cnVjdHVyZSBmb3IgdGhlIFpJUCBhcmNoaXZlXG4gKiBAcGFyYW0gb3B0cyBUaGUgbWFpbiBvcHRpb25zLCBtZXJnZWQgd2l0aCBwZXItZmlsZSBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgZ2VuZXJhdGVkIFpJUCBhcmNoaXZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB6aXBTeW5jKGRhdGEsIG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpXG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICB2YXIgciA9IHt9O1xuICAgIHZhciBmaWxlcyA9IFtdO1xuICAgIGZsdG4oZGF0YSwgJycsIHIsIG9wdHMpO1xuICAgIHZhciBvID0gMDtcbiAgICB2YXIgdG90ID0gMDtcbiAgICBmb3IgKHZhciBmbiBpbiByKSB7XG4gICAgICAgIHZhciBfYSA9IHJbZm5dLCBmaWxlID0gX2FbMF0sIHAgPSBfYVsxXTtcbiAgICAgICAgdmFyIGNvbXByZXNzaW9uID0gcC5sZXZlbCA9PSAwID8gMCA6IDg7XG4gICAgICAgIHZhciBmID0gc3RyVG9VOChmbiksIHMgPSBmLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvbSA9IHAuY29tbWVudCwgbSA9IGNvbSAmJiBzdHJUb1U4KGNvbSksIG1zID0gbSAmJiBtLmxlbmd0aDtcbiAgICAgICAgdmFyIGV4bCA9IGV4ZmwocC5leHRyYSk7XG4gICAgICAgIGlmIChzID4gNjU1MzUpXG4gICAgICAgICAgICBlcnIoMTEpO1xuICAgICAgICB2YXIgZCA9IGNvbXByZXNzaW9uID8gZGVmbGF0ZVN5bmMoZmlsZSwgcCkgOiBmaWxlLCBsID0gZC5sZW5ndGg7XG4gICAgICAgIHZhciBjID0gY3JjKCk7XG4gICAgICAgIGMucChmaWxlKTtcbiAgICAgICAgZmlsZXMucHVzaChtcmcocCwge1xuICAgICAgICAgICAgc2l6ZTogZmlsZS5sZW5ndGgsXG4gICAgICAgICAgICBjcmM6IGMuZCgpLFxuICAgICAgICAgICAgYzogZCxcbiAgICAgICAgICAgIGY6IGYsXG4gICAgICAgICAgICBtOiBtLFxuICAgICAgICAgICAgdTogcyAhPSBmbi5sZW5ndGggfHwgKG0gJiYgKGNvbS5sZW5ndGggIT0gbXMpKSxcbiAgICAgICAgICAgIG86IG8sXG4gICAgICAgICAgICBjb21wcmVzc2lvbjogY29tcHJlc3Npb25cbiAgICAgICAgfSkpO1xuICAgICAgICBvICs9IDMwICsgcyArIGV4bCArIGw7XG4gICAgICAgIHRvdCArPSA3NiArIDIgKiAocyArIGV4bCkgKyAobXMgfHwgMCkgKyBsO1xuICAgIH1cbiAgICB2YXIgb3V0ID0gbmV3IHU4KHRvdCArIDIyKSwgb2UgPSBvLCBjZGwgPSB0b3QgLSBvO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGYgPSBmaWxlc1tpXTtcbiAgICAgICAgd3poKG91dCwgZi5vLCBmLCBmLmYsIGYudSwgZi5jLmxlbmd0aCk7XG4gICAgICAgIHZhciBiYWRkID0gMzAgKyBmLmYubGVuZ3RoICsgZXhmbChmLmV4dHJhKTtcbiAgICAgICAgb3V0LnNldChmLmMsIGYubyArIGJhZGQpO1xuICAgICAgICB3emgob3V0LCBvLCBmLCBmLmYsIGYudSwgZi5jLmxlbmd0aCwgZi5vLCBmLm0pLCBvICs9IDE2ICsgYmFkZCArIChmLm0gPyBmLm0ubGVuZ3RoIDogMCk7XG4gICAgfVxuICAgIHd6ZihvdXQsIG8sIGZpbGVzLmxlbmd0aCwgY2RsLCBvZSk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3RyZWFtaW5nIHBhc3MtdGhyb3VnaCBkZWNvbXByZXNzaW9uIGZvciBaSVAgYXJjaGl2ZXNcbiAqL1xudmFyIFVuemlwUGFzc1Rocm91Z2ggPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVW56aXBQYXNzVGhyb3VnaCgpIHtcbiAgICB9XG4gICAgVW56aXBQYXNzVGhyb3VnaC5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBmaW5hbCkge1xuICAgICAgICB0aGlzLm9uZGF0YShudWxsLCBkYXRhLCBmaW5hbCk7XG4gICAgfTtcbiAgICBVbnppcFBhc3NUaHJvdWdoLmNvbXByZXNzaW9uID0gMDtcbiAgICByZXR1cm4gVW56aXBQYXNzVGhyb3VnaDtcbn0oKSk7XG5leHBvcnQgeyBVbnppcFBhc3NUaHJvdWdoIH07XG4vKipcbiAqIFN0cmVhbWluZyBERUZMQVRFIGRlY29tcHJlc3Npb24gZm9yIFpJUCBhcmNoaXZlcy4gUHJlZmVyIEFzeW5jWmlwSW5mbGF0ZSBmb3JcbiAqIGJldHRlciBwZXJmb3JtYW5jZS5cbiAqL1xudmFyIFVuemlwSW5mbGF0ZSA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgREVGTEFURSBkZWNvbXByZXNzaW9uIHRoYXQgY2FuIGJlIHVzZWQgaW4gWklQIGFyY2hpdmVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVW56aXBJbmZsYXRlKCkge1xuICAgICAgICB2YXIgX3RoaXNfMSA9IHRoaXM7XG4gICAgICAgIHRoaXMuaSA9IG5ldyBJbmZsYXRlKGZ1bmN0aW9uIChkYXQsIGZpbmFsKSB7XG4gICAgICAgICAgICBfdGhpc18xLm9uZGF0YShudWxsLCBkYXQsIGZpbmFsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFVuemlwSW5mbGF0ZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBmaW5hbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5pLnB1c2goZGF0YSwgZmluYWwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLm9uZGF0YShlLCBudWxsLCBmaW5hbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFVuemlwSW5mbGF0ZS5jb21wcmVzc2lvbiA9IDg7XG4gICAgcmV0dXJuIFVuemlwSW5mbGF0ZTtcbn0oKSk7XG5leHBvcnQgeyBVbnppcEluZmxhdGUgfTtcbi8qKlxuICogQXN5bmNocm9ub3VzIHN0cmVhbWluZyBERUZMQVRFIGRlY29tcHJlc3Npb24gZm9yIFpJUCBhcmNoaXZlc1xuICovXG52YXIgQXN5bmNVbnppcEluZmxhdGUgPSAvKiNfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIERFRkxBVEUgZGVjb21wcmVzc2lvbiB0aGF0IGNhbiBiZSB1c2VkIGluIFpJUCBhcmNoaXZlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFzeW5jVW56aXBJbmZsYXRlKF8sIHN6KSB7XG4gICAgICAgIHZhciBfdGhpc18xID0gdGhpcztcbiAgICAgICAgaWYgKHN6IDwgMzIwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLmkgPSBuZXcgSW5mbGF0ZShmdW5jdGlvbiAoZGF0LCBmaW5hbCkge1xuICAgICAgICAgICAgICAgIF90aGlzXzEub25kYXRhKG51bGwsIGRhdCwgZmluYWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmkgPSBuZXcgQXN5bmNJbmZsYXRlKGZ1bmN0aW9uIChlcnIsIGRhdCwgZmluYWwpIHtcbiAgICAgICAgICAgICAgICBfdGhpc18xLm9uZGF0YShlcnIsIGRhdCwgZmluYWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnRlcm1pbmF0ZSA9IHRoaXMuaS50ZXJtaW5hdGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQXN5bmNVbnppcEluZmxhdGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgZmluYWwpIHtcbiAgICAgICAgaWYgKHRoaXMuaS50ZXJtaW5hdGUpXG4gICAgICAgICAgICBkYXRhID0gc2xjKGRhdGEsIDApO1xuICAgICAgICB0aGlzLmkucHVzaChkYXRhLCBmaW5hbCk7XG4gICAgfTtcbiAgICBBc3luY1VuemlwSW5mbGF0ZS5jb21wcmVzc2lvbiA9IDg7XG4gICAgcmV0dXJuIEFzeW5jVW56aXBJbmZsYXRlO1xufSgpKTtcbmV4cG9ydCB7IEFzeW5jVW56aXBJbmZsYXRlIH07XG4vKipcbiAqIEEgWklQIGFyY2hpdmUgZGVjb21wcmVzc2lvbiBzdHJlYW0gdGhhdCBlbWl0cyBmaWxlcyBhcyB0aGV5IGFyZSBkaXNjb3ZlcmVkXG4gKi9cbnZhciBVbnppcCA9IC8qI19fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgWklQIGRlY29tcHJlc3Npb24gc3RyZWFtXG4gICAgICogQHBhcmFtIGNiIFRoZSBjYWxsYmFjayB0byBjYWxsIHdoZW5ldmVyIGEgZmlsZSBpbiB0aGUgWklQIGFyY2hpdmUgaXMgZm91bmRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVbnppcChjYikge1xuICAgICAgICB0aGlzLm9uZmlsZSA9IGNiO1xuICAgICAgICB0aGlzLmsgPSBbXTtcbiAgICAgICAgdGhpcy5vID0ge1xuICAgICAgICAgICAgMDogVW56aXBQYXNzVGhyb3VnaFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnAgPSBldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgY2h1bmsgdG8gYmUgdW56aXBwZWRcbiAgICAgKiBAcGFyYW0gY2h1bmsgVGhlIGNodW5rIHRvIHB1c2hcbiAgICAgKiBAcGFyYW0gZmluYWwgV2hldGhlciB0aGlzIGlzIHRoZSBsYXN0IGNodW5rXG4gICAgICovXG4gICAgVW56aXAucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoY2h1bmssIGZpbmFsKSB7XG4gICAgICAgIHZhciBfdGhpc18xID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLm9uZmlsZSlcbiAgICAgICAgICAgIGVycig1KTtcbiAgICAgICAgaWYgKCF0aGlzLnApXG4gICAgICAgICAgICBlcnIoNCk7XG4gICAgICAgIGlmICh0aGlzLmMgPiAwKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gTWF0aC5taW4odGhpcy5jLCBjaHVuay5sZW5ndGgpO1xuICAgICAgICAgICAgdmFyIHRvQWRkID0gY2h1bmsuc3ViYXJyYXkoMCwgbGVuKTtcbiAgICAgICAgICAgIHRoaXMuYyAtPSBsZW47XG4gICAgICAgICAgICBpZiAodGhpcy5kKVxuICAgICAgICAgICAgICAgIHRoaXMuZC5wdXNoKHRvQWRkLCAhdGhpcy5jKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmtbMF0ucHVzaCh0b0FkZCk7XG4gICAgICAgICAgICBjaHVuayA9IGNodW5rLnN1YmFycmF5KGxlbik7XG4gICAgICAgICAgICBpZiAoY2h1bmsubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goY2h1bmssIGZpbmFsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmID0gMCwgaSA9IDAsIGlzID0gdm9pZCAwLCBidWYgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoIXRoaXMucC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgYnVmID0gY2h1bms7XG4gICAgICAgICAgICBlbHNlIGlmICghY2h1bmsubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGJ1ZiA9IHRoaXMucDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ1ZiA9IG5ldyB1OCh0aGlzLnAubGVuZ3RoICsgY2h1bmsubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBidWYuc2V0KHRoaXMucCksIGJ1Zi5zZXQoY2h1bmssIHRoaXMucC5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGwgPSBidWYubGVuZ3RoLCBvYyA9IHRoaXMuYywgYWRkID0gb2MgJiYgdGhpcy5kO1xuICAgICAgICAgICAgdmFyIF9sb29wXzIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHZhciBzaWcgPSBiNChidWYsIGkpO1xuICAgICAgICAgICAgICAgIGlmIChzaWcgPT0gMHg0MDM0QjUwKSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSAxLCBpcyA9IGk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNfMS5kID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpc18xLmMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmYgPSBiMihidWYsIGkgKyA2KSwgY21wXzEgPSBiMihidWYsIGkgKyA4KSwgdSA9IGJmICYgMjA0OCwgZGQgPSBiZiAmIDgsIGZubCA9IGIyKGJ1ZiwgaSArIDI2KSwgZXMgPSBiMihidWYsIGkgKyAyOCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsID4gaSArIDMwICsgZm5sICsgZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGtzXzMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5rLnVuc2hpZnQoY2hrc18zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjXzEgPSBiNChidWYsIGkgKyAxOCksIHN1XzEgPSBiNChidWYsIGkgKyAyMik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm5fMSA9IHN0ckZyb21VOChidWYuc3ViYXJyYXkoaSArIDMwLCBpICs9IDMwICsgZm5sKSwgIXUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjXzEgPT0gNDI5NDk2NzI5NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gZGQgPyBbLTJdIDogejY0ZShidWYsIGkpLCBzY18xID0gX2FbMF0sIHN1XzEgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjXzEgPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEuYyA9IHNjXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZF8xO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVfMSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmbl8xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXByZXNzaW9uOiBjbXBfMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGVfMS5vbmRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIoNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2NfMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfMS5vbmRhdGEobnVsbCwgZXQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdHIgPSBfdGhpc18xLm9bY21wXzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV8xLm9uZGF0YShlcnIoMTQsICd1bmtub3duIGNvbXByZXNzaW9uIHR5cGUgJyArIGNtcF8xLCAxKSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xID0gc2NfMSA8IDAgPyBuZXcgY3RyKGZuXzEpIDogbmV3IGN0cihmbl8xLCBzY18xLCBzdV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRfMS5vbmRhdGEgPSBmdW5jdGlvbiAoZXJyLCBkYXQsIGZpbmFsKSB7IGZpbGVfMS5vbmRhdGEoZXJyLCBkYXQsIGZpbmFsKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgY2hrc180ID0gY2hrc18zOyBfaSA8IGNoa3NfNC5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ID0gY2hrc180W19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkXzEucHVzaChkYXQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpc18xLmtbMF0gPT0gY2hrc18zICYmIF90aGlzXzEuYylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpc18xLmQgPSBkXzE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xLnB1c2goZXQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRfMSAmJiBkXzEudGVybWluYXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZF8xLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NfMSA+PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfMS5zaXplID0gc2NfMSwgZmlsZV8xLm9yaWdpbmFsU2l6ZSA9IHN1XzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEub25maWxlKGZpbGVfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZyA9PSAweDgwNzRCNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzID0gaSArPSAxMiArIChvYyA9PSAtMiAmJiA4KSwgZiA9IDMsIHRoaXNfMS5jID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2lnID09IDB4MjAxNEI1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXMgPSBpIC09IDQsIGYgPSAzLCB0aGlzXzEuYyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJicmVha1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuICAgICAgICAgICAgZm9yICg7IGkgPCBsIC0gNDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8yKCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlXzEgPT09IFwiYnJlYWtcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnAgPSBldDtcbiAgICAgICAgICAgIGlmIChvYyA8IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ID0gZiA/IGJ1Zi5zdWJhcnJheSgwLCBpcyAtIDEyIC0gKG9jID09IC0yICYmIDgpIC0gKGI0KGJ1ZiwgaXMgLSAxNikgPT0gMHg4MDc0QjUwICYmIDQpKSA6IGJ1Zi5zdWJhcnJheSgwLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkKVxuICAgICAgICAgICAgICAgICAgICBhZGQucHVzaChkYXQsICEhZik7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmtbKyhmID09IDIpXS5wdXNoKGRhdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZiAmIDIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChidWYuc3ViYXJyYXkoaSksIGZpbmFsKTtcbiAgICAgICAgICAgIHRoaXMucCA9IGJ1Zi5zdWJhcnJheShpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmluYWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmMpXG4gICAgICAgICAgICAgICAgZXJyKDEzKTtcbiAgICAgICAgICAgIHRoaXMucCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGRlY29kZXIgd2l0aCB0aGUgc3RyZWFtLCBhbGxvd2luZyBmb3IgZmlsZXMgY29tcHJlc3NlZCB3aXRoXG4gICAgICogdGhlIGNvbXByZXNzaW9uIHR5cGUgcHJvdmlkZWQgdG8gYmUgZXhwYW5kZWQgY29ycmVjdGx5XG4gICAgICogQHBhcmFtIGRlY29kZXIgVGhlIGRlY29kZXIgY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBVbnppcC5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoZGVjb2Rlcikge1xuICAgICAgICB0aGlzLm9bZGVjb2Rlci5jb21wcmVzc2lvbl0gPSBkZWNvZGVyO1xuICAgIH07XG4gICAgcmV0dXJuIFVuemlwO1xufSgpKTtcbmV4cG9ydCB7IFVuemlwIH07XG52YXIgbXQgPSB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgPT0gJ2Z1bmN0aW9uJyA/IHF1ZXVlTWljcm90YXNrIDogdHlwZW9mIHNldFRpbWVvdXQgPT0gJ2Z1bmN0aW9uJyA/IHNldFRpbWVvdXQgOiBmdW5jdGlvbiAoZm4pIHsgZm4oKTsgfTtcbmV4cG9ydCBmdW5jdGlvbiB1bnppcChkYXRhLCBvcHRzLCBjYikge1xuICAgIGlmICghY2IpXG4gICAgICAgIGNiID0gb3B0cywgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2YgY2IgIT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgZXJyKDcpO1xuICAgIHZhciB0ZXJtID0gW107XG4gICAgdmFyIHRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGVybS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHRlcm1baV0oKTtcbiAgICB9O1xuICAgIHZhciBmaWxlcyA9IHt9O1xuICAgIHZhciBjYmQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBtdChmdW5jdGlvbiAoKSB7IGNiKGEsIGIpOyB9KTtcbiAgICB9O1xuICAgIG10KGZ1bmN0aW9uICgpIHsgY2JkID0gY2I7IH0pO1xuICAgIHZhciBlID0gZGF0YS5sZW5ndGggLSAyMjtcbiAgICBmb3IgKDsgYjQoZGF0YSwgZSkgIT0gMHg2MDU0QjUwOyAtLWUpIHtcbiAgICAgICAgaWYgKCFlIHx8IGRhdGEubGVuZ3RoIC0gZSA+IDY1NTU4KSB7XG4gICAgICAgICAgICBjYmQoZXJyKDEzLCAwLCAxKSwgbnVsbCk7XG4gICAgICAgICAgICByZXR1cm4gdEFsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG4gICAgdmFyIGxmdCA9IGIyKGRhdGEsIGUgKyA4KTtcbiAgICBpZiAobGZ0KSB7XG4gICAgICAgIHZhciBjID0gbGZ0O1xuICAgICAgICB2YXIgbyA9IGI0KGRhdGEsIGUgKyAxNik7XG4gICAgICAgIHZhciB6ID0gbyA9PSA0Mjk0OTY3Mjk1O1xuICAgICAgICBpZiAoeikge1xuICAgICAgICAgICAgZSA9IGI0KGRhdGEsIGUgLSAxMik7XG4gICAgICAgICAgICBpZiAoYjQoZGF0YSwgZSkgIT0gMHg2MDY0QjUwKSB7XG4gICAgICAgICAgICAgICAgY2JkKGVycigxMywgMCwgMSksIG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0QWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYyA9IGxmdCA9IGI0KGRhdGEsIGUgKyAzMik7XG4gICAgICAgICAgICBvID0gYjQoZGF0YSwgZSArIDQ4KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmx0ciA9IG9wdHMgJiYgb3B0cy5maWx0ZXI7XG4gICAgICAgIHZhciBfbG9vcF8zID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHpoKGRhdGEsIG8sIHopLCBjXzEgPSBfYVswXSwgc2MgPSBfYVsxXSwgc3UgPSBfYVsyXSwgZm4gPSBfYVszXSwgbm8gPSBfYVs0XSwgb2ZmID0gX2FbNV0sIGIgPSBzbHpoKGRhdGEsIG9mZik7XG4gICAgICAgICAgICBvID0gbm87XG4gICAgICAgICAgICB2YXIgY2JsID0gZnVuY3Rpb24gKGUsIGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0QWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGNiZChlLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkKVxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNbZm5dID0gZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEtLWxmdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiZChudWxsLCBmaWxlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghZmx0ciB8fCBmbHRyKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBmbixcbiAgICAgICAgICAgICAgICBzaXplOiBzYyxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFNpemU6IHN1LFxuICAgICAgICAgICAgICAgIGNvbXByZXNzaW9uOiBjXzFcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjXzEpXG4gICAgICAgICAgICAgICAgICAgIGNibChudWxsLCBzbGMoZGF0YSwgYiwgYiArIHNjKSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY18xID09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZmwgPSBkYXRhLnN1YmFycmF5KGIsIGIgKyBzYyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzYyA8IDMyMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYmwobnVsbCwgaW5mbGF0ZVN5bmMoaW5mbCwgbmV3IHU4KHN1KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYmwoZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGVybS5wdXNoKGluZmxhdGUoaW5mbCwgeyBzaXplOiBzdSB9LCBjYmwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjYmwoZXJyKDE0LCAndW5rbm93biBjb21wcmVzc2lvbiB0eXBlICcgKyBjXzEsIDEpLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjYmwobnVsbCwgbnVsbCk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYzsgKytpKSB7XG4gICAgICAgICAgICBfbG9vcF8zKGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgY2JkKG51bGwsIHt9KTtcbiAgICByZXR1cm4gdEFsbDtcbn1cbi8qKlxuICogU3luY2hyb25vdXNseSBkZWNvbXByZXNzZXMgYSBaSVAgYXJjaGl2ZS4gUHJlZmVyIHVzaW5nIGB1bnppcGAgZm9yIGJldHRlclxuICogcGVyZm9ybWFuY2Ugd2l0aCBtb3JlIHRoYW4gb25lIGZpbGUuXG4gKiBAcGFyYW0gZGF0YSBUaGUgcmF3IGNvbXByZXNzZWQgWklQIGZpbGVcbiAqIEBwYXJhbSBvcHRzIFRoZSBaSVAgZXh0cmFjdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBUaGUgZGVjb21wcmVzc2VkIGZpbGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnppcFN5bmMoZGF0YSwgb3B0cykge1xuICAgIHZhciBmaWxlcyA9IHt9O1xuICAgIHZhciBlID0gZGF0YS5sZW5ndGggLSAyMjtcbiAgICBmb3IgKDsgYjQoZGF0YSwgZSkgIT0gMHg2MDU0QjUwOyAtLWUpIHtcbiAgICAgICAgaWYgKCFlIHx8IGRhdGEubGVuZ3RoIC0gZSA+IDY1NTU4KVxuICAgICAgICAgICAgZXJyKDEzKTtcbiAgICB9XG4gICAgO1xuICAgIHZhciBjID0gYjIoZGF0YSwgZSArIDgpO1xuICAgIGlmICghYylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIHZhciBvID0gYjQoZGF0YSwgZSArIDE2KTtcbiAgICB2YXIgeiA9IG8gPT0gNDI5NDk2NzI5NTtcbiAgICBpZiAoeikge1xuICAgICAgICBlID0gYjQoZGF0YSwgZSAtIDEyKTtcbiAgICAgICAgaWYgKGI0KGRhdGEsIGUpICE9IDB4NjA2NEI1MClcbiAgICAgICAgICAgIGVycigxMyk7XG4gICAgICAgIGMgPSBiNChkYXRhLCBlICsgMzIpO1xuICAgICAgICBvID0gYjQoZGF0YSwgZSArIDQ4KTtcbiAgICB9XG4gICAgdmFyIGZsdHIgPSBvcHRzICYmIG9wdHMuZmlsdGVyO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYzsgKytpKSB7XG4gICAgICAgIHZhciBfYSA9IHpoKGRhdGEsIG8sIHopLCBjXzIgPSBfYVswXSwgc2MgPSBfYVsxXSwgc3UgPSBfYVsyXSwgZm4gPSBfYVszXSwgbm8gPSBfYVs0XSwgb2ZmID0gX2FbNV0sIGIgPSBzbHpoKGRhdGEsIG9mZik7XG4gICAgICAgIG8gPSBubztcbiAgICAgICAgaWYgKCFmbHRyIHx8IGZsdHIoe1xuICAgICAgICAgICAgbmFtZTogZm4sXG4gICAgICAgICAgICBzaXplOiBzYyxcbiAgICAgICAgICAgIG9yaWdpbmFsU2l6ZTogc3UsXG4gICAgICAgICAgICBjb21wcmVzc2lvbjogY18yXG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgICBpZiAoIWNfMilcbiAgICAgICAgICAgICAgICBmaWxlc1tmbl0gPSBzbGMoZGF0YSwgYiwgYiArIHNjKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNfMiA9PSA4KVxuICAgICAgICAgICAgICAgIGZpbGVzW2ZuXSA9IGluZmxhdGVTeW5jKGRhdGEuc3ViYXJyYXkoYiwgYiArIHNjKSwgbmV3IHU4KHN1KSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZXJyKDE0LCAndW5rbm93biBjb21wcmVzc2lvbiB0eXBlICcgKyBjXzIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaWxlcztcbn1cbiIsICJpbXBvcnQgeyBFeGVjQ29yZSwgRXhlY0NvcmVPcHRpb25zIH0gZnJvbSAnd2FzaS1rZXJuZWwnO1xuaW1wb3J0IHR5cGUgeyBEeW5hbWljTGlicmFyeSB9IGZyb20gJ3dhc2kta2VybmVsL2xpYi9rZXJuZWwvYml0cy9keWxkJztcblxuaW1wb3J0IHsgRW52aXJvbiB9IGZyb20gJ3dhc2kta2VybmVsL2xpYi9rZXJuZWwvZXhlYyc7XG5cblxuaW50ZXJmYWNlIE9DYW1sQ0FQSSB7XG4gICAgbWFsbG9jKHN6OiBpMzIpOiBpMzI7XG4gICAgZnJlZShwOiBpMzIpOiB2b2lkO1xuICAgIGNhbWxfYWxsb2Nfc3RyaW5nKGxlbjogaTMyKTogaTMyO1xuICAgIGNhbWxfbmFtZWRfdmFsdWUobmFtZTogaTMyKTogaTMyO1xuICAgIGNhbWxfY2FsbGJhY2soY2xvc3VyZTogaTMyLCBhcmc6IGkzMik6IGkzMjtcbn1cblxubmFtZXNwYWNlIE9DYW1sQ0FQSSB7XG4gICAgZXhwb3J0IGZ1bmN0aW9uIFZhbF9pbnQodjogbnVtYmVyKTogaTMyIHsgcmV0dXJuICh2IDw8IDIpIHwgMTsgfVxuICAgIGV4cG9ydCBmdW5jdGlvbiBWYWxfYm9vbChiOiBib29sZWFuKTogaTMyIHsgcmV0dXJuIFZhbF9pbnQoK2IpOyB9XG4gICAgZXhwb3J0IGZ1bmN0aW9uIEludF92YWwodjogaTMyKSB7IHJldHVybiB2ID4+IDE7IH1cbiAgICBleHBvcnQgZnVuY3Rpb24gQm9vbF92YWwodjogaTMyKSB7IHJldHVybiAhIUludF92YWwodik7IH1cbiAgICBleHBvcnQgY29uc3QgVmFsX3VuaXQgPSBWYWxfaW50KDApO1xuICAgIGV4cG9ydCBjb25zdCBWYWxfZmFsc2UgPSBWYWxfaW50KDApO1xuICAgIGV4cG9ydCBjb25zdCBWYWxfdHJ1ZSA9IFZhbF9pbnQoMSk7XG59XG5cbnR5cGUgaTMyID0gbnVtYmVyO1xuXG5jbGFzcyBPQ2FtbEV4ZWN1dGFibGUgZXh0ZW5kcyBFeGVjQ29yZSB7XG5cbiAgICBkZWNsYXJlIG9wdHM6IE9DYW1sRXhlY3V0YWJsZU9wdGlvbnNcbiAgICBhcGk6IE9DYW1sQ0FQSVxuICAgIGNhbGxiYWNrczoge1tuYW1lOiBzdHJpbmddOiAoYXJnOiBpMzIpID0+IGkzMn1cblxuICAgIGNvbnN0cnVjdG9yKG9wdHM6IE9DYW1sRXhlY3V0YWJsZU9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0cyk7XG4gICAgfVxuXG4gICAgaW5pdGlhbEVudigpOiBFbnZpcm9uIHtcbiAgICAgICAgcmV0dXJuIHsuLi5zdXBlci5pbml0aWFsRW52KCksXG4gICAgICAgICAgICAnT0NBTUxGSU5EX0NPTkYnOiAnL2xpYi9maW5kbGliLmNvbmYnLCAnQ09RTElCJzogJy9saWInfTtcbiAgICB9XG5cbiAgICBhc3luYyBydW4oYnl0ZWNvZGVGaWxlOiBzdHJpbmcsIGFyZ3M6IHN0cmluZ1tdLCBjYWxsYmFja3M6IHN0cmluZ1tdID0gW10pIHtcbiAgICAgICAgdmFyIGJpbiA9IHRoaXMub3B0cy5iaW5EaXIgfHwgJy4uL2Jpbic7XG5cbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnByZWxvYWRzKCkpXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnByb2MuZHlsZC5wcmVsb2FkKHAubmFtZSwgcC51cmksIHAucmVsb2MpO1xuXG4gICAgICAgIGF3YWl0IHRoaXMuc3RhcnQoYCR7YmlufS9vY2FtbHJ1bi53YXNtYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICBbJ29jYW1scnVuJywgYnl0ZWNvZGVGaWxlLCAuLi5hcmdzXSwgdGhpcy5lbnYpO1xuXG4gICAgICAgIHRoaXMuYXBpID0gPGFueT50aGlzLndhc20uaW5zdGFuY2UuZXhwb3J0cyBhcyBPQ2FtbENBUEk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gdGhpcy5fZ2V0Q2FsbGJhY2tzKGNhbGxiYWNrcyk7XG4gICAgfVxuXG4gICAgcHJlbG9hZHMoKSB7XG4gICAgICAgIHZhciBiaW4gPSB0aGlzLm9wdHMuYmluRGlyIHx8ICcuLi9iaW4nO1xuICAgICAgICByZXR1cm4gWydkbGxjYW1sc3RyJywgJ2RsbHVuaXgnLCAnZGxsdGhyZWFkcyddLm1hcChiID0+ICh7XG4gICAgICAgICAgICBuYW1lOiBgJHtifS5zb2AsIHVyaTogYCR7YmlufS8ke2J9Lndhc21gLCByZWxvYzogU1RETElCX1NUVUJTW2JdXG4gICAgICAgIH0gYXMge25hbWU6IHN0cmluZywgdXJpOiBzdHJpbmcsIHJlbG9jPzogYW55fSkpO1xuICAgIH1cblxuICAgIHRvX2NhbWxfc3RyaW5nKHM6IHN0cmluZykge1xuICAgICAgICB2YXIgYnl0ZXMgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUocyksXG4gICAgICAgICAgICBhID0gdGhpcy5hcGkuY2FtbF9hbGxvY19zdHJpbmcoYnl0ZXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5wcm9jLm1lbWJ1Zi5zZXQoYnl0ZXMsIGEpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG5cbiAgICBfZ2V0Q2FsbGJhY2tzKG5hbWVzOiBzdHJpbmdbXSkge1xuICAgICAgICB2YXIgY2FsbGJhY2tzOiB7W25hbWU6IHN0cmluZ106IChhcmc6IGkzMikgPT4gaTMyfSA9IHt9LFxuICAgICAgICAgICAgeCA9IHRoaXMuYXBpLm1hbGxvYyhNYXRoLm1heCguLi5uYW1lcy5tYXAocyA9PiBzLmxlbmd0aCkpICsgMSk7O1xuICAgICAgICBmb3IgKGxldCBuYW1lIG9mIG5hbWVzKSB7XG4gICAgICAgICAgICB0aGlzLnByb2MubWVtYnVmLndyaXRlKG5hbWUgKyBcIlxcMFwiLCB4KTtcbiAgICAgICAgICAgIGxldCBjbG9zdXJlX2YgPSB0aGlzLmFwaS5jYW1sX25hbWVkX3ZhbHVlKHgpO1xuICAgICAgICAgICAgaWYgKGNsb3N1cmVfZikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tuYW1lXSA9IChhcmc6IGkzMikgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGkuY2FtbF9jYWxsYmFjayh0aGlzLnByb2MubWVtLmdldFVpbnQzMihjbG9zdXJlX2YsIHRydWUpLCBhcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXBpLmZyZWUoeCk7XG4gICAgICAgIHJldHVybiBjYWxsYmFja3M7ICAgICBcbiAgICB9XG5cbn1cblxuXG50eXBlIE9DYW1sRXhlY3V0YWJsZU9wdGlvbnMgPSBFeGVjQ29yZU9wdGlvbnMgJiB7XG4gICAgYmluRGlyPzogc3RyaW5nXG59O1xuXG5cbi8qKlxuICogVGhlc2Ugc3ltYm9scyBmcm9tIGBkbGx1bml4YCBhcmUgcHJlc2VudCBpbiBgd2FzaS1saWJjYCwgYnV0XG4gKiB1bmZvcnR1bmF0ZWx5IG5vdCBsaW5rZWQgaW50byBgb2NhbWxydW5gLCBhbmQgYHdhc2ktbGliY2AgY2Fubm90XG4gKiBiZSBsaW5rZWQgdG8gZHluYW1pYyBsaWJyYXJpZXMuXG4gKiBTbyB0aGVzZSBzeW1ib2xzIGFyZSByZXBsYWNlZCB3aXRoIHN0dWJzIHRvIHNpbGVuY2Ugc29tZSB3YXJuaW5ncztcbiAqIGhvcGVmdWxseSB0aGF0IHdvbid0IGJlIHRvbyBiYWQgZm9yIENvcS5cbiAqL1xuY29uc3QgVU5JWF9TVFVCQkVEID0gWydmc3RhdCcsICdmc3luYycsICdzdHJjaHInLCAnZmNudGwnLCAnZnRydW5jYXRlJyxcbiAgICAnZ2V0Z3JuYW0nLCAnZ210aW1lJywgJ2xvY2FsdGltZScsICdta3RpbWUnLCAnbG9ja2YnLCAncHdyaXRlJyxcbiAgICAnc3lzY29uZicsICdtbWFwJywgJ211bm1hcCcsICdwdXRlbnYnLCAncmV3aW5kZGlyJywgJ3NlbGVjdCcsXG4gICAgJ25hbm9zbGVlcCcsICd0Y2dldGF0dHInLCAndGNzZXRhdHRyJywgJ3RpbWUnLCAndHJ1bmNhdGUnXTtcblxuY29uc3QgU1RETElCX1NUVUJTOiB7W2xpYjogc3RyaW5nXTogRHluYW1pY0xpYnJhcnkuUmVsb2NhdGlvbnN9ID0ge1xuICAgICdkbGx1bml4Jzoge1xuICAgICAgICBqczogbWFwQWxsVG8oVU5JWF9TVFVCQkVELCAoKSA9PiAwKVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbWFwQWxsVG88VD4oa2V5czogc3RyaW5nW10sIHZhbHVlOiBUKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhrZXlzLm1hcChubSA9PiBbbm0sIHZhbHVlXSkpO1xufVxuXG5cblxuZXhwb3J0IHsgT0NhbWxFeGVjdXRhYmxlLCBPQ2FtbENBUEkgfVxuIiwgImV4cG9ydCB7IFByb2Nlc3NCYXNlIGFzIFByb2Nlc3MsIFdvcmtlclByb2Nlc3MsIEJhcmVQcm9jZXNzIH0gZnJvbSAnLi9wcm9jZXNzJztcbmV4cG9ydCB7IEV4ZWNDb3JlIH0gZnJvbSAnLi9leGVjJztcbmV4cG9ydCB0eXBlIHsgRXhlY0NvcmVPcHRpb25zIH0gZnJvbSAnLi9leGVjJztcbmV4cG9ydCB7IFNoYXJlZFZvbHVtZSB9IGZyb20gJy4vc2VydmljZXMvc2hhcmVkLWZzJztcbiIsICJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xuXG5pbXBvcnQgeyBTaW1wbGV4U3RyZWFtLCBUcmFuc2Zvcm1TdHJlYW1EdXBsZXggfSBmcm9tICcuL3N0cmVhbXMnO1xuaW1wb3J0IHsgVHR5UHJvcHMgfSBmcm9tICcuL2JpdHMvdHR5JztcbmltcG9ydCB7IFNpZ25hbFZlY3RvciwgQ2hpbGRQcm9jZXNzUXVldWUgfSBmcm9tICcuL2JpdHMvcHJvYyc7XG5cbmltcG9ydCB7IFdvcmtlciB9IGZyb20gJy4vYmluZGluZ3Mvd29ya2Vycyc7XG5pbXBvcnQgeyBTaGFyZWRRdWV1ZSB9IGZyb20gJy4vYml0cy9xdWV1ZSc7XG5pbXBvcnQgeyBFeGVjQ29yZSwgRXhlY0NvcmVPcHRpb25zIH0gZnJvbSAnLi9leGVjJztcbmltcG9ydCB7IFNoYXJlZFZvbHVtZSB9IGZyb20gJy4vc2VydmljZXMvc2hhcmVkLWZzJztcblxuXG5cbmFic3RyYWN0IGNsYXNzIFByb2Nlc3NCYXNlIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcblxuICAgIG9wdHM6IFByb2Nlc3NTdGFydHVwT3B0aW9uc1xuXG4gICAgc3RkaW46ICBUcmFuc2Zvcm1TdHJlYW1EdXBsZXg8c3RyaW5nLCBCdWZmZXJTb3VyY2U+XG4gICAgc3Rkb3V0OiBUcmFuc2Zvcm1TdHJlYW1EdXBsZXg8QnVmZmVyU291cmNlLCBzdHJpbmc+XG5cbiAgICBzdGRpbl9yYXc6IFNpbXBsZXhTdHJlYW1cbiAgICB0dHk6IFR0eVByb3BzXG4gICAgc2lndmVjOiBTaWduYWxWZWN0b3JcbiAgICBjaGlsZHE6IENoaWxkUHJvY2Vzc1F1ZXVlXG5cbiAgICBleGl0ZWQ6IGJvb2xlYW5cblxuICAgIGNvbnN0cnVjdG9yKG9wdHM6IFByb2Nlc3NTdGFydHVwT3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdHMgPSBvcHRzO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuc2V0dXBFbmNvZGVyKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3Rkb3V0ID0gbmV3IFRyYW5zZm9ybVN0cmVhbUR1cGxleChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3Muc3RkaW4pIHtcbiAgICAgICAgICAgIHByb2Nlc3Muc3RkaW4ub24oJ2RhdGEnLCBidWYgPT4gdGhpcy5zdGRpbl9yYXcud3JpdGUoYnVmKSk7XG4gICAgICAgICAgICB0aGlzLnN0ZG91dCA9IDxhbnk+cHJvY2Vzcy5zdGRvdXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uKCdleGl0JywgKCkgPT4gdGhpcy5leGl0ZWQgPSB0cnVlKTtcbiAgICB9XG5cbiAgICBhYnN0cmFjdCBleGVjKHdhc206IHN0cmluZywgYXJndj86IHN0cmluZ1tdKTogdm9pZDtcblxuICAgIHdhaXRGb3IoKSB7XG4gICAgICAgIHZhciBoZXJyOiAoZTogRXJyb3IpID0+IHZvaWQsIGhleGl0OiAoZXY6IHtjb2RlOm51bWJlcn0pID0+IHZvaWQ7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMub24oJ2Vycm9yJywgaGVyciA9IChlOiBFcnJvcikgPT4gcmVqZWN0KGUpKTtcbiAgICAgICAgICAgIHRoaXMub24oJ2V4aXQnLCBoZXhpdCA9IChldjoge2NvZGU6bnVtYmVyfSkgPT4gcmVzb2x2ZShldikpO1xuICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgaGVycik7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdleGl0JywgaGV4aXQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuZXhpdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RkaW5fcmF3LnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc2V0dXBFbmNvZGVyKCk7XG4gICAgfVxuXG4gICAgc2V0dXBFbmNvZGVyKCkge1xuICAgICAgICBpZiAodHlwZW9mIFRleHRFbmNvZGVyU3RyZWFtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5zdGRpbiA9IG5ldyBUcmFuc2Zvcm1TdHJlYW1EdXBsZXgobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpO1xuICAgICAgICAgICAgdGhpcy5zdGRpbi5vbignZGF0YScsIGJ5dGVzID0+IHRoaXMuc3RkaW5fcmF3LndyaXRlKGJ5dGVzKSk7XG4gICAgICAgICAgICB0aGlzLnN0ZGluLm9uKCdlbmQnLCAoKSA9PiB0aGlzLnN0ZGluX3Jhdy5lbmQoKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbn1cblxuXG4vKipcbiAqIFN1aXRhYmxlIGZvciBydW5uaW5nIGEgV0FTSSBwcm9jZXNzIGluIGEgV2ViIFdvcmtlciBvclxuICogYSBOb2RlLmpzIHdvcmtlciB0aHJlYWQuXG4gKi9cbmNsYXNzIFdvcmtlclByb2Nlc3MgZXh0ZW5kcyBQcm9jZXNzQmFzZSB7XG5cbiAgICB3b3JrZXIgOiBXb3JrZXJcblxuICAgIGNvbnN0cnVjdG9yKHdhc206IHN0cmluZywgb3B0czogUHJvY2Vzc1N0YXJ0dXBPcHRpb25zPXt9KSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgICAgICB0aGlzLndvcmtlciA9IG5ldyBXb3JrZXIobmV3IFVSTCgnLi93b3JrZXIudHMnLCBpbXBvcnQubWV0YS51cmwpKTtcbiAgICAgICAgdGhpcy53b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGV2ID0+IHtcbiAgICAgICAgICAgIGlmIChldi5kYXRhLnN0ZGluKSAgdGhpcy5zdGRpbl9yYXcgPSBTaW1wbGV4U3RyZWFtLmZyb20oZXYuZGF0YS5zdGRpbik7XG4gICAgICAgICAgICBpZiAoZXYuZGF0YS50dHkpICAgIHRoaXMudHR5ID0gZXYuZGF0YS50dHk7XG4gICAgICAgICAgICBpZiAoZXYuZGF0YS5zaWd2ZWMpIHRoaXMuc2lndmVjID0gU2lnbmFsVmVjdG9yLmZyb20oZXYuZGF0YS5zaWd2ZWMpO1xuICAgICAgICAgICAgaWYgKGV2LmRhdGEuY2hpbGRxKSB0aGlzLmNoaWxkcSA9IFNoYXJlZFF1ZXVlLmZyb20oZXYuZGF0YS5jaGlsZHEpO1xuICAgICAgICAgICAgaWYgKGV2LmRhdGEuZmQpICAgICB0aGlzLnN0ZG91dC53cml0ZShldi5kYXRhLmRhdGEpO1xuXG4gICAgICAgICAgICBpZiAoZXYuZGF0YS5ldmVudCkgIHRoaXMuZW1pdChldi5kYXRhLmV2ZW50LCBldi5kYXRhLmFyZywgd2FzbSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh3YXNtKSB0aGlzLmV4ZWMod2FzbSk7XG4gICAgfVxuXG4gICAgbW91bnRGcyh2b2x1bWU6IFNoYXJlZFZvbHVtZSkge1xuICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7dm9sdW1lOiB2b2x1bWUudG8oKX0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBleGVjKHdhc206IHN0cmluZywgYXJndj86IHN0cmluZ1tdKSB7XG4gICAgICAgIGlmICh0aGlzLmV4aXRlZCkgdGhpcy5yZXNldCgpO1xuICAgICAgICBpZiAoYXJndikgdGhpcy5vcHRzLmFyZ3YgPSBhcmd2O1xuICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7ZXhlYzogd2FzbSwgb3B0czogdGhpcy5vcHRzfSk7XG4gICAgfVxufVxuXG5cbmNsYXNzIEJhcmVQcm9jZXNzIGV4dGVuZHMgUHJvY2Vzc0Jhc2Uge1xuXG4gICAgY29yZTogRXhlY0NvcmU7XG5cbiAgICBjb25zdHJ1Y3Rvcih3YXNtOiBzdHJpbmcsIG9wdHM6IFByb2Nlc3NTdGFydHVwT3B0aW9ucz17fSkge1xuICAgICAgICBzdXBlcihvcHRzKTtcbiAgICAgICAgdGhpcy5leGVjKHdhc20pO1xuICAgIH1cblxuICAgIGFzeW5jIGV4ZWMod2FzbTogc3RyaW5nLCBhcmd2Pzogc3RyaW5nW10pIHtcbiAgICAgICAgY29uc3Qge0V4ZWNDb3JlfSA9IGF3YWl0IGltcG9ydCgnLi9leGVjJyk7ICAvLyBvbi1kZW1hbmQgaW1wb3J0XG5cbiAgICAgICAgdGhpcy5jb3JlID0gbmV3IEV4ZWNDb3JlKHthcmd2LCAuLi50aGlzLm9wdHN9KTtcbiAgICAgICAgdGhpcy5jb3JlLm9uKCdzdHJlYW06b3V0JywgZXYgPT4gcHJvY2Vzcy5zdGRvdXQud3JpdGUoZXYuZGF0YSkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGV4aXRjb2RlID0gYXdhaXQgdGhpcy5jb3JlLnN0YXJ0KHdhc20sIHRoaXMub3B0cy5hcmd2KTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXhpdCcsIHtjb2RlOiBleGl0Y29kZX0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIsIHdhc20pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbnR5cGUgUHJvY2Vzc1N0YXJ0dXBPcHRpb25zID0gRXhlY0NvcmVPcHRpb25zICYge1xuICAgIGFyZ3Y/OiBzdHJpbmdbXTtcbn1cblxuXG5cbmV4cG9ydCB7IFByb2Nlc3NCYXNlLCBXb3JrZXJQcm9jZXNzLCBCYXJlUHJvY2VzcywgUHJvY2Vzc1N0YXJ0dXBPcHRpb25zIH1cbiIsICJpbXBvcnQgeyBpc05vZGUsIGlzQnJvd3NlciB9IGZyb20gJy4uLy4uL2luZnJhL2FyY2gnO1xuaW1wb3J0IHsgV29ya2VyIGFzIFdvcmtlclRocmVhZCB9IGZyb20gJ3dvcmtlcl90aHJlYWRzJztcblxuXG5sZXQgV29ya2VySW1wbCwgcG9zdE1lc3NhZ2UsIG9uTWVzc2FnZTtcblxuaWYgKGlzQnJvd3Nlcikge1xuICAgIFdvcmtlckltcGwgPSBzZWxmLldvcmtlcjtcbiAgICBwb3N0TWVzc2FnZSA9IHNlbGYucG9zdE1lc3NhZ2U7XG4gICAgb25NZXNzYWdlID0gKGhhbmRsZXIpID0+IGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVyKTtcbn1cbmVsc2UgaWYgKGlzTm9kZSkge1xuICAgIGNvbnN0IHdvcmtlclRocmVhZHMgPSAoMHx8cmVxdWlyZSkoJ3dvcmtlcl90aHJlYWRzJyk7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY2xhc3MgV29ya2VyQWRhcHRlciBpbXBsZW1lbnRzIFdvcmtlciB7XG4gICAgICAgIHRocmVhZDogV29ya2VyVGhyZWFkO1xuICAgICAgICBjb25zdHJ1Y3RvcihzdHJpbmdVcmw6IHN0cmluZykge1xuICAgICAgICAgICAgdGhpcy50aHJlYWQgPSBuZXcgd29ya2VyVGhyZWFkcy5Xb3JrZXIoc3RyaW5nVXJsKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiAoZXY6IGFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICAgICAgdGhpcy50aHJlYWQub24oZXZlbnROYW1lLCAoZXYpID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKHtkYXRhOiBldn0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zdE1lc3NhZ2UobXNnOiBhbnkpIHtcbiAgICAgICAgICAgIHRoaXMudGhyZWFkLnBvc3RNZXNzYWdlKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIG9uTWVzc2FnZShoYW5kbGVyOiAoZXY6IGFueSkgPT4gdm9pZCkge1xuICAgICAgICAgICAgd29ya2VyVGhyZWFkcy5wYXJlbnRQb3J0Lm9uKCdtZXNzYWdlJywgKGV2KSA9PiB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcih7ZGF0YTogZXZ9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBwb3N0TWVzc2FnZShtc2c6IGFueSkge1xuICAgICAgICAgICAgd29ya2VyVGhyZWFkcy5wYXJlbnRQb3J0LnBvc3RNZXNzYWdlKG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBXb3JrZXJJbXBsID0gV29ya2VyQWRhcHRlcjtcbiAgICBvbk1lc3NhZ2UgPSBXb3JrZXJBZGFwdGVyLm9uTWVzc2FnZTtcbiAgICBwb3N0TWVzc2FnZSA9IFdvcmtlckFkYXB0ZXIucG9zdE1lc3NhZ2U7XG59XG5cblxuXG5leHBvcnQgeyBXb3JrZXJJbXBsIGFzIFdvcmtlciwgb25NZXNzYWdlLCBwb3N0TWVzc2FnZSB9OyAgICBcbiIsICJpbXBvcnQgeyBmcyBhcyBtZW1mcywgVm9sdW1lIH0gZnJvbSAnbWVtZnMnO1xuaW1wb3J0IHsgZmlsZW5hbWVUb1N0ZXBzIH0gZnJvbSAnbWVtZnMvbGliL3ZvbHVtZSc7XG5pbXBvcnQgeyBOb2RlLCBMaW5rIH0gZnJvbSAnbWVtZnMvbGliL25vZGUnO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5cblxuY2xhc3MgU2hhcmVkVm9sdW1lIGV4dGVuZHMgVm9sdW1lIHtcblxuICAgIGRldjogQmxvY2tEZXZpY2VcbiAgICByb290OiBMaW5rU2hhcmVkVm9sdW1lXG4gICAgaW5vZGVzOiB7W2lubzogbnVtYmVyXTogTm9kZVNoYXJlZFZvbHVtZX1cblxuICAgIGRlYnVnOiAoLi4uYTogYW55W10pID0+IHZvaWRcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBTaGFyZWRWb2x1bWVQcm9wcyA9IHt9KSB7XG4gICAgICAgIGxldCB2b2w6IFNoYXJlZFZvbHVtZTtcblxuICAgICAgICBjbGFzcyBOb2RlSW5uZXIge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoaW5vOiBudW1iZXIsIHBlcm0/OiBudW1iZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVTaGFyZWRWb2x1bWUodm9sLCBpbm8sIHBlcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgTm9kZTogTm9kZUlubmVyLFxuICAgICAgICAgICAgTGluazogTGlua1NoYXJlZFZvbHVtZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZXYgPSBCbG9ja0RldmljZS5mcm9tKHByb3BzLmRldik7XG5cbiAgICAgICAgdm9sID0gdGhpcztcblxuICAgICAgICAvLyByb290IG5vZGUgd2FzIGNyZWF0ZWQgYmVmb3JlIGB2b2xgIHdhcyBpbml0aWFsaXplZCA6XFxcbiAgICAgICAgdmFyIHJub2RlID0gdGhpcy5yb290LmdldE5vZGUoKTtcbiAgICAgICAgcm5vZGUudm9sID0gdGhpczsgcm5vZGUuX2xpbmsgPSB0aGlzLnJvb3Q7XG5cbiAgICAgICAgdGhpcy5kZWJ1ZyA9ICgpID0+IHt9OyAvLyBjb25zb2xlLmxvZztcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbShwcm9wczogU2hhcmVkVm9sdW1lUHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaGFyZWRWb2x1bWUocHJvcHMpO1xuICAgIH1cblxuICAgIHRvKCk6IFNoYXJlZFZvbHVtZVByb3BzIHtcbiAgICAgICAgcmV0dXJuIHtkZXY6IHRoaXMuZGV2LnRvKCl9O1xuICAgIH1cblxuICAgIHdyaXRlQmxvYihwYXRoOiBzdHJpbmcsIGJ1ZjogVWludDhBcnJheSkge1xuICAgICAgICB2YXIgZmQgPSB0aGlzLm9wZW5TeW5jKHBhdGgsIG1lbWZzLmNvbnN0YW50cy5PX0NSRUFUKSxcbiAgICAgICAgICAgIG5vZGUgPSA8Tm9kZVNoYXJlZFZvbHVtZT50aGlzLmZkc1tmZF0ubm9kZSxcbiAgICAgICAgICAgIGJsb2IgPSB0aGlzLmRldi5hbGxvY0Jsb2IoYnVmLmxlbmd0aCk7XG4gICAgICAgIGJsb2Iuc2V0KGJ1ZiwgMCk7XG4gICAgICAgIG5vZGUuc2V0QmxvYihibG9iKTtcbiAgICAgICAgdGhpcy5jbG9zZVN5bmMoZmQpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxpbmsocGFyZW50PzogTGlua1NoYXJlZFZvbHVtZSwgbmFtZT86IHN0cmluZywgaXNEaXJlY3Rvcnk/OiBib29sZWFuLCBwZXJtPzogbnVtYmVyKTogTGluayAge1xuICAgICAgICBjb25zdCBsaW5rID0gPExpbmtTaGFyZWRWb2x1bWU+c3VwZXIuY3JlYXRlTGluayhwYXJlbnQsIG5hbWUsIGlzRGlyZWN0b3J5LCBwZXJtKTtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZygnKyBjcmVhdGVkIGxpbmsnLCBwYXJlbnQuaW5vLCBuYW1lLCBsaW5rLmlubyk7XG4gICAgICAgIH1cbiAgICAgICAgbGluay5wdXNoKCk7XG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgIH1cblxuICAgIGRlbGV0ZUxpbmsobGluazogTGlua1NoYXJlZFZvbHVtZSkge1xuICAgICAgICB0aGlzLmRlYnVnKCdkZWxldGVkIGxpbmsnLCBsaW5rLnBhcmVudC5pbm8sIGxpbmsuZ2V0TmFtZSgpLCBsaW5rLmlubyk7XG4gICAgICAgIHZhciBwYXJlbnQgPSBsaW5rLnBhcmVudCwgcmV0ID0gc3VwZXIuZGVsZXRlTGluayhsaW5rKTtcbiAgICAgICAgcGFyZW50LnB1c2goKTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBjcmVhdGVOb2RlKGlzRGlyZWN0b3J5OiBib29sZWFuID0gZmFsc2UsIHBlcm0/OiBudW1iZXIpOiBOb2RlU2hhcmVkVm9sdW1lIHtcbiAgICAgICAgaWYgKCF0aGlzLmRldikgcmV0dXJuIDxOb2RlU2hhcmVkVm9sdW1lPnN1cGVyLmNyZWF0ZU5vZGUoaXNEaXJlY3RvcnksIHBlcm0pO1xuICAgICAgICBjb25zdCBub2RlID0gPE5vZGVTaGFyZWRWb2x1bWU+bmV3IHRoaXMucHJvcHMuTm9kZSh0aGlzLmRldi5hbGxvYygpLCBwZXJtKTtcbiAgICAgICAgaWYgKGlzRGlyZWN0b3J5KSBub2RlLnNldElzRGlyZWN0b3J5KCk7XG4gICAgICAgIHRoaXMuaW5vZGVzW25vZGUuaW5vXSA9IG5vZGU7XG4gICAgICAgIG5vZGUucHVzaCgpO1xuICAgICAgICByZXR1cm4gbm9kZTsgICAgXG4gICAgfVxuXG4gICAgZ2V0Tm9kZVNoYXJlZChpbm86IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5pbm9kZXNbaW5vXSB8fCB0aGlzLl9mZXRjaE5vZGUoaW5vKTtcbiAgICB9XG5cbiAgICBjcmVhdGVTeW1saW5rKHRhcmdldDogc3RyaW5nLCBmaWxlbmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc3ltbGlua1N5bmMoJycsIGZpbGVuYW1lKTtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmdldExpbmsoZmlsZW5hbWVUb1N0ZXBzKGZpbGVuYW1lKSk7XG5cbiAgICAgICAgdmFyIHN0ZXBzID0gdGFyZ2V0LnNwbGl0KCcvJyk7XG4gICAgICAgIGlmIChzdGVwc1swXSA9PSAnJykgc3RlcHMuc3BsaWNlKDAsIDEpO1xuICAgICAgICBlbHNlIHN0ZXBzLnNwbGljZSgwLCAwLCAnLicpXG4gICAgICAgIGxpbmsuZ2V0Tm9kZSgpLm1ha2VTeW1saW5rKHN0ZXBzKTtcbiAgICAgICAgcmV0dXJuIGxpbms7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGluZyB0aGlzIGZyb20gbWVtZnMgVm9sdW1lIHRvIHN1cHBvcnQgcmVsYXRpdmUgc3ltbGlua3MuXG4gICAgICovXG4gICAgZ2V0UmVzb2x2ZWRMaW5rKGZpbGVuYW1lT3JTdGVwczogc3RyaW5nIHwgc3RyaW5nW10pOiBMaW5rIHwgbnVsbCB7XG4gICAgICAgIGxldCBzdGVwczogc3RyaW5nW10gPSB0eXBlb2YgZmlsZW5hbWVPclN0ZXBzID09PSAnc3RyaW5nJyA/IGZpbGVuYW1lVG9TdGVwcyhmaWxlbmFtZU9yU3RlcHMpIDogZmlsZW5hbWVPclN0ZXBzO1xuICAgIFxuICAgICAgICBsZXQgbGluazogTGluayA9IHRoaXMucm9vdDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ZXBzLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGNvbnN0IHN0ZXAgPSBzdGVwc1tpXSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkID0gbGluay5nZXRDaGlsZChzdGVwKTtcbiAgICAgICAgICAgIGlmICghY2hpbGQpIHJldHVybiBudWxsO1xuICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjaGlsZC5nZXROb2RlKCk7XG4gICAgICAgICAgICBpZiAobm9kZS5pc1N5bWxpbmsoKSkge1xuICAgICAgICAgICAgICAgIHN0ZXBzID0gbm9kZS5zeW1saW5rLmNvbmNhdChzdGVwcy5zbGljZShpICsgMSkpO1xuICAgICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChzdGVwc1swXSAhPT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsgPSB0aGlzLnJvb3Q7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBsaW5rID0gY2hpbGQ7XG5cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gbGluaztcbiAgICB9XG4gICAgICAgICAgXG4gICAgX2ZldGNoTm9kZShpbm86IG51bWJlcikge1xuICAgICAgICB2YXIgbm9kZSA9IDxOb2RlU2hhcmVkVm9sdW1lPm5ldyB0aGlzLnByb3BzLk5vZGUoaW5vKTtcbiAgICAgICAgdGhpcy5pbm9kZXNbaW5vXSA9IG5vZGU7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbn1cblxudHlwZSBTaGFyZWRWb2x1bWVQcm9wcyA9IHtcbiAgICBkZXY/OiBCbG9ja0RldmljZVByb3BzXG59O1xuXG5cbmNsYXNzIEJsb2NrRGV2aWNlIHtcblxuICAgIGJsb2NrU2l6ZTogbnVtYmVyXG4gICAgYmxvY2tDb3VudDogbnVtYmVyXG4gICAgcmF3OiBBcnJheUJ1ZmZlclxuICAgIGJpdHNldDogVWludDhBcnJheVxuXG4gICAgY3Vyc29yczogVWludDMyQXJyYXlcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBCbG9ja0RldmljZVByb3BzID0ge30pIHtcbiAgICAgICAgdGhpcy5yYXcgPSBwcm9wcy5yYXcgfHwgbmV3IFNoYXJlZEFycmF5QnVmZmVyKHByb3BzLnNpemUgfHwgMSA8PCAyMCk7XG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gcHJvcHMuYmxvY2tTaXplIHx8IDEgPDwgMTA7XG4gICAgICAgIHRoaXMuYmxvY2tDb3VudCA9IHRoaXMucmF3LmJ5dGVMZW5ndGggLyB0aGlzLmJsb2NrU2l6ZTtcbiAgICAgICAgdGhpcy5iaXRzZXQgPSBwcm9wcy5iaXRzZXQgfHwgbmV3IFVpbnQ4QXJyYXkobmV3IFNoYXJlZEFycmF5QnVmZmVyKHRoaXMuYmxvY2tDb3VudCkpO1xuICAgICAgICB0aGlzLmN1cnNvcnMgPSBwcm9wcy5jdXJzb3JzIHx8IG5ldyBVaW50MzJBcnJheShuZXcgU2hhcmVkQXJyYXlCdWZmZXIoMyAqIDQpKTtcbiAgICAgICAgaWYgKCFwcm9wcy5jdXJzb3JzKSB7XG4gICAgICAgICAgICB0aGlzLmJsb2NrQ3Vyc29yID0gMjtcbiAgICAgICAgICAgIHRoaXMuYm91bmRhcnlDdXJzb3IgPSAyO1xuICAgICAgICAgICAgdGhpcy5ibG9iQ3Vyc29yID0gdGhpcy5yYXcuYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tKHByb3BzOiBCbG9ja0RldmljZVByb3BzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmxvY2tEZXZpY2UocHJvcHMpO1xuICAgIH1cblxuICAgIHRvKCk6IEJsb2NrRGV2aWNlUHJvcHMge1xuICAgICAgICByZXR1cm4ge3JhdzogdGhpcy5yYXcsIGJsb2NrU2l6ZTogdGhpcy5ibG9ja1NpemUsIGJpdHNldDogdGhpcy5iaXRzZXQsXG4gICAgICAgICAgICAgICAgY3Vyc29yczogdGhpcy5jdXJzb3JzfTtcbiAgICB9XG5cbiAgICBnZXQoYmxvY2tObzogbnVtYmVyKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSBibG9ja05vICogdGhpcy5ibG9ja1NpemU7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh0aGlzLnJhdywgb2Zmc2V0LCB0aGlzLmJsb2NrU2l6ZSk7XG4gICAgfVxuXG4gICAgaXNGcmVlKGJsb2NrTm86IG51bWJlcikge1xuICAgICAgICByZXR1cm4gQXRvbWljcy5sb2FkKHRoaXMuYml0c2V0LCBibG9ja05vKSA9PSAwO1xuICAgIH1cblxuICAgIC8vIEN1cnNvciBhY2Nlc3NvcnNcbiAgICAvLyAobm90IGF0b21pYywgZm9yIHBlcmZvcm1hbmNlIDpcXClcbiAgICBnZXQgYmxvY2tDdXJzb3IoKSAgICAgICAgICAgICAgeyByZXR1cm4gdGhpcy5jdXJzb3JzWzBdOyB9XG4gICAgc2V0IGJsb2NrQ3Vyc29yKGk6IG51bWJlcikgICAgIHsgdGhpcy5jdXJzb3JzWzBdID0gaTsgfVxuICAgIGdldCBib3VuZGFyeUN1cnNvcigpICAgICAgICAgICB7IHJldHVybiB0aGlzLmN1cnNvcnNbMV07IH1cbiAgICBzZXQgYm91bmRhcnlDdXJzb3IoaTogbnVtYmVyKSAgeyB0aGlzLmN1cnNvcnNbMV0gPSBpOyB9XG4gICAgZ2V0IGJsb2JDdXJzb3IoKSAgICAgICAgICAgICAgIHsgcmV0dXJuIHRoaXMuY3Vyc29yc1syXTsgfVxuICAgIHNldCBibG9iQ3Vyc29yKGk6IG51bWJlcikgICAgICB7IHRoaXMuY3Vyc29yc1syXSA9IGk7IH1cblxuICAgIGFsbG9jKCkge1xuICAgICAgICBsZXQgaGlnaCA9IHRoaXMuYmxvYkN1cnNvciAvIHRoaXMuYmxvY2tTaXplO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5ibG9ja0N1cnNvcjsgaSA8IGhpZ2g7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYml0c2V0W2ldID09IDAgJiYgXG4gICAgICAgICAgICAgICAgQXRvbWljcy5jb21wYXJlRXhjaGFuZ2UodGhpcy5iaXRzZXQsIGksIDAsIDEpID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJsb2NrQ3Vyc29yID0gaTtcbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kYXJ5Q3Vyc29yID0gTWF0aC5tYXgodGhpcy5ib3VuZGFyeUN1cnNvciwgaSArIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vIHNwYWNlIGxlZnQgb24gZGV2aWNlXCIpO1xuICAgIH1cblxuICAgIGFsbG9jQmxvYihzaXplOiBudW1iZXIpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuYmxvYkN1cnNvciAtIHNpemU7XG4gICAgICAgIGlmIChvZmZzZXQgPCB0aGlzLmJvdW5kYXJ5Q3Vyc29yICogdGhpcy5ibG9ja1NpemUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBzcGFjZSBsZWZ0IG9uIGRldmljZVwiKTtcbiAgICAgICAgdGhpcy5ibG9iQ3Vyc29yID0gb2Zmc2V0O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCbG9iKG9mZnNldCwgc2l6ZSk7XG4gICAgfVxuXG4gICAgZ2V0QmxvYihvZmZzZXQ6IG51bWJlciwgc2l6ZTogbnVtYmVyKTogQnVmZmVyIHtcbiAgICAgICAgdmFyIGJsb2IgPSBuZXcgVWludDhBcnJheSh0aGlzLnJhdywgb2Zmc2V0LCBzaXplKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGJsb2IsIEJ1ZmZlci5wcm90b3R5cGUpXG4gICAgICAgIHJldHVybiBibG9iIGFzIEJ1ZmZlcjtcbiAgICB9XG5cbiAgICByZWFkVGV4dChibG9ja05vOiBudW1iZXIsIG9mZnNldCA9IDApIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMuZ2V0KGJsb2NrTm8pO1xuICAgICAgICBidWYgPSBidWYuc2xpY2Uob2Zmc2V0LCBidWYuaW5kZXhPZigwLCBvZmZzZXQpKTtcbiAgICAgICAgcmV0dXJuIHtidWY6IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKS5kZWNvZGUoYnVmKSxcbiAgICAgICAgICAgICAgICBzaXplOiBidWYubGVuZ3RoICsgMX07XG4gICAgfVxuXG4gICAgcmVhZChibG9ja05vOiBudW1iZXIsIG9mZnNldCA9IDAsIHNpemU/OiBudW1iZXIpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IHRoaXMuZ2V0KGJsb2NrTm8pLnNsaWNlKG9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIChzaXplID49IDApID8gb2Zmc2V0ICsgc2l6ZSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiB7YnVmLCBzaXplOiBidWYubGVuZ3RofTtcbiAgICB9XG5cbiAgICByZWFkSW50byhibG9ja05vOiBudW1iZXIsIG9mZnNldDogbnVtYmVyLCBzaXplOiBudW1iZXIsXG4gICAgICAgICAgICAgYnVmOiBVaW50OEFycmF5LCBhdDogbnVtYmVyKSB7XG4gICAgICAgIHZhciBhID0gdGhpcy5nZXQoYmxvY2tObykuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBzaXplKTtcbiAgICAgICAgYnVmLnNldChhLCBhdCk7XG4gICAgICAgIHJldHVybiBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICB3cml0ZVRleHQoYmxvY2tObzogbnVtYmVyLCB2YWx1ZTogc3RyaW5nLCBvZmZzZXQgPSAwKSB7XG4gICAgICAgIC8vIGFsd2F5cyB1dGYtOCAoYWxzbywgZm9yIHNvbWUgcmVhc29uIFRleHRFbmNvZGVyIGRvZXNuJ3Qgd29yaylcbiAgICAgICAgdmFyIGJ5dGVzID0gQnVmZmVyLmZyb20odmFsdWUgKyAnXFwwJywgJ3V0Zi04Jyk7XG4gICAgICAgIGlmIChieXRlcy5sZW5ndGggKyBvZmZzZXQgPiB0aGlzLmJsb2NrU2l6ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbm9kZSB0ZXh0IG92ZXJmbG93IChibG9jaz0ke2Jsb2NrTm99LCBsZW5ndGg9JHtieXRlcy5sZW5ndGh9KWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLndyaXRlKGJsb2NrTm8sIGJ5dGVzLCBvZmZzZXQpO1xuICAgIH1cblxuICAgIHdyaXRlKGJsb2NrTm86IG51bWJlciwgdmFsdWU6IFVpbnQ4QXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgaWYgKG9mZnNldCArIHZhbHVlLmxlbmd0aCA+IHRoaXMuYmxvY2tTaXplKVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJhcnJheSgwLCB0aGlzLmJsb2NrU2l6ZSAtIG9mZnNldCk7XG4gICAgICAgIHRoaXMuZ2V0KGJsb2NrTm8pLnNldCh2YWx1ZSwgb2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aDtcbiAgICB9XG5cbn1cblxudHlwZSBCbG9ja0RldmljZVByb3BzID0ge1xuICAgIGJsb2NrU2l6ZT86IG51bWJlclxuICAgIHNpemU/OiBudW1iZXJcbiAgICByYXc/OiBBcnJheUJ1ZmZlclxuICAgIGJpdHNldD86IFVpbnQ4QXJyYXlcbiAgICBjdXJzb3JzPzogVWludDMyQXJyYXlcbn07XG5cblxuY2xhc3MgTm9kZVNoYXJlZFZvbHVtZSBleHRlbmRzIE5vZGUge1xuXG4gICAgdm9sOiBTaGFyZWRWb2x1bWVcbiAgICB2ZXI6IG51bWJlclxuICAgIGlzQmxvYjogYm9vbGVhblxuICAgIF9saW5rPzogTGlua1NoYXJlZFZvbHVtZVxuXG4gICAgY29uc3RydWN0b3Iodm9sOiBTaGFyZWRWb2x1bWUsIGlubzogbnVtYmVyLCBwZXJtPzogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKGlubywgcGVybSlcbiAgICAgICAgdGhpcy52b2wgPSB2b2w7XG4gICAgICAgIHRoaXMudmVyID0gMDtcbiAgICAgICAgdGhpcy5pc0Jsb2IgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbGluayA9IG51bGw7XG4gICAgfVxuXG4gICAgc2V0TW9kZVByb3BlcnR5KHByb3BlcnR5OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIuc2V0TW9kZVByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgICAgLy8gcGFyZW50IGNsYXNzIGltcGxlbWVudGF0aW9uIGRvZXMgbm90IGNhbGwgdG91Y2goKVxuICAgICAgICB0aGlzLnZlcisrO1xuICAgICAgICB0aGlzLnB1c2goKTtcbiAgICB9XG5cbiAgICBnZXRMaW5rKHBhcmVudD86IExpbmtTaGFyZWRWb2x1bWUsIG5hbWU/OiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9saW5rKSB7XG4gICAgICAgICAgICBhc3NlcnQocGFyZW50ICYmIG5hbWUpO1xuICAgICAgICAgICAgdGhpcy5fbGluayA9IG5ldyBMaW5rU2hhcmVkVm9sdW1lKHRoaXMudm9sLCBwYXJlbnQsIG5hbWUpO1xuICAgICAgICAgICAgdGhpcy5fbGluay5zZXROb2RlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5rO1xuICAgIH1cblxuICAgIHNldEJsb2IoYmxvYjogQnVmZmVyKSB7XG4gICAgICAgIHRoaXMuYnVmID0gYmxvYjtcbiAgICAgICAgdGhpcy5pc0Jsb2IgPSB0cnVlO1xuICAgICAgICB0aGlzLnRvdWNoKCk7XG4gICAgfVxuXG4gICAgdG91Y2goKSB7XG4gICAgICAgIHN1cGVyLnRvdWNoKCk7XG4gICAgICAgIHRoaXMudmVyKys7XG4gICAgICAgIHRoaXMucHVzaCgpO1xuICAgIH1cbiAgXG4gICAgZGVsKCkge1xuICAgICAgICBzdXBlci5kZWwoKTtcbiAgICB9XG5cbiAgICBwdXNoKCkge1xuICAgICAgICBpZiAodGhpcy52b2wgJiYgdGhpcy52b2wuZGV2KSB7XG4gICAgICAgICAgICB2YXIgYmxrID0gdGhpcy52b2wuZGV2LmdldCh0aGlzLmlubyksXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBJbm9kZURhdGEgPSB7cDogdGhpcy5wZXJtLCBtOiB0aGlzLm1vZGUsIHY6IHRoaXMudmVyfSxcbiAgICAgICAgICAgICAgICBidWYgPSB0aGlzLmJ1ZjtcbiAgICAgICAgICAgIGlmIChibGtbMF0gIT0gMClcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSBPYmplY3QuYXNzaWduKHRoaXMuX3JlYWQoKS5oZWFkZXIsIGhlYWRlcik7ICAvLyBpbiBjYXNlIHRoZXJlIGlzIGxpbmsgZGF0YSB0b29cbiAgICAgICAgICAgIGlmIChidWYpIGhlYWRlci56ID0gYnVmLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQmxvYikge1xuICAgICAgICAgICAgICAgIGhlYWRlci5ibG9iID0gW2J1Zi5ieXRlT2Zmc2V0XTtcbiAgICAgICAgICAgICAgICBidWYgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zeW1saW5rKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyLnN5bWxpbmsgPSB0aGlzLnN5bWxpbms7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZvbC5kZWJ1ZygnKyBwdXNoIG5vZGUnLCB0aGlzLmlubywgaGVhZGVyKTtcbiAgICAgICAgICAgIHZhciB3cmMgPSB0aGlzLl93cml0ZShoZWFkZXIsIGJ1Zik7XG4gICAgICAgICAgICB0aGlzLl93cml0ZVRyYWlsKGJ1Ziwgd3JjKTtcbiAgICAgICAgfSAgICAgICAgXG4gICAgfVxuXG4gICAgcHVsbCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZvbCkgcmV0dXJuO1xuICAgICAgICB2YXIgYmxrID0gdGhpcy52b2wuZGV2LmdldCh0aGlzLmlubyk7XG4gICAgICAgIGlmIChibGtbMF0gIT0gMCkge1xuICAgICAgICAgICAgdmFyIHtoZWFkZXIsIHJkY30gPSB0aGlzLl9yZWFkKCk7XG4gICAgICAgICAgICB0aGlzLnZvbC5kZWJ1ZygnLSBwdWxsIG5vZGUnLCB0aGlzLmlubywgaGVhZGVyKTtcbiAgICAgICAgICAgIHRoaXMucGVybSA9IGhlYWRlci5wO1xuICAgICAgICAgICAgdGhpcy5tb2RlID0gaGVhZGVyLm07XG4gICAgICAgICAgICB0aGlzLnN5bWxpbmsgPSBoZWFkZXIuc3ltbGluaztcbiAgICAgICAgICAgIGlmICh0aGlzLnN5bWxpbmspXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N5bWxpbmsnLCB0aGlzLnN5bWxpbmspO1xuICAgICAgICAgICAgaWYgKHRoaXMudmVyICE9IGhlYWRlci52KSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZXIgPSBoZWFkZXIudjtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVyLnogPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVyLmJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmID0gdGhpcy52b2wuZGV2LmdldEJsb2IoaGVhZGVyLmJsb2JbMF0sIGhlYWRlci56KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNCbG9iID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWYgPSBCdWZmZXIuYWxsb2MoaGVhZGVyLnopLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMudm9sLmRldi5yZWFkSW50byh0aGlzLmlubywgcmRjLCBoZWFkZXIueiwgYnVmLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXIubiA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVhZFRyYWlsKGJ1Ziwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmID0gYnVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0Jsb2IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZWFkKCk6IHtoZWFkZXI6IElub2RlRGF0YSwgcmRjPzogbnVtYmVyfSB7XG4gICAgICAgIHZhciB7YnVmOiBqc29uLCBzaXplfSA9IHRoaXMudm9sLmRldi5yZWFkVGV4dCh0aGlzLmlubyksXG4gICAgICAgICAgICBoZWFkZXIgPSBKU09OLnBhcnNlKGpzb24pO1xuICAgICAgICByZXR1cm4ge2hlYWRlciwgcmRjOiBzaXplfTtcbiAgICB9XG5cbiAgICBfd3JpdGUoaGVhZGVyOiBJbm9kZURhdGEsIGJ1Zj86IFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIHdyYyA9IHRoaXMuX3dyaXRlSnNvbihoZWFkZXIgfHwge30pO1xuICAgICAgICBpZiAoYnVmICYmIHdyYyArIGJ1Zi5sZW5ndGggPiB0aGlzLnZvbC5kZXYuYmxvY2tTaXplKSB7XG4gICAgICAgICAgICB2YXIgbiA9IHRoaXMuX25leHQoaGVhZGVyKS5pbm87XG4gICAgICAgICAgICB3cmMgPSB0aGlzLl93cml0ZUpzb24oT2JqZWN0LmFzc2lnbih7fSwgaGVhZGVyLCB7bn0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmID9cbiAgICAgICAgICAgIHRoaXMudm9sLmRldi53cml0ZSh0aGlzLmlubywgYnVmLCB3cmMpIDogMDtcbiAgICB9XG5cbiAgICBfd3JpdGVKc29uKG9iajoge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudm9sLmRldi53cml0ZVRleHQodGhpcy5pbm8sIEpTT04uc3RyaW5naWZ5KG9iaikpO1xuICAgIH1cblxuICAgIF93cml0ZVRyYWlsKGJ1ZjogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIpIHtcbiAgICAgICAgdmFyIG5vZGU6IE5vZGVTaGFyZWRWb2x1bWUgPSB0aGlzO1xuICAgICAgICB3aGlsZSAoYnVmICYmIG9mZnNldCA8IGJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGJ1ZiA9IGJ1Zi5zdWJhcnJheShvZmZzZXQpO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuX25leHQoKTtcbiAgICAgICAgICAgIG9mZnNldCA9IG5vZGUuX3dyaXRlKG51bGwsIGJ1Zik7XG4gICAgICAgICAgICBhc3NlcnQob2Zmc2V0ID4gMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVhZFRyYWlsKGJ1ZjogVWludDhBcnJheSwgb2Zmc2V0OiBudW1iZXIpIHtcbiAgICAgICAgdmFyIG5vZGU6IE5vZGVTaGFyZWRWb2x1bWUgPSB0aGlzO1xuICAgICAgICAvL2NvbnNvbGUud2FybihcInJlYWQgdHJhaWxcIiwgdGhpcy5pbm8pO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuX25leHQoKTtcbiAgICAgICAgICAgIHZhciB7aGVhZGVyLCByZGN9ID0gbm9kZS5fcmVhZCgpO1xuICAgICAgICAgICAgcmRjID0gdGhpcy52b2wuZGV2LnJlYWRJbnRvKG5vZGUuaW5vLCByZGMsIGJ1Zi5sZW5ndGggLSBvZmZzZXQsIGJ1Ziwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGFzc2VydChyZGMgPiAwKTtcbiAgICAgICAgICAgIG9mZnNldCArPSByZGM7XG4gICAgICAgICAgICBpZiAoIShoZWFkZXIubiA+PSAwKSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0KG9mZnNldCA9PSBidWYubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBfbmV4dChoZWFkZXI/OiBJbm9kZURhdGEpIHtcbiAgICAgICAgaWYgKCFoZWFkZXIpIGhlYWRlciA9IHRoaXMuX3JlYWQoKS5oZWFkZXI7XG4gICAgICAgIHJldHVybiBoZWFkZXIubiA+PSAwID8gXG4gICAgICAgICAgICB0aGlzLnZvbC5nZXROb2RlU2hhcmVkKGhlYWRlci5uKSA6IHRoaXMudm9sLmNyZWF0ZU5vZGUoKTtcbiAgICB9XG5cbn1cblxuXG5jbGFzcyBMaW5rU2hhcmVkVm9sdW1lIGV4dGVuZHMgTGluayB7XG5cbiAgICB2b2w6IFNoYXJlZFZvbHVtZVxuICAgIHBhcmVudDogTGlua1NoYXJlZFZvbHVtZVxuICAgIG5vZGU6IE5vZGVTaGFyZWRWb2x1bWVcblxuICAgIHZlcjogbnVtYmVyXG4gICAgX2RpcnR5OiBib29sZWFuXG5cbiAgICBjb25zdHJ1Y3Rvcih2b2w6IFNoYXJlZFZvbHVtZSwgcGFyZW50OiBMaW5rLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIodm9sLCBwYXJlbnQsIG5hbWUpO1xuICAgICAgICB0aGlzLnZlciA9IDA7XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiA8YW55Pm5ldyBQcm94eSh0aGlzLCBuZXcgUHJveHlIYW5kbGVycy5MaW5rSGFuZGxlcigpKTtcbiAgICAgICAgLy90aGlzLmNoaWxkcmVuID0gbmV3IFByb3h5KHRoaXMuY2hpbGRyZW4sXG4gICAgICAgIC8vICAgIG5ldyBQcm94eUhhbmRsZXJzLkxpbmtDaGlsZHJlbih0aGlzKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQ2hpbGQobmFtZTogc3RyaW5nLCBub2RlOiBOb2RlU2hhcmVkVm9sdW1lID0gdGhpcy52b2wuY3JlYXRlTm9kZSgpKTogTGlua1NoYXJlZFZvbHVtZSB7XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgbGluayA9IG5ldyBMaW5rU2hhcmVkVm9sdW1lKHRoaXMudm9sLCB0aGlzLCBuYW1lKTtcbiAgICAgICAgbGluay5zZXROb2RlKG5vZGUpO1xuICAgICAgICB0aGlzLnNldENoaWxkKG5hbWUsIGxpbmspO1xuICAgICAgICByZXR1cm4gbGluaztcbiAgICB9XG5cbiAgICBzZXRDaGlsZChuYW1lOiBzdHJpbmcsIGxpbms/OiBMaW5rKSB7XG4gICAgICAgIHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbiAgICAgICAgbGluayA9IHN1cGVyLnNldENoaWxkKG5hbWUsIGxpbmspO1xuICAgICAgICB0aGlzLnRvdWNoKCk7XG4gICAgICAgIHJldHVybiBsaW5rO1xuICAgIH1cblxuICAgIGRlbGV0ZUNoaWxkKGxpbms6IExpbmspIHtcbiAgICAgICAgdGhpcy5fZGlydHkgPSB0cnVlO1xuICAgICAgICBzdXBlci5kZWxldGVDaGlsZChsaW5rKTtcbiAgICAgICAgdGhpcy50b3VjaCgpO1xuICAgIH1cblxuICAgIHRvdWNoKCkge1xuICAgICAgICB0aGlzLnZvbC5nZXROb2RlU2hhcmVkKHRoaXMuaW5vKS52ZXIrKztcbiAgICAgICAgdGhpcy5wdXNoKCk7XG4gICAgfVxuXG4gICAgc2V0Tm9kZShub2RlOiBOb2RlU2hhcmVkVm9sdW1lKSB7XG4gICAgICAgIHN1cGVyLnNldE5vZGUobm9kZSk7XG4gICAgICAgIG5vZGUuX2xpbmsgPSB0aGlzOyAgIC8vIG5lZWQgYWxzbyB0aGUgYmFja3dhcmQgbGlua1xuICAgIH1cblxuICAgIGdldE5vZGUoKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGU7XG4gICAgICAgIGFzc2VydChub2RlLCAnTGlua1NoYXJlZFZvbHVtZS5ub2RlIGlzIHVuc2V0Jyk7XG4gICAgICAgIG5vZGUucHVsbCgpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICBwdXNoKCkge1xuICAgICAgICBpZiAodGhpcy52b2wuZGV2KSB7XG4gICAgICAgICAgICB2YXIgYzogTGlua0RhdGEgPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IFtuYW1lLCBsaW5rXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLmNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIGNbbmFtZV0gPSB7aW5vOiBsaW5rLmlub307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZ2V0Tm9kZSgpLFxuICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShjKTtcbiAgICAgICAgICAgIHRoaXMudm9sLmRlYnVnKCcrIHB1c2ggbGluaycsIHRoaXMuaW5vLCBkYXRhKTtcbiAgICAgICAgICAgIG5vZGUuYnVmID0gQnVmZmVyLmZyb20oZGF0YSk7XG4gICAgICAgICAgICBub2RlLnZlcisrO1xuICAgICAgICAgICAgbm9kZS5wdXNoKCk7XG4gICAgICAgICAgICB0aGlzLnZlciA9IG5vZGUudmVyO1xuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1bGwoKSB7XG4gICAgICAgIHZhciBibGsgPSB0aGlzLnZvbC5kZXYuZ2V0KHRoaXMuaW5vKTtcbiAgICAgICAgaWYgKGJsa1swXSAhPSAwKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZ2V0Tm9kZSgpO1xuICAgICAgICAgICAgbm9kZS5wdWxsKCk7XG4gICAgICAgICAgICBpZiAobm9kZS5pc0RpcmVjdG9yeSgpICYmIG5vZGUuYnVmICYmIG5vZGUudmVyICE9PSB0aGlzLnZlcikge1xuICAgICAgICAgICAgICAgIHZhciBjOiBMaW5rRGF0YSA9IEpTT04ucGFyc2Uobm9kZS5idWYudG9TdHJpbmcoJ3V0Zi04JykpO1xuICAgICAgICAgICAgICAgIHRoaXMudm9sLmRlYnVnKCctIHB1bGwgbGluaycsIHRoaXMuaW5vLCBjKTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBbbmFtZSwgbGlua0RhdGFdIG9mIE9iamVjdC5lbnRyaWVzKGMgfHwge30pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlua0RhdGEuaW5vID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlub2RlID0gdGhpcy52b2wuZ2V0Tm9kZVNoYXJlZChsaW5rRGF0YS5pbm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5bbmFtZV0gPSBpbm9kZS5nZXRMaW5rKHRoaXMsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgICAgICAgICB0aGlzLnZlciA9IG5vZGUudmVyO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuXG50eXBlIElub2RlRGF0YSA9IHtcbiAgICBwOiBudW1iZXJcbiAgICBtOiBudW1iZXJcbiAgICB6PzogbnVtYmVyXG4gICAgbj86IG51bWJlclxuICAgIHY/OiBudW1iZXJcbiAgICBzeW1saW5rPzogc3RyaW5nW11cbiAgICBibG9iPzogW251bWJlcl1cbn07XG5cbnR5cGUgTGlua0RhdGEgPSB7W25hbWU6IHN0cmluZ106IHtpbm86IG51bWJlcn19O1xuXG5cbm5hbWVzcGFjZSBQcm94eUhhbmRsZXJzIHtcblxuICAgIC8qKlxuICAgICAqIFByb3h5IGhhbmRsZXIgZm9yIExpbmtTaGFyZWRWb2x1bWUuXG4gICAgICovXG4gICAgZXhwb3J0IGNsYXNzIExpbmtIYW5kbGVyIHtcbiAgICAgICAgZ2V0KGxpbms6IExpbmtTaGFyZWRWb2x1bWUsIG5hbWU6IHN0cmluZykge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdjaGlsZHJlbicgJiYgbGluay52b2wuZGV2ICYmICFsaW5rLl9kaXJ0eSkge1xuICAgICAgICAgICAgICAgIGxpbmsucHVsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxpbmtbbmFtZV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm94eSBoYW5kbGVyIGZvciBMaW5rU2hhcmVkVm9sdW1lLmNoaWxkcmVuLlxuICAgICAqIChjdXJyZW50bHkgbm90IGluIHVzZSBhcyBpdCBzZWVtcyB0byBtYWtlIHRoaW5ncyBzbG93ZXIuKVxuICAgICAqL1xuICAgIGV4cG9ydCBjbGFzcyBMaW5rQ2hpbGRyZW4ge1xuICAgICAgICBsaW5rOiBMaW5rU2hhcmVkVm9sdW1lO1xuICAgICAgICBjb25zdHJ1Y3RvcihsaW5rOiBMaW5rU2hhcmVkVm9sdW1lKSB7IHRoaXMubGluayA9IGxpbms7IH1cblxuICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY2hpbGRyZW46IHt9LCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMubGluay5wdWxsKCk7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkgPyBcbiAgICAgICAgICAgICAgICB7Y29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlfSA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldChjaGlsZHJlbjoge30sIG5hbWU6IHN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5saW5rLnB1bGwoKTtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbltuYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldChjaGlsZHJlbjoge30sIG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBuZWVkZWQgdG8gcHJldmVudCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgZnJvbSBiZWluZ1xuICAgICAgICAgICAgLy8gY2FsbGVkIHJlY3Vyc2l2ZWx5IGZyb20gTGlua1NoYXJlZFZvbHVtZS5wdWxsKClcbiAgICAgICAgICAgIGNoaWxkcmVuW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5cbmV4cG9ydCB7IFNoYXJlZFZvbHVtZSwgU2hhcmVkVm9sdW1lUHJvcHMsIEJsb2NrRGV2aWNlLCBCbG9ja0RldmljZVByb3BzIH1cbiIsICJcbi8qKlxuICogQWxsb3dzIHRvIHNpZ25hbCB0aGUgd29ya2VyIHRoYXQgaXQgaXMgcmVxdWVzdGVkIHRvIGludGVycnVwdCBpdHMgY3VycmVudFxuICogY29tcHV0YXRpb24uXG4gKiBUaGUgcGFnZSBzaWduYWxzIHRoZSB3b3JrZXIgYnkgaW5jcmVtZW50aW5nIGEgMzItYml0IHNoYXJlZCBpbnRlZ2VyLlxuICogVGhlIHdvcmtlciBwZXJpb2RpY2FsbHkgY2hlY2tzIHRoZSBpbnRlZ2VyLCBhbmQgd291bGQgZXZlbnR1YWxseSBicmVha1xuICogaXRzIGV4ZWN1dGlvbiBpZiB0aGUgaW50ZWdlciBoYXMgYmVlbiBtb2RpZmllZCBzaW5jZSB0aGUgbGFzdCB0aW1lIGl0IHdhc1xuICogcmVhZC5cbiAqL1xuY2xhc3MgV29ya2VySW50ZXJydXB0cyB7XG5cbiAgICB2ZWM6IFVpbnQzMkFycmF5XG4gICAgY2hlY2twb2ludDogbnVtYmVyID0gMFxuXG4gICAgc2V0dXAodmVjOiBVaW50MzJBcnJheSkge1xuICAgICAgICB0aGlzLnZlYyA9IHZlYztcbiAgICB9XG5cbiAgICBwZW5kaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy52ZWMgJiYgdHlwZW9mIEF0b21pY3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB2YXIgbGQgPSBBdG9taWNzLmxvYWQodGhpcy52ZWMsIDApO1xuICAgICAgICAgICAgaWYgKGxkID4gdGhpcy5jaGVja3BvaW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja3BvaW50ID0gbGQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuXG5leHBvcnQgeyBXb3JrZXJJbnRlcnJ1cHRzIH0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBTSxTQUNBLEtBQ0E7QUFGTjtBQUFBO0FBQUEsSUFBTSxVQUFVO0FBQ2hCLElBQU0sTUFBTSxDQUFDO0FBQ2Is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O0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUNBO0FBQUE7QUFBQTtBQUFBLE1BRUE7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUVBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLE1BRUE7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBO0FBQUEsTUFFQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUE7QUFBQSxNQUVBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDSjtBQUVBLElBQU0sUUFHRjtBQUFBLE1BQ0EsT0FBTyxDQUFDLFlBQVk7QUFBQSxNQUFDO0FBQUEsSUFDekI7QUFDQSxhQUFTLE1BQU0sT0FBTztBQUNsQixZQUFNLEVBQUUsSUFBSSxXQUFXO0FBQ25CLGNBQU0sTUFBTSxZQUFZLEVBQUUsS0FBSyxDQUFDLEdBQUcsU0FBUyxDQUFDLEdBQUc7QUFBQSxNQUNwRDtBQUFBLElBQ0o7QUFFQSxJQUFPLGdCQUFRO0FBQUE7QUFBQTs7O0FDak1mLElBQ087QUFEUDtBQUFBO0FBQUE7QUFBQTtBQUNBLElBQU8scUJBQVEsRUFBQyxLQUFJLENBQUMsR0FBRSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEtBQUksR0FBRSxJQUFHLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsRUFBRSxHQUFFLEtBQUksQ0FBQyxHQUFFLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEtBQUksR0FBRSxLQUFJLEdBQUUsSUFBRyxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxFQUFFLEdBQUUsS0FBSSxDQUFDLEdBQUUsSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFFLElBQUcsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEVBQUUsR0FBRSxLQUFJLENBQUMsR0FBRSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRSxJQUFHLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsRUFBRSxHQUFFLEtBQUksQ0FBQyxHQUFFLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUUsSUFBRyxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxFQUFFLEdBQUUsS0FBSSxDQUFDLEdBQUUsSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFFLElBQUcsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEVBQUUsR0FBRSxLQUFJLENBQUMsR0FBRSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRSxJQUFHLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsRUFBRSxHQUFFLEtBQUksQ0FBQyxHQUFFLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUUsSUFBRyxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxFQUFFLEdBQUUsS0FBSSxDQUFDLEdBQUUsSUFBRyxLQUFJLEtBQUksR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFFLElBQUcsR0FBRSxHQUFFLEtBQUksS0FBSSxLQUFJLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxLQUFJLElBQUcsS0FBSSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsS0FBSSxLQUFJLEtBQUksS0FBSSxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEVBQUUsR0FBRSxLQUFJLENBQUMsR0FBRSxJQUFHLEtBQUksS0FBSSxHQUFFLEdBQUUs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ZXIiLCAiYnVmZmVyIiwgIm1heCIsICJpIiwgImJ5dGVMZW5ndGgiLCAiUmVmbGVjdEFwcGx5IiwgIlJlZmxlY3RPd25LZXlzIiwgIk51bWJlcklzTmFOIiwgIkV2ZW50RW1pdHRlciIsICJlcnIiLCAib25jZSIsICJpc0Jyb3dzZXIiLCAiaXNOb2RlIiwgImlzV2ViV29ya2VyIiwgIk1heWJlU2hhcmVkQXJyYXlCdWZmZXIiLCAiRW1wdHkiLCAidW5kZWZpbmVkIiwgImRvRXZhbCIsICJzdHJpbmdUb1BhdGgiLCAiZ2V0QmFzZUludHJpbnNpYyIsICJhcHBseUJpbmQiLCAic2VsZiIsICJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwgIngiLCAiZXJyIiwgInNlbGYiLCAiX3R5cGVvZiIsICJvYmoiLCAic2VsZiIsICJfZ2V0UHJvdG90eXBlT2YiLCAibyIsICJfc2V0UHJvdG90eXBlT2YiLCAicCIsICJhc3NlcnQiLCAiTm9kZUVycm9yIiwgInNlbGYiLCAiX3dyYXBOYXRpdmVTdXBlciIsICJDbGFzcyIsICJfY29uc3RydWN0IiwgIlBhcmVudCIsICJhcmdzIiwgIl9zZXRQcm90b3R5cGVPZiIsICJvIiwgInAiLCAiX2dldFByb3RvdHlwZU9mIiwgIl90eXBlb2YiLCAib2JqIiwgIkFzc2VydGlvbkVycm9yIiwgInJlcXVpcmVfaW1wbGVtZW50YXRpb24iLCAicmVxdWlyZV9pbXBsZW1lbnRhdGlvbiIsICJyZXF1aXJlX2ltcGxlbWVudGF0aW9uIiwgImlzTmFOIiwgInJlcXVpcmVfcG9seWZpbGwiLCAicmVxdWlyZV9zaGltIiwgImVyciIsICJfdHlwZW9mIiwgIm9iaiIsICJhcnJheUZyb21TZXQiLCAiYXJyYXlGcm9tTWFwIiwgIl90eXBlb2YiLCAib2JqIiwgImFzc2VydCIsICJlcnIiLCAiQ29tcGFyaXNvbiIsICJwYXRoIiwgImN3ZCIsICJwYXRoIiwgIkR5bmFtaWNMaWJyYXJ5IiwgIm1haW4iLCAiZW52IiwgImJpbmRBbGwiLCAiaW1wb3J0X2V2ZW50cyIsICJjb25zdGFudHMiLCAiaW1wb3J0X2J1ZmZlciIsICJSSUdIVFNfQUxMIiwgIk1heWJlU2hhcmVkQXJyYXlCdWZmZXIiLCAicGF0aCIsICJmZCIsICJlbnYiLCAiYXNzZXJ0IiwgInJlcXVpcmVfY29uc3RhbnRzIiwgIlN0YXRzIiwgInJlcXVpcmVfYnVmZmVyIiwgInJlcXVpcmVfZXJyb3JzIiwgImQiLCAiYiIsICJhc3NlcnQiLCAiQXNzZXJ0aW9uRXJyb3IiLCAiZXJyIiwgIm5hbWVzIiwgIkRpcmVudCIsICJwcm9jZXNzIiwgImUiLCAiX2EiLCAiZCIsICJiIiwgIk5vZGUiLCAiTGluayIsICJGaWxlIiwgImZkIiwgIkJ1ZmZlciIsICJlcnIiLCAic2VsZiIsICJOb2RlRXJyb3IiLCAicmVxdWlyZV9icm93c2VyIiwgIkJ1ZmZlciIsICJub3AiLCAicmVhbEhhc0luc3RhbmNlIiwgImJ1ZmZlciIsICJlcnIiLCAia2V5cyIsICJzZWxmIiwgImJ1ZmZlciIsICJCdWZmZXIiLCAiQnVmZmVyIiwgInNlbGYiLCAib25sZWdhY3lmaW5pc2giLCAib25maW5pc2giLCAib25lbmQiLCAib25lcnJvciIsICJlcnIiLCAib25jbG9zZSIsICJvbnJlcXVlc3QiLCAiZXJyIiwgImNyZWF0ZVJlYWRhYmxlU3RyZWFtQXN5bmNJdGVyYXRvciIsICJFRWxpc3RlbmVyQ291bnQiLCAiQnVmZmVyIiwgImRlYnVnIiwgImVyciIsICJzZWxmIiwgIm4iLCAiZXJyIiwgImVycjIiLCAiZXJyIiwgIkZpbGVIYW5kbGUiLCAiZmQiLCAiYnVmZmVyIiwgInBhdGgiLCAiZCIsICJiIiwgInBhdGgiLCAicGF0aDIiLCAiRkxBR1MiLCAiZGVmYXVsdHMiLCAiZXJyIiwgImZpbGVuYW1lVG9TdGVwcyIsICJidWZmZXIiLCAiZmQiLCAiVm9sdW1lIiwgInNlbGYiLCAiU3RhdFdhdGNoZXIiLCAiRlNXYXRjaGVyIiwgImN3ZCIsICJfYSIsICJlcnIyIiwgInJlcXVpcmVfbGliIiwgIl9hIiwgImNyZWF0ZUZzRnJvbVZvbHVtZSIsICJmcyIsICJyZXF1aXJlX2J1ZmZlciIsICJyZXF1aXJlX2xpYiIsICJmZCIsICJXQVNJRXhpdEVycm9yIiwgImVudiIsICJmcyIsICJwYXRoIiwgImFyZ3MiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicmVxdWlyZV9saWIiLCAiYXNzZXJ0IiwgInBhdGgiLCAiYmluZEFsbCIsICJpbXBvcnRfZXZlbnRzIiwgImZkIiwgImZsIiwgInJlcXVpcmVfYnJvd3NlciIsICJCdWZmZXIiLCAicmVxdWlyZV9icm93c2VyIiwgIkJ1ZmZlciIsICJlcnIiLCAiYnl0ZXMiLCAicmVxdWlyZV9icm93c2VyIiwgInBhdGgiLCAicmVxdWlyZV9ub2RlIiwgImZzIiwgInBhdGgiLCAiaW1wb3J0X2V2ZW50cyIsICJpbXBvcnRfYXNzZXJ0IiwgImltcG9ydF9saWIiLCAiZmQiLCAiZW52IiwgImZzIiwgInVyaSIsICJidWZmZXIiLCAiYXNzZXJ0IiwgImltcG9ydF9ldmVudHMiLCAibCIsICJfYSIsICJfYSIsICJfYSIsICJpbXBvcnRfZXZlbnRzIiwgInBvc3RNZXNzYWdlIiwgImltcG9ydF9tZW1mcyIsICJpbXBvcnRfYXNzZXJ0IiwgIlByb3h5SGFuZGxlcnMiLCAiT0NhbWxDQVBJIiwgIm5hbWVzIiwgImZzIiwgInBvc3RNZXNzYWdlIl0KfQo=
