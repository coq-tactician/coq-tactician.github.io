<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  <title>Datasets</title>

  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta name="description" content="Tactician">
  
  <meta name="generator" content="Hugo 0.119.0">

  
  
  
  
  <link rel="stylesheet" href="https://coq-tactician.github.io/plugins/bootstrap/bootstrap.min.css" media='screen'>
  
  
  
  <link rel="stylesheet" href="https://coq-tactician.github.io/plugins/themify-icons/themify-icons.css" >
  
  
  
  <link rel="stylesheet" href="https://coq-tactician.github.io/plugins/featherlight/featherlight.min.css" >
  
  

  
  
  <link rel="stylesheet" href="https://coq-tactician.github.io/scss/style.css" media="screen">

  
  <link rel="shortcut icon" href="https://coq-tactician.github.io/images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="https://coq-tactician.github.io/images/favicon.ico" type="image/x-icon">

  
  

  
  <meta property="og:title" content="Datasets" />
<meta property="og:description" content="Online Data Explorer You can explore and visualize the latest dataset that has been extracted from Coq online. The visualization should give you some intuition about what kind of data is available and how it is encoded. If this data is interesting to you, you can find download and usage instructions below.
You can find the main entry-point for the visualization here. From there, you can explore the entire dataset. Examples of objects include:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://coq-tactician.github.io/api/datasets/" /><meta property="article:section" content="api" />



  
  

</head>
<body><!-- navigation -->
<header class="sticky-top navigation ">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-light bg-transparent">
      <a class="navbar-brand" href="/">
        <img class="img-fluid" src="https://coq-tactician.github.io/images/logo.png" alt="Tactician">
        Tactician
      </a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu h4 text-dark"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <ul class="navbar-nav mx-auto align-items-center">
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://coq-tactician.github.io/manual/quick">Manual</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://coq-tactician.github.io/api/introduction">API</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://coq-tactician.github.io/publications">Publications</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://coq-tactician.github.io/people">People</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://coq-tactician.github.io/demo.html">Demo</a>
          </li>
          
          
          <li class="nav-link">
            
            
          </li>
        </ul>

        
        <div class="d-lg-none d-block">
          
          <a href="https://github.com/coq-tactician"
            class="btn btn-sm btn-outline-primary ml-lg-4">Github</a>
          
          <a href="https://coq-tactician.github.io/changelog"
            class="btn btn-sm btn-primary ml-lg-4">changelog</a>
          
        </div>
        
      </div>

      

      
      <div class="d-lg-flex d-none">
        
        <a href="https://github.com/coq-tactician"
          class="btn btn-sm btn-outline-primary ml-lg-4">Github</a>
        
        <a href="https://coq-tactician.github.io/changelog"
          class="btn btn-sm btn-primary ml-lg-4">changelog</a>
        
      </div>
      
    </nav>
  </div>
</header>
<!-- /navigation -->


<!-- details page -->
<section class="pt-5">
  <div class="container shadow section-sm rounded">
    <div class="row">
      <div class="col-lg-3 col-md-4 d-none d-md-block">
        <ul class="sidenav">
          
          
          
          
          
          
          








<li data-nav-id="https://coq-tactician.github.io/manual/" title="Manual"
  class="sidelist  ">
  <a href="https://coq-tactician.github.io/manual/">Manual</a>
  
  
  <ul>
    
    
    

    
    








<li data-nav-id="https://coq-tactician.github.io/manual/quick/" title="Quick start"
  class="sidelist  ">
  <a href="https://coq-tactician.github.io/manual/quick/">Quick start</a>
  
  


    
    








<li data-nav-id="https://coq-tactician.github.io/manual/installation/" title="Installation"
  class="sidelist  ">
  <a href="https://coq-tactician.github.io/manual/installation/">Installation</a>
  
  


    
    








<li data-nav-id="https://coq-tactician.github.io/manual/usage/" title="Usage"
  class="sidelist  ">
  <a href="https://coq-tactician.github.io/manual/usage/">Usage</a>
  
  


    
    








<li data-nav-id="https://coq-tactician.github.io/manual/coq-packages/" title="Coq packages"
  class="sidelist  ">
  <a href="https://coq-tactician.github.io/manual/coq-packages/">Coq packages</a>
  
  


    
  </ul>
</li>



          
          
          
          
          
          
          
          
          
          
          
          








<li data-nav-id="https://coq-tactician.github.io/api/" title="API"
  class="sidelist parent ">
  <a href="https://coq-tactician.github.io/api/">API</a>
  
  
  <ul>
    
    
    

    
    








<li data-nav-id="https://coq-tactician.github.io/api/introduction/" title="API Introduction"
  class="sidelist  ">
  <a href="https://coq-tactician.github.io/api/introduction/">API Introduction</a>
  
  


    
    








<li data-nav-id="https://coq-tactician.github.io/api/graph2tac/" title="Graph2Tac &amp; Text2Tac"
  class="sidelist  ">
  <a href="https://coq-tactician.github.io/api/graph2tac/">Graph2Tac &amp; Text2Tac</a>
  
  


    
    








<li data-nav-id="https://coq-tactician.github.io/api/commands/" title="Coq Commands"
  class="sidelist  ">
  <a href="https://coq-tactician.github.io/api/commands/">Coq Commands</a>
  
  


    
    








<li data-nav-id="https://coq-tactician.github.io/api/pytactician/" title="PyTactician"
  class="sidelist  ">
  <a href="https://coq-tactician.github.io/api/pytactician/">PyTactician</a>
  
  


    
    








<li data-nav-id="https://coq-tactician.github.io/api/datasets/" title="Datasets"
  class="sidelist  active">
  <a href="https://coq-tactician.github.io/api/datasets/">Datasets</a>
  
  


    
  </ul>
</li>



          
          
        </ul>
      </div>
      <div class="col-md-8">
        <div class="px-lg-5 px-4">
          <h2 class="mb-4 font-weight-medium">Datasets</h2>
          
          <div class="content"><h4 id="online-data-explorer">Online Data Explorer</h4>
<p>You can explore and visualize the latest dataset that has been extracted from
Coq online. The visualization should give you some intuition about what kind of
data is available and how it is encoded. If this data is interesting to you, you
can find download and usage instructions below.</p>
<img src="/images/visualization_example.svg" alt="Visualization Example" style="float:right" width="40%">
<p>You can find the main entry-point for the visualization <a href="http://grid01.ciirc.cvut.cz:8080/">here</a>.
From there, you can explore the entire dataset. Examples of objects include:</p>
<ul>
<li><a href="http://grid01.ciirc.cvut.cz:8080/coq-tactician-stdlib.8.11.dev/theories/Init">Module hierarchies</a> showing dependencies between compilation units</li>
<li><a href="http://grid01.ciirc.cvut.cz:8080/coq-tactician-stdlib.8.11.dev/theories/Init/Logic/context">Global contexts</a> of a compilation units</li>
<li><a href="http://grid01.ciirc.cvut.cz:8080/coq-tactician-stdlib.8.11.dev/theories/Init/Logic/definition/36">Individual definitions</a> within a global context</li>
<li><a href="http://grid01.ciirc.cvut.cz:8080/coq-tactician-stdlib.8.11.dev/theories/Init/Logic/definition/36/proof">Tactical proofs</a> of theorems</li>
<li><a href="http://grid01.ciirc.cvut.cz:8080/coq-tactician-stdlib.8.11.dev/theories/Init/Logic/definition/36/proof/step/4/outcome/0">Individual Proof transformations</a> of tactical proofs</li>
</ul>
<h4 id="downloads">Downloads</h4>
<p>Datasets are published on Zenodo:</p>
<ul>
<li><a href="https://zenodo.org/records/10028721">Data for API v15 on Coq v8.11</a></li>
</ul>
<h4 id="accessing-the-data">Accessing the data</h4>
<p>The data is encoded using the <a href="https://capnproto.org">Cap&rsquo;n Proto serialization protocol</a>, allowing
for fast random access to the graph and metadata from many programming
languages. For Python, a library called <a href="../pytactician">PyTactician</a> is provided that allows
for easy and efficient access to the data. It includes software to visualize the
dataset, a sanity checker for the dataset, an example prediction server that
interfaces with Coq, an Oracle prediction server and an example proof
exploration client. This library is a good starting point to explore the
dataset. If you are looking to use another language to access the data, your
starting point would be the <a href="https://github.com/coq-tactician/coq-tactician-api/blob/coq8.11/graph_api.capnp">graph_api.capnp schema
file</a>.</p>
<p>The data in the archive is represented as a <a href="https://docs.kernel.org/filesystems/squashfs.html">SquashFS</a> image <code>dataset.squ</code>.
In order to access the data, you can either mount it or decompress it. Mounting
is preferred on machines with limited memory. To mount, you need to install
<a href="https://github.com/vasi/squashfuse">squashfuse</a> through your favorite package manager.</p>
<p><strong>Note for MacOS users:</strong> Squashfuse is not available on MacOS. You can instead
install <a href="https://formulae.brew.sh/formula/squashfs">squashfs</a> from Brew and decompress the dataset using the
<code>unsquashfs</code> instructions below.</p>
<p>Once squashfuse is installed, if you are using <a href="../pytactician">PyTactician</a>, you can load the
dataset by pointing directly to this image. This will automatically mount the
image in directory <code>dataset/</code>. For example:</p>
<pre><code>pytact-check dataset.squ
pytact-visualize dataset.squ
</code></pre>
<p>If you prefer to mount manually, or if you are not using the PyTactician
library, you can mount the image using</p>
<pre><code>squashfuse dataset.squ dataset/
pytact-check dataset/
pytact-visualize dataset/
</code></pre>
<p>Finally, you can also unpack the image without mounting it (this is the only
option for MacOS). On systems with limited memory or slow hard-disks this will
lead to some performance degradations while accessing the dataset. If you wish
to unpack, you can run:</p>
<pre><code>unsquashfs -dest dataset/ dataset.squ
</code></pre>
<h4 id="introspecting-the-dataset-with-pytactician">Introspecting the dataset with PyTactician</h4>
<p>You can use <a href="../pytactician">PyTactician</a> as a library to write scripts that extract
information from the dataset. To get started, you can take a look at some simple
<a href="https://coq-tactician.github.io/api/pytactician-pdoc/pytact/scripts.html">example scripts</a>. Documentation of the API is also <a href="https://coq-tactician.github.io/api/pytactician-pdoc/pytact/data_reader.html">available</a>.</p>
<h4 id="raw-data-inspection">Raw data inspection</h4>
<p>For each Coq compilation unit <code>X</code>, the dataset includes the original <code>X.v</code> source file.
Alongside that file is a <code>X.bin</code> file with Cap&rsquo;n Proto structure containing the
data extracted during the compilation of <code>X</code>.</p>
<p>If you wish to inspect the raw data in the dataset manually, you can use <a href="https://capnproto.org/capnp-tool.html">capnp
convert</a> to decode an individual file in the dataset to JSON as follows:</p>
<pre><code>cat dataset/coq-tactician-stdlib.8.11.dev/theories/Init/Logic.bin | \
    capnp convert binary:json meta/graph_api.capnp Dataset
</code></pre>
<p>You can process the resulting JSON further using, for example, the <code>jq</code> command.</p>
</div>
          
          
        </div>
      </div>
    </div>
  </div>
</section>
<!-- /details page -->





<footer>
  <div class="container">
    <div class="row align-items-center border-bottom py-5">
      <div class="col-lg-4">
        <ul class="list-inline footer-menu text-center text-lg-left">
          
        </ul>
      </div>
      <div class="col-lg-4 text-center mb-4 mb-lg-0">
        <a class="navbar-brand" href="/">
          <img class="img-fluid" src="https://coq-tactician.github.io/images/logo.png" alt="Tactician">
          Tactician
        </a>
      </div>
      <div class="col-lg-4">
        <ul class="list-inline social-icons text-lg-right text-center">
          
        </ul>
      </div>
    </div>
    <div class="py-4 text-center">
      <small class="text-light"></small>
    </div>
  </div>
</footer>


<script type="text/javascript">
  var indexURL = "https://coq-tactician.github.io/index.json";
  
  var baseurl = "https:\/\/coq-tactician.github.io\/";
  
</script>





<script src="https://coq-tactician.github.io/plugins/jQuery/jquery.min.js" ></script>



<script src="https://coq-tactician.github.io/plugins/bootstrap/bootstrap.min.js" ></script>



<script src="https://coq-tactician.github.io/plugins/masonry/masonry.min.js" ></script>



<script src="https://coq-tactician.github.io/plugins/featherlight/featherlight.min.js" ></script>



<script src="https://coq-tactician.github.io/plugins/clipboard/clipboard.min.js" ></script>



<script src="https://coq-tactician.github.io/plugins/match-height/jquery.matchHeight-min.js" ></script>





<script src="https://coq-tactician.github.io/js/script.min.js"></script>
</body>

</html>
